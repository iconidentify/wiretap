===== BEGIN PDF: ch01-1-intro.pdf =====



Manual: FDO91 Manual
Chapter 1:  Introduction describes the basics of form development, the FDO91 language and its
structure, and the contents of this manual.
Last updated: February 1998




C H A P T E R  1

Introduction

FDO91 is a programming language designed to control all client computer

functionality for the Windows™ and for Macintosh platforms of the online
service.  You can enhance existing client functionality by using this language.

FDO91 evolved from the FDO88 language, which is the original online service

forms display language developed for the Apple II platform.  The acronym
FDO stands for "Form Display Operation."

FDO91 atoms are the commands that form the basis of the FDO91 language.
An atom stream is created when a number of atoms are put together in a
sequence that performs a specific function.  Atom streams can be stored and
sent from the host system servers or from the local client database.  Atom
streams sent from a host system server or from the client are assembled into
data packets.

Figure 1.1 shows the host system server to client PC connection types, which
are a phone line network and a TCP/IP network that carry the atom streams:

AOLNet Internet

(Phone Lines)

TCP/IP

Client PC Modem
Atom Streams

Host
Host

TCP/IP

Client PC
Host System Servers

(HP/UNIX, Stratus, Tandem)

Figure 1.1 – Atom Streams in the Host to Client PC Connections

America Online Confidential 1-1  America Online, Inc. 1993-98




Chapter 1: Introduction February 1998

Form Development

The major use of the FDO91 language is for the development of forms, or
windows, for the online service.  This section presents an atom stream that
builds a simple form and information about how a form is developed.

The Form
An atom stream, which consists of a series of FDO91 atoms, determines the
content and design of a form.  Figure 1.2 shows a sample form (dialog box) as
an online member sees it, followed by the FDO91 atom stream that produced
the form, and a brief description of each atom’s function:

Atom Stream Atom Function
atom$uni_start_stream Starts the atom stream.
atom$man_start_object <ind_group, "Exit Creates a window.
Gateway">

atom$mat_orientation <vff> Makes the window vertically oriented.
atom$mat_position <5> Centers the window on the screen.
atom$man_start_object <ornament, "Are Creates a text field with specified text.
you sure you want to sign off?">

atom$mat_size 14x 02x Sets the size of the text field.
atom$mat_font_id <1> Sets the text field's font ID.
atom$mat_font_size <14> Sets the text field's font size.
atom$mat_font_style <1> Sets the text field's font style.
atom$man_start_sibling <org_group> Creates an organizational group.
atom$mat_orientation <hef> Makes the group horizontally oriented.
atom$man_start_object <trigger, "Yes"> Creates a button with a "Yes" label.
atom$mat_bool_default <yes> Sets the previous object as the default.
atom$man_start_sibling <trigger, "No"> Creates a button with a "No" label.
atom$man_start_sibling <trigger, "Exit Creates a button with an "Exit
Application">

Application" label.
atom$man_end_object Terminates the organizational group.
atom$man_update_display Sends the objects to the screen.
atom$uni_wait_off Turns off the wait cursor.
atom$uni_end_stream Specifies the end of the atom stream.

Figure 1.2 – FDO91 Form Example

America Online Confidential 1-2  America Online, Inc. 1993-98




February 1998 FDO91 Manual, Vol. 1

A typical atom stream for a form consists of:

• A command that creates a window (form)

• One or more commands that set attributes of the form

• Several commands that create objects (such as buttons, list boxes, view
fields) or actions on a form

• One or more commands that set attributes for the objects on a form

All forms have a form ID called a global ID (GID).  Identifiers 32-0199 and
40-2000 are examples of GIDs for forms.  Typically, GIDs that begin with 32
provide the basic core of a form (canned-form functionality) and often they are
client-based forms.  GIDs that begin with 40 through 43 typically provide more
online content for information providers.  Note that forms produced with the
VP Designer tool begin with GIDs of 43.

All streams have a unique stream identifier called a stream ID (SID) so that a
number of concurrent form activities can be tracked and processed between the
client and host.  Stream IDs can be generated by the host or client.

Objects, IDs, and Their Context

Objects are an integral part of form design.  Within the atom streams, the
objects are defined in a hierarchical order (tree structure) that begins with a
window (root) object.  Window objects can have object groups that contain
subordinate (children) objects, which together provide the form features and
content.  Figure 1.3 shows some common types of form display objects such as
ornamental pictures and text, list boxes, buttons, and input fields.  For more
specific information about object names, see Chapter 3, "Attribute Manager
Protocol," which defines the available form display objects.

 America Online, Inc. 1993-98 1-3 America Online Confidential




Chapter 1: Introduction February 1998

Radio Button

Radio Button

Check Box
Ornamental Picture

List Box
Check Box

Ornamental Text

Button Enter xyz:  Input Field (edit_view)

Figure 1.3 – Objects on Forms

When you modify objects on a form, you must establish an operating focus
(context) in your atom streams to a specific object so that the form compiler
tool can synchronize its operation to the correct object on your form.  In your
code stream, set the context to the specific object, and then end that context
when the defined operations on the object are complete (before you code the
next object in the sequence).  All objects on a form can be identified with a
unique relative ID.  In the following example, there are two button (trigger)
objects in the form being defined as relative ID 1 and 2:

atom$man_start_object <trigger>
ê atom$mat_relative_tag <1>

atom$man_end_object
atom$man_start_object <trigger>

ê atom$mat_relative_tag <2>
atom$man_end_object

In the following example, the context is set to relative ID 14 to add mail folder
items to this object.  Then the context is changed to relative ID 13 to make
object 13 nonselectable:

atom$uni_start_stream
ê atom$man_set_context_relative <14>

atom$man_build_savemail_menu
atom$man_end_context

ê atom$man_set_context_relative <13>
atom$mat_bool_disabled <yes>
atom$man_end_context
atom$man_update_display
atom$uni_end_stream

Art (graphic) and binary record objects are also identified with a GID.
Identifiers 1-0-01234 and 20-0-00335 are examples of GIDs for art and binary

America Online Confidential 1-4  America Online, Inc. 1993-98




February 1998 FDO91 Manual, Vol. 1

records.  Typically, GIDs that begin with 1 are art-based objects, and GIDs
that begin with 20 are records stored in a database.  The following example
assigns an art GID of 1-0-02201 to a button (trigger) object:

atom$mat_start_object <trigger>
atom$mat_relative_tag <1>

ê atom$mat_art_id <1-0-02201>
atom$mat_precise_x <370>
atom$mat_precise_y <105>
atom$mat_art_animation_rate <250>
atom$mat_art_animation_seq <1 5 0 1>
atom$mat_repeat_animation <yes>
.
.
.
atom$mat_end_object

Objects on a form can be placed in one of two layout forms: precise
positioning and relative grouping.

Precise positioning requires exact pixel placement on both the x and y axes.
The following example defines the placement of all objects on the form as
precise positioned:

atom$man_start_object <ind_group, "Roll Over Beethoven">
atom$mat_bool_background_pic <yes>
atom$mat_art_id <1-0-2196>

ê atom$mat_bool_precise <yes>
atom$mat_precise_width <500>
atom$mat_precise_height <333>
atom$man_start_object <ornament, "Music Forums”>
atom$mat_precise_x <9>
atom$mat_precise_y <10>
atom$mat_precise_width <204>
atom$mat_precise_height <18>
.
.
.
atom$man_end_object

Relative grouping requires horizontal and vertical justification (hff and vff
format) for object placement.  The following example evenly spaces the
placement of trigger objects along the horizontal axis (hee):

atom$man_start_object <ind_group>
atom$man_start_object <org_group>

ê atom$mat_orientation <hee>
atom$man_start_object <trigger>
atom$mat_title <"Button 1">
atom$man_end_object
atom$man_start_object <trigger>
atom$mat_title <"Button 2">
atom$man_end_object
atom$man_start_object <trigger>

 America Online, Inc. 1993-98 1-5 America Online Confidential




Chapter 1: Introduction February 1998

atom$mat_title <"Button 3">
atom$man_end_object

You can combine the two groupings within a form; however, you cannot
combine them within the context of the group.  Once an item in the object tree
is made precise, all objects subordinate to it must be precise.

Form Compilers

There are two form compiler tools that you can use to create and edit atom
streams for form development: VP Designer and form_edit.

VP Designer is a Graphical User Interface (GUI) tool that lets you create,
modify, and browse forms while still online.  form_edit is a Stratus-based tool
that lets you create and modify forms offline.

After you create the form with either tool, you compile it and then display it on
a client platform.  The tools also let you decompile an existing form so you can
view both its object tree structure and its raw data structure, which is the atom
stream.  

When you use either tool, forms are constructed in a general tree structure,
which begins with a root (the window), which splits into branches (groups)
that hold the leaves (the objects the member sees on the form).

When you initially execute form_edit, the main screen appears with a window
object already created.  You can add objects to the object tree structure by
making menu selections.

When you use form_edit to create or edit a tree structure, you view the form
or object definitions in Pre-stream, In-stream, and Post-stream entry fields.
Each object in the tree must be relative to the three entry fields.  The Pre-
stream is used for the typical initial code to prepare or define global IDs before
the form is transferred to the client.  In-stream code is where the actual form
construction takes place.  Post-stream is where the maintenance, upkeep, and
cleanup tasks are performed.

For more information about the use of VP Designer, see Chapter 4 of the
America Online manual Remote Managed Gateways.

For more information about the use of form_edit, see the America Online
manual Building an Online Service.

America Online Confidential 1-6  America Online, Inc. 1993-98




February 1998 FDO91 Manual, Vol. 1

FDO91 Features

The main design features of FDO91 include:

• Support of multiple, concurrent atom streams

• Use of a single, centralized command structure (atom$) that drives all
client functionality

• Use of abstract object classes to allow for platform independence

• Use of a true object tree model for complex and flexible object
relationships

• Use of consistent operations across object classes

• Ability for action criteria to include custom behavior that can be
programmer-defined

• Support of numeric, string, and raw data variables

• Support of branching and looping

• Ability for atoms to return values and to substitute a return value as a
command parameter

• Ability to create, delete, change, and query objects at any time

• Ability to perform data extraction

FDO91 Structure

FDO91 atoms are sent back and forth to enable interaction between the client
and the host.  Atoms are grouped into protocols, which are sets of commands
that perform related logical functions.  The atoms and protocols are described
in the following sections.

Atoms

Atoms follow a format that consists of the string "atom$" followed by the atom
name and its arguments.  Atoms can also return values to which other atoms

 America Online, Inc. 1993-98 1-7 America Online Confidential




Chapter 1: Introduction February 1998

can respond.  Although most atoms have arguments and return values, some
do not.

An example of the syntax of an atom is as follows:

atom$var_number_set <register, data>

where

atom$var_number_set is the atom command.

<register> is a required first argument.

<data> is a required second argument.

For more information about the conventions used for command syntax, see
"Conventions in This Manual" on page 1-15.

Data Types and Lengths of Arguments

An argument of an atom is specified in this manual as numeric, data (raw or
byte), string, or boolean.  Numeric values are decimal whole numbers, which
are 0 or greater.  Data (raw or byte) values are hexadecimal numbers, which
are identified with an x following each byte value (for example, 0C5E would be
coded 0Cx 5Ex).  String values are a series of alphanumeric characters
bracketed with quotes, for example, "Today’s stock quotes."  Boolean values
are a two-state notation and are distinguished with a yes or a no value.

Argument data lengths are one byte (8 bits) or greater.  One to four bytes are
typical argument lengths.  The following data length notations are used in this
manual:

byte — 8 bits

word — 16 bits (2 bytes)

dword — 32 bits (4 bytes)

Protocols

Each FDO91 protocol provides specific functionality for the online service.
For example, the Chat protocol provides the chat room functionality of the
online service.  Each protocol has a unique 2-byte protocol ID that is used to

America Online Confidential 1-8  America Online, Inc. 1993-98




February 1998 FDO91 Manual, Vol. 1

reference the specific atom handler (for America Online for Macintosh) or
client tool (for America Online for Windows).

The following table lists the FDO91 protocols, in alphabetical order, with the
protocol ID, atom prefix, description, and the chapter in which the protocol is
defined:

Table 1.1 – FDO91 Protocols

Proto Chap
FDO91 Protocol ID Atom Prefix Description No.

Action 2 atom$act Associates actions with 2
objects

ActiveX 54 atom$activex Implements forms with 37
ActiveX™  controls

Address 39 atom$ad Maintains address list 9
ARTdoc 31 atom$doc Opens and plays data 38

streams from the
ARTdoc database

Attribute Manager 16 atom$mat Sets attributes on forms 3
Async 13 atom$async Miscellaneous functions 10
Asynchronous Data 66 atom$adp Handles large chunks of 42

data transfers
Buffer 4 atom$buf Handles data packets 4
Chart 23 atom$chart Provides charting 12

functions
Chat 11 atom$chat Provides chat functions 11
Code Manager 10 atom$cm Handles code 13

management
Comm. Control 34 atom$ccl Handles CCL 14
Language
Conditional 15 atom$if Handles conditional 5

operations
Data Manager 3 atom$de Handles data extraction 15
Database Manager 5 atom$idb Maintains online 16

database
Device Independent 57 atom$dice Handles client computer 34
Connectivity Engine connectivity
Display Manager 1 atom$man Handles forms display 6
External API 26 atom$exapi Handles external 17

applications
File Manager 8 atom$fm Handles file 18

management
File Transfer 7 atom$xfer Handles file transfer 19

 America Online, Inc. 1993-98 1-9 America Online Confidential




Chapter 1: Introduction February 1998

Table 1.1 – FDO91 Protocols (Continued)

Proto Chap
FDO91 Protocol ID Atom Prefix Description No.

Gallery 56 atom$gallery Handles thumbnail 36
images and their display

Host Forms Server 51 atom$hfs Handles host forms 20
Image Manager 22 atom$image Sets attributes for 21

graphic displays
Image Transfer 21 atom$imgxfer Handles image display 22
List Manager 9 atom$lm Handles list management 23
Message Interchange 17 atom$mip Handles message data 24

transport
Multimedia 24 atom$morg Maintains personal filing 25
organizer cabinet
Multimedia Interface 20 atom$mmi Handles multimedia files 26

and display
Pictalk 29 atom$pictalk Handles slideshow data 39

streams
P3 35 atom$p3 Handles P3 28

communication
Progressive 27 atom$dod Handles progressive 27
Rendering rendering
Radio 28 atom$radio Captures and plays radio 40

program streams
Rich 25 atom$rich Handles enhanced text 29

attributes
Shorthand Manager 14 atom$sm Replaces lengthy atom 30

streams
Spell 61 atom$spell Invokes the spell dialog 41

box
Tool Manager 42 atom$mt Manages client tools 31
Universal 0 atom$uni Controls atom streams 7
Variable 12 atom$var Associates variables 8

with objects
Video 53 atom$vid Handles video images 35

and display
Visual 47 atom$vrm Manages Rainman forms 32
Rainman
WWW 48 atom$www Handles web browser 33

forms

America Online Confidential 1-10  America Online, Inc. 1993-98




February 1998 FDO91 Manual, Vol. 1

About This Manual

This manual describes the FDO91 protocols and provides detailed definitions
and examples of the atoms within each protocol.  The manual is organized into
two volumes:

• Volume 1 contains the general purpose protocols responsible for overall
stream management functions, such as starting and stopping atom streams,
setting action criteria, and specifying object attributes.

• Volume 2 contains a wide variety of miscellaneous protocols that perform
specialized functions, such as handling P3 communications, maintaining
address lists, and managing web browser forms.

Who Should Use This Manual

This manual is intended as a reference guide for programmers who want to
develop additional functionality for the online service client application.  This
manual is also intended for online service staff who create and maintain areas,
forms, and pathways for the online service.

Security Issues

This manual contains confidential material and is intended for use only by
America Online employees.  As the owner of this manual, it is your
responsibility to take the necessary precautions to ensure that it does not leave
your possession.

Chapter Overview

This manual is divided into 2 volumes, 42 chapters, and 2 appendixes, as
follows:

Volume 1

Chapter 1, "Introduction," describes the basics of form development, the
FDO91 language and its structure, and the contents of this manual.

Chapter 2, "Action Protocol," defines the action protocol atoms and provides
information for associating actions with FDO91 objects.

 America Online, Inc. 1993-98 1-11 America Online Confidential




Chapter 1: Introduction February 1998

Chapter 3, "Attribute Manager Protocol," defines the attribute manager
protocol atoms and provides information for specifying form attributes.

Chapter 4, "Buffer Protocol," defines the buffer protocol atoms and provides
information for handling data packets.

Chapter 5, "Conditional Protocol," defines the conditional protocol atoms and
provides information for handling conditional operations.

Chapter 6, "Display Manager Protocol," defines the display manager protocol
atoms and provides information for handling forms display.

Chapter 7, "Universal Protocol," defines the universal protocol atoms and
provides information for controlling atom streams.

Chapter 8, "Variable Protocol," defines the variable protocol atoms and
provides information for associating variables with objects.

Chapter 9, "Address Protocol," defines the address protocol atoms and
provides information for maintaining address lists.

Chapter 10, "Async Protocol," defines the async protocol atoms and provides
information on miscellaneous FDO91 functions.

Volume 2

Chapter 11, "Chart Protocol," defines chart protocol atoms and provides
information for building charts with numeric data from the online service.

Chapter 12, "Chat Protocol," defines chat protocol atoms and provides
information for chat functionality.

Chapter 13, "Code Manager Protocol," defines code manager protocol atoms
and provides information for handling code management.

Chapter 14, "Communications Control Language (CCL) Protocol," defines
CCL protocol atoms and provides information for the CCL.

Chapter 15, "Data Manager Protocol," defines data manager protocol atoms
and provides information for handling data extraction.

Chapter 16, "Database Manager Protocol," defines database manager protocol
atoms and provides information for maintaining the online database.

America Online Confidential 1-12  America Online, Inc. 1993-98




February 1998 FDO91 Manual, Vol. 1

Chapter 17, "External API Protocol," defines external API protocol atoms and
provides information for external third-party applications.

Chapter 18, "File Manager Protocol," defines file manager protocol atoms and
provides information for handling file management.

Chapter 19, "File Transfer Protocol," defines file transfer protocol atoms and
provides information for handling file transfer.

Chapter 20, "Host Forms Server Protocol," defines host forms server protocol
atoms and provides host forms information.

Chapter 21, "Image Manager Protocol," defines image manager protocol
atoms and provides information for handling hotspots and image display.

Chapter 22, "Image Transfer Protocol," defines image transfer protocol atoms
and provides information for handling image display.

Chapter 23, "List Manager Protocol," defines list manager protocol atoms and
provides information for managing lists such as lists of e-mail messages.

Chapter 24, "Message Interchange Protocol," defines message interchange
protocol atoms and provides information for handling message data transport.

Chapter 25, "MORG Protocol," defines the MORG (multimedia organizer)
protocol atoms and provides information for maintaining personal filing
cabinets.

Chapter 26, "Multimedia Interface (MMI) Protocol," defines the multimedia
interface protocol atoms and provides information for handling and playing
multimedia files.

Chapter 27, "P3 Protocol," defines P3 protocol atoms and provides
information for handling P3 communication.

Chapter 28, "Progressive Rendering Protocol," defines progressive rendering
protocol atoms and provides information for rendering forms progressively.

Chapter 29, "Rich Protocol," defines rich protocol atoms and provides
information for rendering text with hypertext markup language (HTML) tags.

Chapter 30, "Shorthand Protocol," defines shorthand protocol atoms and
provides information for replacing lengthy atom streams.

 America Online, Inc. 1993-98 1-13 America Online Confidential




Chapter 1: Introduction February 1998

Chapter 31, "Tool Manager Protocol," is not included in this release.  It will
define tool manager protocol atoms and provide information for tool
management.

Chapter 32, "Visual Rainman Protocol," is not included in this release.  It will
define visual Rainman protocol atoms and provide information on the online
publishing tools used to maintain areas of the online service.

Chapter 33, "WWW Protocol," defines World Wide Web protocol atoms and
provides information for handling Web browser forms.

Chapter 34, "Device Independent Connectivity (DICE) Protocol," defines
atoms that initiate and manage all client computer connections.

Chapter 35, "Video (VID) Protocol," defines the atoms that manage and
transmit video and still-camera images between members.

Chapter 36, "Gallery Protocol," defines the atoms that manage thumbnail
images and arrange them in gallery views.

Chapter 37, "ActiveX Protocol," defines the atoms that manage ActiveX™
controls for 32-bit Windows applications.

Chapter 38, "ARTdoc Protocol," defines the atoms that open and play
ARTdoc database record streams.

Chapter 39, "Pictalk Protocol," defines the atoms that open and play
multimedia files or slideshow data streams.

Chapter 40, "Radio Protocol," defines the atoms that capture and play radio
program streams from live broadcasts and stored files.

Chapter 41, "Spell Protocol," defines the atoms that bring up the spell
preferences dialog box.

Chapter 42, "Asynchronous Data Protocol," defines the atoms that manage the
asynchronous transfer of large blocks of data between the host and client PCs.

Appendix A, "Examples," provides examples of MIP and List Manager atom
streams.

Appendix B, "Internationalization (i18n) Atoms," defines i18n atoms and
provides information for localizing data sent from the host system to
international clients of the online service.

America Online Confidential 1-14  America Online, Inc. 1993-98




February 1998 FDO91 Manual, Vol. 1

Conventions in This Manual

Atom commands in this manual appear in the following format:

atom$prot_command <arguments>

Note that when you are using VP Designer, you do not code the prefix
(atom$) with each atom entry.

The following conventions are used throughout this manual in defining atom
command syntax:

<arguments> Angle brackets enclose all arguments whether
the argument is required or optional.

<arg1, arg2[, arg3]> When you code atoms with multiple arguments
using VP Designer, commas separate each
argument.  Note that chapters with a header date
before April 1997 do not show this convention,
because they were written for form_edit.  An
argument shown in square brackets indicates that
the argument is optional.

<arg1> <arg2> [<arg3>] When you code atoms with multiple arguments
using form_edit, space delimiters and/or angle
brackets separate each argument without
commas.  Note that chapters with a header date
before April 1997 still use this convention with
angle brackets around each argument.  An
argument shown in square brackets indicates an
optional argument.

(<arg1> | <arg2>) Parentheses are used around arguments that
have an association, and a vertical bar indicates
an either/or choice between arguments.

<arg1> <arg2> ... Trailing periods indicate additional arguments
can be specified.

In examples throughout this manual, arguments appear enclosed in angle
brackets (< >) as required for VP Designer.  However, you do not have to use
angle brackets around argument values when you are creating or editing an
atom stream using form_edit.

 America Online, Inc. 1993-98 1-15 America Online Confidential




Chapter 1: Introduction February 1998

An atom’s argument can be defined to have a set of numeric and associated
label values.  For example, atom$mat_trigger_style has a list of 10 defined
argument values from which you select trigger styles.  The values are defined 0
through 9 with associated value labels.  For example, either the value 8 or the
value label text_on_picture can be used to apply text on the art of a trigger
object.  Note that defined value labels in the text of this manual appear in a
monospace (Courier) font as illustrated in this paragraph.  This convention
does not apply to chapters with a header date before July 1997.

Providing Feedback

If you have comments, corrections or questions related to this manual, please
send e-mail to screen name DevelopHlp.  Please include the name of this
manual when providing your feedback.

America Online Confidential 1-16  America Online, Inc. 1993-98



===== END PDF: ch01-1-intro.pdf =====

===== BEGIN PDF: ch01-intro.pdf =====



Manual: FDO91 Manual
Chapter 1:  Introduction describes the basics of form development, the FDO91 language and its
structure, and the contents of this manual.
Last updated: February 1998




C H A P T E R  1

Introduction

FDO91 is a programming language designed to control all client computer

functionality for the Windows™ and for Macintosh platforms of the online
service.  You can enhance existing client functionality by using this language.

FDO91 evolved from the FDO88 language, which is the original online service

forms display language developed for the Apple II platform.  The acronym
FDO stands for "Form Display Operation."

FDO91 atoms are the commands that form the basis of the FDO91 language.
An atom stream is created when a number of atoms are put together in a
sequence that performs a specific function.  Atom streams can be stored and
sent from the host system servers or from the local client database.  Atom
streams sent from a host system server or from the client are assembled into
data packets.

Figure 1.1 shows the host system server to client PC connection types, which
are a phone line network and a TCP/IP network that carry the atom streams:

AOLNet Internet

(Phone Lines)

TCP/IP

Client PC Modem
Atom Streams

Host
Host

TCP/IP

Client PC
Host System Servers

(HP/UNIX, Stratus, Tandem)

Figure 1.1 – Atom Streams in the Host to Client PC Connections

America Online Confidential 1-1  America Online, Inc. 1993-98




Chapter 1: Introduction February 1998

Form Development

The major use of the FDO91 language is for the development of forms, or
windows, for the online service.  This section presents an atom stream that
builds a simple form and information about how a form is developed.

The Form
An atom stream, which consists of a series of FDO91 atoms, determines the
content and design of a form.  Figure 1.2 shows a sample form (dialog box) as
an online member sees it, followed by the FDO91 atom stream that produced
the form, and a brief description of each atom’s function:

Atom Stream Atom Function
atom$uni_start_stream Starts the atom stream.
atom$man_start_object <ind_group, "Exit Creates a window.
Gateway">

atom$mat_orientation <vff> Makes the window vertically oriented.
atom$mat_position <5> Centers the window on the screen.
atom$man_start_object <ornament, "Are Creates a text field with specified text.
you sure you want to sign off?">

atom$mat_size 14x 02x Sets the size of the text field.
atom$mat_font_id <1> Sets the text field's font ID.
atom$mat_font_size <14> Sets the text field's font size.
atom$mat_font_style <1> Sets the text field's font style.
atom$man_start_sibling <org_group> Creates an organizational group.
atom$mat_orientation <hef> Makes the group horizontally oriented.
atom$man_start_object <trigger, "Yes"> Creates a button with a "Yes" label.
atom$mat_bool_default <yes> Sets the previous object as the default.
atom$man_start_sibling <trigger, "No"> Creates a button with a "No" label.
atom$man_start_sibling <trigger, "Exit Creates a button with an "Exit
Application">

Application" label.
atom$man_end_object Terminates the organizational group.
atom$man_update_display Sends the objects to the screen.
atom$uni_wait_off Turns off the wait cursor.
atom$uni_end_stream Specifies the end of the atom stream.

Figure 1.2 – FDO91 Form Example

America Online Confidential 1-2  America Online, Inc. 1993-98




February 1998 FDO91 Manual, Vol. 1

A typical atom stream for a form consists of:

• A command that creates a window (form)

• One or more commands that set attributes of the form

• Several commands that create objects (such as buttons, list boxes, view
fields) or actions on a form

• One or more commands that set attributes for the objects on a form

All forms have a form ID called a global ID (GID).  Identifiers 32-0199 and
40-2000 are examples of GIDs for forms.  Typically, GIDs that begin with 32
provide the basic core of a form (canned-form functionality) and often they are
client-based forms.  GIDs that begin with 40 through 43 typically provide more
online content for information providers.  Note that forms produced with the
VP Designer tool begin with GIDs of 43.

All streams have a unique stream identifier called a stream ID (SID) so that a
number of concurrent form activities can be tracked and processed between the
client and host.  Stream IDs can be generated by the host or client.

Objects, IDs, and Their Context

Objects are an integral part of form design.  Within the atom streams, the
objects are defined in a hierarchical order (tree structure) that begins with a
window (root) object.  Window objects can have object groups that contain
subordinate (children) objects, which together provide the form features and
content.  Figure 1.3 shows some common types of form display objects such as
ornamental pictures and text, list boxes, buttons, and input fields.  For more
specific information about object names, see Chapter 3, "Attribute Manager
Protocol," which defines the available form display objects.

 America Online, Inc. 1993-98 1-3 America Online Confidential




Chapter 1: Introduction February 1998

Radio Button

Radio Button

Check Box
Ornamental Picture

List Box
Check Box

Ornamental Text

Button Enter xyz:  Input Field (edit_view)

Figure 1.3 – Objects on Forms

When you modify objects on a form, you must establish an operating focus
(context) in your atom streams to a specific object so that the form compiler
tool can synchronize its operation to the correct object on your form.  In your
code stream, set the context to the specific object, and then end that context
when the defined operations on the object are complete (before you code the
next object in the sequence).  All objects on a form can be identified with a
unique relative ID.  In the following example, there are two button (trigger)
objects in the form being defined as relative ID 1 and 2:

atom$man_start_object <trigger>
ê atom$mat_relative_tag <1>

atom$man_end_object
atom$man_start_object <trigger>

ê atom$mat_relative_tag <2>
atom$man_end_object

In the following example, the context is set to relative ID 14 to add mail folder
items to this object.  Then the context is changed to relative ID 13 to make
object 13 nonselectable:

atom$uni_start_stream
ê atom$man_set_context_relative <14>

atom$man_build_savemail_menu
atom$man_end_context

ê atom$man_set_context_relative <13>
atom$mat_bool_disabled <yes>
atom$man_end_context
atom$man_update_display
atom$uni_end_stream

Art (graphic) and binary record objects are also identified with a GID.
Identifiers 1-0-01234 and 20-0-00335 are examples of GIDs for art and binary

America Online Confidential 1-4  America Online, Inc. 1993-98




February 1998 FDO91 Manual, Vol. 1

records.  Typically, GIDs that begin with 1 are art-based objects, and GIDs
that begin with 20 are records stored in a database.  The following example
assigns an art GID of 1-0-02201 to a button (trigger) object:

atom$mat_start_object <trigger>
atom$mat_relative_tag <1>

ê atom$mat_art_id <1-0-02201>
atom$mat_precise_x <370>
atom$mat_precise_y <105>
atom$mat_art_animation_rate <250>
atom$mat_art_animation_seq <1 5 0 1>
atom$mat_repeat_animation <yes>
.
.
.
atom$mat_end_object

Objects on a form can be placed in one of two layout forms: precise
positioning and relative grouping.

Precise positioning requires exact pixel placement on both the x and y axes.
The following example defines the placement of all objects on the form as
precise positioned:

atom$man_start_object <ind_group, "Roll Over Beethoven">
atom$mat_bool_background_pic <yes>
atom$mat_art_id <1-0-2196>

ê atom$mat_bool_precise <yes>
atom$mat_precise_width <500>
atom$mat_precise_height <333>
atom$man_start_object <ornament, "Music Forums”>
atom$mat_precise_x <9>
atom$mat_precise_y <10>
atom$mat_precise_width <204>
atom$mat_precise_height <18>
.
.
.
atom$man_end_object

Relative grouping requires horizontal and vertical justification (hff and vff
format) for object placement.  The following example evenly spaces the
placement of trigger objects along the horizontal axis (hee):

atom$man_start_object <ind_group>
atom$man_start_object <org_group>

ê atom$mat_orientation <hee>
atom$man_start_object <trigger>
atom$mat_title <"Button 1">
atom$man_end_object
atom$man_start_object <trigger>
atom$mat_title <"Button 2">
atom$man_end_object
atom$man_start_object <trigger>

 America Online, Inc. 1993-98 1-5 America Online Confidential




Chapter 1: Introduction February 1998

atom$mat_title <"Button 3">
atom$man_end_object

You can combine the two groupings within a form; however, you cannot
combine them within the context of the group.  Once an item in the object tree
is made precise, all objects subordinate to it must be precise.

Form Compilers

There are two form compiler tools that you can use to create and edit atom
streams for form development: VP Designer and form_edit.

VP Designer is a Graphical User Interface (GUI) tool that lets you create,
modify, and browse forms while still online.  form_edit is a Stratus-based tool
that lets you create and modify forms offline.

After you create the form with either tool, you compile it and then display it on
a client platform.  The tools also let you decompile an existing form so you can
view both its object tree structure and its raw data structure, which is the atom
stream.  

When you use either tool, forms are constructed in a general tree structure,
which begins with a root (the window), which splits into branches (groups)
that hold the leaves (the objects the member sees on the form).

When you initially execute form_edit, the main screen appears with a window
object already created.  You can add objects to the object tree structure by
making menu selections.

When you use form_edit to create or edit a tree structure, you view the form
or object definitions in Pre-stream, In-stream, and Post-stream entry fields.
Each object in the tree must be relative to the three entry fields.  The Pre-
stream is used for the typical initial code to prepare or define global IDs before
the form is transferred to the client.  In-stream code is where the actual form
construction takes place.  Post-stream is where the maintenance, upkeep, and
cleanup tasks are performed.

For more information about the use of VP Designer, see Chapter 4 of the
America Online manual Remote Managed Gateways.

For more information about the use of form_edit, see the America Online
manual Building an Online Service.

America Online Confidential 1-6  America Online, Inc. 1993-98




February 1998 FDO91 Manual, Vol. 1

FDO91 Features

The main design features of FDO91 include:

• Support of multiple, concurrent atom streams

• Use of a single, centralized command structure (atom$) that drives all
client functionality

• Use of abstract object classes to allow for platform independence

• Use of a true object tree model for complex and flexible object
relationships

• Use of consistent operations across object classes

• Ability for action criteria to include custom behavior that can be
programmer-defined

• Support of numeric, string, and raw data variables

• Support of branching and looping

• Ability for atoms to return values and to substitute a return value as a
command parameter

• Ability to create, delete, change, and query objects at any time

• Ability to perform data extraction

FDO91 Structure

FDO91 atoms are sent back and forth to enable interaction between the client
and the host.  Atoms are grouped into protocols, which are sets of commands
that perform related logical functions.  The atoms and protocols are described
in the following sections.

Atoms

Atoms follow a format that consists of the string "atom$" followed by the atom
name and its arguments.  Atoms can also return values to which other atoms

 America Online, Inc. 1993-98 1-7 America Online Confidential




Chapter 1: Introduction February 1998

can respond.  Although most atoms have arguments and return values, some
do not.

An example of the syntax of an atom is as follows:

atom$var_number_set <register, data>

where

atom$var_number_set is the atom command.

<register> is a required first argument.

<data> is a required second argument.

For more information about the conventions used for command syntax, see
"Conventions in This Manual" on page 1-15.

Data Types and Lengths of Arguments

An argument of an atom is specified in this manual as numeric, data (raw or
byte), string, or boolean.  Numeric values are decimal whole numbers, which
are 0 or greater.  Data (raw or byte) values are hexadecimal numbers, which
are identified with an x following each byte value (for example, 0C5E would be
coded 0Cx 5Ex).  String values are a series of alphanumeric characters
bracketed with quotes, for example, "Today’s stock quotes."  Boolean values
are a two-state notation and are distinguished with a yes or a no value.

Argument data lengths are one byte (8 bits) or greater.  One to four bytes are
typical argument lengths.  The following data length notations are used in this
manual:

byte — 8 bits

word — 16 bits (2 bytes)

dword — 32 bits (4 bytes)

Protocols

Each FDO91 protocol provides specific functionality for the online service.
For example, the Chat protocol provides the chat room functionality of the
online service.  Each protocol has a unique 2-byte protocol ID that is used to

America Online Confidential 1-8  America Online, Inc. 1993-98




February 1998 FDO91 Manual, Vol. 1

reference the specific atom handler (for America Online for Macintosh) or
client tool (for America Online for Windows).

The following table lists the FDO91 protocols, in alphabetical order, with the
protocol ID, atom prefix, description, and the chapter in which the protocol is
defined:

Table 1.1 – FDO91 Protocols

Proto Chap
FDO91 Protocol ID Atom Prefix Description No.

Action 2 atom$act Associates actions with 2
objects

ActiveX 54 atom$activex Implements forms with 37
ActiveX™  controls

Address 39 atom$ad Maintains address list 9
ARTdoc 31 atom$doc Opens and plays data 38

streams from the
ARTdoc database

Attribute Manager 16 atom$mat Sets attributes on forms 3
Async 13 atom$async Miscellaneous functions 10
Asynchronous Data 66 atom$adp Handles large chunks of 42

data transfers
Buffer 4 atom$buf Handles data packets 4
Chart 23 atom$chart Provides charting 12

functions
Chat 11 atom$chat Provides chat functions 11
Code Manager 10 atom$cm Handles code 13

management
Comm. Control 34 atom$ccl Handles CCL 14
Language
Conditional 15 atom$if Handles conditional 5

operations
Data Manager 3 atom$de Handles data extraction 15
Database Manager 5 atom$idb Maintains online 16

database
Device Independent 57 atom$dice Handles client computer 34
Connectivity Engine connectivity
Display Manager 1 atom$man Handles forms display 6
External API 26 atom$exapi Handles external 17

applications
File Manager 8 atom$fm Handles file 18

management
File Transfer 7 atom$xfer Handles file transfer 19

 America Online, Inc. 1993-98 1-9 America Online Confidential




Chapter 1: Introduction February 1998

Table 1.1 – FDO91 Protocols (Continued)

Proto Chap
FDO91 Protocol ID Atom Prefix Description No.

Gallery 56 atom$gallery Handles thumbnail 36
images and their display

Host Forms Server 51 atom$hfs Handles host forms 20
Image Manager 22 atom$image Sets attributes for 21

graphic displays
Image Transfer 21 atom$imgxfer Handles image display 22
List Manager 9 atom$lm Handles list management 23
Message Interchange 17 atom$mip Handles message data 24

transport
Multimedia 24 atom$morg Maintains personal filing 25
organizer cabinet
Multimedia Interface 20 atom$mmi Handles multimedia files 26

and display
Pictalk 29 atom$pictalk Handles slideshow data 39

streams
P3 35 atom$p3 Handles P3 28

communication
Progressive 27 atom$dod Handles progressive 27
Rendering rendering
Radio 28 atom$radio Captures and plays radio 40

program streams
Rich 25 atom$rich Handles enhanced text 29

attributes
Shorthand Manager 14 atom$sm Replaces lengthy atom 30

streams
Spell 61 atom$spell Invokes the spell dialog 41

box
Tool Manager 42 atom$mt Manages client tools 31
Universal 0 atom$uni Controls atom streams 7
Variable 12 atom$var Associates variables 8

with objects
Video 53 atom$vid Handles video images 35

and display
Visual 47 atom$vrm Manages Rainman forms 32
Rainman
WWW 48 atom$www Handles web browser 33

forms

America Online Confidential 1-10  America Online, Inc. 1993-98




February 1998 FDO91 Manual, Vol. 1

About This Manual

This manual describes the FDO91 protocols and provides detailed definitions
and examples of the atoms within each protocol.  The manual is organized into
two volumes:

• Volume 1 contains the general purpose protocols responsible for overall
stream management functions, such as starting and stopping atom streams,
setting action criteria, and specifying object attributes.

• Volume 2 contains a wide variety of miscellaneous protocols that perform
specialized functions, such as handling P3 communications, maintaining
address lists, and managing web browser forms.

Who Should Use This Manual

This manual is intended as a reference guide for programmers who want to
develop additional functionality for the online service client application.  This
manual is also intended for online service staff who create and maintain areas,
forms, and pathways for the online service.

Security Issues

This manual contains confidential material and is intended for use only by
America Online employees.  As the owner of this manual, it is your
responsibility to take the necessary precautions to ensure that it does not leave
your possession.

Chapter Overview

This manual is divided into 2 volumes, 42 chapters, and 2 appendixes, as
follows:

Volume 1

Chapter 1, "Introduction," describes the basics of form development, the
FDO91 language and its structure, and the contents of this manual.

Chapter 2, "Action Protocol," defines the action protocol atoms and provides
information for associating actions with FDO91 objects.

 America Online, Inc. 1993-98 1-11 America Online Confidential




Chapter 1: Introduction February 1998

Chapter 3, "Attribute Manager Protocol," defines the attribute manager
protocol atoms and provides information for specifying form attributes.

Chapter 4, "Buffer Protocol," defines the buffer protocol atoms and provides
information for handling data packets.

Chapter 5, "Conditional Protocol," defines the conditional protocol atoms and
provides information for handling conditional operations.

Chapter 6, "Display Manager Protocol," defines the display manager protocol
atoms and provides information for handling forms display.

Chapter 7, "Universal Protocol," defines the universal protocol atoms and
provides information for controlling atom streams.

Chapter 8, "Variable Protocol," defines the variable protocol atoms and
provides information for associating variables with objects.

Chapter 9, "Address Protocol," defines the address protocol atoms and
provides information for maintaining address lists.

Chapter 10, "Async Protocol," defines the async protocol atoms and provides
information on miscellaneous FDO91 functions.

Volume 2

Chapter 11, "Chart Protocol," defines chart protocol atoms and provides
information for building charts with numeric data from the online service.

Chapter 12, "Chat Protocol," defines chat protocol atoms and provides
information for chat functionality.

Chapter 13, "Code Manager Protocol," defines code manager protocol atoms
and provides information for handling code management.

Chapter 14, "Communications Control Language (CCL) Protocol," defines
CCL protocol atoms and provides information for the CCL.

Chapter 15, "Data Manager Protocol," defines data manager protocol atoms
and provides information for handling data extraction.

Chapter 16, "Database Manager Protocol," defines database manager protocol
atoms and provides information for maintaining the online database.

America Online Confidential 1-12  America Online, Inc. 1993-98




February 1998 FDO91 Manual, Vol. 1

Chapter 17, "External API Protocol," defines external API protocol atoms and
provides information for external third-party applications.

Chapter 18, "File Manager Protocol," defines file manager protocol atoms and
provides information for handling file management.

Chapter 19, "File Transfer Protocol," defines file transfer protocol atoms and
provides information for handling file transfer.

Chapter 20, "Host Forms Server Protocol," defines host forms server protocol
atoms and provides host forms information.

Chapter 21, "Image Manager Protocol," defines image manager protocol
atoms and provides information for handling hotspots and image display.

Chapter 22, "Image Transfer Protocol," defines image transfer protocol atoms
and provides information for handling image display.

Chapter 23, "List Manager Protocol," defines list manager protocol atoms and
provides information for managing lists such as lists of e-mail messages.

Chapter 24, "Message Interchange Protocol," defines message interchange
protocol atoms and provides information for handling message data transport.

Chapter 25, "MORG Protocol," defines the MORG (multimedia organizer)
protocol atoms and provides information for maintaining personal filing
cabinets.

Chapter 26, "Multimedia Interface (MMI) Protocol," defines the multimedia
interface protocol atoms and provides information for handling and playing
multimedia files.

Chapter 27, "P3 Protocol," defines P3 protocol atoms and provides
information for handling P3 communication.

Chapter 28, "Progressive Rendering Protocol," defines progressive rendering
protocol atoms and provides information for rendering forms progressively.

Chapter 29, "Rich Protocol," defines rich protocol atoms and provides
information for rendering text with hypertext markup language (HTML) tags.

Chapter 30, "Shorthand Protocol," defines shorthand protocol atoms and
provides information for replacing lengthy atom streams.

 America Online, Inc. 1993-98 1-13 America Online Confidential




Chapter 1: Introduction February 1998

Chapter 31, "Tool Manager Protocol," is not included in this release.  It will
define tool manager protocol atoms and provide information for tool
management.

Chapter 32, "Visual Rainman Protocol," is not included in this release.  It will
define visual Rainman protocol atoms and provide information on the online
publishing tools used to maintain areas of the online service.

Chapter 33, "WWW Protocol," defines World Wide Web protocol atoms and
provides information for handling Web browser forms.

Chapter 34, "Device Independent Connectivity (DICE) Protocol," defines
atoms that initiate and manage all client computer connections.

Chapter 35, "Video (VID) Protocol," defines the atoms that manage and
transmit video and still-camera images between members.

Chapter 36, "Gallery Protocol," defines the atoms that manage thumbnail
images and arrange them in gallery views.

Chapter 37, "ActiveX Protocol," defines the atoms that manage ActiveX™
controls for 32-bit Windows applications.

Chapter 38, "ARTdoc Protocol," defines the atoms that open and play
ARTdoc database record streams.

Chapter 39, "Pictalk Protocol," defines the atoms that open and play
multimedia files or slideshow data streams.

Chapter 40, "Radio Protocol," defines the atoms that capture and play radio
program streams from live broadcasts and stored files.

Chapter 41, "Spell Protocol," defines the atoms that bring up the spell
preferences dialog box.

Chapter 42, "Asynchronous Data Protocol," defines the atoms that manage the
asynchronous transfer of large blocks of data between the host and client PCs.

Appendix A, "Examples," provides examples of MIP and List Manager atom
streams.

Appendix B, "Internationalization (i18n) Atoms," defines i18n atoms and
provides information for localizing data sent from the host system to
international clients of the online service.

America Online Confidential 1-14  America Online, Inc. 1993-98




February 1998 FDO91 Manual, Vol. 1

Conventions in This Manual

Atom commands in this manual appear in the following format:

atom$prot_command <arguments>

Note that when you are using VP Designer, you do not code the prefix
(atom$) with each atom entry.

The following conventions are used throughout this manual in defining atom
command syntax:

<arguments> Angle brackets enclose all arguments whether
the argument is required or optional.

<arg1, arg2[, arg3]> When you code atoms with multiple arguments
using VP Designer, commas separate each
argument.  Note that chapters with a header date
before April 1997 do not show this convention,
because they were written for form_edit.  An
argument shown in square brackets indicates that
the argument is optional.

<arg1> <arg2> [<arg3>] When you code atoms with multiple arguments
using form_edit, space delimiters and/or angle
brackets separate each argument without
commas.  Note that chapters with a header date
before April 1997 still use this convention with
angle brackets around each argument.  An
argument shown in square brackets indicates an
optional argument.

(<arg1> | <arg2>) Parentheses are used around arguments that
have an association, and a vertical bar indicates
an either/or choice between arguments.

<arg1> <arg2> ... Trailing periods indicate additional arguments
can be specified.

In examples throughout this manual, arguments appear enclosed in angle
brackets (< >) as required for VP Designer.  However, you do not have to use
angle brackets around argument values when you are creating or editing an
atom stream using form_edit.

 America Online, Inc. 1993-98 1-15 America Online Confidential




Chapter 1: Introduction February 1998

An atom’s argument can be defined to have a set of numeric and associated
label values.  For example, atom$mat_trigger_style has a list of 10 defined
argument values from which you select trigger styles.  The values are defined 0
through 9 with associated value labels.  For example, either the value 8 or the
value label text_on_picture can be used to apply text on the art of a trigger
object.  Note that defined value labels in the text of this manual appear in a
monospace (Courier) font as illustrated in this paragraph.  This convention
does not apply to chapters with a header date before July 1997.

Providing Feedback

If you have comments, corrections or questions related to this manual, please
send e-mail to screen name DevelopHlp.  Please include the name of this
manual when providing your feedback.

America Online Confidential 1-16  America Online, Inc. 1993-98



===== END PDF: ch01-intro.pdf =====

===== BEGIN PDF: ch02-action.pdf =====



Manual: FDO91 Manual
Chapter 2: Action Protocol defines the action protocol atoms and provides information for
associating actions with FDO91 objects.
Last updated: October 1997




C H A P T E R  2

Action (ACT) Protocol

The Action (ACT) protocol (protocol ID 2) consists of atoms that allow
actions to be associated with objects on forms.  For example, you can set up an
action to occur as the result of a member selecting an object, such as an icon
on a form.

Action Criteria

There are two components to setting up an object's action: the action criterion,
which is specified using atom$act_set_criterion, and the atom stream
(sometimes referred to as an action stream), which is specified by a series of
atoms that begins with atom$uni_start_stream and ends with atom$uni_
end_stream.   

Action criteria let you assign an action ID that indicates when an object's
action will occur, while the atom stream lets you define what action will occur.
In most cases, an action is set up when its associated object is created.

Table 2.1 lists the title, the action ID, the hexadecimal equivalent of the action
ID, and a description for each action criterion:

Table 2.1 – Action Criteria

Action Criterion/ Description
Action ID

SELECTION Action occurs when an object is selected.
1 (01x)

CLOSE Action occurs when an object is closed.
2 (02x)

America Online Confidential 2-1  America Online, Inc. 1993-97




Chapter 2: Action (ACT) Protocol October 1997

Table 2.1 – Action Criteria (Continued)

Action Criterion/ Description
Action ID

GAIN_FOCUS Action occurs when a window is brought
4 (04x) to the front.

LOSE_FOCUS Action occurs when another window is
5 (05x) brought to the front of the current

window.

CANCEL Action occurs when ESC is pressed while
6 (06x) the window is the top-most window.

ENTER_FREE Action occurs when a free area is entered.
7 (07x) This criterion applies to independent

groups (windows) and affects the default
behavior of switching between free and
paid areas.

ENTER_PAID Action occurs when a paid area is entered.
8 (08x) This criterion applies to independent

groups (windows) and affects the default
behavior of switching between free and
paid areas.

CREATE Action occurs when a window is first
9 (09x) drawn.

SET_ONLINE Action occurs when a member goes online.
10 (0Ax) This criterion applies to independent

groups (windows).

SET_OFFLINE Action occurs when a member goes
11 (0Bx) offline.  This criterion applies to

independent groups (windows).

RESTORE Action occurs when a window is restored.
12 (0Cx)

MINIMIZE Action occurs when a window is
14 (0Ex) minimized.

America Online Confidential 2-2  America Online, Inc. 1993-97




October 1997 FDO91 Manual, Vol. 1

Table 2.1 – Action Criteria (Continued)

Action Criterion/ Description
Action ID

RESTORE_FROM_ Action occurs when a window is restored
MAXIMIZE to its original size after being maximized.
15 (0Fx)

RESTORE_FROM_ Action occurs when a window is restored
MINIMIZE to its original size after being minimized.
16 (10x)

TIMEOUT Action occurs when the host fails to
17 (11x) respond.  This criterion lets you override

the default behavior for what happens
when the host does not respond.

SCREEN_NAME_ Action occurs when a screen name is
CHANGED changed.  This criterion applies to
18 (12x) independent groups (windows) and affects

all windows open when the action occurs.

MOVIE_OVER Action occurs when a .avi file has finished
19 (13x) playing.

DROP Action occurs when data is dropped into
20 (14x) an object (field or view) and the mouse

button is released.

URL_DROP Action occurs when an URL is dropped
21 (15x) into an object and the mouse button is

released.

USER_DELETE Action occurs when a user presses DELETE

22 (16x) or clicks a mouse to delete something.

TOGGLE_UP Action occurs when a user activates the up
23 (17x) action of a toggle switch.

ACTIVATED Actions occurs when MDI_ACTIVATE is
24 (18x) true.

DEACTIVATED Action occurs when MDI_ACTIVATE is
25 (19x) false.

 America Online, Inc. 1993-97 2-3 America Online Confidential




Chapter 2: Action (ACT) Protocol October 1997

Table 2.1 – Action Criteria (Continued)

Action Criterion/ Description
Action ID

POPUPMENU Action occurs when a user invokes a pop-
26 (1Ax) up menu.

DESTROYED Action occurs when a window is cleared
27 (1Bx) from the screen.

ACTION_TOOL Reserved for  protocol-independent action
128-255 (80x-FFx) criterion, e.g., action ID 128 in the MORG

protocol is ACTION_VIEW_UPDATED.
Action ID 128 in the WWW protocol is
ACTION_URL_CHANGED.

Action Protocol Atoms

The Action (ACT) protocol functions and their associated atoms follow:

Function Atoms

Saving action streams atom$act_copy_action_to_reg

atom$act_set_action_in_reg

Selecting action streams atom$act_do_action

atom$act_replace_action

atom$act_replace_action_from_reg

atom$act_replace_popup_menu_action

atom$act_replace_select_action

Setting triggers for action atom$act_set_criterion
streams

Searching for action atom$act_set_inheritance
streams

America Online Confidential 2-4  America Online, Inc. 1993-97




October 1997 FDO91 Manual, Vol. 1

Using database records atom$act_get_db_record

atom$act_get_db_value

atom$act_set_db_id

atom$act_set_db_length

atom$act_set_db_offset

atom$act_set_db_record

Making sound actions atom$act_sound_beep

Setting new user and guest atom$act_set_guest_flag
flags

atom$act_set_newuser_flag

The ACT protocol atoms are described in alphabetical order in the rest of this
chapter.

 America Online, Inc. 1993-97 2-5 America Online Confidential




Chapter 2: Action (ACT) Protocol October 1997

atom$act_append_action
32 ($20)

This atom is no longer supported.  This atom appended the specified data to
the existing action for the current object.

Alternative:  Redefine the entire action stream with
atom$act_replace_action.

America Online Confidential 2-6  America Online, Inc. 1993-97




October 1997 FDO91 Manual, Vol. 1

atom$act_append_action_from_reg
40 ($28)

This atom is no longer supported.  This atom appended the data that is
stored in the specified register to the existing action for the current object.

Alternative:  Redefine the entire action stream with
atom$act_replace_action.

 America Online, Inc. 1993-97 2-7 America Online Confidential




Chapter 2: Action (ACT) Protocol October 1997

atom$act_append_select_action
35 ($23)

This atom is no longer supported.  This atom affected only actions that have
a criterion of SELECTION, and appended the specified action to the existing
action for the current object.

Alternative:  Redefine the entire action stream with
atom$act_replace_action.

America Online Confidential 2-8  America Online, Inc. 1993-97




October 1997 FDO91 Manual, Vol. 1

atom$act_copy_action_to_reg
38 ($26)

Description

atom$act_copy_action_to_reg copies the current action for the current object
to the raw data area of a specified register.

Registers A through D are available and can be set to hold any binary raw data.
These registers exist for the life of the application and are not influenced by
stream openings or closings.  The purpose of these registers is to hold
temporary data such as an atom stream.

Once you have stored data in a register, you can copy it using
atom$act_replace_action_from_reg or
atom$act_change_action_from_reg.

Syntax

atom$act_copy_action_to_reg [<register>]

[<register>] Specifies an optional register.  Values are B, C or D.
The default is register A.

Return Value

None.

Example

The following example copies an action to a raw data register:

atom$man_start_object <ind_group>
atom$act_set_criterion <4>
atom$act_replace_action

<
atom$uni_start_stream
.
. (atom stream 1 goes here...)
.
atom$uni_end_stream
>

ê atom$act_copy_action_to_reg <B>

The result of this example is that the current window's action, which is atom
stream 1, is copied to register B where it is stored.

 America Online, Inc. 1993-97 2-9 America Online Confidential




Chapter 2: Action (ACT) Protocol October 1997

atom$act_do_action
1 ($01)

Description

atom$act_do_action invokes the atom stream related to the specified action
ID or criterion based on the current context.  For a list of action IDs, see
atom$act_set_criterion.

If an action is not found, the inheritance byte of the action ID is used to
determine if the scope of the search should be extended.  The upper byte of all
action IDs defines the scope of the inheritance for the specified ID.  For more
information, see atom$act_set_inheritance.

Syntax

atom$act_do_action <action_ID>

<action_ID> Specifies a 1-byte action ID value.

Return Value

None.

Example

The following example invokes the current object's atom stream:

atom$man_start_object <trigger>
atom$act_set_criterion <1>
atom$act_replace_action

<
atom$uni_start_stream
.
. (atom stream 1 goes here...)
.
atom$uni_end_stream
>

.

.

.
ê atom$act_do_action <1>

America Online Confidential 2-10  America Online, Inc. 1993-97




October 1997 FDO91 Manual, Vol. 1

atom$act_get_db_record
47 ($2F)

Description

atom$act_get_db_record indicates the database record to retrieve.  This atom
command is used in conjunction with atom$act_set_db_length,
atom$act_set_db_offset, atom$act_get_db_value,
atom$act_get_db_record, and atom$act_set_db_id.

Syntax

atom$act_get_db_record <dword>

<dword> Specifies a database global ID.

Return Value

The data from the specified record.

Examples

The following examples perform database record extraction.  For the
examples, database record 23 = "This is test case 27."

atom$act_set_db_offset <6>
atom$act_set_db_length <15>

ê atom$act_get_db_record <23>

The result of this example is that "is test case 27" is returned.

atom$act_set_db_offset <18>
atom$act_set_db_length <2>

ê atom$act_get_db_record <23>

The result of this example is that "27" is returned.

 America Online, Inc. 1993-97 2-11 America Online Confidential




Chapter 2: Action (ACT) Protocol October 1997

atom$act_get_db_value
53 ($35)

Description

atom$act_get_db_value retrieves the value stored in a database record.  A
database record is identified by a global ID.

This atom command is used in conjunction with atom$act_set_db_length,
atom$act_set_db_offset, atom$act_set_db_record,
atom$act_get_db_record, and atom$act_set_db_id.

Syntax

atom$act_get_db_value <global_ID>

<global_ID> Specifies the database record global ID.

Return Value

Value stored in the database record global ID.

Examples

The following example sounds a beep if the value stored in a database record is
non-zero:

ê atom$act_get_db_value <20-0-1234>
.
.
.
atom$if_last_return_true_then <1>
.
.
.
atom$act_sound_beep
atom$uni_sync_skip <1>

America Online Confidential 2-12  America Online, Inc. 1993-97




October 1997 FDO91 Manual, Vol. 1

atom$act_prepend_action
33 ($21)

This atom is no longer supported.  This atom inserted the specified data
before the existing action for the current object

Alternative:  Redefine the entire action stream with
atom$act_replace_action.

 America Online, Inc. 1993-97 2-13 America Online Confidential




Chapter 2: Action (ACT) Protocol October 1997

atom$act_prepend_action_from_reg
41 ($29)

This atom is no longer supported.  This atom inserted the data that is stored
in the specified register before the existing action for the current object.

Alternative:  Redefine the entire action stream with
atom$act_replace_action.

America Online Confidential 2-14  America Online, Inc. 1993-97




October 1997 FDO91 Manual, Vol. 1

atom$act_prepend_select_action
36 ($24)

This atom is no longer supported.  This atom affected only actions that have
a criterion of SELECTION, and inserted the specified data before the existing
action for the current object

Alternative:  Redefine the entire atom stream with atom$act_replace_action.

 America Online, Inc. 1993-97 2-15 America Online Confidential




Chapter 2: Action (ACT) Protocol October 1997

atom$act_replace_action
3 ($03)

Description

atom$act_replace_action replaces the existing action with the specified data
for the current object.  If an existing action is not found, the specified action
data is still applied to the current object.  If no replacement action data is
specified, the existing action is removed from the object.

Syntax

atom$act_replace_action [<data>]

[<data>] Specifies optional variable length binary data that
normally consists of an action atom stream.

Return Value

None.

Example

The following example replaces the existing action for the current object:

atom$man_start_object <ind_group>
atom$act_set_criterion <2>

ê atom$act_replace_action
<
atom$uni_start_stream
.
. (atom stream 1 goes here...)
.
atom$uni_end_stream
>
.
.
.

ê atom$act_replace_action
<
atom$uni_start_stream
.
. (atom stream 2 goes here...)
.
atom$uni_end_stream
>

America Online Confidential 2-16  America Online, Inc. 1993-97




October 1997 FDO91 Manual, Vol. 1

atom$act_replace_action_from_reg
39 ($27)

Description

atom$act_replace_action_from_reg replaces the existing action for the
current object with the data that is stored in the specified register.  If an
existing action is not found, the action data in the register is still applied to the
current object.

The raw data areas of registers A, B, C and D are available and can be set to
hold any binary raw data.  These registers exist for the life of the application
and are not influenced by stream openings or closings.  The purpose of these
registers is to hold temporary data such as entire atom streams.

If no register is specified, register A is the default.  For information about how
to set action data in a register, see atom$act_set_action_in_reg.  For
information about how to copy action data to a register, see
atom$act_copy_action_to_reg.

Syntax

atom$act_replace_action_from_reg [<register>]

[<register>] Specifies an optional register.  Values are B, C or D.
The default is register A.

Return Value

None.

Example

The following example replaces the current object's action using data stored in
a register.  For this example, register B = Atom Stream 2:

 America Online, Inc. 1993-97 2-17 America Online Confidential




Chapter 2: Action (ACT) Protocol October 1997

atom$man_start_object <ind_group>
atom$act_set_criterion <4>
atom$act_replace_action

<
atom$uni_start_stream
.
. (atom stream 1 goes here...)
.
atom$uni_end_stream
>

.

.

.
ê atom$act_replace_action_from_reg <B>

America Online Confidential 2-18  America Online, Inc. 1993-97




October 1997 FDO91 Manual, Vol. 1

atom$act_replace_popup_menu_action
55 ($37)

Description

atom$act_replace_popup_menu_action affects only actions that have a
criterion of POPUPMENU, and replaces the current object's existing action
with a pop-up menu action.  If an existing action is not found, the specified
action is still applied to the current object.

This atom is often used as a shorthand atom for creating an action, since it
eliminates the use of atom$act_set_criterion <26>.

Syntax

atom$act_replace_popup_menu_action [<data>]

[<data>] Specifies optional variable length binary data that
normally consists of an action atom stream.

Return Value

None.

Example

The following example defines a pop-up menu action that will occur when the
current object is selected with a right mouse click:

atom$man_start_object <view, “”>
ê atom$act_replace_popup_menu_action

<
atom$uni_start_stream
atom$man_set_context_relative <10>
atom$man_display_popup_menu
atom$man_end_context
atom$uni_end_stream
>

atom$man_end_object

 America Online, Inc. 1993-97 2-19 America Online Confidential




Chapter 2: Action (ACT) Protocol October 1997

atom$act_replace_select_action
4 ($04)

Description

atom$act_replace_select_action affects only actions that have a criterion of
SELECTION, and replaces the current object's existing action with the
specified data.  If an existing action is not found, the specified action is still
applied to the current object.

This atom is often used as a shorthand atom for creating an action, since it
eliminates the use of atom$act_set_criterion <1>.

Syntax

atom$act_replace_select_action [<data>]

[<data>] Specifies optional variable length binary data that
normally consists of an action atom stream.

Return Value

None.

Example

The following example defines an action that will occur when the current
object is selected:

atom$man_start_object <trigger>
ê atom$act_replace_select_action

<
atom$uni_start_stream
.
. (atom stream 1 goes here...)
.
atom$uni_end_stream
>

America Online Confidential 2-20  America Online, Inc. 1993-97




October 1997 FDO91 Manual, Vol. 1

atom$act_set_action_in_reg
43 ($2B)

Description

atom$act_set_action_in_reg stores specified action data in the raw data area
of a register.

The raw data areas of registers A through D are available and can be set to
hold any binary raw data.  These registers exist for the life of the application
and are not influenced by stream openings or closings.  The purpose of these
registers is to hold temporary data such as entire atom streams.

Once you have stored data in a register, you can copy it using
atom$act_replace_action_from_reg or
atom$act_change_action_from_reg.

Syntax

atom$act_set_action_in_reg <register, data>

<register> Specifies a register.  Values are A, B, C or D.

<data> Specifies variable length data that normally consists of
an action atom stream.

Return Value

None.

Example

The following example stores action data in a raw data area of a register.  For
this example, register B currently contains atom stream 3:

ê atom$act_set_action_in_reg <B,
atom$uni_start_stream
.
. (atom stream 4 goes here...)
.
atom$uni_end_stream
>

The result of this example is that atom stream 3, which is currently stored the
raw data area of register B, is replaced by atom stream 4.  Atom stream 4
exists in the register until it is replaced or the application is terminated.

 America Online, Inc. 1993-97 2-21 America Online Confidential




Chapter 2: Action (ACT) Protocol October 1997

Note that the action data, which is the second argument of
atom$act_set_action_in_reg, is defined by an atom stream that begins with
atom$uni_start_stream and ends with atom$uni_end_stream.

America Online Confidential 2-22  America Online, Inc. 1993-97




October 1997 FDO91 Manual, Vol. 1

atom$act_set_criterion
0 ($00)

Description

atom$act_set_criterion specifies the action ID for atom streams.  Action IDs
determine what causes an action to occur.

Common IDs include CLOSE, LOSE_FOCUS, GAIN_FOCUS, and
SELECTION.  Protocol-independent IDs have a value of 128 or greater,
which let developers create their own action criteria.

Syntax

atom$act_set_criterion <action_ID>

<action_ID> Specifies an action ID.  Values are:

1 (01x) SELECTION — action occurs when an
object is selected.

2 (02x) CLOSE — action occurs when an object
is closed.

4 (04x) GAIN_FOCUS — action occurs when a
window is brought to the front.

5 (05x) LOSE_FOCUS — action occurs when
another window is brought to the front
of the current window.

6 (06x) CANCEL — action occurs when ESC is
pressed while the window is the top-most
window.

7 (07x) ENTER_FREE — action occurs when a
free area is entered.  This criterion
applies to independent groups (windows)
and affects the default behavior of
switching between free and paid areas.

8 (08x) ENTER_PAID — action occurs when a
paid area is entered.  This criterion
applies to independent groups (windows)

 America Online, Inc. 1993-97 2-23 America Online Confidential




Chapter 2: Action (ACT) Protocol October 1997

and affects the default behavior of
switching between free and paid areas.

9 (09x) CREATE — action occurs when a
window is first drawn.

10 (0Ax) SET_ONLINE — action occurs when a
member goes online.  This criterion
applies to independent groups
(windows).

11 (0Bx) SET_OFFLINE — action occurs when a
member goes offline.  This criterion
applies to independent groups
(windows).

12 (0Cx) RESTORE — action occurs when a
window is restored.

14 (0Ex) MINIMIZE — action occurs when a
window is minimized.

15 (0Fx) RESTORE_FROM_MAXIMIZE —
action occurs when a window is restored
to its original size after being maximized.

16 (10x) RESTORE_FROM_MINIMIZE —
action occurs when a window is restored
to its original size after being minimized.

17 (11x) TIMEOUT — action occurs when the
host fails to respond.  This criterion lets
you override the default behavior for
what happens when the host does not
respond.

18 (12x) SCREEN_NAME_CHANGED —
action occurs when a screen name is
changed.  This criterion applies to
independent groups (windows) and
affects all windows open when the action
occurs.

19 (13x) MOVIE_OVER — action occurs when
an .avi file has finished playing.

America Online Confidential 2-24  America Online, Inc. 1993-97




October 1997 FDO91 Manual, Vol. 1

20 (14x) DROP — action occurs when data is
dropped into an object (field or view)
and the mouse button is released.

21 (15x) URL_DROP — action occurs when an
URL is dropped into an object (once the
mouse button is released).

22 (16x) USER_DELETE — action occurs when
a user presses DELETE or uses a mouse to
delete something.

23 (17x) TOGGLE_UP — action occurs when a
user activates the up action of a toggle
switch.

24 (18x) ACTIVATED — action occurs when
MDI_ACTIVATE is true.

25 (19x) DEACTIVATED — action occurs when
MDI_ACTIVATE is false.

26 (1Ax) POPUPMENU — action occurs when a
user invokes a pop-up menu.

27 (1Bx) DESTROY — action occurs when a
window is cleared from the screen.

128-255 ACTION_TOOL — reserved for
(80-FFx) protocol-independent criterion, e.g.,

action ID 128 in the MORG protocol is
ACTION_VIEW_UPDATED.  Action
ID 128 in the WWW protocol is
ACTION_URL_CHANGED.

Return Value

Action ID.

Example

The following example sets the action ID to 9 so that the action occurs when a
window is first drawn:

 America Online, Inc. 1993-97 2-25 America Online Confidential




Chapter 2: Action (ACT) Protocol October 1997

atom$man_start_object <ind_group>
ê atom$act_set_criterion <9>

atom$act_replace_action
<
atom$uni_start_stream
.
. (atom stream goes here...)
.
atom$uni_end_stream
>

America Online Confidential 2-26  America Online, Inc. 1993-97




October 1997 FDO91 Manual, Vol. 1

atom$act_set_db_id
48 ($30)

Description

atom$act_set_db_id specifies the database record to save the object data to.

Syntax

atom$act_set_db_id <dword>

<dword> Specifies a database global ID.

Return Value

Database global ID.

Example

The following example saves data to database record 20-0-1234:

atom$act_set_db_id <20-0-1234>

 America Online, Inc. 1993-97 2-27 America Online Confidential




Chapter 2: Action (ACT) Protocol October 1997

atom$act_set_db_length
46 ($2E)

Description

atom$act_set_db_length specifies the chunk size of data to extract from or
store in a database record.

Syntax

atom$act_set_db_length <dword>

<dword> Specifies the chunk size of data to extract from or store
in a record.

Return Value

None.

Example

The following example extracts a 15-byte chunk of data from database record
23:

atom$act_set_db_offset <6>
ê atom$act_set_db_length <15>

atom$act_get_db_record <23>

America Online Confidential 2-28  America Online, Inc. 1993-97




October 1997 FDO91 Manual, Vol. 1

atom$act_set_db_offset
52 ($34)

Description

atom$act_set_db_offset sets an offset value from the start of the database
record area.  The default offset is 0, which points to the start of the record.

Syntax

atom$act_set_db_offset <dword>

<dword> Specifies an offset value.

Return Value

None.

Example

The following example offsets the start of the storage of data in a record by 2
bytes.  In this example, record 20-0-1234 initially contains 00x 01x.

atom$act_set_db_id <20-0-1234>
ê atom$act_set_db_offset <2>

atom$act_set_db_record <02x 03x>

The result of this example is record 20-0-1234 contains 00x 01x 02x 03x.

 America Online, Inc. 1993-97 2-29 America Online Confidential




Chapter 2: Action (ACT) Protocol October 1997

atom$act_set_db_record
49 ($31)

Description

atom$act_set_db_record saves an object to a database record.  The database
record is identified by a global ID.

This atom command is used in conjunction with atom$act_set_db_length,
atom$act_set_db_offset, atom$act_get_db_record, atom$act_set_db_id,
and atom$act_get_db_value.

Syntax

atom$act_set_db_record <object_data>

<object_data> Specifies the object data to store.  The data is stored in
the form of a sequence of bytes.

Return Value

Database record global ID.

Example

The following example saves the object data to a database record:

atom$act_set_db_id <20-0-1234>
atom$act_set_db_offset <0>

ê atom$act_set_db_record <00x 01x 02x 03x>

America Online Confidential 2-30  America Online, Inc. 1993-97




October 1997 FDO91 Manual, Vol. 1

atom$act_set_guest_flag
50 ($32)

Description

atom$act_set_guest_flag sets the state of the flag fGuestAccount.  An
argument must be specified to set the state of fGuestAccount to true.

atom$if_guest_then and atom$if_owner_then can be used to perform
conditional operations on the state of the fGuestAccount flag.

Syntax

atom$act_set_guest_flag [<boolean>]

[<boolean>] Specifies the flag state.  Values are:

1 fGuestAccount is true.

0 fGuestAccount is false.  (Default)

Return Value

None.

Examples

The following examples set the state of the fGuestAccount flag:

atom$act_set_guest_flag <1>

The result of this example is that the fGuestAccount is set to true.

atom$act_set_guest_flag <0>

The result of this example is that the fGuestAccount is set to false.

atom$act_set_guest_flag

The result of this example is that the fGuestAccount is set to false.

 America Online, Inc. 1993-97 2-31 America Online Confidential




Chapter 2: Action (ACT) Protocol October 1997

atom$act_set_inheritance
2 ($02)

Description

atom$act_set_inheritance determines the scope of a search for an action or
variable for the current object.  The search begins on the current object.  If an
action or variable is not found, the search continues as far as the inheritance
flag allows.  List box items usually have an inheritance flag ID set to inherit all
actions from their parent.  This means only one action is defined for all child
items.

To inherit actions or variables directly from an object, use 128
(DIRECT_FROM flag) in conjunction with another inheritance flag ID.  For
example, to inherit actions or variables from the root, use 128
(DIRECT_FROM flag) plus 5 (ROOT).  This causes the action protocol to
ignore all other objects in the tree except for the one specified.

Syntax

atom$act_set_inheritance <flag_id>

<flag_id> Specifies a 1-byte flag ID to determine where the action
is inherited from.  Values are:

0 NONE — searches the current object.

1 INDEPENDENTS_PARENT —
searches the current independent group
(window object), then the parent.

2 PARENT — searches the current object,
then the parent.

3 INDEPENDENT — searches the current
object, then the independent group
(window object).

4 INDEPENDENT_AND_ABOVE —
searches the current independent group
(window object), then the next parent,
and the next parent, all the way up to the
root.

America Online Confidential 2-32  America Online, Inc. 1993-97




October 1997 FDO91 Manual, Vol. 1

5 ROOT — searches the current object,
then the root.

6 OBJECT_ID — searches the current
object, then the global ID.

7 RELATIVE_ID — searches the current
object, then the relative ID.

128 DIRECT_FROM — used in conjunction
with another inheritance flag and
searches the object specified by that
inheritance flag.

Return Value

The flag ID.

Examples

The following examples show how actions are inherited:

atom$act_set_inheritance <5>

The result of this example is that a search for an action begins on the current
object.  If a match is not found, the parent object is searched, followed by the
window object, followed by the root.

atom$act_set_inheritance <134>

The result of this example is that the action is inherited directly from the global
ID of the current object.  This is derived by adding 128 (the value of the
DIRECT_FROM flag) and 6 (the value of the OBJECT_ID flag).

 America Online, Inc. 1993-97 2-33 America Online Confidential




Chapter 2: Action (ACT) Protocol October 1997

atom$act_set_newuser_flag
51 ($33)

Description

atom$act_set_newuser_flag sets the state of the fNewUser flag.  An
argument must be specified to set the state of fNewUser to true.

atom$if_newuser_then can be used to perform conditional operations on the
state of the fNewUser flag.

Syntax

atom$act_set_newuser_flag [<boolean>]

[<boolean>] Specifies the state of the flag.  Values are:

1 fNewUser is true.

0 fNewUser is false.  (Default)

Return Value

None.

Examples

The following examples set the state of the fNewUser flag:

atom$act_set_newuser_flag <1>

The result of this example is that fNewUser is set to true.

atom$act_set_newuser_flag <0>

The result of this example is that fNewUser is set to false.

atom$act_set_newuser_flag

The result of this example is that fNewUser is set to false.

America Online Confidential 2-34  America Online, Inc. 1993-97




October 1997 FDO91 Manual, Vol. 1

atom$act_sound_beep
5 ($05)

Description

atom$act_sound_beep causes the internal speaker of the client computer to
make a beep sound.  The client computer must be equipped with a speaker.

Syntax

atom$act_sound_beep [<sound>]

[<sound>] Specifies an optional 1-byte sound index, which is one
of the default Windows sounds, to be played if a sound
driver is enabled.  If no argument is specified, a standard
beep sound is produced using the computer speaker.
Values are:

40x Plays the sound identified by the
SystemAsterisk entry in the sounds
section of win.ini.

30x Plays the sound identified by the
SystemExclamation entry in the sounds
section of win.ini.

20x Plays the sound identified by the
SystemQuestion entry in the sounds
section of win.ini.

10x Plays the sound identified by the
SystemHand entry in the sounds section
of win.ini.

00x Plays the sound identified by the
SystemDefault entry in the sounds
section of win.ini.

 America Online, Inc. 1993-97 2-35 America Online Confidential




Chapter 2: Action (ACT) Protocol October 1997

Return Value

None.

Examples

The following examples make a beep sound on the client computer:

atom$act_sound_beep

The result of this example is that the client computer makes a beep sound from
its internal speaker.

atom$act_sound_beep <30x>

The result of this example is that the client computer plays the sound identified
by the SystemExclamation entry in the sounds section of the Windows win.ini
file.

America Online Confidential 2-36  America Online, Inc. 1993-97



===== END PDF: ch02-action.pdf =====

===== BEGIN PDF: ch03-mat.pdf =====





Chapter 3:

Attribute Manager (MAT) 
Protocol

The Attribute Manager (MAT) protocol (protocol ID 16) consists of atoms 
that let you assign certain characteristics to objects on a form. Objects on a 
form can be used to perform a range of functions from displaying text to 
executing actions associated with a button. For example, you can use the 
atom$mat_style_id command to change the style of a text object. 

Form Display Objects

Objects that are used with online service forms include buttons, static text, 
and list boxes. Several form display objects can be nested on a single form 
and multiple hierarchies of objects are maintained. 

Table 3-1 lists the online service form display objects and includes the 
object number, object name, and a description of the object:

Table 3-1: Form Display Objects

Number Object Description

0 org_group Organizational group—A group 
containing other objects.

1 ind_group Independent group—A 
window.

2 dms_list Dynamic, multiselect list—A 
list box where more than one 
item is selected.

3 sms_list Static, multiselect list—A 
group containing check boxes.


© America Online, Inc. 1999 3-1 America Online Confidential




Chapter 3: Attribute Manager (MAT) Protocol November 1999


Table 3-1: Form Display Objects (Continued)

Number Object Description

4 dss_list Dynamic, single-select list—A 
list box, standard popup, or 
editable popup.

5 sss_list Static, single-select list—A 
group containing radio buttons.

6 trigger Trigger—An actionable object, 
such as an icon, button, list 
item, menu item, or check box.

7 ornament Ornament—A static or 
decorative object, such as a 
picture or static text.

8 view View—A view field used for 
display of larger amounts of 
text or a graphic with scroll bars 
if necessary.

9 edit_view Editable View—An editable 
view field used as a text input 
field where members can enter 
text.

12 range Range—Used as a graphic 
representation of a value, such 
as a bar gauge.

13 select_range Selectable Range—Used as a 
user interface for entering 
numeric data, such as a spin 
gadget.

17 tool_group Toolbar—Used on any form or 
frame window including tab 
controls.

18 tab_group Tab Group—Used for tab 
control of a group of tabbed 
pages, frames, or forms (for 
example, list boxes with tabs).

19 tab_page Tab Page—Used as a tabbed 
page, frame, or form such as a 
list box with a labeled tab.


America Online Confidential 3-2 © America Online, Inc. 1999




November 1999 FDO91 Manual


Attribute Manager Protocol Atoms

The Attribute Manager (MAT) protocol functions and their associated 
atoms follow:

Table 3-2: Attribute Manager Protocol Functions and Atoms

Function Atoms Page

Displaying art and atom$mat_art_animation_rate 3-7
graphics atom$mat_art_animation_seq 3-8

atom$mat_art_frame 3-10

atom$mat_art_id 3-22

atom$mat_bool_background_pic 3-29

atom$mat_bool_background_tile 3-30

atom$mat_bool_graphic_view 3-63

atom$mat_bool_invert 3-71

atom$mat_bool_repeat_animation 3-90

Displaying progressive atom$mat_art_hint_font_size 3-11
rendering hints atom$mat_art_hint_height 3-12

atom$mat_art_hint_select_placeholder 3-14

atom$mat_art_hint_title 3-15

atom$mat_art_hint_title_x 3-16

atom$mat_art_hint_title_y 3-20

atom$mat_art_hint_width 3-21

Displaying toolbars atom$mat_bool_child_line_feed 3-31

atom$mat_bool_child_movable 3-33

atom$mat_bool_child_removable 3-34

atom$mat_bool_children_movable 3-35

atom$mat_bool_children_removable 3-37

atom$mat_bool_customizable 3-39

atom$mat_bool_detachable 3-43

atom$mat_bool_detached 3-45

atom$mat_bool_dock_horizontal 3-66

atom$mat_bool_dock_vertical 3-51

atom$mat_bool_menu 3-76

atom$mat_bool_palette 3-83

atom$mat_bool_palette_art 3-84

atom$mat_bool_tool_group 3-97

Displaying windows: atom$mat_form_icon 3-123
placement atom$mat_position 3-147

atom$mat_style_id 3-168


© America Online, Inc. 1999 3-3 America Online Confidential




Chapter 3: Attribute Manager (MAT) Protocol November 1999


Table 3-2: Attribute Manager Protocol Functions and Atoms (Continued)

Function Atoms Page

Sizing atom$mat_bool_resize_horizontal 3-91

atom$mat_bool_resize_vertical 3-92

Navigation atom$mat_bool_modal 3-77

atom$mat_bool_non_closeable 3-80

atom$mat_dirty_query 3-114

Displaying scrollbars atom$mat_bool_horizontal_scroll 3-66

atom$mat_bool_vertical_scroll 3-99

Displaying menus atom$mat_bool_dropdown_button 3-56

atom$mat_bool_popup_menu 3-86

atom$mat_popup_pfc_path 3-146

atom$mat_popup_relative_id 3-145

Displaying objects atom$mat_bool_default 3-40

atom$mat_bool_disabled 3-47

atom$mat_bool_draw_focus 3-54

atom$mat_bool_gradual_shadow 3-62

atom$mat_bool_modified 3-78

atom$mat_bool_no_border 3-79

atom$mat_bool_permanent 3-85

atom$mat_frame_style 3-124

Placement atom$mat_bool_hidden 3-64

atom$mat_bool_invisible 3-72

atom$mat_bool_precise 3-87

atom$mat_horizontal_spacing 3-127

atom$mat_orientation 3-141

atom$mat_precise_x 3-151

atom$mat_precise_y 3-153

atom$mat_text_on_picture_pos 3-171

Sizing atom$mat_bool_expand_to_fit 3-58

atom$mat_height 3-126

atom$mat_precise_height 3-149

atom$mat_precise_width 3-150

atom$mat_size 3-165

Color atom$mat_bool_background_flood 3-28

atom$mat_bool_background_pic 3-29

atom$mat_color_face 3-104

atom$mat_color_frame_hilight 3-105

atom$mat_color_frame_shadow 3-106


America Online Confidential 3-4 © America Online, Inc. 1999




November 1999 FDO91 Manual


Table 3-2: Attribute Manager Protocol Functions and Atoms (Continued)

Function Atoms Page

Trigger color atom$mat_color_bottom_edge 3-103

atom$mat_color_selected 3-107

atom$mat_color_top_edge 3-110

List-box items atom$mat_bool_contiguous 3-38

atom$mat_bool_default_send 3-41

atom$mat_bool_list_icons 3-75

atom$mat_sort_order 3-166

URL history lists atom$mat_bool_ignore_url_list 3-68

Tabbed pages atom$mat_bool_page_control 3-81

atom$mat_tab_get_cur_sel 3-169

atom$mat_tab_set_cur_sel 3-170

Text views and text atom$mat_bool_double_space 3-53

atom$mat_bool_drop_at_top 3-55

atom$mat_bool_encode_unicode 3-57

atom$mat_bool_exportable 3-59

atom$mat_bool_first_script 3-60

atom$mat_bool_force_scroll 3-61

atom$mat_bool_importable 3-69

atom$mat_bool_language_popup 3-73

atom$mat_bool_list_allow_entry 3-74

atom$mat_bool_protected_input 3-89

atom$mat_bool_url_sink 3-98

atom$mat_bool_writeable 3-100

atom$mat_capacity 3-102

atom$mat_color_text 3-108

atom$mat_color_text_shadow 3-109

atom$mat_field_script 3-116

atom$mat_font_id 3-117

atom$mat_font_sis 3-119

atom$mat_font_size 3-121

atom$mat_font_style 3-122

atom$mat_link_content_to_rid 3-132

atom$mat_paragraph 3-144

atom$mat_ruler 3-157

atom$mat_scroll_threshold 3-160

atom$mat_sink 3-164

Range fields and spin atom$mat_increment 3-128
gadgets atom$mat_minimum 3-137


© America Online, Inc. 1999 3-5 America Online Confidential




Chapter 3: Attribute Manager (MAT) Protocol November 1999


Table 3-2: Attribute Manager Protocol Functions and Atoms (Continued)

Function Atoms Page

atom$mat_maximum 3-136

Help bubbles atom$mat_context_help 3-113

Defining shortcut keys atom$mat_command_key 3-111

atom$mat_shortcut_key 3-163

Transmitting field input atom$mat_secure_form 3-162
data

Spacing atom$mat_left_spacing 3-131

atom$mat_top_spacing 3-174

atom$mat_right_spacing 3-156

atom$mat_bottom_spacing 3-101

atom$mat_spacing 3-167

Factory ID atom$mat_factory_id 3-115

The MAT protocol atoms are described in alphabetical order in the rest of 
this chapter.


America Online Confidential 3-6 © America Online, Inc. 1999




November 1999 FDO91 Manual


atom$mat_art_animation_rate
98 ($62)

atom$mat_art_animation_rate defines the rate at which animation 
occurs.

Syntax

atom$mat_art_animation_rate <x>

<x> Specifies the interval of time in milliseconds that 
each animation frame appears. A value of 0 is the 
default, which specifies that the animation does 
not occur.

Object(s) Handled

The objects handled by this atom are org_group and ind_group.

Return Value

None.

Example

The following example defines the animation rate to 250 milliseconds:

atom$mat_start_object <trigger>
atom$mat_relative_tag <1>
atom$mat_art_id <1-0-2201>
atom$mat_precise_x <370>
atom$mat_precise_y <105>
atom$mat_art_animation_rate <250> 
atom$mat_art_animation_seq <1 5 0 1>
atom$mat_repeat_animation <yes>
.
.
.
atom$mat_end_object


© America Online, Inc. 1999 3-7 America Online Confidential




Chapter 3: Attribute Manager (MAT) Protocol November 1999


atom$mat_art_animation_seq
99 ($63)

atom$mat_art_animation_seq determines which frames are displayed 
and the duration for which they are displayed. Animation frames are 
contained in the art specified using atom$mat_art_id.

Syntax

atom$mat_art_animation_seq <f1 d1 [f2 d2]...[fn dn]>

<f1 d1> Specifies a 2-byte value that indicates a frame to 
display and the duration for which to display the 
frame.

The first byte is the frame number and the second 
byte is the duration in multiples of the rate 
specified using atom$mat_animation_rate.

[f2 d2]...[fn dn] Specifies other optional 2-byte values to indicate 
other frames and durations that can be added in 
series.

If no argument is specified for this atom, the default sequence occurs 
starting with frame 0 and ending with the last frame.

Object(s) Handled

The objects handled by this atom are org_group and ind_group.

Return Value

None.

Example

The following example defines the animation sequence of two frames. 
Frame 1 occurs first and is set to a 1.25 second duration. Frame 0 occurs 
next for 250 milliseconds:

atom$mat_start_object <trigger>
atom$mat_relative_tag <1>
atom$mat_art_id <1-0-2201>
atom$mat_precise_x <370>


America Online Confidential 3-8 © America Online, Inc. 1999




November 1999 FDO91 Manual


atom$mat_precise_y <105>
atom$mat_art_animation_rate <250>
atom$mat_art_animation_seq <1 5 0 1> 
atom$mat_repeat_animation <yes>
.
.
.
atom$mat_end_object


© America Online, Inc. 1999 3-9 America Online Confidential




Chapter 3: Attribute Manager (MAT) Protocol November 1999


atom$mat_art_frame
97 ($61)

atom$mat_art_frame defines the frame number where animation begins 
or the frame number to display when not animating (for example, the three-
icon window that appears when someone is connecting to the service). If 
this atom is not used, animation begins, by default, at the first frame (frame 
0). 

Syntax

atom$mat_art_frame <x>

<x> Specifies the frame number. Values are 1 or 
greater.

Object(s) Handled

The objects handled by this atom are org_group and ind_group.

Return Value

None.

Example

The following example starts frame animation at frame number 1:

atom$man_start_object <trigger>
atom$mat_relative_tag <1>
atom$mat_art_id <1-0-2201>
atom$mat_art_animation_rate <250>
atom$mat_art_frame <1> 
.
.
.
atom$man_end_object


America Online Confidential 3-10 © America Online, Inc. 1999




November 1999 FDO91 Manual


atom$mat_art_hint_font_size
128 ($80)

atom$mat_art_hint_font_size specifies the point size of the text for the 
placeholder (hint) artwork that appears during the progressive rendering of 
data on demand (DOD) artwork. This atom overrides any existing defaults 
set with other atoms, such as atom$mat_font_sis, and is always used in 
conjunction with atom$mat_art_hint_title on page 3-15. This atom is sent 
from the host and is useful for fitting text in a limited space inside the 
artwork.

Syntax

atom$mat_art_hint_font_size <x>

<x> The point size of the text for the placeholder 
artwork.

Object(s) Handled

The objects handled by this atom are trigger, ornament, org_group, and 
ind_group.

Return Value

None.

Example

The following example defines the point size of the text for the placeholder 
artwork to 8:

atom$man_start_object <trigger, “”>
atom$mat_relative_tag <1>
atom$mat_art_id <1-0-1234>
atom$mat_art_hint_width <x>
atom$mat_art_hint_height <y>
atom$mat_art_hint_title <“Travel Information”>
atom$mat_art_hint_font_size <8> 


© America Online, Inc. 1999 3-11 America Online Confidential




Chapter 3: Attribute Manager (MAT) Protocol November 1999


atom$mat_art_hint_height
122 ($7A) 

atom$mat_art_hint_height specifies the height of the placeholder (hint) 
artwork that appears during the progressive rendering of data on demand 
(DOD) artwork. This atom is sent by the host and is always used in 
conjunction with atom$mat_art_hint_width on page 3-21.

Syntax

atom$mat_art_hint_height <y>

<y> The height of the artwork to be downloaded. 
Values are 1 or greater. A value of 1 is equal to the 
height of one pixel.

Object(s) Handled

The objects handled by this atom are trigger, org_group, and 
ind_group.

Return Value

None.

Example

The following example defines the height of the artwork to be downloaded 
as 20 pixels:

atom$man_start_object <trigger, “”>
atom$mat_relative_tag <1>
atom$mat_art_hint_width <32>
atom$mat_art_hint_height <20> 
atom$mat_art_hint_title <“Travel Information”>
atom$mat_art_id <1-0-1234>


America Online Confidential 3-12 © America Online, Inc. 1999




November 1999 FDO91 Manual


atom$mat_art_hint_placeholder_id
124 ($7C)

atom$mat_art_hint_placeholder_id sets the graphic ID (GID) of the art 
used as a placeholder before the real art is sent through a DOD.

Syntax

atom$mat_art_hint_placeholder_id <x>

<x> The graphic ID (GID) of the art used as a 
placeholder.

Object(s) Handled

The objects handled by this atom are trigger, ornament, org_group, and 
ind_group.

Return Value

None.

Example

The following example sets the GID of the art used as a placeholder before 
the real art is sent through a DOD:

atom$man_start_object <trigger, “”>
atom$mat_relative_tag <1>
atom$mat_art_hint_width <x>
atom$mat_art_hint_height <y>
atom$mat_art_hint_title “Travel Information”
atom$mat_art_hint_placeholder_id <1>


© America Online, Inc. 1999 3-13 America Online Confidential




Chapter 3: Attribute Manager (MAT) Protocol November 1999


atom$mat_art_hint_select_placeholder
132 ($84)

atom$mat_art_select_placeholder selects placeholder (hint) artwork 
from a list of canned placeholders that are defined within a table in the 
UDO (update disk operation). Placeholder artwork appears during the 
progressive rendering of data on demand (DOD) artwork. This atom is sent 
from the host.

Syntax

atom$mat_art_hint_select_placeholder <placeholder_id>

<placeholder_id> The ID of the canned placeholder artwork. The 
default value is 0, which specifies a default 
placeholder.

Object(s) Handled

The objects handled by this atom are trigger, ornament, org_group, and 
ind_group.

Return Value

None.

Example

The following example selects the default placeholder artwork for display 
during a progressive rendering, DOD operation:

atom$man_start_object <trigger, “”>
atom$mat_relative_tag <1>
atom$mat_art_hint_width <x>
atom$mat_art_hint_height <y>
atom$mat_art_hint_title “Travel Information”
atom$mat_art_hint_select_placeholder <0> 
atom$mat_art_id <1-0-1234>


America Online Confidential 3-14 © America Online, Inc. 1999




November 1999 FDO91 Manual


atom$mat_art_hint_title
123 ($7B)

atom$mat_art_hint_title defines the hint text associated with the 
placeholder (hint) artwork that appears during the progressive rendering of 
data on demand (DOD) artwork. The text wraps but must fit the 
dimensions specified with atom$mat_art_hint_width and 
atom$mat_art_hint_height; otherwise, the text does not appear. This 
atom is sent by the host.

Syntax

atom$mat_art_hint_title <title>

<title> The hint text of the artwork to be downloaded.

Object(s) Handled

The objects handled by this atom are trigger, ornament, org_group, and 
ind_group.

Return Value

None.

Example

The following example defines "Travel Information" as the hint text of the 
artwork during a progressive rendering, DOD operation:

atom$man_start_object <trigger, “”>
atom$mat_relative_tag <1>
atom$mat_art_id <1-0-1234>
atom$mat_art_hint_width <x>
atom$mat_art_hint_height <y>
atom$mat_art_hint_title <“Travel Information”> 


© America Online, Inc. 1999 3-15 America Online Confidential




Chapter 3: Attribute Manager (MAT) Protocol November 1999


atom$mat_art_hint_title_font_id
129 ($81)

atom$mat_art_hint_title_font_id sets the ID of the DOD hint text.

Syntax

atom$mat_art_hint_title_font_id <x>

<x> The ID of the DOD hint text.

Object(s) Handled

The objects handled by this atom are trigger, ornament, org_group, and 
ind_group.

Return Value

None.

Example
The following example sets the font ID of the DOD hint text:

atom$man_start_object <trigger, “”>
atom$mat_relative_tag <1>
atom$mat_art_id <1-0-1234>
atom$mat_art_hint_width <64>
atom$mat_art_hint_height <64>
atom$mat_art_hint_title_x <2> 
atom$mat_art_hint_title_y <2>
atom$mat_art_hint_title <“Travel Information”>
atom$mat_art_hint_title_font_id <1> 


America Online Confidential 3-16 © America Online, Inc. 1999




November 1999 FDO91 Manual


atom$mat_art_hint_title_font_size
128 ($80)

atom$mat_art_hint_title_font_size sets the font size of the DOD hint 
text.

Syntax

atom$mat_art_hint_title_font_size <x>

<x> The font size of the title of the placeholder 
artwork. Values are 1 or greater.

Object(s) Handled

The objects handled by this atom are trigger, ornament, org_group, and 
ind_group.

Return Value

None.

Example
The following example sets the title font size as eight:

atom$man_start_object <trigger, “”>
atom$mat_relative_tag <1>
atom$mat_art_id <1-0-1234>
atom$mat_art_hint_width <64>
atom$mat_art_hint_height <64>
atom$mat_art_hint_title_x <2> 
atom$mat_art_hint_title_y <2>
atom$mat_art_hint_title <“Travel Information”>
atom$mat_art_hint_title_font_id <1> 
atom$mat_art_hint_title_font_size <8> 


© America Online, Inc. 1999 3-17 America Online Confidential




Chapter 3: Attribute Manager (MAT) Protocol November 1999


atom$mat_art_hint_title_font_style
130($82)

atom$mat_art_hint_title_font_style sets the font style of the DOD hint 
text. See atom$mat_font_id on page 3-117 for the list of font styles.

Syntax

atom$mat_art_hint_font_style_x <x>

<x> The font style of the title of the placeholder 
artwork. Values are 1 or greater.

Object(s) Handled

The objects handled by this atom are trigger, ornament, org_group, and 
ind_group.

Return Value

None.

Example
The following example sets the title font style to courier:

atom$man_start_object <trigger, “”>
atom$mat_relative_tag <1>
atom$mat_art_id <1-0-1234>
atom$mat_art_hint_width <64>
atom$mat_art_hint_height <64>
atom$mat_art_hint_title_x <2> 
atom$mat_art_hint_title_y <2>
atom$mat_art_hint_title <“Travel Information”>
atom$mat_art_hint_title_font_id <1> 
atom$mat_art_hint_title_font_size <8> 
atom$mat_art_hint_title_font_style <1> 


America Online Confidential 3-18 © America Online, Inc. 1999




November 1999 FDO91 Manual


atom$mat_art_hint_title_x
125 ($7D)

atom$mat_art_hint_title_x defines the horizontal (x-axis) location of the 
title of the placeholder (hint) artwork that appears during the progressive 
rendering of data on demand (DOD) artwork.

This atom is optional and is used with atom$mat_art_hint_title_y on page 
3-20. If specified, it can be used to cause the text of the title to overlay the 
artwork. If this atom is not specified, the title appears in the location where 
it fits best in relation to the artwork, namely, first in the lower right corner, 
then the upper right corner, and then across the bottom. This atom is sent 
by the host.

Syntax

atom$mat_art_hint_title_x <x>

<x> The horizontal pixel position of the title of the 
placeholder artwork. Values are 1 or greater.

Object(s) Handled

The objects handled by this atom are trigger, ornament, org_group, and 
ind_group.

Return Value

None.

Example

The following example defines the title of the placeholder artwork to be 
two pixels across from the upper left corner:

atom$man_start_object <trigger, “”>
atom$mat_relative_tag <1>
atom$mat_art_id <1-0-1234>
atom$mat_art_hint_width <64>
atom$mat_art_hint_height <64>
atom$mat_art_hint_title_x <2> 
atom$mat_art_hint_title_y <2>
atom$mat_art_hint_title <“Travel Information”>


© America Online, Inc. 1999 3-19 America Online Confidential




Chapter 3: Attribute Manager (MAT) Protocol November 1999


atom$mat_art_hint_title_y
127 ($7F)

atom$mat_art_hint_title_y defines the vertical (y-axis) location of the 
title of the placeholder (hint) artwork that appears during the progressive 
rendering of data on demand (DOD) artwork.

This atom is optional and is used with atom$mat_art_hint_title_font_id on 
page 3-16. If specified, it can be used to cause the text of the title to overlay 
the artwork. If this atom is not specified, the title appears in the location 
where it fits best in relation to the artwork, namely first in the lower right 
corner, then the upper right corner, and then across the bottom. This atom is 
sent by the host.

Syntax

atom$mat_art_hint_title_y <y>

<y> The vertical pixel position of the title of the 
placeholder artwork. Values are 1 or greater.

Object(s) Handled

The objects handled by this atom are trigger, ornament, org_group, and 
ind_group.

Return Value

None.

Example

The following example defines the title of the placeholder artwork to be 
two pixels down from the upper left corner:

atom$man_start_object <trigger, “”>
atom$mat_relative_tag <1>
atom$mat_art_id <1-0-1234>
atom$mat_art_hint_width <64>
atom$mat_art_hint_height <64>
atom$mat_art_hint_title_x <2>
atom$mat_art_hint_title_y <2> 
atom$mat_art_hint_title, “Travel Information”>


America Online Confidential 3-20 © America Online, Inc. 1999




November 1999 FDO91 Manual


atom$mat_art_hint_width
121 ($79)

atom$mat_art_hint_width defines the width of the placeholder (hint) 
artwork that appears during the progressive rendering of data on demand 
(DOD) artwork. This atom is sent by the host and is always used in 
conjunction with atom$mat_art_hint_height on page 3-12.

Syntax

atom$mat_art_hint_width <x>

<x> The width of the artwork to be downloaded. 
Values are 1 or greater. A value of 1 is equal to the 
width of one pixel.

Object(s) Handled

The objects handled by this atom are trigger, ornament, org_group, and 
ind_group.

Return Value

None.

Example

The following example determines the width (32 pixels) of the artwork to 
be downloaded:

atom$man_start_object <trigger, “”>
atom$mat_relative_tag <1>
atom$mat_art_hint_width <32> 
atom$mat_art_hint_height <20>
atom$mat_art_hint_title <“title”>
atom$mat_art_id <1-0-1234>


© America Online, Inc. 1999 3-21 America Online Confidential




Chapter 3: Attribute Manager (MAT) Protocol November 1999


atom$mat_art_id
14 ($0E) 

atom$mat_art_id defines the global ID of the art piece associated with the 
object you are creating. The format for an art ID is <1-byte, 1-byte, 2-
bytes>. Local art IDs are specified as <255-x-x>, which are stored and sent 
from the client database, not the host.

Syntax

atom$mat_art_id <art_ID>

<art_ID> Specifies the global ID of the art. The default 
value is 0, which specifies that no art is associated 
with the object.

Object(s) Handled

The objects handled by this atom are org_group and ind_group.

Return Value

The art ID.

Example

The following example assigns an art ID to a button:

atom$man_start_object <trigger>
atom$mat_art_id <1-0-1234> 


America Online Confidential 3-22 © America Online, Inc. 1999




November 1999 FDO91 Manual


atom$mat_art_seq
183 ($87)

atom$mat_art_seq specifies frames of art to be used for various trigger 
states. This atom is used in the 5.0 clients primarily to provide rollover 
button functionality across multiple trigger styles.

Syntax

atom$mat_art_seq <x>

<x> Specifies the art frame to be used for mouseup, 
rollover, disabled, and mousedown states, in that 
order, through a series of up to four bytes. If a 
particular frame is not specified, the mouseup 
frame is used in that position.

Object(s) Handled

The objects handled by this atom are org_group and ind_group.

Return Value

None.

Example

atom$man_start_object <trigger>
atom$mat_relative_tag <1>
atom$mat_art_id <1-0-2201>
atom$mat_art_animation_rate <250>
atom$mat_art_seq <1> 
.
.
.
atom$man_end_object


© America Online, Inc. 1999 3-23 America Online Confidential




Chapter 3: Attribute Manager (MAT) Protocol November 1999


atom$mat_auto_complete
185 ($B9)

atom$mat_art_id enables Netscape-like autocomplete for edit boxes. The 
edit box performs autocomplete; the atom is left open ended to allow other 
controls to search history lists using search algorithms.

Syntax

atom$mat_auto_complete <x, y>

<x> Specifies the search list, where x is:

0 - Use web/search words/keywords history list

1 - Use mail address book search list 

2 - Use other search list 

<y> Specifies the <search_method>, where y is:

0 - Use web search to ignore http://www. during 
matches

1 - Use standard sorted search 

Example 

The following example tells the display manager to use the web/search 
words/keywords history list and tells the web search to ignore http://www. 
during matches:

atom$man_set_context_relative <2>
atom$mat_auto_complete <0, 0>
atom$man_end_context


America Online Confidential 3-24 © America Online, Inc. 1999




November 1999 FDO91 Manual


atom$mat_bool_active_offline
157 ($9D)

atom$mat_bool_active_offline determines whether the current object is 
enabled when the member is offline.

Syntax

atom$mat_bool_active_offline <boolean>

<boolean> Specifies whether the current object is enabled when 
the member is offline. Values are:

Yes This object is enabled when the member is 
offline (default).

No This object is not enabled when the member 
is offline.

Object(s) Handled

The object handled by this atom is trigger.

Return Value

None.

Example

The following example makes the current trigger object (AOL icon) 
inactive when the member is offline:

atom$mat_object_type <trigger, “”>
atom$mat_trigger_style <plain_picture>
atom$mat_relative_tag <61>
atom$mat_bool_palette_art <yes>
atom$mat_horizontal_spacing <1>
atom$mat_vertical_spacing <0>
atom$mat_bool_active_offline <no> 
atom$mat_bool_child_movable <no>
atom$mat_context_help <”Go to the AOL home page.”>


© America Online, Inc. 1999 3-25 America Online Confidential




Chapter 3: Attribute Manager (MAT) Protocol November 1999


atom$mat_bool_active_online
158 ($9E)

atom$mat_bool_active_online determines whether the current object is 
enabled when the member is online.

Syntax

atom$mat_bool_active_online <boolean>

<boolean> Specifies whether the current object is enabled when 
the member is offline. Values are:

Yes This object is enabled when the member is 
offline (default).

No This object is not enabled when the member 
is offline.

Object(s) Handled

The object handled by this atom is trigger.

Return Value

None.

Example

The following example makes the current trigger object (AOL icon) active 
when the member is online:

atom$mat_object_type <trigger, “”>
atom$mat_trigger_style <plain_picture>
atom$mat_relative_tag <61>
atom$mat_bool_palette_art <yes>
atom$mat_horizontal_spacing <1>
atom$mat_vertical_spacing <0>
atom$mat_bool_active_online <yes> 
atom$mat_bool_child_movable <no>
atom$mat_context_help <”Go to the AOL home page.”>


America Online Confidential 3-26 © America Online, Inc. 1999




November 1999 FDO91 Manual


atom$mat_bool_auto_closeable
172 ($AC)

atom$mat_bool_auto_closeable identifies which forms can or cannot be 
closed when the total number of forms opened has reached a limit and the 
client needs to close some of the open forms. Only a dozen forms (added 
with atom$mat_bool_auto_closeable <no>) are expected to be not 
automatically closeable. By default, all forms are automatically closeable. 
See also: atom$mat_bool_non_closeable on page 3-80.

Syntax

atom$mat_bool_auto_closeable <boolean> 

<boolean> Specifies whether the current independent window 
object can be automatically closed when the client 
window limit has been reached. Attribute is ignored on 
nonindependent windows. Values are:

Yes This independent window can be closed 
automatically (default).

No This independent window cannot be closed 
automatically.

Object(s) Handled

Independent window.

Return Value

Unchanged. 

Example

atom$man_start_object <ind_group, "non-auto-close-form"> 
...
atom$mat_bool_auto_closeable <no>
...
atom$man_end_object


© America Online, Inc. 1999 3-27 America Online Confidential




Chapter 3: Attribute Manager (MAT) Protocol November 1999


atom$mat_bool_background_flood
94 ($5E)

atom$mat_bool_background_flood fills the background of the current 
object with a color. The color is specified using atom$mat_color_face. 
This atom is used with groups, windows, or certain views (namely, list 
boxes and static text). It cannot be used with editable views.

Syntax

atom$mat_bool_background_flood <boolean>

<boolean> Specifies whether the background of an object is 
flooded with color. Values are:

Yes The background of an object is flooded with 
color.

No The background of an object is not flooded 
with color (default).

Object(s) Handled

The objects handled by this atom are org_group, ind_group, and view.

Return Value

None.

Example

The following example fills the background of the window titled 
"Background Flooded Window" with the color blue:

atom$man_start_object <ind_group, "Background Flooded 
Window">
atom$mat_bool_background_flood <yes> 
atom$mat_color_face <0 0 80>


America Online Confidential 3-28 © America Online, Inc. 1999




November 1999 FDO91 Manual


atom$mat_bool_background_pic
93 ($5D)

atom$mat_bool_background_pic fills the background of the current 
object with a picture. A picture must be specified using atom$mat_art_id 
on page 3-22. 

Syntax

atom$mat_bool_background_pic <boolean>

<boolean> Specifies whether the background of an object is 
flooded with color. Values are:

Yes The background of an object is flooded with 
color.

No The background of an object is not flooded 
with color (default).

Return Value

None.

Object(s) Handled

The objects handled by this atom are org_group and ind_group.

Example

The following example fills the background of the window titled 
"Background Flooded Window" with the piece of art with an ID of 1-0-
2196:

atom$man_start_object <ind_group, "Background Flooded Window">
atom$mat_bool_background_pic <yes>
atom$mat_art_id <1-0-2196>


© America Online, Inc. 1999 3-29 America Online Confidential




Chapter 3: Attribute Manager (MAT) Protocol November 1999


atom$mat_bool_background_tile
101 ($65)

atom$mat_bool_background_tile fills the background of the current 
object with a picture and arranges it in a tiled formation. A picture must be 
specified using atom$mat_art_id on page 3-22. 

Syntax

atom$mat_bool_background_tile <boolean>

<boolean> Specifies whether the background picture is tiled. 
Values are:

Yes The background picture is tiled.

No The background picture is not tiled (default).

Object(s) Handled

The objects handled by this atom are org_group and ind_group.

Return Value

None.

Example

The following example fills the background of a window titled "Layered 
Backgrounds" with the piece of art with an ID of 1-0-2207; the art is 
arranged in a tiled formation:

atom$man_start_object <ind_group, "Layered Backgrounds">
atom$mat_bool_background_tile <yes> 
atom$mat_art_id <1-0-2207>


America Online Confidential 3-30 © America Online, Inc. 1999




November 1999 FDO91 Manual


atom$mat_bool_child_line_feed
151 ($97)

atom$mat_bool_child_line_feed forces a child object to a new line (row) 
in the toolbar or parent object. Typically, it is used to start a new row of 
buttons on a toolbar.

Syntax

atom$mat_bool_child_line_feed <boolean>

<boolean> Specifies whether to start a new line with the current 
child object. Values are:

Yes Start a new line with this child.

No Do not start a new line with this child 
(default).

Object(s) Handled

The objects handled by this atom are children objects of tool_group.

Return Value

None.

Example

The following example forces the third button (child object) on a toolbar to 
the next line (row) of buttons:

atom$uni_start_stream
atom$man_start_object <ind_group, "">
atom$man_start_object <tool_group, "">
atom$mat_orientation <hff>
atom$mat_frame_style <4>
atom$man_start_object <trigger, “Do”>
atom$mat_relative_tag <1>
atom$act_replace_select_action

atom$uni_start_stream
atom$async_error_box <”Action for the first button”>
atom$uni_end_stream

atom$man_end_object
atom$man_start_object <trigger, “Undo”>
atom$mat_relative_tag <2>
atom$act_replace_select_action


© America Online, Inc. 1999 3-31 America Online Confidential




Chapter 3: Attribute Manager (MAT) Protocol November 1999


atom$uni_start_stream
atom$async_error_box <”Action for the second button”>
atom$uni_end_stream

atom$man_end_object
atom$man_start_object <trigger, “Go To”>
atom$mat_bool_child_line_feed <yes> 
atom$mat_relative_tag <3>
atom$act_replace_select_action

atom$uni_start_stream
atom$async_error_box <”Action for the third button”>
atom$uni_end_stream

atom$man_end_object
atom$man_end_object


America Online Confidential 3-32 © America Online, Inc. 1999




November 1999 FDO91 Manual


atom$mat_bool_child_movable
150 ($96)

atom$mat_bool_child_movable determines whether the current child 
object is movable in a toolbar or parent window.

Syntax

atom$mat_bool_child_movable <boolean>

<boolean> Specifies whether the current child object can be 
moved in the toolbar or parent window. Values are:

Yes This object can be moved in the parent 
window (default).

No This object cannot be moved in the parent 
window.

Object(s) Handled

The objects handled by this atom are children objects of tool_group.

Return Value

None.

Example

The following example makes the current child object (AOL icon) fixed in 
the toolbar so that it cannot be moved:

atom$mat_object_type <trigger, “”>
atom$mat_trigger_style <plain_picture>
atom$mat_relative_tag <61>
atom$mat_bool_palette_art <yes>
atom$mat_horizontal_spacing <1>
atom$mat_vertical_spacing <0>
atom$mat_bool_active_online <yes>
atom$mat_bool_child_movable <no> 
atom$mat_context_help <”Go to the AOL home page.”>


© America Online, Inc. 1999 3-33 America Online Confidential




Chapter 3: Attribute Manager (MAT) Protocol November 1999


atom$mat_bool_child_removable
149 ($95)

atom$mat_bool_child_removable determines whether the current child 
object is removable from a toolbar or parent window.

Syntax

atom$mat_bool_child_removable <boolean>

<boolean> Specifies whether the current child object can be 
removed from the toolbar or parent window. Values 
are:

Yes This object can be removed from the parent 
window (default).

No This object cannot be removed from the 
parent window.

Object(s) Handled

The objects handled by this atom are children objects of tool_group.

Return Value

None.

Example

The following example makes the child object (button) removable from the 
toolbar:

atom$man_start_object <ind_group, "">
atom$man_start_object <tool_group, "">
atom$mat_bool_detached <yes>
atom$mat_orientation <hff>
atom$mat_frame_style <4>
atom$man_start_object <trigger, “Do”>
atom$mat_bool_child_removable <yes> 
atom$mat_relative_tag <1>
atom$act_replace_select_action

atom$uni_start_stream
atom$async_error_box <”Action for the first button”>
atom$uni_end_stream

atom$man_end_object


America Online Confidential 3-34 © America Online, Inc. 1999




November 1999 FDO91 Manual


atom$mat_bool_children_movable
148 ($94)

atom$mat_bool_children_movable determines whether children objects 
are movable in the toolbar (or current object).

Syntax

atom$mat_bool_children_movable <boolean>

<boolean> Specifies whether children can be moved in the toolbar 
(or current object). Values are:

Yes The children can be moved in the current 
object (default).

No The children cannot be moved in the current 
object.

Object(s) Handled

The object handled by this atom is tool_group. 

Return Value

None.

Example

The following example makes the children objects (buttons) movable in 
the toolbar:

atom$man_start_object <ind_group, "">
atom$man_start_object <tool_group, "">
atom$mat_bool_children_movable <yes> 
atom$mat_orientation <hff>
atom$mat_frame_style <4>
atom$man_start_object <trigger, “Do”>
atom$mat_relative_tag <1>
atom$act_replace_select_action

atom$uni_start_stream
atom$async_error_box <”Action for the first button”>
atom$uni_end_stream

atom$man_end_object
atom$man_start_object <trigger, “Undo”>
atom$mat_relative_tag <2>
atom$act_replace_select_action


© America Online, Inc. 1999 3-35 America Online Confidential




Chapter 3: Attribute Manager (MAT) Protocol November 1999


atom$uni_start_stream
atom$async_error_box <”Action for the second button”>
atom$uni_end_stream

atom$man_end_object


America Online Confidential 3-36 © America Online, Inc. 1999




November 1999 FDO91 Manual


atom$mat_bool_children_removable
147 ($93)

atom$mat_bool_children_removable determines whether children 
objects are removable from the toolbar (or current object).

Syntax

atom$mat_bool_children_removable <boolean>

<boolean> Specifies whether children can be removed from the 
toolbar (or current object). Values are:

Yes The children can be removed from the current 
object (default).

No The children cannot be removed from the 
current object.

Object(s) Handled

The object handled by this atom is tool_group.

Return Value

None.

Example

The following example makes children objects (buttons) removable from 
the toolbar:

atom$uni_start_stream
atom$man_start_object <ind_group, "">
atom$man_start_object <tool_group, "">
atom$mat_bool_children_removable <yes> 
atom$mat_orientation <hff>
atom$mat_frame_style <4>
atom$man_start_object <trigger, “Do”>
atom$mat_relative_tag <1>
atom$act_replace_select_action

atom$uni_start_stream
atom$async_error_box <”Action for the first button”>
atom$uni_end_stream

atom$man_end_object


© America Online, Inc. 1999 3-37 America Online Confidential




Chapter 3: Attribute Manager (MAT) Protocol November 1999


atom$mat_bool_contiguous
41 ($29) 

atom$mat_bool_contiguous forces all items in a dynamic multiselect list 
(dms_list) to be contiguous. When a member selects (for example, 
highlights) the second and fourth items in a list, the third item becomes 
highlighted as well.

Syntax

atom$mat_bool_contiguous <boolean>

<boolean> Specifies whether the contiguous feature for list items 
that are multiselectable is in use. Values are:

Yes The contiguous feature for list items is in use.

No The contiguous feature for list items is not in 
use (default).

Object(s) Handled

The object handled by this atom is dms_list.

Return Value

None.

Example

The following example makes the items in a dynamic, multiselect list 
contiguous:

atom$man_start_object <dms_list>
atom$mat_bool_contiguous <yes> 


America Online Confidential 3-38 © America Online, Inc. 1999




November 1999 FDO91 Manual


atom$mat_bool_customizable
143 ($8F)

atom$mat_bool_customizable determines whether the toolbar or parent 
window (current object) and its children objects can be moved and 
modified. 

Syntax

atom$mat_bool_customizable <boolean>

<boolean> Specifies whether the current object (toolbar or parent 
window) and its children objects can be moved and 
modified. Values are:

Yes The object and children can be moved and 
modified (default).

No The object and children cannot be modified.

Object(s) Handled

The object handled by this atom is tool_group.

Return Value

None.

Example

The following example establishes the toolbar and its children as 
customizable so they can be moved and modified:

atom$uni_start_stream
atom$man_start_object <ind_group, "">
atom$man_start_object <tool_group, "">
atom$mat_bool_customizable <yes> 
atom$mat_orientation <hff>
atom$mat_frame_style <4>
atom$man_start_object <trigger, “Do”>
atom$mat_relative_tag <1>
atom$act_replace_select_action

atom$uni_start_stream
atom$async_error_box <”Action for the first button”>
atom$uni_end_stream

atom$man_end_object


© America Online, Inc. 1999 3-39 America Online Confidential




Chapter 3: Attribute Manager (MAT) Protocol November 1999


atom$mat_bool_default
2 ($02) 

atom$mat_bool_default defines a button or icon (trigger objects only) on 
a form as the default action. The default button is the one whose action is 
executed when a member presses ENTER. Only one trigger can be specified 
for any independent group (ind_group) object.

Syntax

atom$mat_bool_default <boolean>

<boolean> Specifies whether the object is the default. Values are:

Yes The object is the default.

No The object is not the default (default).

Object(s) Handled

The object handled by this atom is trigger.

Return Value

None.

Example

The following example defines a default button:

atom$man_start_object <trigger>
atom$mat_bool_default <yes> 


America Online Confidential 3-40 © America Online, Inc. 1999




November 1999 FDO91 Manual


atom$mat_bool_default_send
43 ($2B) 

atom$mat_bool_default_send sends an item on a window to the host 
server that, otherwise, is not sent or blocks the transmission mode of an 
item to the host. Also, this atom can override the behavior of 
atom$de_ez_send_form, which sends data from any children of the 
current object to the host. 

Syntax

atom$mat_bool_default_send <boolean>

<boolean> Specifies whether the object on the window is sent to 
the host when the trigger object sending the 
window's data is selected by a member. Values are:

Yes The object on the window is sent to the host. 
This is the default value when the current 
object is dms_list or edit_view.

No The object on the window is not sent to the 
host. This is the default value when the 
current object is dss_list.

Object(s) Handled

The objects handled by this atom are dms_list, dss_list, and 
edit_view.

Return Value

None.

Example

The following example overrides the default behavior of the 
atom$de_ez_send_form atom:

atom$man_start_object <dss_list>
atom$mat_bool_default_send <no> 


© America Online, Inc. 1999 3-41 America Online Confidential




Chapter 3: Attribute Manager (MAT) Protocol November 1999


Note: The atom stream that defines a window's object always precedes the 
atom stream containing the atom$de_ez_send_form command, which 
sends the form's data.


America Online Confidential 3-42 © America Online, Inc. 1999




November 1999 FDO91 Manual


atom$mat_bool_detachable
144 ($90)

atom$mat_bool_detachable determines whether the toolbar or current 
object is detachable from the parent window.

Syntax

atom$mat_bool_detachable <boolean>

<boolean> Specifies whether the toolbar or current object is 
detachable from the parent window. Values are:

Yes The object is detachable from the parent 
(default).

No The object is not detachable from the parent.

Object(s) Handled

The object handled by this atom is tool_group.

Return Value

None.

Example

The following example makes a toolbar detachable from the parent 
window:

atom$uni_start_stream
atom$man_start_object <ind_group, "">
atom$man_start_object <tool_group, "">
atom$mat_bool_detachable <yes> 
atom$mat_orientation <hff>
atom$mat_frame_style <4>
atom$man_start_object <trigger, “Do”>
atom$mat_relative_tag <1>
atom$act_replace_select_action

atom$uni_start_stream
atom$async_error_box <”Action for the first button”>
atom$uni_end_stream

atom$man_end_object
atom$man_start_object <trigger, “Undo”>
atom$mat_relative_tag <2>
atom$act_replace_select_action


© America Online, Inc. 1999 3-43 America Online Confidential




Chapter 3: Attribute Manager (MAT) Protocol November 1999


atom$uni_start_stream
atom$async_error_box <”Action for the second button”>
atom$uni_end_stream

atom$man_end_object
atom$man_end_object


America Online Confidential 3-44 © America Online, Inc. 1999




November 1999 FDO91 Manual


atom$mat_bool_detached
142 ($8E)

atom$mat_bool_detached detaches the toolbar or current object from the 
parent window.

Syntax

atom$mat_bool_detached <boolean>

<boolean> Specifies whether the toolbar or current object is 
detached from the parent window. Values are:

Yes The object is detached from the parent. 

No The object is not detached from the parent 
(default).

Object(s) Handled

The object handled by this atom is tool_group.

Return Value

None.

Example

The following example detaches a toolbar from the parent window:

atom$uni_start_stream
atom$man_start_object <ind_group, "">
atom$man_start_object <tool_group, "">
atom$mat_bool_detached <yes> 
atom$mat_orientation <hff>
atom$mat_frame_style <4>
atom$man_start_object <trigger, “Do”>
atom$mat_relative_tag <1>
atom$act_replace_select_action

atom$uni_start_stream
atom$async_error_box <”Action for the first button”>
atom$uni_end_stream

atom$man_end_object
atom$man_start_object <trigger, “Undo”>
atom$mat_relative_tag <2>
atom$act_replace_select_action

atom$uni_start_stream


© America Online, Inc. 1999 3-45 America Online Confidential




Chapter 3: Attribute Manager (MAT) Protocol November 1999


atom$async_error_box <”Action for the second button”>
atom$uni_end_stream

atom$man_end_object
atom$man_end_object


America Online Confidential 3-46 © America Online, Inc. 1999




November 1999 FDO91 Manual


atom$mat_bool_disabled
1 ($01) 

atom$mat_bool_disabled specifies an object as nonselectable on a form 
and makes the object appear dim or unhighlighted. This atom is commonly 
used on a trigger object.

An example of the use of this command is the Send button on the Compose 
Mail window. When the member is offline, that button is disabled because 
mail can be composed offline but not sent. Once the member logs on to the 
online service, that button is no longer disabled.

Syntax

atom$mat_bool_disabled <boolean>

<boolean> Specifies whether the object on the window is 
selectable. Values are:

Yes The object on the window is not selectable. 
This is the default value when the current 
object is dms_list, dss_list, or edit_view.

No The object on the window is selectable. This 
is the default value when the current object is 
org_group, ind_group, sms_list, 
sss_list, trigger, ornament, view, 
range, or select_range.

Object(s) Handled

All objects are handled by this atom.

Return Value

None.

Example

The following example inhibits the action of object number 4 in the form: 

atom$man_start_object <trigger>
atom$mat_relative_tag <4>
.



© America Online, Inc. 1999 3-47 America Online Confidential




Chapter 3: Attribute Manager (MAT) Protocol November 1999


.

.
atom$man_set_context_globalid <32-123>
atom$man_set_context_relative <4>
atom$mat_bool_disabled <yes> 


America Online Confidential 3-48 © America Online, Inc. 1999




November 1999 FDO91 Manual


atom$mat_bool_dock_horizontal
145 ($91)

atom$mat_bool_dock_horizontal determines whether the toolbar or 
current object can be attached to the top and bottom edges of the parent 
window.

Syntax

atom$mat_bool_dock_horizontal <boolean>

<boolean> Specifies whether the toolbar or current object can be 
attached to the top and bottom edges of the parent 
window. Values are:

Yes The object can be attached to the top and 
bottom edges of the parent window (default).

No The object cannot be attached to the top and 
bottom edges of the parent window.

Object(s) Handled

The object handled by this atom is tool_group.

Return Value

None.

Example

The following example makes the toolbar attachable to the top and bottom 
edges of the parent window:

atom$uni_start_stream
atom$man_start_object <ind_group, "">
atom$man_start_object <tool_group, "">
atom$mat_bool_dock_horizontal <yes> 
atom$mat_orientation <hff>
atom$mat_frame_style <4>
atom$man_start_object <trigger, “Do”>
atom$mat_relative_tag <1>
atom$act_replace_select_action

atom$uni_start_stream
atom$async_error_box <”Action for the first button”>
atom$uni_end_stream


© America Online, Inc. 1999 3-49 America Online Confidential




Chapter 3: Attribute Manager (MAT) Protocol November 1999


atom$man_end_object
atom$man_start_object <trigger, “Undo”>
atom$mat_relative_tag <2>
atom$act_replace_select_action

atom$uni_start_stream
atom$async_error_box <”Action for the second button”>
atom$uni_end_stream

atom$man_end_object
atom$man_end_object


America Online Confidential 3-50 © America Online, Inc. 1999




November 1999 FDO91 Manual


atom$mat_bool_dock_vertical
146 ($92)

atom$mat_bool_dock_vertical determines whether the toolbar or current 
object can be attached to the left and right edges of the parent window.

Syntax

atom$mat_bool_dock_vertical <boolean>

<boolean> Specifies whether the toolbar or current object can be 
attached to the left and right edges of the parent 
window. Values are:

Yes The object can be attached to the left and right 
edges of the parent window (default).

No The object cannot be attached to the left and 
right edges of the parent window.

Object(s) Handled

The object handled by this atom is tool_group.

Return Value

None.

Example

The following example makes the toolbar attachable to the left and right 
edges of the parent window:

atom$uni_start_stream
atom$man_start_object <ind_group, "">
atom$man_start_object <tool_group, "">
atom$mat_bool_dock_vertical <yes> 
atom$mat_orientation <hff>
atom$mat_frame_style <4>
atom$man_start_object <trigger, “Do”>
atom$mat_relative_tag <1>
atom$act_replace_select_action

atom$uni_start_stream
atom$async_error_box <”Action for the first button”>
atom$uni_end_stream

atom$man_end_object


© America Online, Inc. 1999 3-51 America Online Confidential




Chapter 3: Attribute Manager (MAT) Protocol November 1999


atom$man_start_object <trigger, “Undo”>
atom$mat_relative_tag <2>
atom$act_replace_select_action

atom$uni_start_stream
atom$async_error_box <”Action for the second button”>
atom$uni_end_stream

atom$man_end_object
atom$man_end_object


America Online Confidential 3-52 © America Online, Inc. 1999




November 1999 FDO91 Manual


atom$mat_bool_double_space
44 ($2C) 

atom$mat_bool_double_space selects double-spacing for text view 
objects. The double-spacing feature is used in the chat area of the online 
service. It is available as a member preference in the chat rooms.When 
"Double-space incoming messages" is selected on the Chat Preferences 
menu, the data in the text view object displaying member chat conversation 
appears in double-spaced format.

Syntax

atom$mat_bool_double_space <boolean>

<boolean> Specifies whether double-spacing is selected for the 
text view. Values are:

Yes Double-spacing is selected.

No Double-spacing is not selected (default).

Object(s) Handled

The objects handled by this atom are view and edit_view.

Return Value

None.

Example

The following example selects double-spacing for a view object:

atom$man_start_object <view>
atom$mat_bool_double_space <yes> 


© America Online, Inc. 1999 3-53 America Online Confidential




Chapter 3: Attribute Manager (MAT) Protocol November 1999


atom$mat_bool_draw_focus
165 ($A5)

atom$mat_bool_draw_focus draws a focus rectangle (when the button is 
in focus) on the current button (trigger) object. Normally, focus 
rectangles for trigger styles 3, 6, 8, and 9 are not drawn on the button for 
aesthetic reasons. 

Syntax

atom$mat_bool_draw_focus <boolean>

<boolean> Specifies whether a focus rectangle is drawn on the 
trigger object. Values are:

Yes The focus rectangle is drawn on the button.

No The focus rectangle is not drawn on the 
button (default).

Object(s) Handled

The object handled by this atom is trigger.

Return Value

None.

Example

The following example draws a focus rectangle around a pictured button:

atom$man_start_sibling <trigger, "">
atom$mat_precise_x <10>
atom$mat_precise_y <75>
atom$mat_precise_width <174>
atom$mat_precise_height <50>
atom$mat_trigger_style <plain_picture>
atom$mat_art_id <1-0-30871>
atom$mat_bool_draw_focus <yes> 


America Online Confidential 3-54 © America Online, Inc. 1999




November 1999 FDO91 Manual


atom$mat_bool_drop_at_top
114 ($72) 

atom$mat_bool_drop_at_top determines whether mail dragged from the 
current object is dropped at the top of the Favorite Places list of the 
Personal Filing Cabinet (PFC) of the online service. The PFC is used to 
organize and maintain objects such as mail documents, download files, and 
Favorite Places (bookmarks).

Syntax

atom$mat_bool_drop_at_top <boolean>

<boolean> Specifies whether mail is dropped at the top of the 
Favorite Places list. Values are:

Yes Mail is dropped at the top of the list.

No Mail is not dropped at the top of the list 
(default).

Object(s) Handled

The object handled by this atom is ind_group.

Return Value

None.

Example

The following example specifies that mail be dropped at the top of the list:

atom$man_start_object <ind_group>
atom$mat_bool_drop_at_top <yes> 
atom$man_end_object


© America Online, Inc. 1999 3-55 America Online Confidential




Chapter 3: Attribute Manager (MAT) Protocol November 1999


atom$mat_bool_dropdown_button
160 ($A0)

atom$mat_bool_dropdown_button gives a button (trigger) the attribute 
of triggering a drop-down listbox.  Use 
atom$mat_bool_dropdown_button when defining the function of the 
toolbar buttons.

Syntax

atom$mat_bool_dropdown_button <boolean>

<boolean> Specifies whether the current object is a standard menu 
or a popup menu triggered from a drop-down button. 
Values are:

Yes The object is a popup menu triggered from a 
drop-down button.

No The object is not a popup menu triggered 
from a drop-down button (default).

Object(s) Handled

The object handled by this atom is trigger.

Return Value

None.

Example

The following example defines the menu object as a drop-down menu that 
is triggered from the button:

atom$man_start_object <trigger, “DropDown Button”>
atom$mat_bool_dropdown_button> <yes> 
atom$act_replace_select_action 
atom$uni_start_stream
atom$man_set_context_relative <10>
atom$man_display_popup_menu
atom$man_end_context
atom$uni_end_stream


America Online Confidential 3-56 © America Online, Inc. 1999




November 1999 FDO91 Manual


atom$mat_bool_encode_unicode
134 ($86) 

atom$mat_bool_encode_unicode is described in Appendix B, 
"Internationalization (i18n) Atoms."


© America Online, Inc. 1999 3-57 America Online Confidential




Chapter 3: Attribute Manager (MAT) Protocol November 1999


atom$mat_bool_expand_to_fit
110 ($6E) 

atom$mat_bool_expand_to_fit expands an object's minor axis to make it 
fit into a specific area of a form.

Syntax

atom$mat_bool_expand_to_fit <boolean>

<boolean> Specifies whether to expand an object’s minor axis. 
Values are:

Yes Expand the object.

No Do not expand the object (default).

Object(s) Handled

All objects are handled by this atom.

Return Value

None.

Example

The following example expands a view object to fit into a specific area of a 
form:

atom$man_start_object <org_group>
atom$man_start_object <view>
atom$mat_bool_expand_to_fit <yes> 
.
.
.
atom$man_end_object


America Online Confidential 3-58 © America Online, Inc. 1999




November 1999 FDO91 Manual


atom$mat_bool_exportable
37 ($25) 

atom$mat_bool_exportable makes the data extraction feature available 
that lets a member copy or cut data (using an Edit menu) from one text 
view object to another.

Syntax

atom$mat_bool_exportable <boolean>

<boolean> Specifies whether the cut or copy text feature between 
objects is available. Values are:

Yes The cut or copy text feature is available 
(default).

No The cut or copy text feature is not available.

Object(s) Handled

The objects handled by this atom are view and edit_view.

Return Value

None.

Example

The following example inhibits the cutting or copying of text in a view:

atom$man_start_object <view>
atom$mat_bool_exportable <no> 


© America Online, Inc. 1999 3-59 America Online Confidential




Chapter 3: Attribute Manager (MAT) Protocol November 1999


atom$mat_bool_first_script
106 ($6A) 

atom$mat_bool_first_script is described in Appendix B, 
"Internationalization (i18n) Atoms."


America Online Confidential 3-60 © America Online, Inc. 1999




November 1999 FDO91 Manual


atom$mat_bool_force_scroll
33 ($21) 

atom$mat_bool_force_scroll selects automatic scrolling as data is added 
to the text view object. The automatic scrolling feature is used in the chat 
rooms of the online service. It is used in the text view object where member 
chat conversation appears. As members chat back and forth, the data 
automatically scrolls upward. If force scroll is not on, the member must 
manually scroll down the text view by clicking the down arrow on the 
scroll bar.

Syntax

atom$mat_bool_force_scroll <boolean>

<boolean> Specifies whether automatic scrolling is selected. 
Values are:

Yes Automatic scrolling is selected.

No Automatic scrolling is not selected (default).

Object(s) Handled

The objects handled by this atom are dms_list, dss_list, view, and 
edit_view.

Return Value

None.

Example

The following example selects automatic scrolling for a view:

atom$man_start_object <view>
atom$mat_bool_force_scroll <yes> 


© America Online, Inc. 1999 3-61 America Online Confidential




Chapter 3: Attribute Manager (MAT) Protocol November 1999


atom$mat_bool_gradual_shadow
86 ($56)

atom$mat_bool_gradual_shadow creates a shadowing effect for the 
current trigger object that blends in with its background. This atom 
works only with video modes that are running at least 65,000 colors. This 
atom has no effect if the trigger style type is set to trigger_style_framed 
or trigger_style_plain_pict. 

Syntax

atom$mat_bool_gradual_shadow <boolean>

<boolean> Specifies whether gradual shadowing is selected. 
Values are:

Yes Gradual shadowing is selected.

No Gradual shadowing is not selected (default).

Object(s) Handled

The object handled by this atom is trigger.

Return Value

None.

Example

The following example selects gradual shadowing for an object:

atom$man_start_object <trigger>
atom$mat_relative_tag <1>
atom$mat_trigger_style <2>
atom$mat_art_id <1-0-2199>
atom$mat_precise_x <370>
atom$mat_precise_y <10>
atom$mat_bool_gradual_shadow <yes> 
atom$man_end_object


America Online Confidential 3-62 © America Online, Inc. 1999




November 1999 FDO91 Manual


atom$mat_bool_graphic_view
27 ($1B)

atom$mat_bool_graphic_view defines the current object as a graphic 
view.

Syntax

atom$mat_bool_graphic_view <boolean>

<boolean> Specifies whether the object is a graphic view. Values 
are:

Yes The object is a graphic view.

No The object is not a graphic view (default).

Object(s) Handled

The objects handled by this atom are view and edit_view.

Return Value

None.

Example

The following example defines a view as a graphic display:

atom$man_start_object <view>
atom$mat_bool_graphic_view <yes> 


© America Online, Inc. 1999 3-63 America Online Confidential




Chapter 3: Attribute Manager (MAT) Protocol November 1999


atom$mat_bool_hidden
7 ($07) 

atom$mat_bool_hidden hides an object on a window and reserves the 
space where that object would have appeared. When an object is hidden, a 
blank space appears instead of the object. 

For example, five buttons exist on a form as part of a horizontal group and 
are centered. If the middle button is hidden, the remaining four buttons 
remain in their positions as if the middle button were still there. A gap of 
blank space appears in the location of the hidden button. 

See atom$mat_bool_invisible on page 3-72 for similar functionality.

Syntax

atom$mat_bool_hidden <boolean>

<boolean> Specifies whether the object is hidden. Values are:

Yes The object is hidden.

No The object is not hidden (default).

Object(s) Handled

The objects handled by this atom are org_group, dms_list, dss_list, 
trigger, ornament, view, edit_view, range, and select_range.

Return Value

None.

Example

The following example hides an object on a window: 

atom$man_start_object <trigger>
atom$mat_relative_tag <2>
atom$mat_title <"List Responses">
atom$mat_bool_hidden <yes> 


America Online Confidential 3-64 © America Online, Inc. 1999




November 1999 FDO91 Manual


atom$mat_bool_hide_url
171 ($AB)

atom$mat_bool_hide_url hides an URL from the history list, and it 
cannot be seen or edited in favorite places.

Syntax

atom$mat_bool_hide_url <boolean>

<boolean> Specifies whether the object is hidden. Values are:

Yes The URL does not show in the history list and 
cannot be seen or edited in favorite places.

No The URL shows in the history list and can be 
seen or edited in favorite places (default).

Object(s) Handled

The object handled by this atom is ind_group.

Return Value

Unchanged.

Example

The following example hides the URL from the history list, and it cannot 
be seen or edited in favorite places:

atom$man_start_object
atom$mat_bool_hide_url <yes>
atom$man_end_object


© America Online, Inc. 1999 3-65 America Online Confidential




Chapter 3: Attribute Manager (MAT) Protocol November 1999


atom$mat_bool_horizontal_scroll
32 ($20) 

atom$mat_bool_horizontal_scroll selects a horizontal scroll bar when a 
view object is displayed on a form.

This feature is used when a .gif (GIF) file, displayed using the online 
service GIF viewer, is wider than the space available to display it.

Syntax

atom$mat_bool_horizontal_scroll <boolean>

<boolean> Specifies whether the horizontal scroll bar is selected. 
Values are:

Yes The horizontal scroll bar is selected.

No The horizontal scroll bar is not selected 
(default).

Object(s) Handled

The objects handled by this atom are view and edit_view.

Return Value

None.

Example

The following example selects a horizontal scroll bar for the view object:

atom$man_start_object <edit_view>
atom$mat_bool_graphic_view <yes>
atom$mat_bool_horizontal_scroll <yes> 


America Online Confidential 3-66 © America Online, Inc. 1999




November 1999 FDO91 Manual


atom$mat_bool_ignore_url
175 ($AF)

atom$mat_bool_ignore_url ignores an URL; no favorite places heart 
appears on the form, which allows a form to appear in the history but not be 
a favorite place. The atom was created to handle the "Welcome" screen for 
Casablanca.

Syntax

atom$mat_bool_ignore_url <boolean>

<boolean> Specifies whether the URL is ignored. Values are:

Yes The URL is ignored.

No The URL is not ignored (default).

Object(s) Handled

The object handled by this atom is ind_group.

Return Value

None.

Example

The following example ignores the URL:

atom$man_start_object
atom$mat_bool_ignore_url <yes>
atom$man_end_object


© America Online, Inc. 1999 3-67 America Online Confidential




Chapter 3: Attribute Manager (MAT) Protocol November 1999


atom$mat_bool_ignore_url_list
162 ($A2)

atom$mat_bool_ignore_url_list determines that this window object is not 
an item for any uniform resource locater (URL) history list or most 
recently used URL list. If the window is not eligible for Favorite Places (by 
default), its URL is not an URL list item.

Syntax

atom$mat_bool_ignore_url_list <boolean>

<boolean> Specifies whether the window object is an item for the 
URL list. Values are:

Yes The window is not an URL list item.

No The window is an URL list item (default).

Object(s) Handled

The object handled by this atom is ind_group.

Return Value

None.

Example

The following example defines the window object (Shadow Game) as not 
an URL history list item:

atom$man_start_object <ind_group, "Shadow Game">
atom$mat_bool_ignore_url_list <yes>
atom$man_preset_url <”aol://1722:amer”>


America Online Confidential 3-68 © America Online, Inc. 1999




November 1999 FDO91 Manual


atom$mat_bool_importable
38 ($26) 

atom$mat_bool_importable makes the data extraction feature available 
that lets a member paste data (using an Edit menu) into the current text 
view object.

Syntax

atom$mat_bool_importable <boolean>

<boolean> Specifies whether the paste feature is available for the 
current view. Values are:

Yes The paste feature is available (default).

No The paste feature is not available.

Object(s) Handled

The objects handled by this atom are view and edit_view.

Return Value

None.

Example

The following example makes the paste feature available for editing in a 
view object:

atom$man_start_object <view>
atom$mat_bool_importable <yes> 


© America Online, Inc. 1999 3-69 America Online Confidential




Chapter 3: Attribute Manager (MAT) Protocol November 1999


atom$mat_bool_inactive_for_guest
159 ($9F)

atom$mat_bool_inactive_for_guest determines whether the current 
object is disabled when the member is a guest.

Syntax

atom$mat_bool_inactive_for_guest <boolean>

<boolean> Specifies whether the current object is disabled when 
the member is a guest. Values are:

Yes This object is disabled when the member is a 
guest.

No This object is not disabled when the member 
is a guest (default).

Object(s) Handled

The object handled by this atom is trigger.

Return Value

None.

Example

The following example makes the current trigger object (AOL icon) 
inactive when the member is a guest:

atom$mat_object_type <trigger, “”>
atom$mat_trigger_style <plain_picture>
atom$mat_relative_tag <61>
atom$mat_bool_palette_art <yes>
atom$mat_horizontal_spacing <1>
atom$mat_vertical_spacing <0>
atom$mat_bool_inactive_for_guest <yes> 
atom$mat_bool_child_movable <no>
atom$mat_context_help <”Go to the AOL home page.”>


America Online Confidential 3-70 © America Online, Inc. 1999




November 1999 FDO91 Manual


atom$mat_bool_invert
63 ($3F) 

atom$mat_bool_invert reverses the colors of artwork when it is 
displayed.

Syntax

atom$mat_bool_invert <boolean>

<boolean> Specifies whether the art colors are reversed. Values 
are:

Yes The art colors are reversed.

No The art colors are not reversed (default).

Object(s) Handled

The objects handled by this atom are trigger and ornament.

Return Value

None.

Example

The following example reverses the colors of a piece of art for display:

atom$man_start_object <ornament>
atom$mat_art_id <1-0-1234>
atom$mat_bool_invert <yes> 
.
.
.
atom$man_update_display


© America Online, Inc. 1999 3-71 America Online Confidential




Chapter 3: Attribute Manager (MAT) Protocol November 1999


atom$mat_bool_invisible
6 ($06) 

atom$mat_bool_invisible hides an object on a window and removes the 
space where that object would have appeared in the window. When an 
object is defined invisible, other objects on the window are rearranged for 
proper alignment. 

For example, five buttons exist on a window as part of a horizontal group 
and are centered. If the middle button is made invisible, the remaining four 
buttons are realigned as if the middle button never existed. This feature 
prevents a gap of blank space from appearing where the invisible button 
used to be. 

See atom$mat_bool_hidden on page 3-64 for similar functionality.

Syntax

atom$mat_bool_invisible <boolean>

<boolean> Specifies whether an object is invisible. Values are:

Yes The object is invisible.

No The object is not invisible (default).

Object(s) Handled

The objects handled by this atom are dms_list, dss_list, trigger, 
ornament, view, edit_view, range, and select_range.

Return Value

None.

Example

The following example defines object number 3 as invisible in a window:

atom$man_start_object <trigger>
atom$mat_relative_tag <3>
atom$mat_title <"List Responses">
atom$mat_bool_invisible <yes> 


America Online Confidential 3-72 © America Online, Inc. 1999




November 1999 FDO91 Manual


atom$mat_bool_language_popup
117 ($75) 

atom$mat_bool_language_popup is described in Appendix B, 
"Internationalization (i18n) Atoms."


© America Online, Inc. 1999 3-73 America Online Confidential




Chapter 3: Attribute Manager (MAT) Protocol November 1999


atom$mat_bool_list_allow_entry
108 ($6C) 

atom$mat_bool_list_allow_entry defines whether a dss_list object is 
an editable popup list or a standard popup list. It is used in conjunction with 
atom$mat_height on page 3-126. 

Syntax

atom$mat_bool_list_allow_entry <boolean>

<boolean> Specifies whether the dss_list object is an editable 
popup list. Values are:

Yes The object is an editable popup list.

No The object is a standard (noneditable) popup 
list (default).

Object(s) Handled

The object handled by this atom is dss_list.

Return Value

None.

Example 

The following example defines the current dss_list object as a standard 
popup list:

atom$man_start_object <dss_list>
atom$mat_height <1>
atom$mat_bool_list_allow_entry <no> 

Example 2

The following example defines the current dss_list object as an editable 
popup list:

atom$man_start_object <dss_list>
atom$mat_height <1>
atom$mat_bool_list_allow_entry <yes> 


America Online Confidential 3-74 © America Online, Inc. 1999




November 1999 FDO91 Manual


atom$mat_bool_list_icons
26 ($1A) 

atom$mat_bool_list_icons leaves space for mini-icons, such as the search 
icon that looks like an open book, next to list box items. 

This atom is used when the list box is created. Then, as each list box item is 
created, atom$mat_art_id on page 3-22 is used to specify the art ID for the 
mini-icon you select. 

Syntax

atom$mat_bool_list_icons <boolean>

<boolean> Specifies whether a space is provided for mini-icons in 
a list box. Values are:

Yes Mini-icon space is provided (default).

No Mini-icon space is not provided.

Object(s) Handled

The objects handled by this atom are dms_list and dss_list.

Return Value

None.

Example

The following example puts mini-icons in the list box items:

atom$man_start_object <dss_list>
atom$mat_bool_list_icons <yes> 
atom$man_start_object <trigger>
atom$mat_title <"About the Library">
atom$mat_art_id <0-1-1234>
atom$man_end_object
atom$man_start_object <trigger>
atom$mat_title <"Files to Download">
atom$mat_art_id <0-1-1235>
atom$man_end_object
atom$man_start_object <trigger>
atom$mat_title <"Search the Library">
atom$mat_art_id <0-1-1236>
atom$man_end_object


© America Online, Inc. 1999 3-75 America Online Confidential




Chapter 3: Attribute Manager (MAT) Protocol November 1999


atom$mat_bool_menu
42 ($2A) 

atom$mat_bool_menu places the object being created on the main menu 
bar of the online service. Once an object is placed on the main menu bar, it 
cannot be removed. 

Syntax

atom$mat_bool_menu [<yes>]

[<yes>] Specifies that the object being created is added to 
the main menu bar. The only optional value is yes.

Return Value

None.

Object(s) Handled

The object handled by this atom is ind_group.

Example

The following example places an object on the main menu bar of the online 
service:

atom$man_start_object <dss_list>
atom$mat_title <"Extras">
atom$mat_bool_menu <yes> 
atom$man_start_object <trigger>
atom$mat_title <"Show Tools">
atom$man_end_object
atom$man_start_object <trigger>
atom$mat_title <"Fit Image to View">
atom$man_end_object


America Online Confidential 3-76 © America Online, Inc. 1999




November 1999 FDO91 Manual


atom$mat_bool_modal
5 ($05) 

atom$mat_bool_modal forces a window to be a modal window. A modal 
window requires interaction from a member (for example, selecting a 
button) before the member can interact with any other window in the 
application.

Syntax

atom$mat_bool_modal <boolean>

<boolean> Specifies whether the window is modal. Values are:

Yes The window is modal.

No The window is not modal (default).

Object(s) Handled

The object handled by this atom is ind_group.

Return Value

None.

Example

The following example defines the window as modal:

atom$mat_start_object <ind_group>
atom$mat_bool_modal <yes> 


© America Online, Inc. 1999 3-77 America Online Confidential




Chapter 3: Attribute Manager (MAT) Protocol November 1999


atom$mat_bool_modified
75 ($4B)

atom$mat_bool_modified notifies the Display Manager whether the 
content of an edit_view has changed.

Syntax

atom$mat_bool_modified <boolean>

<boolean> Specifies whether the content of a view has changed. 
Values are:

Yes The view content has changed.

No The view content has not changed (default).

Object(s) Handled

The object handled by this atom is edit_view.

Return Value

None.

Example

The following example notifies the Display Manager that the content of 
object 3 has not changed:

atom$mat_set_context_relative <3>
atom$mat_bool_modified <no> 


America Online Confidential 3-78 © America Online, Inc. 1999




November 1999 FDO91 Manual


atom$mat_bool_no_border
74 ($4A)

atom$mat_bool_no_border determines whether or not to remove the 
border from the current object.

Syntax

atom$mat_bool_no_border <boolean>

<boolean> Specifies whether the object has a border. Values are: 

Yes Remove the border from the current object. 
This value is the default if the current object 
is ornament.

No Do not remove the border from the current 
object. This value is the default if the current 
object is dms_list, dss_list, view, or 
edit_view.

Object(s) Handled

The objects handled by this atom are dms_list, dss_list, ornament, 
view, and edit_view.

Return Value

None.

Example

The following example removes a border from a view object:

atom$man_start_object <view>
atom$mat_bool_no_border <yes> 


© America Online, Inc. 1999 3-79 America Online Confidential




Chapter 3: Attribute Manager (MAT) Protocol November 1999


atom$mat_bool_non_closeable
36 ($24) 

atom$mat_bool_non_closeable prevents a window from being closed by 
a member. The window can be closed implicitly using atom$man_close.  

Syntax

atom$mat_bool_non_closeable <boolean>

<boolean> Specifies whether the window can be closed by a 
member. Values are: 

Yes The window cannot be closed.

No The window can be closed (default).

Object(s) Handled

The object handled by this atom is ind_group.

Return Value

None.

Example

The following example defines the window as noncloseable:

atom$mat_start_object <ind_group>
atom$mat_title <"Welcome!">
atom$mat_bool_non_closeable <yes> 


America Online Confidential 3-80 © America Online, Inc. 1999




November 1999 FDO91 Manual


atom$mat_bool_page_control
140 ($8C)

atom$mat_bool_page_control defines a tab_group object as a page 
control for a set of tabbed pages.

Syntax

atom$mat_bool_page_control <boolean>

<boolean> Specifies whether the tab_group object is a page 
control. Values are:

Yes The tab_group object is a page control.

No The tab_group object is not a page control 
(default).

Object(s) Handled

The objects handled by this atom are tab_group and tab_page.

Return Value

None.

Example

The following example defines the tab_group object as a page control of 
two tabbed pages:

atom$man_start_object <tab_group, “Tab Pages”>
atom$mat_bool_page_control> <yes> 
atom$mat_bool_writeable <no> 
atom$man_start_object <tab_page, “Tab 1”>
atom$mat_relative_tag <1>
atom$mat_bool_writeable <no> 
atom$mat_bool_background_flood <yes> 
atom$mat_color_face <234, 231, 210>
atom$mat_color_text <0, 0, 0>
atom$man_start_object <trigger, “Send”>
atom$mat_trigger_style <512>
atom$mat_art_id <1-0-4970>.
atom$man_end_object
atom$man_start_object <ornament, “”>
atom$mat_color_frame_shadow <194, 199, 24>


© America Online, Inc. 1999 3-81 America Online Confidential




Chapter 3: Attribute Manager (MAT) Protocol November 1999


.

.

.
atom$man_end_object
atom$man_end_object
atom$man_end_object
atom$man_start_object <tab_page, “Tab 2”>
atom$mat_orientation <vee>
atom$mat_relative_tag <3>
.
.
.
atom$uni_end_stream


America Online Confidential 3-82 © America Online, Inc. 1999




November 1999 FDO91 Manual


atom$mat_bool_palette
28 ($1C)

atom$mat_bool_palette creates a palette window. A palette window is a 
floating independent window that appears on top of all other online service 
windows and is movable in and out of the client window region. The 
background defaults to a system gray color. There are no control buttons in 
the title bar because it is a noncloseable window with no window size 
control. 

Syntax

atom$mat_bool_palette <boolean>

<boolean> Specifies whether the window is a palette window. 
Values are:

Yes The window is a palette window.

No The window is not a palette window (default).

Object(s) Handled

The object handled by this atom is ind_group.

Return Value

None.

Example

The following example defines a window as a palette window:

atom$man_start_object <ind_group>
atom$mat_bool_palette <yes> 


© America Online, Inc. 1999 3-83 America Online Confidential




Chapter 3: Attribute Manager (MAT) Protocol November 1999


atom$mat_bool_palette_art
119 ($77)

atom$mat_bool_palette_art defines the current object (button) as an 
object of a palette window, which forces the current object background 
color to the system gray default. 

Syntax

atom$mat_bool_palette_art <boolean>

<boolean> Specifies whether the current object is an object of a 
palette window. Values are:

Yes The object is a palette window object.

No This object is not a palette window object 
(default).

Object(s) Handled

The object handled by this atom is trigger.

Return Value

None.

Example

The following example defines the trigger object as a palette window 
object, which makes the trigger background gray:

atom$mat_object_type <trigger, “”>
atom$mat_trigger_style <plain_picture>
atom$mat_relative_tag <61>
atom$mat_bool_palette_art <yes> 
atom$mat_horizontal_spacing <1>
atom$mat_vertical_spacing <0>
atom$mat_bool_active_online <yes>
atom$mat_bool_child_movable <no>
atom$mat_context_help <”Go to the AOL home page.”>


America Online Confidential 3-84 © America Online, Inc. 1999




November 1999 FDO91 Manual


atom$mat_bool_permanent
1 ($47) 

atom$mat_bool_permanent defines an object as permanent so that it can 
never be deleted by an atom stream. This atom is used on the root object 
because the root of the object tree must always be present.

Syntax

atom$mat_bool_permanent <boolean>

<boolean> Specifies whether the object is permanent. Values are:

Yes The object is permanent.

No The object is not permanent (default).

Object(s) Handled

All objects are handled by this atom.

Return Value

None.

Example

The following example defines the root object as permanent:

atom$man_start_object <root>
atom$mat_bool_permanent <yes> 


© America Online, Inc. 1999 3-85 America Online Confidential




Chapter 3: Attribute Manager (MAT) Protocol November 1999


atom$mat_bool_popup_menu
161 ($A1)

atom$mat_bool_popup_menu defines a menu object as a popup menu.

Syntax

atom$mat_bool_popup_menu <boolean>

<boolean> Specifies whether the current object is a standard menu 
or a popup menu. Values are:

Yes The object is a popup menu.

No The object is not a popup menu (default). 

Object(s) Handled

The object handled by this atom is dss_list.

Return Value

None.

Example

The following example defines the menu object as a popup menu:

atom$man_start_object <dss_list, “”>
atom$mat_relative_tag <10> 
atom$mat_bool_popup_menu> <yes> 
atom$man_start_object <trigger, "Menu Item 1">
.
.
.
atom$man_end_object
atom$man_start_object <trigger, "Menu Item 2">
.
.
.
atom$man_end_object
atom$man_end_context


America Online Confidential 3-86 © America Online, Inc. 1999




November 1999 FDO91 Manual


atom$mat_bool_precise
77 ($4D)

atom$mat_bool_precise positions children of an independent or 
organizational group with precise coordinates. Use atom$mat_precise_x on 
page 3-151 and atom$mat_precise_y on page 3-153 to specify the precise 
pixel coordinates for each child.

Syntax

atom$mat_bool_precise <boolean>

<boolean> Specifies whether to position the current object’s 
children with precise coordinates. Values are:

Yes Position the children with precise coordinates.

No Do not position the children with precise 
coordinates (default). 

Object(s) Handled

The objects handled by this atom are org_group, ind_group, sms_list, 
and sss_list.

Return Value

None.

Example

The following example specifies precise coordinates for positioning 
objects:

atom$man_start_object <ind_group, "Roll Over Beethoven">
atom$mat_bool_background_pic <yes>
atom$mat_art_id <1-0-2196>
atom$mat_bool_precise <yes> 
atom$mat_precise_width <500>
atom$mat_precise_height <333>
atom$man_start_object <ornament, "MUSIC FORUMS">
atom$mat_orientation <hcc>
atom$mat_precise_x <9>
atom$mat_precise_y <10>
atom$mat_precise_width <204>
atom$mat_precise_height <18>


© America Online, Inc. 1999 3-87 America Online Confidential




Chapter 3: Attribute Manager (MAT) Protocol November 1999


.

.

.
atom$man_end_object
.
.  (The definition of more objects goes here...)
.
atom$man_end_object


America Online Confidential 3-88 © America Online, Inc. 1999




November 1999 FDO91 Manual


atom$mat_bool_protected_input
34 ($22) 

atom$mat_bool_protected_input protects and hides member input 
entries in a view for editable view fields.  

Syntax

atom$mat_bool_protected_input <boolean>

<boolean> Specifies whether the input to the editable view field is 
protected. Values are:

Yes The editable view field input is protected.

No The editable view field input is not protected 
(default).

Object(s) Handled

The object handled by this atom is edit_view.

Return Value

None.

Example

The following example protects information from being seen when it is 
entered in the view field by a member:

atom$man_start_object <edit_view>
atom$mat_bool_protected_input <yes> 


© America Online, Inc. 1999 3-89 America Online Confidential




Chapter 3: Attribute Manager (MAT) Protocol November 1999


atom$mat_bool_repeat_animation
100 ($64)

atom$mat_bool_repeat_animation repeats the animation sequence of the 
current object.

Syntax

atom$mat_bool_repeat_animation <boolean>

<boolean> Specifies whether the animation sequence is repeated. 
Values are:

Yes The animation sequence is repeated.

No The animation sequence is not repeated 
(default).

Object(s) Handled

The objects handled by this atom are org_group and ind_group.

Return Value

None.

Example

The following example repeats the animation sequence of the trigger 
object:

atom$man_start_object <trigger>
.
.
.
atom$mat_art_animation_rate <250>
atom$mat_art_animation_seq <1 5 0 1>
atom$mat_bool_repeat_animation <yes> 
.
.
.
atom$man_end_object


America Online Confidential 3-90 © America Online, Inc. 1999




November 1999 FDO91 Manual


atom$mat_bool_resize_horizontal
($04) 

atom$mat_bool_resize_horizontal determines whether an object can 
grow or shrink horizontally in a window when a member resizes the 
window.

Syntax

atom$mat_bool_resize_horizontal <boolean>

<boolean> Specifies whether an object can grow or shrink 
horizontally when the window it is on is resized. Values 
are:

Yes The object can grow or shrink horizontally. 
This value is the default if the current object 
is ind_group, dms_list, dss_list, view, or 
edit_view.

No The object cannot grow or shrink 
horizontally. This value is the default if the 
current object is org_group, sms_list, 
sss_list, trigger, ornament, range, or 
select_range.

Object(s) Handled

All objects are handled by this atom.

Return Value

None.

Example

The following example inhibits horizontal resizing of an object whenever 
the window is resized by a member:

atom$man_start_object <edit_view>
atom$mat_bool_resize_horizontal <no> 


© America Online, Inc. 1999 3-91 America Online Confidential




Chapter 3: Attribute Manager (MAT) Protocol November 1999


atom$mat_bool_resize_vertical
3 ($03) 

atom$mat_bool_resize_vertical determines whether an object on a 
window can grow or shrink vertically when a member resizes the window.

Syntax

atom$mat_bool_resize_vertical <boolean>

<boolean> Specifies whether an object can grow or shrink 
vertically when the window it is on is resized. Values 
are:

Yes The object can grow or shrink vertically. This 
value is the default if the current object is 
ind_group, dms_list, dss_list, view, or 
edit_view.

No The object cannot grow or shrink vertically. 
This value is the default if the current object 
is org_group, sms_list, sss_list, 
trigger, ornament, range, or 
select_range.

Object(s) Handled

All objects are handled by this atom.

Return Value

None.

Example

The following example inhibits vertical resizing of an object when the 
window is resized by a member:

atom$man_start_object <edit_view>
atom$mat_bool_resize_vertical <no> 


America Online Confidential 3-92 © America Online, Inc. 1999




November 1999 FDO91 Manual


atom$mat_bool_savabletopfc
176 ($B0)

atom$mat_bool_savabletopfc determines whether the Save To PFC menu 
option is enabled when the form containing this atom is the top form. It is 
used as a parameter of atom$man_get_attribute. 

Syntax

atom$man_get_attribute atom$mat_bool_savabletopfc

Object(s) Handled

The object handled by this atom is ind_group.

Return Value

Unchanged.

Example

The following example tells the display manager that the Save To PFC 
menu option is enabled when the form containing this atom is the top form:

atom$man_set_context_globalid <41-6139>
atom$man_get_attribute atom$mat_bool_savabletopfc
atom$if_last_return_true_then <1,2>


© America Online, Inc. 1999 3-93 America Online Confidential




Chapter 3: Attribute Manager (MAT) Protocol November 1999


atom$mat_bool_signoff_menu
173 ($AD)

atom$mat_bool_signoff_menu sets the boolean flag to identify the menu 
entry that contains the signoff menu text. Only a menu with this option 
flagged has its menu text changed to the string specified after the switch /O 
"new_text". This atom is needed to satisfy a requirement from Product 
Marketing, and it changes the Sign Off menu from just "Sign Off" to "Sign 
Off of AOL" or anything else Product Marketing wants to say.

Syntax

atom$mat_bool_signoff_menu <boolean>

<boolean> Identifies the menu entry that contains the signoff 
menu text. Values are:

Yes It is a signoff menu.

No It is not a signoff menu (default).

Object(s) Handled

The object handled by this atom is trigger.

Return Value

Unchanged.

Example

The following example changes the Sign Off menu from just "Sign Off" to 
Product Marketing wants it to say:

atom$man_start_object
atom$mat_bool_signoff_menu <yes>
atom$man_end_object


America Online Confidential 3-94 © America Online, Inc. 1999




November 1999 FDO91 Manual


atom$mat_bool_spinner
141 ($8D)

atom$mat_bool_spinner identifies the current animated art object as a 
spinner, for example, the spinning AOL icon in the AOL 5.0 client.

Syntax

atom$mat_bool_spinner <boolean>

<boolean> Identifies the current animated art object as a spinner. 
Values are:

Yes It is a spinner.

No It is not a spinner (default).

Object(s) Handled

The object handled by this atom is tab_group.

Return Value

None.

Example 

The following example identifies the animated art object as a spinner:

atom$man_start_object <trigger>
atom$mat_relative_tag <1>
atom$mat_art_id <1-0-2201>
atom$mat_art_animation_rate <250>
atom$mat_bool_spinner <1> 
.
.
.
atom$man_end_object


© America Online, Inc. 1999 3-95 America Online Confidential




Chapter 3: Attribute Manager (MAT) Protocol November 1999


atom$mat_bool_static_url
177 ($B1)

atom$mat_bool_static_url lets you change the URL on hybrid forms if 
there is no current URL. 

Syntax

atom$mat_bool_static_url <boolean>

<boolean> Specifies whether the URL remains as set. Values are:

Yes It is a static URL.

No It is not a static URL (default).

Object(s) Handled

The object handled by this atom is ind_group.

Return Value

Unchanged.

Example

The following example identifies that the http://www.aol.com URL 
remains as set:

atom$man_start_object
atom$mat_url "http://www.aol.com"
atom$mat_bool_static_url <yes>
atom$man_end_object


America Online Confidential 3-96 © America Online, Inc. 1999




November 1999 FDO91 Manual


atom$mat_bool_tool_group
126 ($7E) 

atom$mat_bool_tool_group specifies that the current organizational 
group (org_group) object appears as a toolbar.

Syntax

atom$mat_bool_tool_group <boolean>

<boolean> Specifies whether the current object appears as a 
toolbar. Values are:

Yes The object appears as a toolbar.

No The object does not appear as a toolbar 
(default).

Object(s) Handled

The object handled by this atom is org_group.

Return Value

None.

Example

The following example specifies that the current (org_group) object 
appears as a toolbar:

atom$man_start_object <org_group>
.
.
.
atom$mat_bool_tool_group <yes> 


© America Online, Inc. 1999 3-97 America Online Confidential




Chapter 3: Attribute Manager (MAT) Protocol November 1999


atom$mat_bool_url_sink
113 ($71) 

atom$mat_bool_url_sink determines whether uniform resource locators 
(URLs) can be dragged from a list, such as a Favorite Places list, and 
dropped on the current object.

Syntax

atom$mat_bool_url_sink <boolean>

<boolean> Specifies whether URLs can be dropped on the object. 
Values are:

Yes URLs can be dropped on the object.

No URLs cannot be dropped on the object 
(default).

Object(s) Handled

All objects are handled by this atom.

Return Value

None.

Example

The following example enables URLs to be dragged from a list object and 
dropped on the current object:

atom$man_start_object <ind_group>
atom$mat_bool_url_sink <yes> 
atom$man_end_object


America Online Confidential 3-98 © America Online, Inc. 1999




November 1999 FDO91 Manual


atom$mat_bool_vertical_scroll
0 ($00) 

atom$mat_bool_vertical_scroll selects vertical scroll bars for use with 
any view object displayed on a form.

Syntax

atom$mat_bool_vertical_scroll <boolean>

<boolean> Specifies whether the vertical scroll bar is displayed. 
Values are:

Yes The vertical scroll bar is displayed (default).

No The vertical scroll bar is not displayed.

Object(s) Handled

The objects handled by this atom are dms_list, dss_list, view, and 
edit_view.

Return Value

None.

Example

The following example inhibits a vertical scroll bar from appearing with an 
editable view:

atom$man_start_object <edit_view>
atom$mat_bool_vertical_scroll <no> 


© America Online, Inc. 1999 3-99 America Online Confidential




Chapter 3: Attribute Manager (MAT) Protocol November 1999


atom$mat_bool_writeable
39 ($27) 

atom$mat_bool_writeable defines the view as a main editable field in a 
window. This field can be saved or printed if a member selects Save or 
Print.

The body of the mail message on the Compose Mail form is an example of 
a main editable field.

Syntax

atom$mat_bool_writeable <boolean>

<boolean> Specifies whether an object is the main editable field 
on the window. Values are:

Yes The object is the main editable field.

No The object is not the main editable field 
(default).

Object(s) Handled

The object handled by this atom is edit_view.

Return Value

None.

Example

The following example defines the view as a main editable field:

atom$man_start_object <ind_group>
atom$mat_title <"Compose Mail">
atom$man_start_object <edit_view>
atom$mat_bool_writeable <yes> 

The result of this atom stream is that when a member selects Print from the 
main menu bar of the online service application, the content of the 
Compose Mail form prints.


America Online Confidential 3-100 © America Online, Inc. 1999




November 1999 FDO91 Manual


atom$mat_bottom_spacing
189 ($BD)

atom$mat_bottom_spacing sets the bottom spacing in the Tokyo 
(Windows) client.

Syntax

atom$mat_bottom_spacing <x>

<x> Specifies the bottom spacing in pixels.

Return Value

None.

Object(s) Handled

None.

Example

The following example creates a button with 2 pixels of space (padding) on 
the bottom:

atom$man_start_object <trigger, "Hello">
atom$mat_left_spacing <4>
atom$mat_top_spacing <2>
atom$mat_right_spacing <4>
atom$mat_bottom_spacing <2>
atom$man_end_object


© America Online, Inc. 1999 3-101 America Online Confidential




Chapter 3: Attribute Manager (MAT) Protocol November 1999


atom$mat_capacity
9 ($09) 

atom$mat_capacity specifies a limit on the number of characters an 
editable view field can contain.

Syntax

atom$mat_capacity <x>

<x> Specifies how many characters are allowed for 
this field. Values are 1 or greater.

Object(s) Handled

The object handled by this atom is edit_view.

Return Value

None.

Example

The following example specifies a character limit of 32000 on an editable 
view:

atom$man_start_object <edit_view>
atom$mat_capacity <32000> 


America Online Confidential 3-102 © America Online, Inc. 1999




November 1999 FDO91 Manual


atom$mat_color_bottom_edge
85 ($55)

atom$mat_color_bottom_edge defines the color of the bottom and right 
edges of the current button object.

Syntax

atom$mat_color_bottom_edge <r g b>

<r g b> Specifies a color using a 3-byte RGB value as follows:

r First byte defines the red value.

g Second byte defines the green value.

b Third byte defines the blue value.

Object(s) Handled

The objects handled by this atom are ind_group, dms_list, sms_list, 
dss_list, sss_list, trigger, ornament, view, edit_view, range, and 
select_range.

Return Value

None.

Example

The following example defines the button’s bottom and right edges as 
green:

atom$man_start_object <trigger>
atom$mat_art_id <1-0-2199>
atom$mat_color_bottom_edge <0 255 0> 


© America Online, Inc. 1999 3-103 America Online Confidential




Chapter 3: Attribute Manager (MAT) Protocol November 1999


atom$mat_color_face
82 ($52)

atom$mat_color_face defines the face color of the current object. The 
face of a button or group is the main area, minus the edges. The face of a 
window is the background of the window.

Syntax

atom$mat_color_face <r g b>

<r g b> Specifies a color using a 3-byte RGB value as follows:

r First byte defines the red value.

g Second byte defines the green value.

b Third byte defines the blue value.

Object(s) Handled

The objects handled by this atom are org_group, ind_group, dms_list, 
dss_list, and trigger.

Return Value

None.

Example

The following example defines the face color of a trigger as green:

atom$man_start_object <trigger, "Continue">
atom$mat_color_face <0 80 0> 


America Online Confidential 3-104 © America Online, Inc. 1999




November 1999 FDO91 Manual


atom$mat_color_frame_hilight
95 ($5F)

atom$mat_color_frame_hilight defines the highlighted color of the frame 
for the current object. Frame styles can have a highlighted edge and/or a 
shadowed edge. For more information about frame styles, see 
atom$mat_frame_style on page 3-124.

Syntax

atom$mat_color_frame_hilight <r g b>

<r g b> Specifies a color using a 3-byte RGB value as follows:

r First byte defines the red value.

g Second byte defines the green value.

b Third byte defines the blue value.

Object(s) Handled

All objects are handled by this atom.

Return Value

None.

Example

The following example defines the color of a frame’s highlighted edge:

atom$man_start_object <ornament, "MUSIC FORUMS">
atom$mat_orientation <hcc>
atom$mat_precise_x <9>
atom$mat_precise_y <10>
atom$mat_precise_width <204>
atom$mat_precise_height <18>
atom$mat_font_sis <0 10 1>
atom$mat_color_text <248 120 120>
atom$mat_color_face <1 1 1>
atom$mat_color_frame_hilight <124 126 0> 
atom$mat_color_frame_shadow <255 255 255>
atom$mat_frame_style <7>


© America Online, Inc. 1999 3-105 America Online Confidential




Chapter 3: Attribute Manager (MAT) Protocol November 1999


atom$mat_color_frame_shadow
96 ($60)

atom$mat_color_frame_shadow defines the shadowed color of the frame 
for the current object. Frame styles can have a highlighted edge and/or a 
shadowed edge. For more information about frame styles, see 
atom$mat_frame_style on page 3-124.

Syntax

atom$mat_color_frame_shadow <r g b>

<r g b> Specifies a color using a 3-byte RGB value as follows:

r First byte defines the red value.

g Second byte defines the green value.

b Third byte defines the blue value.

Object(s) Handled

All objects are handled by this atom.

Return Value

None.

Example

The following example defines the color of a frame’s shadowed edge:

atom$man_start_object <ornament, “MUSIC FORUMS”>
atom$mat_orientation <hcc>
atom$mat_precise_x <9>
atom$mat_precise_y <10>
atom$mat_precise_width <204>
atom$mat_precise_height <18>
atom$mat_font_sis <0 10 1>
atom$mat_color_text <248 120 120>
atom$mat_color_face <1 1 1>
atom$mat_color_frame_hilight <124 126 0>
atom$mat_color_frame_shadow <255 255 255> 
atom$mat_frame_style <7>


America Online Confidential 3-106 © America Online, Inc. 1999




November 1999 FDO91 Manual


atom$mat_color_selected
89 ($59)

atom$mat_color_selected defines the color of the current button object 
that appears when the button is selected by a member. 

Syntax

atom$mat_color_selected <r g b>

<r g b> Specifies a color using a 3-byte RGB value as follows:

r First byte defines the red value.

g Second byte defines the green value.

b Third byte defines the blue value.

Object(s) Handled

All objects are handled by this atom.

Return Value

None.

Example

The following example defines a button color (yellow/black) that appears 
only when it is selected:

atom$man_start_object <trigger>
atom$mat_color_selected <124 126 0> 


© America Online, Inc. 1999 3-107 America Online Confidential




Chapter 3: Attribute Manager (MAT) Protocol November 1999


atom$mat_color_text
83 ($53)

atom$mat_color_text defines the text color for the current object.

Syntax

atom$mat_color_text <r g b>

<r g b> Specifies a color using a 3-byte RGB value as follows:

r First byte defines the red value.

g Second byte defines the green value.

b Third byte defines the blue value.

Object(s) Handled

The objects handled by this atom are dms_list, sms_list, dss_list, 
sss_list, trigger, ornament, view, edit_view, range, and 
select_range.

Return Value

None.

Example

The following example defines the text to appear black:

atom$man_start_object <dss_list>
atom$mat_color_face <248 232 208>
atom$mat_color_text <64 64 64> 
atom$man_start_object <trigger, "About This Area">


America Online Confidential 3-108 © America Online, Inc. 1999




November 1999 FDO91 Manual


atom$mat_color_text_shadow
90 ($5A)

atom$mat_color_text_shadow applies a colorized shadow to the text of 
the current object. By default, text is not shadowed.

Syntax

atom$mat_color_text_shadow <r g b>

<r g b> Specifies a shadow color using a 3-byte RGB value as 
follows:

r First byte defines the red value.

g Second byte defines the green value.

b Third byte defines the blue value.

Object(s) Handled

The object handled by this atom is ornament.

Return Value

None.

Example

The following example specifies the text to be shadowed in a particular 
color:

atom$man_start_object <ornament, "MUSIC FORUMS">
atom$mat_orientation <hcc>
atom$mat_precise_x <9>
atom$mat_precise_y <10>
atom$mat_precise_width <204>
atom$mat_precise_height <18>
atom$mat_font_sis <0 10 1>
atom$mat_color_text <248 120 120>
atom$mat_color_text_shadow <192 192 192> 
atom$mat_color_face <1 1 1>
atom$mat_color_frame_hilight <124 126 0>
atom$mat_color_frame_shadow <255 255 255>
atom$mat_frame_style <7>


© America Online, Inc. 1999 3-109 America Online Confidential




Chapter 3: Attribute Manager (MAT) Protocol November 1999


atom$mat_color_top_edge
84 ($54)

atom$mat_color_top_edge defines the color for the top and left edges of 
the current button object.

Syntax

atom$mat_color_top_edge <r g b>

<r g b> Specifies a color using a 3-byte RGB value as follows:

r First byte defines the red value.

g Second byte defines the green value.

b Third byte defines the blue value.

Object(s) Handled

The object handled by this atom is trigger.

Return Value

None.

Example

The following example defines the color of a button’s top and left edges:

atom$man_start_object <trigger>
atom$mat_art_id <1-0-2199>
atom$mat_color_top_edge <124 126 0> 


America Online Confidential 3-110 © America Online, Inc. 1999




November 1999 FDO91 Manual


atom$mat_command_key
53 ($35) 

atom$mat_command_key assigns a key or key combination to activate a 
particular object. This feature lets you set up shortcut keys for members to 
use.

Command keys are typically defined for menu bar items. When a 
command key is pressed, the Display Manager first looks for the object on 
the top window, and if the object is not found, it looks on the menu bar. If 
an object on the menu bar has an assigned command key, the command key 
is automatically displayed on the drop-down menu to the right of the 
object's title.

Syntax

atom$mat_command_key <first_key[, modifier_key]>

<first_key> Specifies an ASCII key that the member must press 
to activate an object.

[<modifier_key>] Specifies if a second key must be used in 
conjunction with the first key and, if so, designates 
which key. Values are:

0 No second key is used. The member types 
only the ASCII key specified in the first 
argument.

1 The second key is the CTRL key and must be 
used in conjunction with the ASCII key 
identified in the first argument (default).

2 The second key is the SHIFT key and must be 
used in conjunction with the ASCII key 
identified in the first argument.

Object(s) Handled

The object handled by this atom is trigger.

Return Value

None.


© America Online, Inc. 1999 3-111 America Online Confidential




Chapter 3: Attribute Manager (MAT) Protocol November 1999


Example

The following example assigns command keys for an object on a window:

atom$man_start_object <trigger>
atom$mat_title <"Keyword">
atom$mat_command_key <k, 2> 

The result of this example is that the action associated with the object titled 
"Keyword" is initiated when a member simultaneously presses the SHIFT 
and K keys.


America Online Confidential 3-112 © America Online, Inc. 1999




November 1999 FDO91 Manual


atom$mat_context_help
102 ($66) 

atom$mat_context_help invokes a help bubble (or balloon help) when a 
member positions the cursor over a specific object or location on a form. 
The argument to this atom is the help text that appears in the help bubble.

Syntax

atom$mat_context_help <help_text>

<help_text> The text string that appears in the help bubble.

Object(s) Handled

The objects handled by this atom are dms_list, sms_list, dss_list, 
sss_list, trigger, ornament, view, edit_view, range, and 
select_range.

Return Value

None.

Example

The following example associates a help bubble with the mail write button 
on the toolbar of the online service:

atom$man_start_object <trigger>
atom$mat_context_help <"Write mail and send files."> 
.
.
.
atom$man_end_object


© America Online, Inc. 1999 3-113 America Online Confidential




Chapter 3: Attribute Manager (MAT) Protocol November 1999


atom$mat_dirty_query
54 ($36) 

atom$mat_dirty_query determines whether a member is prompted when 
attempting to close a window when any editable field on the window has 
been changed. This allows the member to save information in the window 
before it is closed.

Syntax

atom$mat_dirty_query <boolean>

<boolean> Specifies whether the member is prompted before the 
window is closed. Values are:

Yes The member is prompted.

No The member is not prompted (default).

Object(s) Handled

The object handled by this atom is ind_group.

Return Value

None.

Example

The following example specifies that a prompt to a member is required 
whenever the member attempts to close the window while the editable 
fields on the window have changes:

atom$man_start_object <ind_group>
atom$mat_title <"NEW.DOC">
atom$mat_dirty_query <yes> 
atom$man_start_object <edit_view>
atom$mat_bool_writeable <yes>
atom$man_end_object
atom$man_start_object <trigger>


America Online Confidential 3-114 © America Online, Inc. 1999




November 1999 FDO91 Manual


atom$mat_factory_id
191 ($BF)

atom$mat_factory_id notifies the Display Manager that a particular 
object is managed by another GUID. The factory ID is a 16 byte GUID (as 
created by Microsoft's UUIDGEN tool, for example). This ID is used to 
look up the tool or object that used to create the window (independent 
group in this example) when the man_update_display is processed. A 
GUID is used because it can be uniquely generated by anyone and a global 
list does not have to be maintained by AOL. Unlike mat_tool_id, which is 
generally applied to "views", mat_factory_id can be used for any type of 
FDO object.

Syntax

atom$mat_factory_id <x>

<x> Specifies the GUID that manages the object. 

Object(s) Handled

The objects handled by this atom are view and edit_view.

Return Value

None.

Example

The following example notifies the Display Manager that a particular 
object is managed by another factory ID:

man_start_object <ind_group, "Hello">
mat_factory_id <23x, EAx, 9Bx, 04x, 67x, CCx, 4Ax, 50x, F7x, 
A8x, 97x, 00x, 87x, 35x, 11x, D1x>
...
...
...
man_update_display
man_end_object


© America Online, Inc. 1999 3-115 America Online Confidential




Chapter 3: Attribute Manager (MAT) Protocol November 1999


atom$mat_field_script
104 ($68) 

atom$mat_field_script is described in Appendix B, "Internationalization 
(i18n) Atoms."


America Online Confidential 3-116 © America Online, Inc. 1999




November 1999 FDO91 Manual


atom$mat_font_id
48 ($30) 

atom$mat_font_id defines the font ID for the current object. This atom 
has been superseded by atom$mat_font_sis on page 3-119, which lets you 
set the font ID, the font size, and font style.

Syntax

atom$mat_font_id <font_id>

<font_id> Specifies the font ID in which to display the text. 
Values are:

0 arial (If not found, ms_sans_serif)

1 courier

2 times_roman (If not found, ms_serif)

3 system

4 fixed_system

5 ms_serif

6 ms_sans_serif

7 small_fonts

8 courier_new

9 script

10 ms_mincho

11 ms_gothic

Object(s) Handled

The objects handled by this atom are dms_list, dss_list, trigger, 
ornament, view, edit_view, range, and select_range.


© America Online, Inc. 1999 3-117 America Online Confidential




Chapter 3: Attribute Manager (MAT) Protocol November 1999


Return Value

None.

Example

The following example defines an MS serif font for the object title News:

atom$man_start_object <trigger>
atom$mat_title <"News">
atom$mat_font_id <5> 


America Online Confidential 3-118 © America Online, Inc. 1999




November 1999 FDO91 Manual


atom$mat_font_sis
10 ($0A) 

atom$mat_font_sis defines the font ID, size, and style for the current 
object. This atom can be used with any field that displays text. This atom 
supersedes atom$mat_font_id, atom$mat_font_size, and 
atom$mat_font_style, and should be used to set the font ID, font size, and 
font style.

Syntax

atom$mat_font_sis <font_id[, size][, style]>

<font_id> Specifies the font ID in which to display the text. 
Values are:

0 arial (If not found, ms_sans_serif)

1 courier

2 times_roman (If not found, ms_serif)

3 system

4 fixed_system

5 ms_serif

6 ms_sans_serif

7 small_fonts

8 courier_new

9 script

10 ms_mincho

11 ms_gothic

[<size>] Specifies the point size in which to display the text.

[<style>] Specifies the style in which to display the text. Values 
are:

0 normal


© America Online, Inc. 1999 3-119 America Online Confidential




Chapter 3: Attribute Manager (MAT) Protocol November 1999


1 bold

2 italic

4 underline

If the style values are added together, the text displays a combination of the 
styles. For example, a value of 3 displays text in bold and italic.

Object(s) Handled

The objects handled by this atom are dms_list, dss_list, trigger, 
ornament, view, edit_view, range, and select_range.

Return Value

None.

Example

The following example defines an Arial font, 8 point font size, and bold 
font style to an object's title:

atom$man_start_object <trigger>
atom$mat_title <"What's New">
atom$mat_font_sis <0, 8, 1> 


America Online Confidential 3-120 © America Online, Inc. 1999




November 1999 FDO91 Manual


atom$mat_font_size
49 ($31) 

atom$mat_font_size defines the font size for the current object. This atom 
has been superseded by atom$mat_font_sis on page 3-119, which lets you 
set the font size, the font ID, and font style.

Syntax

atom$mat_font_size <size>

<size> Specifies the point size in which to display the 
text.

Object(s) Handled

The objects handled by this atom are dms_list, dss_list, trigger, 
ornament, view, edit_view, range, and select_range.

Return Value

None.

Example

The following example defines a font size 8 for an object's title:

atom$man_start_object <trigger>
atom$mat_title <"News">
atom$mat_font_size <8> 


© America Online, Inc. 1999 3-121 America Online Confidential




Chapter 3: Attribute Manager (MAT) Protocol November 1999


atom$mat_font_style
50 ($32) 

atom$mat_font_style defines the font style for the current object. This 
atom has been superseded by atom$mat_font_sis on page 3-119, which lets 
you set the font style, the font ID, and font size.

Syntax

atom$mat_font_style <style>

<style> Specifies the style in which to display the text. This is 
an optional argument. Values are:

0 normal

1 bold

2 italic

4 underline

If the style values are added together, the text displays a 
combination of the styles. For example, a value of 3 
displays text in bold and italic style.

Object(s) Handled

The objects handled by this atom are dms_list, dss_list, trigger, 
ornament, view, edit_view, range, and select_range.

Return Value

None.

Example

The following example sets the font's style to bold:

atom$man_start_object <trigger>
atom$mat_title <"News">
atom$mat_font_style <4> 


America Online Confidential 3-122 © America Online, Inc. 1999




November 1999 FDO91 Manual


atom$mat_form_icon
115 ($73) 

atom$mat_form_icon specifies the art ID for the mini-icon located in the 
upper-left corner of a window common to all Windows 95 applications. 
This atom is intended for use with the 32-bit (Windows 95) client version 
of the service.

Syntax

atom$mat_form_icon <art_id>

<art_id> Specifies the art ID for the icon.

Object(s) Handled

The object handled by this atom is ind_group.

Return Value

None.

Example

The following example assigns the art ID for the icon for the trigger 
object:

atom$man_start_object <trigger>
atom$mat_relative_tag <1>
atom$mat_trigger_style <2>
atom$mat_art_id <1-2-3456>
atom$mat_form_icon <1-0-2199> 
atom$mat_precise_x <370>
atom$mat_precise_y <10>
.
.
.
atom$man_end_object


© America Online, Inc. 1999 3-123 America Online Confidential




Chapter 3: Attribute Manager (MAT) Protocol November 1999


atom$mat_frame_style
87 ($57)

atom$mat_frame_style determines the type of frame style for the current 
object.

Syntax

atom$mat_frame_style <type>

<type> Specifies the type of frame style to use. Values are:

0 none—Single line border (Windows default)

1 single_line_pop_out—Single line border 
with pop-out shadowing

2 single_line_pop_in—Single line border 
with pop-in shadowing

3 pop_in—No border with pop-in shadowing

4 pop_out—No border with pop-out 
shadowing

5 double_line—Double-line border

6 shadow—Standard shadowing

7 highlight—Highlighting for static text

Object(s) Handled

All objects are handled by this atom.

Return Value

None.

Example

The following example defines the frame style (no border with pop-in 
shadowing) for a dynamic, single-select list:


America Online Confidential 3-124 © America Online, Inc. 1999




November 1999 FDO91 Manual


atom$man_start_object <dss_list>
atom$mat_frame_style <3> 


© America Online, Inc. 1999 3-125 America Online Confidential




Chapter 3: Attribute Manager (MAT) Protocol November 1999


atom$mat_height
16 ($10) 

atom$mat_height specifies the height of the current object. You can use 
this atom to establish how many text lines you want to appear in a view 
field. atom$mat_height and atom$mat_width work independently on a 
window.

Syntax

atom$mat_height <x>

<x> Specifies the height for the current object. Values 
are 1 or greater. A value of 1 is equal to the height 
of one line of text in the standard system font.

Object(s) Handled

The objects handled by this atom are dms_list, dss_list, trigger, 
ornament, view, edit_view, range, and select_range.

Return Value

None.

Example

The following example specifies the height of a view object:

atom$man_start_object <view>
atom$mat_height <10> 
atom$mat_width <60>

This example sets the height of the view to 10 characters. The height is 
based on the size of the standard system font.


America Online Confidential 3-126 © America Online, Inc. 1999




November 1999 FDO91 Manual


atom$mat_horizontal_spacing
57 ($39) 

atom$mat_horizontal_spacing changes the horizontal spacing between 
the current object and any object to its right. You can use this atom to 
change the spacing between objects on a window. 

Syntax

atom$mat_horizontal_spacing <x> 

<x> Specifies the amount of horizontal spacing in 
multiples of normal spacing. Values are 1 or 
greater. For example, a value of 1 is equal to the 
normal (default) space between two objects, 2 is 
equal to twice the normal space, and so on. A 
value of 0 equals no spacing, which is used for 
objects on the toolbar.

Object(s) Handled

The objects handled by this atom are dms_list, dss_list, trigger, 
ornament, view, edit_view, range, and select_range.

Return Value

None.

Example

The following example changes the horizontal spacing of two buttons:

atom$man_start_object <ind_group>
atom$mat_orientation <hff>
atom$mat_position <hfc>
atom$man_start_object <trigger>
atom$mat_title <"Button 1">
atom$mat_horizontal_spacing <3> 
atom$man_end_object
atom$man_start_object <trigger>
atom$mat_title <"Button 2">


© America Online, Inc. 1999 3-127 America Online Confidential




Chapter 3: Attribute Manager (MAT) Protocol November 1999


atom$mat_increment
73 ($49) 

atom$mat_increment defines the incremental value for editable range 
fields (spin gadgets). atom$mat_minimum on page 3-137 and 
atom$mat_maximum on page 3-136 are used in conjunction with this 
atom.

The application of this atom can be seen on the Download Preferences 
window of the Windows client of the online service, where a member can 
set the number of downloads on which to retain information.

Syntax

atom$mat_increment <x>

<x> Specifies the incremental numeric value for the 
editable range field. Values are 0 or greater with a 
default value of 10.

Object(s) Handled

The object handled by this atom is select_range.

Return Value

None.

Example

The following example defines an incremental value of 10 for an editable 
range:

atom$man_start_object <select_range>
atom$mat_minimum <0>
atom$mat_maximum <100>
atom$mat_increment <10> 


America Online Confidential 3-128 © America Online, Inc. 1999




November 1999 FDO91 Manual


atom$mat_intl_font_sis
178 ($B2)

atom$mat_intl_font_sis defines the secondary font ID, size, and style for 
the current object.  By default, the current object should use the font 
defined by atom$mat_font_sis (or atom$mat_font_id, 
atom$mat_font_size, atom$mat_font_style).  When international text is 
sent to the object, based on the text type, the secondary font may be used to 
display the international text.

Syntax

atom$mat_intl_font_sis <font_id[, size][, style]>

<font_id> Specifies the font ID in which to display the text. 
Values are:

0 arial (If not found, ms_sans_serif)

1 courier

2 times_roman (If not found, ms_serif)

3 system

4 fixed_system

5 ms_serif

6 ms_sans_serif

7 small_fonts

8 courier_new

9 script

10 ms_mincho

11 ms_gothic

[<size>] Specifies the point size in which to display the text.

[<style>] Specifies the style in which to display the text. Values 
are as follows:

0 normal


© America Online, Inc. 1999 3-129 America Online Confidential




Chapter 3: Attribute Manager (MAT) Protocol November 1999


1 bold

2 italic

4 underline

Object(s) Handled

The objects handled by this atom are dms_list, dss_list, trigger, 
ornament, view, edit_view, range, and select_range.

Return Value

None.

Example

The following example defines an Arial font, 8 point font size, and bold 
font style to an object's title:

atom$man_start_object <trigger>
atom$mat_title <"What's New">
atom$mat_intl_font_sis <0, 8, 1> 


America Online Confidential 3-130 © America Online, Inc. 1999




November 1999 FDO91 Manual


atom$mat_left_spacing
186 ($BA)

atom$mat_left_spacing sets the left spacing in the Tokyo (Windows) 
client.

Syntax

atom$mat_left_spacing <x>

<x> Specifies the left spacing in pixels.

Return Value

None.

Object(s) Handled

Example

The following example creates a button with 4 pixels of space (padding) on 
the left:

atom$man_start_object <trigger, "Hello">
atom$mat_left_spacing <4>
atom$mat_top_spacing <2>
atom$mat_right_spacing <4>
atom$mat_bottom_spacing <2>
atom$man_end_object


© America Online, Inc. 1999 3-131 America Online Confidential




Chapter 3: Attribute Manager (MAT) Protocol November 1999


atom$mat_link_content_to_rid
76 ($4C)

atom$mat_link_content_to_rid links multiple text fields and saves them 
as one piece of text. When you link text fields, the first text field must 
always be defined as the main editable view, using 
atom$mat_bool_writeable.

This atom is currently used in many Rainman forms. For more information 
about Rainman, see the America Online manual, Bringing Information 
Online Using Rainman.

Syntax

atom$mat_link_content_to_rid <x>

<x> Specifies the relative ID of the next text field to 
link the current text field to. Values are 1 or 
greater.

Object(s) Handled

The objects handled by this atom are view and edit_view.

Return Value

None.

Example

The following example links multiple text fields together:

atom$uni_start_stream
.
.
.
atom$man_start_object <edit_view>
atom$mat_relative_tag <1>
atom$mat_bool_writeable <yes>
atom$mat_link_content_to_rid <2> 
atom$mat_end_object
atom$man_start_object <edit_view>
atom$mat_relative_tag <2>
atom$mat_link_content_to_rid <3> 
atom$mat_end_object
.
.  (Definition of object with relative ID 3 goes here...)


America Online Confidential 3-132 © America Online, Inc. 1999




November 1999 FDO91 Manual


.
atom$uni_end_stream


© America Online, Inc. 1999 3-133 America Online Confidential




Chapter 3: Attribute Manager (MAT) Protocol November 1999


atom$mat_log_object
65 ($41) 

atom$mat_log_object specifies the logging for an object. The argument 
defines which log holds the object data, or the argument can turn logging 
off. The object must be the main view on the window. 

Syntax

atom$mat_log_object [<log_flag>]

[<log_flag>] Specifies which log to use or turns off object logging. 
Values are:

0 session_log—Session log (Default)

1 chat_log—Chat log

2 im_log—Instant Message™ log

3 no_log—Do not log

Object(s) Handled

The objects handled by this atom are view and edit_view.

Return Value

None.

Example

The following example specifies that data be logged to the session log for a 
view object:

atom$man_start_object <view>
atom$mat_bool_writeable <yes>
atom$mat_log_object <0> 


America Online Confidential 3-134 © America Online, Inc. 1999




November 1999 FDO91 Manual


atom$mat_managed_by
55 ($37) 

atom$mat_managed_by notifies the Display Manager that a particular 
object is managed by another protocol (tool).

Syntax

atom$mat_managed_by <x>

<x> Specifies the protocol ID that manages the object. 
Protocol IDs are maintained in the atoms.h file 
and are listed in Table 3-1 on page 3-1 of this 
manual.

Object(s) Handled

The objects handled by this atom are view and edit_view.

Return Value

None.

Example

The following example notifies the Display Manager that an object is 
managed by another protocol with an ID of 20 (Multimedia Interface):

atom$man_start_object <view>
atom$mat_managed_by <20> 


© America Online, Inc. 1999 3-135 America Online Confidential




Chapter 3: Attribute Manager (MAT) Protocol November 1999


atom$mat_maximum
60 ($3C) 

atom$mat_maximum specifies the maximum value of a range field. This 
atom is used in conjunction with atom$mat_minimum on page 3-137.

The application of this atom can be seen on the Download Preferences 
window of the Windows client of the online service, where a member can 
set the number of downloads on which to retain information. This atom can 
also be used with noneditable ranges (for example, gauges, or meters).

Syntax

atom$mat_maximum <x>

<x> Specifies the highest allowable number for the 
range field. Values are 0 or greater. The default 
value is 100 except when the current object type 
is range or select_range.

Object(s) Handled

All objects are handled by this atom.

Return Value

None.

Example

The following example specifies a minimum and maximum value for a 
range:

atom$man_start_object <select_range>
atom$mat_minimum <0>
atom$mat_maximum <100> 


America Online Confidential 3-136 © America Online, Inc. 1999




November 1999 FDO91 Manual


atom$mat_minimum
59 ($3B) 

atom$mat_minimum specifies the minimum value of a range field. This 
atom is used in conjunction with atom$mat_maximum on page 3-136.

The application of this atom can be seen on the Download Preferences 
window of the Windows client of the online service, where a member can 
set the number of downloads on which to retain information. This atom can 
also be used with noneditable ranges (for example, gauges or meters).

Syntax

atom$mat_minimum <dword>

<dword> Specifies the lowest allowable value for the range 
field. Values are 0 or greater with a default value 
of 0.

Object(s) Handled

The objects handled by this atom are range and select_range.

Return Value

None.

Example

The following example specifies a minimum and maximum value for a 
range:

atom$man_start_object <select_range>
atom$mat_minimum <0> 
atom$mat_maximum <100>


© America Online, Inc. 1999 3-137 America Online Confidential




Chapter 3: Attribute Manager (MAT) Protocol November 1999


atom$mat_object_id
12 ($0C) 

atom$mat_object_id defines the global ID for the current object.

Syntax

atom$mat_object_id <global_ID>

<global_ID> Specifies the global ID for the current object. The 
default value is 0.

Object(s) Handled

All objects are handled by this atom.

Return Value

None.

Example

The following example assigns a global ID of 32-137 to the window:

atom$man_start_object <ind_group>
atom$mat_object_id <32-137> 


America Online Confidential 3-138 © America Online, Inc. 1999




November 1999 FDO91 Manual


atom$mat_object_type
45 ($2D) 

atom$mat_object_type defines the object type of the current object.

Syntax

atom$mat_object_type <object_type>

<object_type> Specifies the object type for the current object. The 
object type can be specified using the object ID or 
object name, as follows:

0 org_group—An organizational group.

1 ind_group—An independent group (for 
example, a window).

2 dms_list—A dynamic, multiselect list (for 
example, a list box where more than one item 
is selectable).

3 sms_list—A static, multiselect list (for 
example, a check box).

4 dss_list—A dynamic, single-select list (for 
example, a list box where only one item is 
selectable).

5 sss_list—A static, single-select list (for 
example, radio buttons).

6 trigger—An actionable object (for example, 
a button, icon, menu item).

7 ornament—A static or decorative object (for 
example, a picture, static text).

8 view—A view field (used for display of 
larger amounts of text or a graphic where, if 
necessary, scroll bars are available).

9 edit_view—An editable view field (used for 
input text fields where members can enter 
text).


© America Online, Inc. 1999 3-139 America Online Confidential




Chapter 3: Attribute Manager (MAT) Protocol November 1999


12 range — A range (used for display of graphic 
representation of a value, such as a bar 
gauge).

13 select_range — A selectable range (used 
for an easy user interface for entering numeric 
data, such as a spin gadget).

17 tool_group — A toolbar (used on any form 
or frame window including tab controls).

18 tab_group — A tab control (defines an 
object group of tab pages, frames or forms).

19 tab_page — A tabbed page, frame or form 
(used on a list box with a labeled tab).

Object(s) Handled

All objects are handled by this atom.

Return Value

None.

Example

The following example assigns view as an object type to an object:

atom$man_insert_object_before <32-123>
atom$mat_object_type <view> 


America Online Confidential 3-140 © America Online, Inc. 1999




November 1999 FDO91 Manual


atom$mat_orientation
8 ($08) 

atom$mat_orientation defines justification and orientation for groups, 
static lists, and ornament text fields.

Syntax

atom$mat_orientation <o_hj_vj>

<o_hj_vj> Specifies the group's orientation and justification. The 
argument requires three characters. The first character 
defines the orientation axis with the following values:

h Horizontal

v Vertical

The second character defines the type of justification 
on the horizontal axis with the following values:

c Center

l Left

r Right

f Full (similar to even justification but no space 
is left between outside objects and the edge of 
the screen)

e Even (evenly spaced)

n None

The third character defines the type of justification on 
the vertical axis with the following values:

c Center

t Top

b Bottom

f Full (similar to even justification but no space 
is left between outside objects and the edge of 
the screen)


© America Online, Inc. 1999 3-141 America Online Confidential




Chapter 3: Attribute Manager (MAT) Protocol November 1999


e Even (evenly spaced)

n None

This 8-bit argument can also have binary values 
assigned as follows:

Bits 7 and 6 Define the orientation axis with values 
as follows:

0 Horizontal

1 Vertical

Bits 5 - 0 Define the type of justification. Bits 5, 
4, and 3 define the horizontal and bits 2, 
1, and 0 define the vertical justification 
type, with 3-bit values for each set as 
follows:

2 Center

3 Left

4 Right

5 Full 

6 Even

Object(s) Handled

The objects handled by this atom are org_group, ind_group, ornament, 
sms_list, sss_list, view, and edit_view.

Return Value

None.

Example

The following example defines the orientation and justification for objects 
on a form:

atom$man_start_object <ind_group>


America Online Confidential 3-142 © America Online, Inc. 1999




November 1999 FDO91 Manual


atom$man_start_object <org_group>
atom$mat_orientation <hee> 
atom$man_start_object <trigger>
atom$mat_title <"Button 1">
atom$man_end_object
atom$man_start_object <trigger>
atom$mat_title <"Button 2">
atom$man_end_object
atom$man_start_object <trigger>
atom$mat_title <"Button 3">
atom$man_end_object

The result of this example is shown in Figure 3-1. It is a form with an 
organizational group made up of three buttons. The buttons are 
horizontally oriented and have even justification horizontally and 
vertically, as shown in Figure 3-1:

button 1 but ton 2 but ton 3

Figure 3-1: Horizontal Group Orientation


© America Online, Inc. 1999 3-143 America Online Confidential




Chapter 3: Attribute Manager (MAT) Protocol November 1999


atom$mat_paragraph
66 ($42)

atom$mat_paragraph determines whether text in a view field wraps to an 
indent after the first line of text. 

Note that this atom is used on chat views to allow room for the screen name 
that appears to the left of a member's comments.

Syntax

atom$mat_paragraph <boolean>

<boolean> Specifies whether the text wraps to an indent. Values 
are:

Yes Specifies that text indent is on.

No Specifies that text indent is off (default).

Object(s) Handled

The objects handled by this atom are view and edit_view.

Return Value

None.

Example

The following example wraps the text to an indent in a view field for chat:

atom$man_start_object <view, “”>
atom$mat_size <50, 17, 8192>
atom$mat_relative_tag <256>
atom$mat_scroll_threshold <4096>
atom$mat_bool_force_scroll <yes>
atom$mat_paragraph <yes> 
atom$mat_log_object <chat_log>
atom$mat_ruler <15, 45>
atom$mat_bool_force_scroll <yes>
atom$mat_bool_writeable <yes>
atom$man_end_object


America Online Confidential 3-144 © America Online, Inc. 1999




November 1999 FDO91 Manual


atom$mat_popup_relative_id
163 ($A3)

atom$mat_popup_relative_id assigns a relative ID to a popup menu 
object.

Syntax

atom$mat_popup_relative_id <x>

<x> Specifies the relative ID of the popup menu. 
Values are 1 or greater.

Object(s) Handled

The objects handled by this atom are dss_list and trigger.

Return Value

None.

Example

The following example defines the relative ID of the popup menu:

atom$uni_start_stream
.
.
.
atom$man_start_object <trigger, “”>
atom$mat_popup_relative_id <2> 
atom$mat_popup_pfc_path <”C:\AOL40\organize\”>
atom$man_end_context
.
.
.
atom$uni_end_stream


© America Online, Inc. 1999 3-145 America Online Confidential




Chapter 3: Attribute Manager (MAT) Protocol November 1999


atom$mat_popup_pfc_path
164 ($A4)

atom$mat_popup_pfc_path defines the path to the top-level object to 
build a popup menu.

Syntax

atom$mat_popup_pfc_path <string>

<string> Specifies the path to the top-level object to build a 
popup menu.

Object(s) Handled

The object handled by this atom is dss_list and trigger.

Return Value

None.

Example

The following example defines the path to build a popup menu:

atom$uni_start_stream
.
.
.
atom$man_start_object <trigger, “”>
atom$mat_popup_relative_id <2>
atom$mat_popup_pfc_path <”C:\AOL40\organize”> 
atom$man_end_context
.
.
.
atom$uni_end_stream


America Online Confidential 3-146 © America Online, Inc. 1999




November 1999 FDO91 Manual


atom$mat_position
64 ($40)

atom$mat_position determines the window's position on the screen. This 
atom is only used for independent group (ind_group) objects. 

Syntax

atom$mat_position <position> 

<position> Specifies the window's position on the screen. Values 
are as follows:

0 Defines a cascaded display that arranges 
active windows in a cascading fashion with 
the current window on top.

1-9 Figure 3-2 shows a screen divided into 9 areas 
that relate to defined position values 1 
through 9.

1 2 3

4 5 6

7 8 9

Figure 3-2: Window Positioning

Object(s) handled

The object handled by this atom is ind_group. 


© America Online, Inc. 1999 3-147 America Online Confidential




Chapter 3: Attribute Manager (MAT) Protocol November 1999


Return Value

None. 

Example

The following example specifies the object’s position as in the top right 
window of the screen:

atom$man_start_object <ind_group> "" 
atom$mat_orientation <vff>  
atom$mat_position <3>   
...
atom$man_end_object


America Online Confidential 3-148 © America Online, Inc. 1999




November 1999 FDO91 Manual


atom$mat_precise_height
79 ($4F)

atom$mat_precise_height defines the height of the current object in 
pixels. To set both height and width, use atom$mat_size on page 3-165.

Syntax

atom$mat_precise_height <x>

<x> Specifies the height in pixels. Values are 1 or 
greater.

Object(s) Handled

All objects are handled by this atom.

Return Value

None.

Example

The following example defines a window to have a precise height of 333 
pixels:

atom$man_start_object <ind_group>
atom$mat_bool_precise <yes>
atom$mat_precise_height <333> 


© America Online, Inc. 1999 3-149 America Online Confidential




Chapter 3: Attribute Manager (MAT) Protocol November 1999


atom$mat_precise_width
78 ($4E)

atom$mat_precise_width defines the width of the current object in pixels. 
To set both height and width, use atom$mat_size on page 3-165.

Syntax

atom$mat_precise_width <x>

<x> Specifies the width in pixels. Values are 1 or 
greater.

Object(s) Handled

All objects are handled by this atom.

Return Value

None.

Example

The following example defines a window to have a precise width of 500 
pixels:

atom$man_start_object <ind_group>
atom$mat_bool_precise <yes>
atom$mat_precise_width <500> 


America Online Confidential 3-150 © America Online, Inc. 1999




November 1999 FDO91 Manual


atom$mat_precise_x
80 ($50)

atom$mat_precise_x determines the horizontal (x-axis) coordinate in 
pixels that is used to position children of a precise group. This atom is used 
in conjunction with atom$mat_precise_y on page 3-153.

Syntax

atom$mat_precise_x <x>

<x> Specifies the horizontal pixel coordinate used to 
position children of a precise group. Values are 0 
or greater.

Object(s) Handled

The objects handled by this atom are org_group, dms_list, sms_list, 
dss_list, sss_list, trigger, ornament, view, edit_view, range, 
and select_range.

Return Value

None.

Example

The following example defines the placement of the text ornament (Music 
Forums) to have a precise horizontal coordinate of 9 pixels in the Roll Over 
Beethoven window:

atom$man_start_object <ind_group, "Roll Over Beethoven">
atom$mat_bool_background_pic <yes>
atom$mat_art_id <1-0-2196>
atom$mat_bool_precise <yes>
atom$mat_precise_width <500>
atom$mat_precise_height <333>
atom$man_start_object <ornament, "Music Forums">
atom$mat_orientation <hcc>
atom$mat_precise_x <9> 
atom$mat_precise_y <10>
atom$mat_precise_width <204>
atom$mat_precise_height <18>
.
.
.
atom$man_end_object


© America Online, Inc. 1999 3-151 America Online Confidential




Chapter 3: Attribute Manager (MAT) Protocol November 1999


.

.  (The definition of more objects goes here...)

.
atom$man_end_object


America Online Confidential 3-152 © America Online, Inc. 1999




November 1999 FDO91 Manual


atom$mat_precise_y
81 ($51)

atom$mat_precise_y determines the vertical (y-axis) coordinate in pixels 
that is used to position children of a precise group. This atom is used in 
conjunction with atom$mat_precise_x on page 3-151.

Syntax

atom$mat_precise_y <y>

<y> Specifies the vertical pixel coordinate used to 
position children of a precise group. Values are 0 
or greater.

Object(s) Handled

The objects handled by this atom are org_group, dms_list, sms_list, 
dss_list, sss_list, trigger, ornament, view, edit_view, range, 
and select_range.

Return Value

None.

Example

The following example defines the placement of a dynamic list box to have 
a precise vertical coordinate of 33 pixels in the Mozart Forum window:  

atom$man_start_object <ind_group, "Mozart Forum">
atom$mat_bool_background_pic <yes>
atom$mat_art_id <1-0-2196>
atom$mat_bool_precise <yes>
atom$mat_precise_width <500>
atom$mat_precise_height <333>
atom$man_start_object <dss_list>
atom$mat_frame_style <3>
atom$mat_bool_no_border <yes>
atom$mat_color_face <248 232 208>
atom$mat_color_text <64 64 64>
atom$mat_precise_x <10>
atom$mat_precise_y <33> 
atom$mat_precise_width <200>
atom$mat_precise_height <248>
atom$man_start_object <trigger, "RockLink">
atom$man_end_object


© America Online, Inc. 1999 3-153 America Online Confidential




Chapter 3: Attribute Manager (MAT) Protocol November 1999


atom$man_start_object <trigger, "Critic’s Choice">
atom$man_end_object
.
.
.
atom$man_end_object
.
.  (The definition of more objects goes here...)
.
atom$man_end_object


America Online Confidential 3-154 © America Online, Inc. 1999




November 1999 FDO91 Manual


atom$mat_relative_tag
11 ($0B) 

atom$mat_relative_tag defines the relative ID of the current object. 
Objects on the same window must have unique relative IDs.

Syntax

atom$mat_relative_tag <dword>

<dword> Specifies the relative ID of the current object. 
Values are 0 or greater with a default value of 0.

Object(s) Handled

The objects handled by this atom are org_group, dms_list, sms_list, 
dss_list, sss_list, trigger, ornament, view, edit_view, range, 
and select_range.

Return Value

None.

Example

The following example defines relative IDs (1 and 2) for objects on a 
window:

atom$man_start_object <trigger>
atom$mat_relative_tag <1> 
atom$man_end_object
atom$man_start_object <trigger>
atom$mat_relative_tag <2> 
atom$man_end_object


© America Online, Inc. 1999 3-155 America Online Confidential




Chapter 3: Attribute Manager (MAT) Protocol November 1999


atom$mat_right_spacing
188 ($BC)

atom$mat_right_spacing sets the right spacing in the Tokyo (Windows) 
client.

Syntax

atom$mat_right_spacing <x>

<x> Specifies the right spacing in pixels.

Return Value

None.

Object(s) Handled

None.

Example

The following example creates a button with 4 pixels of space (padding) on 
the right:

atom$man_start_object <trigger, "Hello">
atom$mat_left_spacing <4>
atom$mat_top_spacing <2>
atom$mat_right_spacing <4>
atom$mat_bottom_spacing <2>
atom$man_end_object


America Online Confidential 3-156 © America Online, Inc. 1999




November 1999 FDO91 Manual


atom$mat_ruler
18 ($12) 

atom$mat_ruler sets one or more tab stops to the ruler of the current 
object. Each argument indicates one tab stop. If no argument is specified, 
any tabs that exist on the ruler for the current object are cleared.

This atom is used with list boxes, views, and labels. The text of the object 
must be embedded with tab characters for this feature to work properly.

Syntax

atom$mat_ruler <[tab_1][, tab_2]…[, tab_n]>

[<tab_1>] Specifies the first tab stop. A value of 1 is equal to 
one character of text in the standard system font.

[,tab_2]…[,tab_n] Specifies other optional tab stops that can be 
added in a series. A value of 1 is equal to one 
character of text in the standard system font.

Return Value

None.

Object(s) Handled

The objects handled by this atom are dms_list, dss_list, view, and 
edit_view.

Example

The following example sets the tab stops for text on a form:

atom$man_start_object <dss_list>
atom$mat_title <"Products for Sale">
atom$man_start_object <trigger>
atom$mat_ruler <7, 15> 
atom$mat_title <"8475→Sweatshirt→19.95">
atom$man_start_object <trigger>
atom$mat_title <"8411→T-shirt→10.95">
atom$man_start_object <trigger>
atom$mat_title <"8422→Nightshirt→15.95">


© America Online, Inc. 1999 3-157 America Online Confidential




Chapter 3: Attribute Manager (MAT) Protocol November 1999


The result of this example is shown in Figure 3-3:

Products for Sale

8475 Sweatshir t 19.95
8411 T-shirt 10.95
8422 Nightshirt 15.95

Figure 3-3: Tab Stops in a Form


America Online Confidential 3-158 © America Online, Inc. 1999




November 1999 FDO91 Manual


atom$mat_sage_context_help
184 ($B8)

atom$mat_sage_context_help enables the "What's This" feature in the 
help system for the K2 client.

Syntax

atom$mat_sage_context_help <string>

<string> Specifies the text string.

Return Value

None.

Object(s) Handled

None.

Example

The following example enables the "What's This" feature in the help 
system for the K2 client:

atom$man_start_object <view>
atom$mat_edit_view
atom$mat_sage_context_help <text>


© America Online, Inc. 1999 3-159 America Online Confidential




Chapter 3: Attribute Manager (MAT) Protocol November 1999


atom$mat_scroll_threshold
67 ($43) 

atom$mat_scroll_threshold determines how many bytes of text are 
retained in a view. Once data in the view reaches its maximum capacity 
(see atom$mat_capacity on page 3-102), some old data is trimmed from the 
view so new data can appear. This feature is used in the chat area of the 
online service.

Syntax

atom$mat_scroll_threshold <x>

<x> Specifies the number of bytes to retain in a view 
after its capacity is reached. The values are 1 or 
greater with a default value of 0.

Object(s) Handled

The objects handled by this atom are view and edit_view.

Return Value

None.

Example

The following example specifies a view to trim old data and accept new 
data when there is a limited buffer:

atom$man_start_object <view>
atom$mat_capacity <32000>
atom$mat_scroll_threshold <8000>


America Online Confidential 3-160 © America Online, Inc. 1999




November 1999 FDO91 Manual


atom$mat_secure_field
170 ($AA)

atom$mat_secure_field is used to mark a field for secure extraction. The 
atom is also used to set the level of encryption for extracting the field.

Syntax

atom$mat_secure_field <text>

<text> Specifies a two-byte argument that is a word that 
is used to indicate the cypher to be used when 
encrypting the extracted data.

Object(s) Handled

The object handled by this atom is view.

Return Value

None.

Example

The following example tells the display manager to secure a field:

atom$man_start_object <view>
atom$mat_edit_view
atom$mat_secure_field <text>


© America Online, Inc. 1999 3-161 America Online Confidential




Chapter 3: Attribute Manager (MAT) Protocol November 1999


atom$mat_secure_form
136 ($88)

atom$mat_secure_form forces all input field data on a form that is 
transferred to the host to be secure. 

Syntax

atom$mat_secure_form <x y>

<x> Specifies the token (two bytes) to send to the host 
server. The value is a code of two ASCII 
characters. Wu (57x 75x) defines a security tag 
for data transmission and is the default token.

<y> Specifies the numeric token argument (four 
bytes), which specifies the security level of the 
field data transmissions to send to the host server. 
The default security level is 0 or token argument 
of 00x 00x 00x 00x.

Object(s) Handled

The object handled by this atom is ind_group.

Return Value

None.

Example

The following example sends a Wu token with an argument value of 00 hex 
to establish a secure field transmission level of 0. In this example, 57x = W 
and 75x = u.

atom$uni_start_stream 
.
.
.
atom$man_start_object <ind_group>
atom$mat_size <A0x 78x>
atom$mat_relative_tag <101>
atom$mat_secure_form <57x 75x 00x 00x 00x 00x> 
00x>atom$uni_end_stream


America Online Confidential 3-162 © America Online, Inc. 1999




November 1999 FDO91 Manual


atom$mat_shortcut_key
68 ($44) 

atom$mat_shortcut_key defines the character that can be used by the 
member as a shortcut key for the current object. A member uses shortcut 
keys to select a menu item or a button on a window using keys on the 
keyboard, instead of pointing and clicking with the mouse.

Syntax

atom$mat_shortcut_key <key> 

<key> Specifies the ASCII value of the shortcut key.

Object(s) Handled

The object handled by this atom is trigger.

Return Value

None.

Example

The following example defines the shortcut key:

atom$man_start_object <dss_list>
atom$man_start_object <trigger>
atom$mat_title <"Go To">
atom$mat_shortcut_key <g>
atom$man_end_object

The result of this example is that members can activate the Go To menu 
item by pressing ALT-G.


© America Online, Inc. 1999 3-163 America Online Confidential




Chapter 3: Attribute Manager (MAT) Protocol November 1999


atom$mat_sink
111 ($6F) 

atom$mat_sink specifies the destination folder where a Favorite Places 
item is saved. The argument to this atom is the path of the Favorite Places 
section of the Personal Filing Cabinet (PFC) of the online service. The PFC 
is used to organize and maintain objects such as mail documents, download 
files, and Favorite Places (bookmarks).

Syntax

atom$mat_sink <path> 

<path> The path for the Favorite Places section.

Object(s) Handled

The object handled by this atom is ind_group.

Return Value

None.

Example

The following example specifies that the item is semt to the Incoming/
Saved mail section of Favorite Places:

atom$man_start_object <ind_group>
atom$mat_sink <"Favorite Places/Incoming/Saved Mail">
atom$man_end_object


America Online Confidential 3-164 © America Online, Inc. 1999




November 1999 FDO91 Manual


atom$mat_size
23 ($17) 

atom$mat_size defines the width and height of the current object. 

Syntax

atom$mat_size <width, height>

<width> Specifies the width for the current object. A value 
of 1 is equal to the width of one character of text 
in the standard system font. Values range from 0 
to 235.

<height> Specifies the height for the current object. A value 
of 1 is equal to the height of one line of text in the 
standard system font. Values range from 0 to 235.

Object(s) Handled

The objects handled by this atom are dms_list, dss_list, trigger, 
ornament, view, edit_view, range, and select_range.

Return Value

None.

Example

The following example defines a width of 25 and a height of 1 for an 
ornament object:

atom$man_start_sibling <ornament, “”>
atom$mat_size <25,1>
atom$mat_font_id <arial>
atom$mat_font_size <18>
atom$mat_font_style <bold>
atom$man_append_data <”keyword”>
atom$man_end_object 


© America Online, Inc. 1999 3-165 America Online Confidential




Chapter 3: Attribute Manager (MAT) Protocol November 1999


atom$mat_sort_order
69 ($45) 

atom$mat_sort_order establishes the sort order of items in a list.   

Syntax

atom$mat_sort_order <sort_value> 

<sort_value> Specifies the order in which the list items are sorted. 
Values are:

0 normal—The new item is added at the end of 
the list (default).

1 reverse—The new item is added at the 
beginning of the list.

2 alphabetical—The new item is added 
alphabetically.

Object(s) Handled

The objects handled by this atom are dms_list and dss_list.

Return Value

None.

Example

The following example sorts items in a list in alphabetical order:

atom$man_start_object <dss_list>
atom$mat_sort_order <2>
.
.
.
atom$man_set_context_globalid <32-123>
atom$man_start_object <trigger>
atom$man_end_object
atom$man_start_object <trigger>
atom$man_end_object
atom$man_start_object <trigger>
atom$man_end_object


America Online Confidential 3-166 © America Online, Inc. 1999




November 1999 FDO91 Manual


atom$mat_spacing
190 ($BE)

atom$mat_spacing adds an absolute pixel spacing to the size of any object 
in the Tokyo (Windows) client.

Syntax

atom$mat_spacing <w,x,y,z>

<w,x,y,z> Specifies the pixel spacing to be added to the left, 
top, right, and bottom of an object.

Return Value

None.

Object(s) Handled

Example

The following example creates a button with 4 pixels of space (padding) on 
the left and right, and 2 pixels on the top and bottom:

man_start_object <trigger, "Hello">
mat_spacing <4,2,4,2>
man_end_object


© America Online, Inc. 1999 3-167 America Online Confidential




Chapter 3: Attribute Manager (MAT) Protocol November 1999


atom$mat_style_id
58 ($3A) 

atom$mat_style_id defines the size and position of a window through the 
use of an ID from the Windows style database. The style ID is normally the 
global ID of the window. The style ID is preset on Rainman forms.

Syntax

atom$mat_style_id <style_ID>

<style_ID> Specifies the style ID to use. See the Windows 
style database for values. The default value is 0, 
which specifies that no style is used.

Object(s) Handled

The object handled by this atom is ind_group.

Return Value

None.

Example

The following example defines style 5 on a window:

atom$man_start_object <ind_group>
atom$mat_style_id <5>


America Online Confidential 3-168 © America Online, Inc. 1999




November 1999 FDO91 Manual


atom$mat_tab_get_cur_sel
155 ($9B)

atom$mat_tab_get_cur_sel gets the index value of the currently selected 
tabbed object or the tabbed page in focus.

Syntax

atom$mat_tab_get_cur_sel 

Object(s) Handled

The object handled by this atom is tab_group.

Return Value

Index value of the tabbed object in focus. Values are 0 or greater.

Example

The following example gets the index value of the currently selected 
tabbed object and stores it in register A:

atom$uni_start_stream
atom$man_set_context_relative <11>
atom$mat_tab_get_cur_sel 
atom$var_number_set_from_atom <A>
atom$uni_end_stream


© America Online, Inc. 1999 3-169 America Online Confidential




Chapter 3: Attribute Manager (MAT) Protocol November 1999


atom$mat_tab_set_cur_sel
154 ($9A)

atom$mat_tab_set_cur_sel puts a tabbed object in focus as the currently 
selected page or form.

Syntax

atom$mat_tab_set_cur_sel <x>

<x> Specifies an index value of the tabbed object. 
Values are 0 or greater.

Object(s) Handled

The object handled by this atom is tab_group.

Return Value

None.

Example

The following example sets the tab control index to 0 and focuses 
(activates) object 11 as the currently selected tabbed object:

atom$man_set_context_globalid <41-6134>
atom$man_set_context_relative <11>
atom$mat_tab_set_cur_sel <0>
atom$man_end_context


America Online Confidential 3-170 © America Online, Inc. 1999




November 1999 FDO91 Manual


atom$mat_text_on_picture_pos
135 ($87)

atom$mat_text_on_picture_pos determines the position of a button’s title 
and art. This atom is used only for a button object (trigger) with a trigger 
style of text_on_picture. 

Syntax

atom$mat_text_on_picture_pos <byte_bit_set>

<byte_bit_set> Specifies the position of the title and art on the 
button. Values of this 8-bit argument whose high 
4 bits specify the position of the art and whose 
low 4 bits specify the position of the title are 
defined as follows:

00x—art_middle_center

10x—art_upper_left

20x—art_upper_center

30x—art_upper_right

40x—art_middle_left

50x—art_middle_right

60x—art_lower_left

70x—art_lower_center

80x—art_lower_right

00x—title_middle_center

01x—title_upper_left

02x—title_upper_center

03x—title_upper_right

04x—title_middle_left

05x—title_middle_right

06x—title_lower_left

07x—title_lower_center

08x—title_lower_right

By default, the title and art are placed in the center of the button object 
(position value 00). 


© America Online, Inc. 1999 3-171 America Online Confidential




Chapter 3: Attribute Manager (MAT) Protocol November 1999


Figure 3-4 shows the face of a button object divided into nine areas that 
relate to the defined position values 0 through 8: 

1 2 3

4 0 5

6 7 8

Figure 3-4: Text or Art Positions on Button

Object(s) Handled

The object handled by this atom are trigger and ornament.

Return Value

None.

Example

The following example specifies the position of the text on the lower right 
portion of the art in the lower center section:

atom$man_start_object <trigger> "Test"
atom$mat_trigger_style <8> 
atom$mat_text_on_picture_pos 72x 
atom$mat_art_id <1-1-31435> 
atom$mat_bool_default <yes> 
...
atom$man_end_object


America Online Confidential 3-172 © America Online, Inc. 1999




November 1999 FDO91 Manual


atom$mat_title_hint
193 ($C1)

atom$mat_title_hint returns wm_gettext for screen readers even for 
objects that do not display a title when wm_gettext returns nothing. 

Syntax
atom$mat_title_hint <string> 

atom$mat_text_on_picture_pos <byte_bit_set>

<string> Specifies the hidden title to be stored.

Object(s) Handled

The objects handled by this atom are ind_group, dms_list, sms_list, 
dss_list, sss_list, trigger, ornament, view, edit_view, 

range and select_range.

Return Value

None.

Example

The following example returns the title for the specified object:

atom$man_start_object <ind_group>
atom$mat_title_hint <"welcome">


© America Online, Inc. 1999 3-173 America Online Confidential




Chapter 3: Attribute Manager (MAT) Protocol November 1999


atom$mat_top_spacing
187 ($BB)

atom$mat_top_spacing sets the top spacing above any object in the 
Tokyo (Windows) client. 

Syntax

atom$mat_top_spacing <x>

<x> Specifies the top spacing in pixels.

Return Value

None.

Object(s) Handled

Example

The following example creates a button with 2 pixels of space (padding) on 
the top:

atom$man_start_object <trigger, "Hello">
atom$mat_left_spacing <4>
atom$mat_top_spacing <2>
atom$mat_right_spacing <4>
atom$mat_bottom_spacing <2>
atom$man_end_object


America Online Confidential 3-174 © America Online, Inc. 1999




November 1999 FDO91 Manual


atom$mat_treectrl_set_ class
192 ($C0)

atom$mat_treectrl_set_ class is used for tree control to set the 
<class_type>.

Syntax

atom$mat_treectrl_set_ class <class_type> 

<class_type> Specifies a dword for the class_type so the object 
handler registers based on the class type.Values are:

1 Class type is folder.

2 Class type is buddy_online.

3 Class type is buddy_offline.

Return value

None.

Object Handled

The object handled by this atom is Tree Control.

Example

The following example sets the class type for specified object to 
buddy_online:

atom$man_start_object <21> "TreeCtrl"
atom$mat_treectrl_set_class <2>
....
atom$man_end_object


© America Online, Inc. 1999 3-175 America Online Confidential




Chapter 3: Attribute Manager (MAT) Protocol November 1999




America Online Confidential 3-176 © America Online, Inc. 1999



===== END PDF: ch03-mat.pdf =====

===== BEGIN PDF: ch04-buf.pdf =====



Manual: FDO91 Manual
Chapter 4: Buffer Protocol defines the buffer protocol atoms and provides information for
handling data packets.
Last updated: January 1994




C H A P T E R  4

Buffer (BUF) Protocol

The Buffer (BUF) protocol (protocol ID 4) consists of atoms that centralize
the management of all host-bound data.  This includes:

• Forming atom streams.

• Breaking atoms into large atom segments when the data length exceeds
255 bytes.

• Breaking data correctly on packet boundaries so an individual atom does
not span multiple packets.

• Accepting raw data as well as atom data.

• Buffering packets when the P3 tool is busy.

• Acting as the throttle control between the P3 tool and all other tools.

The Buffer Tool can process up to sixteen concurrent buffers.  Buffers are
associated with stream IDs and use the stream ID for reference once created.
The life of a buffer usually terminates as soon as the stream ID is made inactive
by the atomizer.  However, a buffer can extend its life past the terminated
stream ID by specifying the appropriate flag.  This may be useful if the caching
of data from a process is required and called upon at a later date, or temporary
storage for the result of an action is needed.  If for some reason all sixteen
buffers are active and a tool requires the use of a buffer, the buffer tool purges
and reassigns a buffer whose original stream ID previously terminated.  This
priority is necessary to avoid any gridlocks that could develop.  Currently the
host and client computers only use one to two buffers concurrently.

Most buffer usage comes directly from local tools on the client computer.
Every atom call has an equivalent tool message call.  The message calls made
by tools to manipulate the buffers allow more arguments and flexibility than
their counterparts, which are atom commands.  A buffer atom may not have an

America Online Confidential 4-1  America Online, Inc. 1993-94




Chapter 4: Buffer (BUF) Protocol January 1994

applicable usage from the host side but is listed here since a message equivalent
for tools is used by the client computer side.

As a process adds data to a buffer, the Buffer Tool keeps track of where to
place the data in the buffer.  This is referred to as the current insertion point
throughout this document.  The atom value used for creating an atom stream
defaults to UNI_DATA.  The token value used to start an atom stream
defaults to "K1".

Buffer Protocol Atoms

The Buffer protocol atoms are described in alphabetical order in the rest of this
chapter.

America Online Confidential 4-2  America Online, Inc. 1993-94




January 1994 FDO91 Manual, Vol. 1

atom$buf_add_atom_data
2 ($02)

Description

atom$buf_add_atom_data adds up to 4 bytes of data to the buffer at the
current insertion point.  The current value of atom$buf_set_data_atom is
used for the atom value when the atom packet atom$uni_data is formed.  The
calling tool must remove any leading zeros from the data if they are not
significant.

Syntax

atom$buf_add_atom_data <data>

<data> Specifies up to 4 bytes of data.

Return Value

A pointer to the data in the buffer.

Example

In the following example, the stream created is UNI_DATA, 4, 0, 2, 5, 6

atom$buf_add_atom_data <0 , 2, 5, 6>

 America Online, Inc. 1993-94 4-3 America Online Confidential




Chapter 4: Buffer (BUF) Protocol January 1994

atom$buf_add_atom_data_flip
36 ($24)

Description

atom$buf_add_atom_data_flip adds up to 4 bytes of data to the buffer at the
current insertion point.  The current value of atom$buf_set_data_atom is
used for the atom value when the atom packet atom$uni_data is formed.  The
data value is reversed before it is added to the buffer.

This overcomes some conversion problems associated with Intel's storage
format that may be encountered by several tools.  Any leading zeros are
removed, after flipping, before the data is added to the buffer.

Syntax

atom$buf_add_atom_data_flip <data>

<data> Specifies up to 4 bytes of data.

Return Value

A pointer to the data in the buffer.

Example

In the following example, the stream created is UNI_DATA, 4, 6, 5, 2, 0

atom$buf_add_atom_data_flip <0, 2, 5, 6>

America Online Confidential 4-4  America Online, Inc. 1993-94




January 1994 FDO91 Manual, Vol. 1

atom$buf_add_atom_data_trim
16 ($10)

Description

atom$buf_add_atom_data_trim adds up to 4 bytes of data to the buffer at
the current insertion point.  The current value of atom$buf_set_data_atom is
used for the atom value when the atom packet atom$uni_data is formed.  All
leading zeros are removed from the data before it is added to the buffer.  If the
actual value is zero, the atom length is set to zero and no data is included with
the atom.

Syntax

atom$buf_add_atom_data_trim <data>

<data> Specifies up to 4 bytes of data.

Return Value

A pointer to the data in the buffer.

Example

In the following example, the stream created is UNI_DATA, 2, 5, 6

atom$buf_add_atom_data_trim <0, 0, 5, 6>

 America Online, Inc. 1993-94 4-5 America Online Confidential




Chapter 4: Buffer (BUF) Protocol January 1994

atom$buf_add_atom_pointer
1 ($01)

Description

atom$buf_add_atom_pointer adds the specified block of data to the buffer at
the current insertion point.  If the size of the buffer is greater then the
outbound buffer value, the data is broken into large atom segments.  The
current value of atom$buf_set_data_atom is used for the atom value when
the atom packet atom$uni_data is formed.

Syntax

atom$buf_add_atom_pointer <data>

<data> Specifies binary unlimited data.

Return Value

A pointer to the data in the buffer.

Example

In the following example, the stream created is UNI_DATA,16, This is a
test\n\r.

atom$buf_add_atom_pointer <"This is a test\n\r">

America Online Confidential 4-6  America Online, Inc. 1993-94




January 1994 FDO91 Manual, Vol. 1

atom$buf_add_atom_pointer_filter
14 ($0E)

Description

atom$buf_add_atom_pointer_filter adds the specified block of data to the
buffer at the current insertion point.  If the size of the buffer is greater than the
outbound buffer value, the data is broken into large atom segments.  The
current value of atom$buf_set_data_atom is used for the atom value when
the atom packet atom$uni_data is formed.  The data is scanned for carriage
returns and linefeeds.  Any occurrences of these characters are replaced by a
0x7F character.

Syntax

atom$buf_add_atom_pointer_filter <data>

<data> Specifies binary data.

Return Value

A pointer to the data in the buffer.

Example

In the following example, the stream created is UNI_DATA, 14, This is a test.

atom$buf_add_atom_pointer_filter <"This is a test\n\r">

 America Online, Inc. 1993-94 4-7 America Online Confidential




Chapter 4: Buffer (BUF) Protocol January 1994

atom$buf_add_atom_pointer_flip
35 ($23)

Description

atom$buf_add_atom_pointer_flip adds the specified block of data to the
buffer at the current insertion point.  If the size of the buffer is greater than the
outbound buffer value, the data is broken in large atom segments.  The current
value of atom$buf_set_data_atom is used for the atom value when the atom
packet <atom$uni_data><len><data> is formed.  The data is reversed before it
is placed into the buffer.

Syntax

atom$buf_add_atom_pointer_flip <data>

<data> Specifies up to 4 bytes of data.

Return Value

A pointer to the data in the buffer.

Example

In the following example, the stream created is UNI_DATA, 4, 4, 3, 2, 1

atom$buf_add_atom_pointer_flip <1, 2, 3, 4>

America Online Confidential 4-8  America Online, Inc. 1993-94




January 1994 FDO91 Manual, Vol. 1

atom$buf_add_data
4 ($04)

Description

atom$buf_add_data adds up to 4 bytes of data to the buffer at the current
insertion point.  The calling tool must assign a length that removes any leading
zeros if they are not significant.

Syntax

atom$buf_add_data <data>

<data> Specifies up to 4 bytes of data.

Return Value

A pointer to the data in the buffer.

Example

In the following example, <1, 2, 3> is added to the current buffer.  No atom is
created.

atom$buf_add_data <1, 2, 3>

 America Online, Inc. 1993-94 4-9 America Online Confidential




Chapter 4: Buffer (BUF) Protocol January 1994

atom$buf_add_data_flip
37 ($25)

Description

atom$buf_add_data_flip adds up to 4 bytes of data to the buffer at the
current insertion point.  The data value is reversed before it is added to the
buffer.  This overcomes some conversion problems associated with Intel's
storage format that may be encountered by several tools.  Any leading zeros
are removed, after flipping, before the data is added to the buffer.

Syntax

atom$buf_add_data_flip <data>

<data> Specifies up to 4 bytes of data.

Return Value

A pointer to the data in the buffer.

Example

In the following example, the stream created is <6, 5, 2, 0>.  No atom is
created.

atom$buf_add_data_flip <0, 2, 5, 6>

America Online Confidential 4-10  America Online, Inc. 1993-94




January 1994 FDO91 Manual, Vol. 1

atom$buf_add_data_trim
17 ($11)

Description

atom$buf_add_data_trim adds up to 4 bytes of data to the buffer at the
current insertion point.  All leading zeros are removed from the data before it is
added to the buffer.  If the actual value is zero, the atom length is set to zero
and no data is included with the atom.

Syntax

atom$buf_add_atom_trim <data>

<data> Specifies up to 4 bytes of data.

Return Value

A pointer to the data in the buffer.

Example

In the following example, the stream created is <5, 6>.  No atom is created.

atom$buf_add_atom_trim <0, 0, 5, 6>

 America Online, Inc. 1993-94 4-11 America Online Confidential




Chapter 4: Buffer (BUF) Protocol January 1994

atom$buf_add_pointer
3 ($03)

Description

atom$buf_add_pointer adds the specified block of data to the buffer at the
current insertion point. If the size of the buffer is greater than the outbound
buffer value, the data is broken into chunks that maximize each packet size.
The calling tool must break the data if any boundary restraints exist.

Syntax

atom$buf_add_pointer <data>

<data> Specifies binary data.

Return Value

A pointer to the data in the buffer.

Example

In the following example, <1, 2, 3, 4> is added to the buffer at the current
insertion point.

atom$buf_add_pointer <1, 2, 3, 4>

America Online Confidential 4-12  America Online, Inc. 1993-94




January 1994 FDO91 Manual, Vol. 1

atom$buf_add_token
5 ($05)

Description

atom$buf_add_token forces the current token to be added to the buffer at the
current insertion point.

Syntax

atom$buf_add_token

Return Value

A pointer to the data in the buffer.

Example

In the following example, <K1>, which is the current token, is added to the
buffer.

atom$buf_add_token

 America Online, Inc. 1993-94 4-13 America Online Confidential




Chapter 4: Buffer (BUF) Protocol January 1994

atom$buf_clear_buffer
7 ($07)

Description

atom$buf_clear_buffer resets the current buffer pointers and clears any
existing data out of the buffer.  All header information in the current buffer is
then applied to the cleared buffer based on the current flags.

Syntax

atom$buf_clear_buffer

Return Value

Unchanged

Example

In the following example, the current stream ID buffer is reset.

atom$buf_clear_buffer

America Online Confidential 4-14  America Online, Inc. 1993-94




January 1994 FDO91 Manual, Vol. 1

atom$buf_close_buffer
8 ($08)

Description

atom$buf_close_buffer forces the current buffer to be terminated with the
appropriate data appended based on the current flag settings.  If the
HOST_BOUND flag is set, the buffer is sent to the host and then closed.

The data field for this atom is optional.  If the data field is specified and
contains a non-zero value, the current buffer is aborted and closed.  If the field
is not specified or contains a value of zero, the buffer is closed in the normal
fashion as shown in the example.

Syntax

atom$buf_close_buffer <flag>

<flag> Specifies a 1-byte flag.

Return Value

Unchanged

Examples

In the following example, the buffer is closed for the current stream ID.

atom$buf_close_buffer

In the following example, the buffer is terminated for the current stream ID.
An atom$buf_start_buffer is required to reopen a buffer for this stream ID.

atom$buf_close_buffer <1>

 America Online, Inc. 1993-94 4-15 America Online Confidential




Chapter 4: Buffer (BUF) Protocol January 1994

atom$buf_debug_dump_buffers
33 ($21)

Description

atom$buf_debug_dump_buffers forces the contents of all receive buffers to
be printed based on the print flags that have been set.

Syntax

atom$buf_debug_dump_buffers

Return Value

Unchanged

Example

In the following example, the contents of the receive buffers are printed.

atom$buf_debug_dump_buffers

America Online Confidential 4-16  America Online, Inc. 1993-94




January 1994 FDO91 Manual, Vol. 1

atom$buf_load_buffer_from_db
10 ($0A)

Description

atom$buf_load_buffer_from_db loads the database record specified by the
global ID into the buffer at the current insertion point.

Syntax

atom$buf_load_buffer_from_db  <global_ID>

<global_ID> Specifies a 1 to 4-byte global ID.

Return Value

Unchanged

Example

In the following example, database record 36 is retrieved and its contents are
appended to the current buffer.

atom$buf_load_buffer_from_db <36>

 America Online, Inc. 1993-94 4-17 America Online Confidential




Chapter 4: Buffer (BUF) Protocol January 1994

atom$buf_save_buffer_to_db
9 ($9)

Description

atom$buf_save_buffer_to_db saves the contents of the current buffer to the
database with the specified global ID.

Syntax

atom$buf_save_buffer_to_db <global_ID>

<global_ID> Specifies a 1 to 4 byte global ID.

Return Value

Unchanged

Example

In the following example, database record 34 is assigned the contents of the
current buffer.

atom$buf_save_buffer_to_db <34>

America Online Confidential 4-18  America Online, Inc. 1993-94




January 1994 FDO91 Manual, Vol. 1

atom$buf_send_buffer_to_host
11 ($0B)

Description

atom$buf_send_buffer_to_host forces the contents of the current buffer to
be sent to the host.  Any required suffixes are added to the buffer based on the
atom$buf_set_flags in use before the buffer is sent to the host.

Syntax

atom$buf_send_buffer_to_host

Return Value

Unchanged

Example

In the following example, the current buffer is transmitted to the host and a
new buffer is opened for this stream ID.

atom$buf_send_buffer_to_host

 America Online, Inc. 1993-94 4-19 America Online Confidential




Chapter 4: Buffer (BUF) Protocol January 1994

atom$buf_set_data_atom
18 ($12)

Description

atom$buf_set_data_atom is added to the buffer before data that is added
using the atom$buf_add_atom_data or atom$buf_add_atom_pointer.
When the buffer is first created the default atom is atom$uni_data.

Syntax

atom$buf_set_data_atom <atom>

<atom> Specifies a 1-byte atom.

Return Value

Unchanged

Example

In the following example, the atom UNI_VOID, which is required each time an
atom data packet is started, is used .

atom$buf_set_data_atom <UNI_VOID>

America Online Confidential 4-20  America Online, Inc. 1993-94




January 1994 FDO91 Manual, Vol. 1

atom$buf_set_flags
12 ($0C)

Description

atom$buf_set_flags is used to set or change the current flags associated with
a buffer.  Normally the flags are specified with atom$buf_start_buffer.  The
flags that are currently used by the Buffer Tool are listed below the example.

Syntax

atom$buf_set_flags <flags>

<flags> Specifies 1 to 4 bytes of flags.  Valid flag values are:

BUF_FLAG_DEFAULTS — This is the default flag
and indicates no options have been selected.

BUF_FLAG_TOKEN_HEADER — Tells the Buffer
Tool to insert the stored token value at the beginning of
every packet it creates.  The default token is 'K1'.

BUF_FLAG_STREAM_ID_HEADER — Tells the
Buffer Tool that the current buffer consists of atoms and
to insert the stored stream ID at the beginning of every
packet it creates.  Stream IDs created by the Buffer
Tool are always two bytes long.

BUF_FLAG_START_STREAM_HEADER — Tells
the Buffer Tool to insert the universal atom
atom$uni_start_stream only at the beginning of the
first packet it creates.  Buffer flags are checked in the
following order when the Buffer Tool looks at a packet:
TOKEN_HEADER, STREAM_ID_ HEADER, and
then START_STREAM_HEADER.  The insertion point
is moved based on the setting of each flag as it is
checked.

BUF_FLAG_END_STREAM_TRAILER — Tells the
Buffer Tool to append the universal atom
atom$uni_end_stream at the end of the last packet it
creates.  This is done when the Buffer Tool receives the
atom$buf_close_buffer atom.

 America Online, Inc. 1993-94 4-21 America Online Confidential




Chapter 4: Buffer (BUF) Protocol January 1994

BUF_FLAG_RESPONSE_ID_HEADER — Tells the
Buffer Tool to append the atom
atom$man_set_response_id at the current insertion
point of the buffer if the response ID is non-zero.

BUF_FLAG_HOST_BOUND_DATA — Tells the
Buffer Tool to review the outbound P3 data size as data
is added to the buffer.  If the data exceeds the outbound
size, the buffer is sent to the P3 tool for transmission to
the host.  Once the buffer is sent to P3, the Buffer Tool
resets its current indices and starts a new buffer.  Data
that was previously in the Buffer Tool's buffer is no
longer available to other tools.

On startup, the P3 tool broadcasts to all tools the
inbound and outbound data buffer sizes.  If the P3 tool
receives a message to change its buffer sizes once
online, a new message is broadcast to all tools.  This
message affects any buffer that is currently being built.

BUF_FLAG_DATA_INCLUDED — Used only in
conjunction with the atom$buf_start_buffer atom.
Tells the Buffer Tool to open a buffer and include the
data with the atom.  The Buffer Tool then adds the data
to the buffer and transmits the buffer if the
HOST_BOUND_DATA flag is set.  A
atom$buf_close_buffer is then assumed.  The data is
limited to 4 bytes.  This flag is designed as a shorthand
for the Buffer Tool.

BUF_FLAG_LEAVE_BUFFER_OPEN — Tells the
Buffer Tool to leave the buffer open after the current
stream ID terminates so another stream can use it.  The
buffer is closed if all 16 Buffer slots are filled and a tool
requests a new buffer.

BUF_FLAG_CLEAR_BUFFER — Tells the Buffer
Tool to clear the contents of the current buffer and start
a new buffer.  This flag is only checked when a
atom$buf_set_flags atom is sent.

America Online Confidential 4-22  America Online, Inc. 1993-94




January 1994 FDO91 Manual, Vol. 1

The following buffer flags are used for printing
(debugging purposes only):

BUF_FLAG_PRINT_RECEIVE_BUFFERS — The
Buffer Tool contains two types of buffers.  The first
type is called a receive buffer.  This is the buffer type
that all tools place data into.  The second type is called a
queued buffer.  Once the receive buffer is filled
(HOST_BOUND flag set and reached outbound value),
the buffer is given to the P3 tool.  If the P3 tool is busy,
this buffer is queued.  Once a buffer is queued it can no
longer be modified or closed by a tool or an atom
command.  A new receive buffer is then created for the
caller tool or atom stream to continue to place data into.

BUF_FLAG_PRINT_QUEUED_BUFFERS — Tells
the Buffer Tool to print the contents of any buffers that
have been queued, because the P3 tool is busy and
unable to accept any more data.  The queued buffers are
separate from the receive buffers.  Up to 100 buffers
may be queued by the Buffer Tool.

BUF_FLAG_PRINT_ATOM_BUFFERS — When a
buffer is printed, the output can appear as raw hex data,
or the data can be interpreted with English text
substituted for atoms.  Setting this flag causes the
printing of English text for the atoms along with length
and data.

BUF_FLAG_PRINT_BUFFER_ON_XMIT — If the
HOST_BOUND flag is set, the contents of the buffer
are printed just before it is sent to the P3 tool for
transmission to the host.  The type of printing must be
specified.  (i.e. PRINT_RECEIVE_BUFFERS etc.)

Return Value

Unchanged

 America Online, Inc. 1993-94 4-23 America Online Confidential




Chapter 4: Buffer (BUF) Protocol January 1994

Example

In the following example, the flags for the current buffer are reset to the
specified value.

atom$buf_set_flags <BUF_FLAG_HOST_BOUND_ATOMS>

America Online Confidential 4-24  America Online, Inc. 1993-94




January 1994 FDO91 Manual, Vol. 1

atom$buf_set_token
6 ($06)

Description

atom$buf_set_token resets the current token that is used at the beginning of
the current and future packets built for this stream ID.  If the
TOKEN_HEADER flag is set, the new token is immediately reflected in the
current buffer.  If a stream does not explicitly set a token the default token is
"K1".

Syntax

atom$buf_set_token <token>

<token> Specifies 2 bytes of token data.

Return Value

Unchanged

Example

In the following example, the current token is set to "wT" for the duration of
this stream ID.

atom$buf_set_token <"wT">

 America Online, Inc. 1993-94 4-25 America Online Confidential




Chapter 4: Buffer (BUF) Protocol January 1994

atom$buf_start_buffer
24 ($18)

Description

atom$buf_start_buffer tells the Buffer Tool to open a buffer.  Up to 16
concurrent buffers can be active at a time.  The stream ID argument is
implicitly defined for this atom as the current stream ID.

Tools that use this atom in messages have the option of specifying the stream
ID or letting the Buffer Tool assign one.  Buffer flags are outlined under
atom$buf_set_flags.  The data argument is optional, and if used the flags must
be fully specified (4 bytes) and the flag DATA_INCLUDED must be set.

Syntax

atom$buf_start_buffer  <flags> [<data>]

<flags> Specifies 1 to 4 bytes of flags.

<data> Specifies optional unlimited data.

Return Value

Unchanged

Example

atom$buf_start_buffer <BUF_FLAG_HOST_BOUND_ATOMS |
BUF_FLAG_DATA_INCLUDED |BUF_FLAG_RESPONSE_ID_HEADER, 1,2,3>

In the following example, the following buffer is created and sent to the host:

<token - K1>  <stream ID 2 Bytes>
<atom$uni_start_stream>
<atom$man_set_response_id  <4>  <1,2,3,4>
<atom$uni_data>  <3>  <1,2,3>
<atom$uni_end_stream>

America Online Confidential 4-26  America Online, Inc. 1993-94




January 1994 FDO91 Manual, Vol. 1

atom$buf_use_buffer
24 ($18)

Description

atom$buf_use_buffer is similar to atom$buf_start_buffer, except if a buffer
already exists for the current stream ID, no further action is taken.  If one does
not exist, a buffer is opened and the arguments are passed to
atom$buf_start_buffer.

Syntax

atom$buf_use_buffer <flags> <data>

<flags> Specifies 1 to 4 bytes of flags.

<data> Specifies unlimited data.

Return Value

Unchanged

Example

atom$buf_use_buffer

See atom$buf_start_buffer for an example.

 America Online, Inc. 1993-94 4-27 America Online Confidential



===== END PDF: ch04-buf.pdf =====

===== BEGIN PDF: ch06-man.pdf =====





Chapter 6:

Display Manager Protocol

The Display Manager (MAN) protocol (protocol ID 1) consists of atoms 
that are responsible for handling objects displayed on online service forms. 
Display Manager protocol atoms control the creation and management of 
objects and basic form display. Multiple hierarchies of display objects are 
maintained. 

Display Manager Protocol Atoms

The Display Manager (MAN) protocol functions and their associated atoms 
follow:

Table 6-1: Display Manager Protocol Functions and Atoms

Function Atoms Page

Object definition, atom$man_end_object 6-29
creation, start or end atom$man_insert_object_after 6-44

atom$man_insert_object_before 6-45

atom$man_preset_gid 6-63

atom$man_preset_relative 6-64

atom$man_start_alpha 6-83

atom$man_start_first 6-86

atom$man_start_last 6-89

atom$man_start_object 6-92

atom$man_start_sibling 6-94

Object context setting atom$man_change_context_relative 6-10
or ending atom$man_check_and_set_context_rid 6-11

atom$man_end_context 6-26

atom$man_set_context_globalid 6-70

atom$man_set_context_index 6-72

atom$man_set_context_relative 6-74


© America Online, Inc. 1999 6-1 America Online Confidential




Chapter 6: Display Manager Protocol November 1999


Table 6-1: Display Manager Protocol Functions and Atoms

Function Atoms Page

atom$man_set_context_response_id 6-75

Object tree navigation atom$man_get_child_count 6-33

atom$man_get_first_window 6-36

atom$man_get_next_window 6-39

Objects or windows atom$man_close 6-15
closing atom$man_close_children 6-16

Window minimization atom$man_is_window_iconic 6-49

Focus on objects atom$man_do_magic_response_id 6-21
setting or detecting atom$man_do_magic_token_arg 6-22

atom$man_get_top_window 6-42

atom$man_is_rendered 6-46

atom$man_make_focus 6-57

atom$man_place_cursor 6-60

Response ID objects atom$man_do_magic_response_id 6-21
management atom$man_get_first_response_id 6-35

atom$man_get_next_response_id 6-38

atom$man_get_request_window 6-40

atom$man_get_response_window 6-41

atom$man_ignore_response 6-43

atom$man_is_response_ignored 6-47

atom$man_is_response_pending 6-48

atom$man_response_pop 6-68

atom$man_set_context_response_id 6-75

atom$man_set_response_id 6-80

Object data content — atom$man_append_data 6-4
clearing or appending atom$man_clear_file_name 6-12

atom$man_clear_object 6-13

atom$man_clear_relative 6-14

atom$man_end_data 6-27

atom$man_replace_data 6-67

Secure IP sessions atom$man_append_secure_data 6-5
management atom$man_end_ip_session 6-28

atom$man_set_append_secure_data 6-69

atom$man_start_ip_session 6-88

Object display update atom$man_close_update 6-17

atom$man_update_display 6-97

atom$man_update_end_object 6-98

atom$man_update_fonts 6-99


America Online Confidential 6-2 © America Online, Inc. 1999




November 1999 FDO91 Manual


Table 6-1: Display Manager Protocol Functions and Atoms

Function Atoms Page

atom$man_update_woff_end_stream 6-100

atom$man_post_update_gid 6-61

atom$man_force_update 6-31

Pop-up menu items— atom$man_build_favorites_menu 6-6
appending atom$man_build_savemail_menu 6-8

Object edit atom$man_do_edit_menu 6-19
management atom$man_set_edit_position 6-77

atom$man_set_edit_position_to_end 6-78

Object titles atom$man_get_index_by_title 6-37
management atom$man_preset_title 6-65

atom$man_set_default_title 6-76

atom$man_use_default_title 6-101

Object attributes of the atom$man_get_attribute 6-32
Attribute Manager 
(MAT) atom protocol 
management

Form management atom$man_display_popup_menu 6-18

atom$man_spell_check 6-82

atom$man_preset_authoring_form 6-62

atom$man_build_font_list 6-7

DOD object rendering atom$man_force_old_style_dod 6-30

Timer management atom$man_enable_continuous_timer 6-24

atom$man_enable_one_shot_timer 6-25

atom$man_kill_timer 6-54

Session and logging atom$man_item_get 6-50
management atom$man_item_set 6-52

atom$man_logging_command 6-55

atom$man_set_item_type 6-79

Domain management atom$man_set_edit_position 6-77

URL preset atom$man_preset_url 6-66
management

The MAN protocol atoms are described in alphabetical order in the rest of 
this chapter.


© America Online, Inc. 1999 6-3 America Online Confidential




Chapter 6: Display Manager Protocol November 1999


atom$man_append_data
20 ($14)

atom$man_append_data appends data to or inserts data in the current 
object. Both text and binary data, which are used to display downloading 
graphic images, are supported. 

If the given object has already been rendered, a visual update for the 
current object is implied after each atom$man_append_data. Otherwise, 
the appended data is buffered and displayed immediately upon visual 
creation of the object (the first explicit atom$man_update_display on page 
6-97 for the independent ancestor of the object).

Syntax

atom$man_append_data <data>

<data> Specifies variable-length data to be added to the 
object's content.

Return Value

None.

Example

The following example adds text [Enter word(s):] to the Keyword form: 

atom$man_start_sibling <org_group, “”>
atom$man_start_object <ornament, “”>
atom$mat_size <10, 1>
atom$mat_vertical_spacing <5>
atom$mat_font_id <arial>
atom$mat_font_size <10>
atom$mat_font_style <bold>
atom$man_append_data <"Enter words(s):"> 
atom$man_start_sibling <edit_view, “”>


America Online Confidential 6-4 © America Online, Inc. 1999




November 1999 FDO91 Manual


atom$man_append_secure_data
102 ($66) 

atom$man_append_secure_data decrypts incoming data from the host 
and displays the secure data in the current field. Typically, this atom is used 
for transmitting secure IP data. 

Syntax

atom$man_append_secure_data <data>

<data> Specifies the encrypted data to be decrypted and 
displayed in the current field.

Return Value

None.

Example

The following example decrypts the incoming data (for example, an 
account or social security number) from the host and displays the secure 
data in the field:

atom$man_start_object <view, “”>
atom$man_append_secure_data <”--~“ÚÚx -Æ#$j7”> 
atom$mat_bool_writeable <no>
atom$man_end_object


© America Online, Inc. 1999 6-5 America Online Confidential




Chapter 6: Display Manager Protocol November 1999


atom$man_build_favorites_menu
106 ($6A)

atom$man_build_favorites_menu dynamically adds Favorite Places 
menu items to the current object (popup menu). This atom is used in the 
action stream that is invoked when the popup menu sends the 
WM_INITPOPUPMENU message. 

Syntax

atom$man_build_favorites_menu

Return Value

None.

Example

The following example creates the dynamic menu of your favorite places:

atom$man_start_object <dss_list, “Favorite Places”>
atom$mat_relative_tag <15>
atom$mat_bool_inactive_for_guest <yes>
atom$act_replace_select_action
atom$uni_start_stream
atom$man_set_context_relative <15>
atom$man_build_favorites_menu 
atom$man_end_context
atom$uni_end_stream
atom$man_end_object


America Online Confidential 6-6 © America Online, Inc. 1999




November 1999 FDO91 Manual


atom$man_build_font_list 
94 ($5E)

atom$man_build_font_list dynamically adds a font list to a single 
selectable list dropdown menu on a rich toolbar (or wherever you are 
putting it).

Syntax

atom$man_build_font_list 

Return Value

None.

Example

The following example dynamically adds a font list to a single selectable 
list dropdown menu on a rich toolbar (or wherever you are putting it):

atom$man_start_object <dynamic_list, "">
atom$mat_orientation <vff>
atom$mat_size <21, 1>
atom$mat_relative_tag <22>
atom$mat_relative_tag <22>
atom$mat_title_pos <left | center>
atom$mat_horizontal_spacing <0>
atom$man_build_font_list <>
atom$mat_sort_order <reverse>
atom$act_replace_select_action


© America Online, Inc. 1999 6-7 America Online Confidential




Chapter 6: Display Manager Protocol November 1999


atom$man_build_savemail_menu
105 ($69)

atom$man_build_savemail_menu dynamically adds all the mail folder 
items to the current object such as a Personal Filing Cabinet (PFC) popup 
menu. This atom is used in the action stream that is invoked when the 
popup menu sends the WM_INITPOPUPMENU message. 

Syntax

atom$man_build_savemail_menu

Return Value

None.

Example

The following example adds a mail folder to the PFC popup menu:

atom$man_start_object <dss_list, “Save to Personal Filing 
Cabinet”>
atom$mat_relative_tag <14>
atom$mat_bool_inactive_for_guest <yes>
atom$act_replace_select_action
atom$uni_start_stream
atom$man_set_context_relative <14>
atom$man_build_savemail_menu 
atom$man_end_context
atom$uni_end_stream
atom$man_start_object <trigger, “Incoming/Saved Mail”>
atom$act_replace_select_action
atom$uni_start_stream
atom$mip_action_command <44>
atom$uni_end_stream
atom$man_end_object


America Online Confidential 6-8 © America Online, Inc. 1999




November 1999 FDO91 Manual


atom$man_build_signatures_menu
108 ($6C) 

atom$man_build_signatures_menu creates a dynamic popup menu of 
the member's current signature files to place the signature file directly into 
the body of an e-mail.

Syntax

atom$man_build_signatures_menu 

Return Value

None.

Example

The following example creates a dynamic popup menu of the member's 
current signature files to place the signature file directly into the body of an 
e-mail:

atom$man_start_object <dss_list> ""  
atom$mat_relative_tag 505
atom$mat_bool_popup_menu <yes>
atom$act_replace_select_action
atom$uni_start_stream 
atom$man_set_context_relative <505> 
atom$man_build_signatures_menu 
atom$man_end_context 
atom$uni_end_stream
atom$man_end_object


© America Online, Inc. 1999 6-9 America Online Confidential




Chapter 6: Display Manager Protocol November 1999


atom$man_change_context_relative
12 ($0C)

atom$man_change_context_relative is a shorthand atom that changes the 
context from the current object to one of its siblings without the use of 
atom$man_end_context on page 6-26. Context is a term used to indicate on 
which object processing occurs. All processing acts on the object in 
context. 

Syntax
atom$man_change_context_relative <relative_ID>

<relative_ID> Specifies the relative ID of the new context 
object.

Return Value

The relative ID of the new context object.

Example

The following example changes the context from ID 13 to various objects 
on the form and specifically enables or disables the selection of these 
objects:

atom$man_set_context_relative <13>
atom$mat_bool_disabled <yes>
atom$man_change_context_relative <16> 
atom$mat_bool_disabled <yes>
atom$man_change_context_relative <18> 
atom$mat_bool_disabled <yes>
atom$man_change_context_relative <11> 
atom$mat_bool_disabled <no>
atom$man_end_context


America Online Confidential 6-10 © America Online, Inc. 1999




November 1999 FDO91 Manual


atom$man_check_and_set_context_rid
68 ($44)

atom$man_check_and_set_context_rid checks the existence (typically 
in a window) of a relative ID specified in the argument and, when found, 
sets the context to that relative ID. If the specified object is not found, the 
context is not set. 

Syntax

atom$man_check_and_set_context_rid <relative_ID>

<relative_ID> Specifies a relative ID to put into context.

Return Value

The relative ID when found. If the relative ID is not found, the value is 0.

Example

The following example searches for an object with a relative ID of 3 and 
changes the context to that object when it is found: 

atom$man_check_and_set_context_rid <3>
atom$if_last_return_true_then <1>
atom$man_append_data <"New text for field 3...">
atom$uni_sync_skip <1>


© America Online, Inc. 1999 6-11 America Online Confidential




Chapter 6: Display Manager Protocol November 1999


atom$man_clear_file_name
69 ($45)

atom$man_clear_file_name clears the file's instance for the current 
window. This atom is typically used by client developers.

Syntax

atom$man_clear_file_name

Return Value

None.

Example

The following example clears the file's instance for the current window:

atom$man_clear_file_name 


America Online Confidential 6-12 © America Online, Inc. 1999




November 1999 FDO91 Manual


atom$man_clear_object
15 ($0F)

atom$man_clear_object clears the content of the current object. Most 
frequently used with views, this atom clears any text displayed in the view. 
The object content is not actually cleared until a visual update (explicit 
through atom$man_update_display on page 6-97 or implicit through the 
use of atom$man_append_data on page 6-4) takes place for the current 
object.

Syntax

atom$man_clear_object

Return Value

None.

Example

The following example clears the content from the current object:

atom$man_clear_object


© America Online, Inc. 1999 6-13 America Online Confidential




Chapter 6: Display Manager Protocol November 1999


atom$man_clear_relative
14 ($0E)

atom$man_clear_relative is a shorthand atom that clears the content of a 
view with a specific relative ID in the current context.

Syntax
atom$man_clear_relative <relative_ID>

<relative_ID> Specifies the relative ID of the object whose 
content is to be cleared.

Return Value

None.

Example

The following example clears the content of field 4 for the current window:

atom$man_clear_relative <4>


America Online Confidential 6-14 © America Online, Inc. 1999




November 1999 FDO91 Manual


atom$man_close
3 ($03)

atom$man_close marks an object to be deleted. The next time a display 
update is triggered for the subtree that contains the object, the object and all 
of its children are deleted.

When an object is deleted, it is removed from the display tree, and its 
visual representation is removed from the screen. Deleting an object in a 
window automatically triggers a full update for the window, and the 
positions of objects in the window are adjusted to fill the space occupied by 
the departing object.

The most common use of this atom is to close (pop) an entire window.

Syntax

atom$man_close [<global_ID>]

[<global_ID>] Specifies the optional global ID of the object to 
close. If the ID is omitted, the current object is 
assumed.

Return Value

None.

Example

The following example closes the current window: 

atom$uni_start_stream
atom$man_close 
atom$uni_end_stream


© America Online, Inc. 1999 6-15 America Online Confidential




Chapter 6: Display Manager Protocol November 1999


atom$man_close_children
4 ($04)

atom$man_close_children marks children of an object to be deleted. The 
object itself is not marked. For more information about deleting objects, 
see atom$man_close on page 6-15.

Syntax
atom$man_close_children [<global_ID>]

[<global_ID>] Specifies the optional global ID of the parent 
object. If the ID is omitted, the current object is 
assumed.

Return Value

None.

Example

The following example marks the children of an object for deletion:

atom$man_close_children <0-0-52>

The result of this example is that all children belonging to object 0-0-52, 
which is the online cluster, are marked for deletion. Use this atom when a 
member signs off of the online service. 


America Online Confidential 6-16 © America Online, Inc. 1999




November 1999 FDO91 Manual


atom$man_close_update
28 ($1C)

atom$man_close_update is a shorthand atom that marks the current 
object to be deleted and automatically performs a display update. For more 
information about deleting objects, see atom$man_close on page 6-15.

Syntax

atom$man_close_update [<global_ID>]

[<global_ID>] Specifies the optional global ID of the object to be 
deleted. If the ID is omitted, the global ID 
defaults to the current object.

Return Value

None.

Example

The following example marks an object for deletion and then updates the 
display:

atom$uni_start_stream
atom$man_close_update <32-243> 
atom$uni_end_stream


© America Online, Inc. 1999 6-17 America Online Confidential




Chapter 6: Display Manager Protocol November 1999


atom$man_display_popup_menu
99 ($63)

atom$man_display_popup_menu invokes the current object as a popup 
menu. In order to display the menu, it must have been previously defined 
(with mat_bool_popup_menu <yes>). 

Syntax

atom$man_display_popup_menu 

Return Value

None.

Example

The following example invokes a defined list with assigned RID as a 
popup menu:

atom$man_start_object <trigger>
atom$act_replace_popup_menu_action
atom$uni_start_stream
atom$man_set_context relative <10>
atom$man_display_popup_menu
atom$man_end_context
atom$uni_end_stream
atom$man_end_object


America Online Confidential 6-18 © America Online, Inc. 1999




November 1999 FDO91 Manual


atom$man_do_edit_menu
35 ($23)

atom$man_do_edit_menu executes a specified item in the Edit menu. 
The Edit menu is selectable from the menu bar, located across the top of 
the main window of the online service.

Syntax

atom$man_do_edit_menu <menu_command>

<menu_command> Specifies one of the menu items of the Edit menu. 
Values are as follows:

0 DVL_EDIT_MENU_INIT—Checks the object 
to determine what should be highlighted on 
the Edit menu.

1 DVL_EDIT_MENU_CUT—Executes the Edit 
menu's Cut command for the current 
object.

2 DVL_EDIT_MENU_COPY—Executes the Edit 
menu's Copy command for the current 
object.

3 DVL_EDIT_MENU_PASTE—Executes the Edit 
menu's Paste command for the current 
object.

4 DVL_EDIT_MENU_SELECT_ALL—Executes 
the Edit menu's Select All command for the 
current object.

5 DVL_EDIT_MENU_UNDO—Executes the Edit 
menu's Undo command for the current 
object.

6 DVL_EDIT_MENU_DELETE—Executes the 
Edit menu's Delete command for the 
current object.

9 DVL_EDIT_MENU_FIND—Executes the Edit 
menu's Find in Top Window command for 
the current object.


© America Online, Inc. 1999 6-19 America Online Confidential




Chapter 6: Display Manager Protocol November 1999


10 DVL_EDIT_MENU_REDO—Executes the Edit 
menu's Redo command for the current 
object.

11 DVL_EDIT_MENU_SPELL—Executes the Edit 
menu's Spell Check command for the 
current object.

12 DVL_EDIT_MENU_IMAGE—Executes the Edit 
menu's View Pictures or Insert Picture 
command for the current object.

13 DVL_EDIT_MENU_BACKIMAGE—Executes the 
Edit menu's Insert Background Picture 
command for the current object.

Return Value

None.

Example

The following example executes the Cut command in the Edit menu:

atom$uni_start_stream
atom$man_do_edit_menu <1> 
atom$uni_end_stream


America Online Confidential 6-20 © America Online, Inc. 1999




November 1999 FDO91 Manual


atom$man_do_magic_response_id
6 ($06)

atom$man_do_magic_response_id performs explicit magic to invoke a 
window. Magic occurs when the inactive window is made active again (the 
topmost form) without redrawing it from the host so that multiple instances 
of the same window do not occur. If the window being invoked already 
exists on the screen, the atom stream that normally creates the window is 
terminated.

This atom is used in conjunction with atom$man_set_response_id on page 
6-80 to associate a trigger that invokes the window.

Syntax

atom$man_do_magic_response_ID [<response_ID>]

[<response_ID>] Specifies the optional response ID to use. If the 
argument is omitted, the response ID defaults to 
the object that triggered the action.

Return Value

If magic was performed, the value is non-zero.

Example

The following example examines the entire screen for the existence of a 
window on the screen (based on a trigger action) and, if it exists, brings the 
window to the front:

atom$uni_start_stream_wait_on
atom$man_do_magic_response_id <8422> 
atom$uni_invoke_no_context <40-5792>
atom$uni_start_stream
atom$man_set_context_global_id <1>
atom$man_set_response_id <8422>
atom$man_start_object <ind_group, “Keyword”>
atom$mat_orientation <vff>


© America Online, Inc. 1999 6-21 America Online Confidential




Chapter 6: Display Manager Protocol November 1999


atom$man_do_magic_token_arg
5 ($05)

atom$man_do_magic_token_arg performs magic based on a token or a 
token and argument. Magic occurs when an inactive window is made 
active again (the topmost form) without redrawing it from the host so that 
multiple instances of the same window do not occur.

This atom checks the magic table for a window that resulted from the 
token/argument specified. If found, the window is brought to the front, and 
the current stream is terminated. 

For information about how a token/argument becomes associated with a 
window, see atom$man_set_response_id on page 6-80.

Syntax

atom$man_do_magic_token_arg <token [gid]>

<token [gid]> Specifies a 2-byte token for routing to a host 
server (a hex value that is a code of two ASCII 
characters). If the length of the atom's argument is 
greater than 2 bytes, the Display Manager 
protocol assumes that a 4-byte global ID 
argument is included after the token. For 
example, a 4-byte hex value 14x 00x 01x 4Fx 
defines a global ID of 20-0-00355.

Return Value

If magic was performed, the value is non-zero.

Example

The following example examines the screen for the existence of a window 
based on a host server routing window of (66x 6Cx) and a global ID 20-0-
00355 (14x 00x 01x 4Fx) and, if it exists, the window is brought to the 
front of the screen:

atom$man_do_magic_token_arg <66x 6Cx 14x 00x 01x 4Fx>

The result of this example is that an action resulting from the argument 
causes magic to be performed. If a window (identified by a response ID) is 


America Online Confidential 6-22 © America Online, Inc. 1999




November 1999 FDO91 Manual


associated with that token argument in the magic table, the inactive 
window is brought to the front. 


© America Online, Inc. 1999 6-23 America Online Confidential




Chapter 6: Display Manager Protocol November 1999


atom$man_enable_continuous_timer
76 ($4C)

atom$man_enable_continuous_timer enables a timer that generates an 
event continuously. The timer has a specified duration. When the duration 
expires, a specified event takes place. Timer attributes are specified by 
atom$mat_timer_duration and atom$mat_timer_event. 

For a continuous timer, initial timer attributes need only be set before the 
timer is first enabled. You can change timer attributes at any time.

atom$man_enable_one_shot_timer on page 6-25 also enables a timer but it 
cannot run continuously. It must be rearmed with timer attributes each time 
it is invoked.

Syntax

atom$man_enable_continuous_timer

Return Value

None.

Example

The following example sets up a continuous timer:

atom$mat_timer_duration <1000>
atom$mat_timer_event <200>
atom$man_enable_continuous_timer 

The result of this example is that a continuous timer’s attributes are set up 
and the timer is enabled twice. First, the timer’s duration and event are 
established. Later, the continuous timer is enabled. After 1000 milliseconds 
(1 second), event 200 occurs. Later, the continuous timer is again enabled 
with the same attributes as before.


America Online Confidential 6-24 © America Online, Inc. 1999




November 1999 FDO91 Manual


atom$man_enable_one_shot_timer
75 ($4B)

atom$man_enable_one_shot_timer enables a timer that generates an 
event once. The timer has a specified duration. When the duration expires, 
a specified event takes place. Timer attributes are specified by 
atom$mat_timer_duration and atom$mat_timer_event. 

For a one-shot timer, timer attributes must be set each time before the timer 
is enabled.

atom$man_enable_continuous_timer on page 6-24 also enables a timer but 
it can run continuously. It does not have to be rearmed with timer attributes 
each time it is invoked.

Syntax

atom$man_enable_one_shot_timer 

Return Value

None.

Example

The following example sets up a one-shot timer:

atom$mat_timer_duration <1000>
atom$mat_timer_event <200>
atom$man_enable_one_shot_timer 

The result of this example is that a one-shot timer’s attributes are set up and 
the timer is enabled. First, the timer’s duration and event are established, 
then later the timer is enabled. Once enabled, the timer lasts 1000 
milliseconds (1 second) and then event 200 occurs.


© America Online, Inc. 1999 6-25 America Online Confidential




Chapter 6: Display Manager Protocol November 1999


atom$man_end_context
29 ($1D)

atom$man_end_context returns context to the object that was in context 
before the last context-setting atom, such as 
atom$man_set_context_globalid on page 6-70.

Syntax

atom$man_end_context

Return Value

None.

Example

The following example ends the context associated with global ID 32-123 
and returns the context to the previous object in context:

atom$man_set_context_globalid <32-123>
.
.
.
atom$man_end_context

The result of this example is that context returns to the object that was in 
context before global ID 32-123.


America Online Confidential 6-26 © America Online, Inc. 1999




November 1999 FDO91 Manual


atom$man_end_data
73 ($49)

atom$man_end_data indicates the end of a data download of a graphic 
image that is rendered as it downloads. Such on-the-fly graphic images, for 
example gif, jpeg, and art files, appear in the window as they are being 
downloaded. 

Syntax

atom$man_end_data

Return Value

None.

Example

The following example displays an on-the-fly graphic image during its 
download cycle:

atom$man_set_context_relative <1>
atom$man_append_data <Binary data goes here...>
atom$man_append_data <More binary data goes here...>
atom$man_end_data 


© America Online, Inc. 1999 6-27 America Online Confidential




Chapter 6: Display Manager Protocol November 1999


atom$man_end_ip_session
104 ($68) 

atom$man_end_ip_session marks the end of a secure IP session, which 
signals the host to conclude the IP processing that was initiated with 
atom$man_start_ip_session on page 6-88.

Syntax

atom$man_end_ip_session <gid>

<gid> Specifies the global ID (4-byte hex value) of the 
cache record in the database. For example, a value 
of 14x 00x 01x 4Fx defines a global ID of 20-0-
00335, where 14x equals 20, 00x equals 0, and 
01x 4Fx equals 00335.

Return Value

None.

Example

The following example ends the IP session using GID 20-0-00335 (14x 
00x 01x 4Fx) for the cache database record:

atom$man_start_ip_session <59x 23x 14x 00x 01x 4Fx>
atom$man_start_object <edit_view, "">
atom$mat_size <3Cx 0Ex>
atom$mat_secure_field <0>
atom$mat_bool_writeable <yes>
atom$man_end_object
atom$man_update_display
atom$man_end_ip_session <14x 00x 01x 4Fx>
atom$uni_wait_off
atom$uni_end_stream


America Online Confidential 6-28 © America Online, Inc. 1999




November 1999 FDO91 Manual


atom$man_end_object
2 ($02)

atom$man_end_object marks the end of the definition of the current 
object. The context returns back to the object that was in context before 
atom$man_start_object on page 6-92, which opened the current object.

Syntax

atom$man_end_object

Return Value

None.

Example

The following example marks the end of the definition of a window that 
has a global ID of 32-123:

atom$man_start_object <32-123>
.
.
.
atom$man_end_object


© America Online, Inc. 1999 6-29 America Online Confidential




Chapter 6: Display Manager Protocol November 1999


atom$man_force_old_style_dod
 92 ($5C)

atom$man_force_old_style_dod specifies that the requested artwork will 
be rendered using old-style data on demand (DOD) and that the 
progressive rendering method of DOD will not be used. Old-style DOD 
displays the blue update gauges and the Please wait while we add new art... 
message. This atom is sent by the client.

Syntax

atom$man_force_old_style_dod

Return Value

None.

Example

The following example specifies that artwork data will be rendered using 
an old-style DOD:

atom$uni_start_stream
.
.
.
atom$man_start_object <independent>
atom$man_force_old_style_dod
.
.
.
atom$uni_end_stream


America Online Confidential 6-30 © America Online, Inc. 1999




November 1999 FDO91 Manual


atom$man_force_update 
78 ($4E)

atom$man_force_update causes the client to complete processing of all 
deferred events (show_window's and set_redraw's) before causing the 
current (top) form to be updated.  (This atom was created specifically to 
ensure the main menu gets updated before the welcome screen appears.)

Syntax

atom$man_force_update 

Return Value

None.

Example 

The following example causes the client to complete the processing of all 
deferred events before updating the top form:

atom$uni_start_stream <00x>
atom$act_get_db_value <14x, 00x, 00x, 42x>
if_last_return_true_then <1>
atom$uni_invoke_no_context <32-5483>
atom$man_force_update 
atom$uni_sync_skip <1>
atom$uni_wait_on <>


© America Online, Inc. 1999 6-31 America Online Confidential




Chapter 6: Display Manager Protocol November 1999


atom$man_get_attribute
64 ($40)

atom$man_get_attribute checks the state of the specified attribute for the 
current object. It changes a MAT atom’s set functionality to a get 
functionality. 

Syntax for VP Designer

atom$man_get_attribute <atom>

Syntax for form_edit

atom$man_get_attribute prot$<protocol> atom$<attribute atom>

<protocol> This argument value is not used for VP Designer. 
For form_edit, this argument value specifies the 
MAT protocol name proto_mat. 

<attribute atom> Specifies a MAT atom that sets an object attribute 
to a get object attribute function so that the 
existing object attribute value is now retrieved.

Return Value

The existing 4-byte value of the atom’s attribute value. 

Examples

The following example examines the value of the current object to see if 
the object is selectable (Yes or 1) or disabled (No or 0):

atom$man_get_attribute <atom$mat_bool_disabled>

The following example examines the art animation rate. If the rate is 0, the 
rate is changed to 150:

atom$uni_start_stream
atom$man_set_context_relative <61>
atom$man_get_attribute <atom$mat_art_animation_rate> 
atom$if_last_return_false_then <1>
atom$mat_art_animation_rate <150>
atom$mat_bool_repeat_animation <yes>
atom$man_update_display
atom$uni_sync_skip <1>
atom$man_end_context
atom$uni_end_stream


America Online Confidential 6-32 © America Online, Inc. 1999




November 1999 FDO91 Manual


atom$man_get_child_count
67 ($43)

atom$man_get_child_count determines the number of children that 
belong to an object. 

Syntax

atom$man_get_child_count 

Return Value

The number of children that belong to the object.

Example

The following example determines the number of children in the current 
object: 

atom$man_get_child_count 


© America Online, Inc. 1999 6-33 America Online Confidential




Chapter 6: Display Manager Protocol November 1999


atom$man_get_display_characteristics
107 ($6B)

atom$man_get_display_characteristics gets the width and height of the 
client area.

Syntax

atom$man_get_display_characteristics <x y>

<x y> The first byte (x) indicates which kind of 
information is needed, where x is:

• 0 indicates client width

• 1 indicates client height

• 2 indicates the query of the desktop horizontal 
resolution

• 3 indicates the vertical resolution

The second byte (y) is the percentage of the 
information that is required in the first byte.

Return Value

2d byte (percentage of attribute)

Example

The following example gets the client width and sizes the form to 80% of 
that width:

atom$man_get_display_characteristics 0 80
atom$uni_use_last_atom_value prot$mat atom$mat_width 


America Online Confidential 6-34 © America Online, Inc. 1999




November 1999 FDO91 Manual


atom$man_get_first_response_id
55 ($37)

atom$man_get_first_response_id looks up the first (oldest) response ID 
listed in the magic table. Note that in addition to response IDs, the magic 
table contains global IDs, tokens, and active/ignored states of all the open 
AOL windows on the screen. This atom is commonly used in a loop with 
atom$man_get_next_response_id on page 6-38.

Syntax

atom$man_get_first_response_id

Return Value

The first response ID found in the top of the magic table. If no response ID 
is found, the value is 0.

Example

The following example looks up the oldest response ID in the magic table:

atom$man_get_first_response_id 
atom$uni_save_result
atom$uni_start_loop
atom$uni_get result
atom$if_last_return_true_then <1>
.
.
.
(atom functions to perform for each window)
.
.
.
atom$man_get_next_response_id
atom$uni_save_result
atom$uni_end_loop
atom$uni_sync_skip <1>


© America Online, Inc. 1999 6-35 America Online Confidential




Chapter 6: Display Manager Protocol November 1999


atom$man_get_first_window
60 ($3C)

atom$man_get_first_window looks up the first independent object 
(window) located under the root of the object tree. This atom is commonly 
used in a loop with atom$man_get_next_window on page 6-39.

Syntax

atom$man_get_first_window 

Return Value

The global ID of the first window found in the object tree. If no window is 
found, the value is 0.

Example

The following example looks up the first window in the object tree:

atom$man_get_first_window
atom$uni_save_result
atom$uni_start_loop
atom$uni_get result
atom$if_last_return_true_then <1>
.
.
.
(atom functions to perform for each window)
.
.
.
atom$man_get_next_window
atom$uni_save_result
atom$uni_end_loop
atom$uni_sync_skip <1>


America Online Confidential 6-36 © America Online, Inc. 1999




November 1999 FDO91 Manual


atom$man_get_index_by_title
37 ($25)

atom$man_get_index_by_title performs a case-sensitive search for a 
string in the children of a group or list, returning the index of the item in the 
list. If no object with the specified title is found, the atom returns 0. The 
current object must be a group or list existing at the time this atom is 
invoked.

Syntax

atom$man_get_index_by_title <string>

<string> Specifies the search string.

Return Value

The index of the item. If none is found, the value is 0. 

Example

The following example searches the children’s objects for a particular text 
string:

atom$man_get_index_by_title <"New User">

The result of this example is that 2 is returned if the text string New User is 
the second item in a group.


© America Online, Inc. 1999 6-37 America Online Confidential




Chapter 6: Display Manager Protocol November 1999


atom$man_get_next_response_id
56 ($38)

atom$man_get_next_response_id finds the next response ID in the magic 
table. Note that in addition to response IDs, the magic table contains global 
IDs, tokens, and active/ignored states of all the open AOL windows on the 
screen. This atom must be preceded by atom$man_get_first_response_id 
on page 6-35, which looks up the first response ID located in the magic 
table. This atom is commonly used in a loop when a series of atom 
functions must be performed on more than one window.

Syntax

atom$man_get_next_response_id

Return Value

The next response ID found in the magic table. If no response ID is found, 
the value is 0.

Example

The following example finds the next response ID in the magic table:

atom$man_get_first_response_id
atom$uni_save_result
atom$uni_start_loop
atom$uni_get result
atom$if_last_return_true_then <1>
.
.
.
(atom functions to perform for each window)
.
.
.
atom$man_get_next_response_id
atom$uni_save_result
atom$uni_end_loop
atom$uni_sync_skip <1>


America Online Confidential 6-38 © America Online, Inc. 1999




November 1999 FDO91 Manual


atom$man_get_next_window
61 ($3D)

atom$man_get_next_window finds the next window in the object tree. 
This atom must be preceded by atom$man_get_first_window on page 6-
36, which looks up the first window located under the root in the object 
tree. This atom is commonly used in a loop when a series of atom functions 
must be performed on more than one window.

Syntax

atom$man_get_next_window

Return Value

The global ID of the next window found. If no window is found, the value 
is 0.

Example

The following example finds the next window in the object tree:

atom$man_get_first_window
atom$uni_save_result
atom$uni_start_loop
atom$uni_get result
atom$if_last_return_true_then <1>
.
.
.
(atom functions to perform for each window)
.
.
.
atom$man_get_next_window
atom$uni_save_result
atom$uni_end_loop
atom$uni_sync_skip <1>


© America Online, Inc. 1999 6-39 America Online Confidential




Chapter 6: Display Manager Protocol November 1999


atom$man_get_request_window
58 ($3A)

atom$man_get_request_window finds the window that initiated a 
particular request. This atom is commonly used in conjunction with 
atom$man_get_first_response_id on page 6-35 and 
atom$man_get_next_response_id on page 6-38.

Syntax
atom$man_get_request_window <response_ID>

<response_ID> Specifies the responding window's response ID.

Return Value

The global ID of the window that initiated a request. If no initiating 
window is found, the value is 0.

Example

The following example finds the global ID of a window that initiated a 
request:

atom$man_get_request_window <5>
atom$uni_use_last_atom_value <atom$man_set_context_globalid>


America Online Confidential 6-40 © America Online, Inc. 1999




November 1999 FDO91 Manual


atom$man_get_response_window
57 ($39) 

atom$man_get_response_window finds the global ID of a window that 
responded to a particular request. This atom is commonly used in 
conjunction with atom$man_get_first_response_id on page 6-35 and 
atom$man_get_next_response_id on page 6-38.

Syntax

atom$man_get_response_window <response_ID>

<response_ID> Specifies the responding window's response ID. 

Return Value

The global ID of the responding window. If no responding window is 
found, the value is 0.

Example

The following example finds the global ID of a window that responded to a 
request:

atom$man_get_response_window <5>
atom$uni_use_last_atom_value <atom$man_set_context_globalid>


© America Online, Inc. 1999 6-41 America Online Confidential




Chapter 6: Display Manager Protocol November 1999


atom$man_get_top_window
54 ($36)

atom$man_get_top_window finds the topmost window on the screen. 

Syntax

atom$man_get_top_window 

Return Value

The global ID of the topmost window. If no window is found, the value is 
0.

Example

The following example searches for the topmost window:

atom$man_get_top_window
atom$uni_save_result
atom$if_last_return_true_then <1>
atom$uni_get_result
atom$uni_use_last_atom_value <atom$man_close_update>
atom$uni_sync_skip <1>


America Online Confidential 6-42 © America Online, Inc. 1999




November 1999 FDO91 Manual


atom$man_ignore_response
59 ($3B)

atom$man_ignore_response sets the state of a particular response to be 
ignored. An atom stream has one of three states: pending, ignored, or 
magic (in focus).

Syntax

atom$man_ignore_response <response_id>

<response_id> Specifies the response ID of the stream to be 
ignored.

Return Value

Non-zero (true) if the response is set to be ignored. If the response ID is not 
recognized, the value is 0 (false).

Example

The following example sets the window with a response ID of 5 to the 
ignored state:

atom$man_ignore_response <5> 


© America Online, Inc. 1999 6-43 America Online Confidential




Chapter 6: Display Manager Protocol November 1999


atom$man_insert_object_after
44 ($2C)

atom$man_insert_object_after creates an object and inserts it as the next 
sibling of the current object. Like atom$man_start_object on page 6-92, 
this atom sets context to the object created so that attributes can be set for 
the object. Use atom$man_end_object on page 6-29 to close the object 
definition.

Syntax

atom$man_insert_object_after [<global_ID>]

[<global_ID>] Specifies the optional global ID of the existing 
object.

Return Value

None.

Example

The following example creates and inserts an object as the next sibling to 
the current object:

atom$man_set_context_relative <5>
atom$man_insert_object_after
atom$mat_object_type <trigger>
.
.
.
atom$man_end_object


America Online Confidential 6-44 © America Online, Inc. 1999




November 1999 FDO91 Manual


atom$man_insert_object_before
52 ($34)

atom$man_insert_object_before creates an object and inserts it as the 
previous sibling of the current object. Like atom$man_start_object on page 
6-92, this atom sets context to the object created so that attributes can be set 
for the object. Use atom$man_end_object on page 6-29 to close the object 
definition.

Syntax

atom$man_insert_object_before [<global_ID>]

[<global_ID>] Specifies the optional global ID of the existing 
object.

Return Value

None.

Example

The following example creates and inserts an object as the preceding 
sibling to the current object:

atom$man_set_context_relative <5>
atom$man_insert_object_before
atom$mat_object_type <trigger>
.
.
.
atom$man_end_object


© America Online, Inc. 1999 6-45 America Online Confidential




Chapter 6: Display Manager Protocol November 1999


atom$man_is_rendered
48 ($30)

atom$man_is_rendered checks the context and determines whether the 
current object (window) is rendered on the screen. This atom is used in 
special cases where you need to test to see if an object is on the screen.

Syntax

atom$man_is_rendered 

Return Value

Non-zero (true) if the window is rendered. If the object is not rendered (not 
found), the value is 0 (false).

Example

The following example checks to see if the current object is on the screen:

atom$man_is_rendered 


America Online Confidential 6-46 © America Online, Inc. 1999




November 1999 FDO91 Manual


atom$man_is_response_ignored
63 ($3F)

atom$man_is_response_ignored checks the magic table, which keeps 
track of the state of all atom streams, to see if a response is ignored. A 
stream has one of three states: pending, ignored, or magic (in focus). 

This atom is commonly used in a loop with 
atom$man_get_first_response_id on page 6-35 and 
atom$man_get_next_response_id on page 6-38.

Syntax

atom$man_is_response_ignored <response_id>

<response_id> Specifies a response ID to determine whether the 
state of the response is ignored.

Return Value

Non-zero (true) if the response is ignored. If the response is not ignored, 
the value is 0 (false). 

Example

The following example checks the magic table to see if the response with 
an ID of 7 is ignored:

atom$man_is_response_ignored <7> 


© America Online, Inc. 1999 6-47 America Online Confidential




Chapter 6: Display Manager Protocol November 1999


atom$man_is_response_pending
62 ($3E)

atom$man_is_response_pending checks the magic table, which keeps 
track of the state of all atom streams, to see if a certain response is pending. 
A stream has one of three states: pending, ignored, or magic (in focus). 

This atom is commonly used in a loop with 
atom$man_get_first_response_id on page 6-35 and 
atom$man_get_next_response_id on page 6-38.

Syntax

atom$man_is_response_pending <response_id>

<response_id> Specifies a response ID to determine whether the 
state of the response is pending.

Return Value

Non-zero (true) if the response is pending. If the response is not pending, 
the value is 0 (false).

Example

The following example checks the magic table to see if response ID 7 is 
pending:

atom$man_is_response_pending <7> 


America Online Confidential 6-48 © America Online, Inc. 1999




November 1999 FDO91 Manual


atom$man_is_window_iconic
71 ($47)

atom$man_is_window_iconic indicates if the window is minimized.

Syntax

atom$man_is_window_iconic <global_ID>

<global_ID> Specifies the global ID of the window to check.

Return Value

Non-zero (true) if the window is minimized. If it is not minimized, the 
value is 0 (false).

Example

The following example checks a window to see if it is minimized:

atom$man_is_window_iconic <32-2541>


© America Online, Inc. 1999 6-49 America Online Confidential




Chapter 6: Display Manager Protocol November 1999


atom$man_item_get
32 ($20)

atom$man_item_get checks the current value of the Display Manager 
protocol register that you specify. This atom is used to determine the 
current Display Manager protocol environment.

If no argument is specified, the last register type set by a preceding 
atom$man_set_item_type on page 6-79 atom is used.

Syntax

atom$man_item_get [<dm_register>]

[<dm_register>] Specifies the Display Manager protocol register 
whose value you are checking. The register types 
are:

dmi_session_log_id Session log ID

dmi_chat_log_id Chat log ID

dmi_logging_chat Chat session logging 
state

dmi_logging_session Entire session logging 
state

dmi_logging_ims Instant Message™ 
logging state

dmi_on_line Online state

dmi_paid_area Paid area state

dmi_font_size Font size

dmi_scroll_text Text scroll state


America Online Confidential 6-50 © America Online, Inc. 1999




November 1999 FDO91 Manual


Return Value

The current value of the register specified. The possible values are:

Register Type Data Type Value Description

dmi_session_log_id Numeric The ID of the session 
log.

dmi_chat_log_id Numeric The ID of the chat log.

dmi_logging_chat Boolean True if a chat session is 
being logged; false if 
not.

dmi_logging_session Boolean True if an entire session 
is being logged; false if 
not.

dmi_logging_ims Boolean True if Instant 
Messages are being 
logged; false if not.

dmi_on_line Boolean True if online; false if 
not.

dmi_paid_area Boolean True if in a paid area; 
false if not.

dmi_font_size The size of the font.

dmi_scroll_text Boolean True if text is 
scrollable; false if not.

Example

The following example checks to see if a member is online:

atom$man_item_get <dmi_on_line>

The result of this example is that non-zero (true) is returned if the member 
is online, and 0 (false) is returned if the member is offline.


© America Online, Inc. 1999 6-51 America Online Confidential




Chapter 6: Display Manager Protocol November 1999


atom$man_item_set
33 ($21)

atom$man_item_set sets the value of a particular Display Manager 
protocol register. This companion atom must be preceded with 
atom$man_set_item_type on page 6-79.

Syntax

atom$man_item_set <dm_reg_value>

<dm_reg_value> Specifies the value that you want to set the 
register to. Depending on the register type 
specified by atom$man_set_item_type, the 
possible values are:

Register Type Data Type Value Description

dmi_session_log_id Numeric The ID of the session 
log.

dmi_chat_log_id Numeric The ID of the chat log.

dmi_logging_chat Boolean True if a chat session is 
being logged; false if 
not.

dmi_logging_session Boolean True if an entire session 
is being logged; false if 
not.

dmi_logging_ims Boolean True if Instant 
Messages are being 
logged; false if not.

dmi_on_line Boolean True if online; false if 
not.

dmi_paid_area Boolean True if in a paid area; 
false if not.

dmi_font_size The size of the font.

dmi_scroll_text Boolean True if text is 
scrollable; false if not.


America Online Confidential 6-52 © America Online, Inc. 1999




November 1999 FDO91 Manual


Return Value

None.

Example

The following example sets the value of the dmi_on_line register to a true 
(1) state:

atom$man_set_item_type <dmi_on_line>
atom$man_item_set <1> 


© America Online, Inc. 1999 6-53 America Online Confidential




Chapter 6: Display Manager Protocol November 1999


atom$man_kill_timer
77 ($4D)

atom$man_kill_timer disables the timer for the current object.

Syntax

atom$man_kill_timer

Return Value

None.

Example

The following example disables the timer for the current object:

atom$man_set_context_relative <1>
atom$mat_timer_duration <1000>
atom$mat_timer_event <200>
.
.
.
atom$man_kill_timer
atom$man_end_context


America Online Confidential 6-54 © America Online, Inc. 1999




November 1999 FDO91 Manual


atom$man_logging_command
36 ($24)

atom$man_logging_command determines what type of logging to 
perform. Members access logging from the File menu of the online service.

Syntax

atom$man_logging_command <command> 

<command> Specifies the logging command to execute. Logging 
command values are:

0 man_logging_open Opens a logging file.

1 man_logging_append Appends to a logging file.

2 man_logging_close Closes a logging file.

3 man_log_type_session Indicates that succeeding 
atom$man_logging_com
mand atoms refer to the 
logging of the session (see 
example below).

4 man_log_type_chat Indicates that succeeding 
atom$man_logging_com
mand atoms refer to the 
logging of chat 
conversation.

5 man_log_type_im Begins logging Instant 
Messages.

6 man_log_type_im_off Stops logging Instant 
Messages.

7 man_logging_flush Clears all logging files.

Return Value

None.


© America Online, Inc. 1999 6-55 America Online Confidential




Chapter 6: Display Manager Protocol November 1999


Example

The following example opens a log file for session logging:

atom$fm_create_file
atom$man_logging_command <3>
atom$man_logging_command <0>
atom$man_set_context_relative <1>
atom$fm_item_get <filename>
atom$uni_use_last_atom_string <atom$mat_title>
atom$man_end_context


America Online Confidential 6-56 © America Online, Inc. 1999




November 1999 FDO91 Manual


atom$man_make_focus
53 ($35)

atom$man_make_focus marks an object to receive focus the next time a 
display update of the subtree is performed. When a window receives focus, 
the window moves in front of all other online service windows. When an 
object in a window receives focus, a dotted line is typically drawn around 
the object. 

Syntax

atom$man_make_focus [<global_ID>]

[<global_ID>] Specifies the optional global ID of the object to 
receive focus.

Return Value

None.

Example

The following example sets focus on window 32-234:

atom$man_set_context_globalid <32-234>
atom$man_make_focus
atom$man_update_display <32-234>


© America Online, Inc. 1999 6-57 America Online Confidential




Chapter 6: Display Manager Protocol November 1999


atom$man_obj_stack_pop
98 ($62) 

atom$man_obj_stack_pop pops, peeks, or clears the top object on the 
global stack. If the argument is omitted, this atom removes (pops) the top 
value off the stack and returns the value. 

Syntax

atom$man_obj_stack_pop [<word]

[<word>] Specifies the optional stack operation type. Values are:

0 Peek Returns the value from the top of the stack 
without removing it.

1 Pop Returns the value at the top and removes it 
from the stack (default).

2 Clear Clears the entire stack of all values.

Return Value

Returns the 32-bit value or global ID from the top of the stack. If the stack 
is cleared (empty), the value is 0.

Example

The following example pops the value at the top of the stack:

atom$man_start_ip_session <59x 23x 14x 00x 01x 4Fx>
atom$man_obj_stack_pop 
atom$uni_end_stream


America Online Confidential 6-58 © America Online, Inc. 1999




November 1999 FDO91 Manual


atom$man_obj_stack_push 
97 ($61) 

atom$man_obj_stack_push pushes a 32-bit value onto a global stack. If 
the argument is omitted, the value pushed onto the stack is the global ID 
(GID) of the current object (form). 

Syntax

atom$man_obj_stack_push [<dword>]

[<dword>] Specifies the 32-bit value to be pushed to the 
stack. If the optional argument is omitted, the 
global ID of the current object is pushed to the 
stack. 

Return Value

Returns the 32-bit value or global ID pushed to the stack. If there is no 
object in context or an error has occurred, the value is 0.

Example

The following example pushes GID 20-0-00335 (14x 00x 01x 4Fx) to the 
stack:

atom$man_start_ip_session <59x 23x 14x 00x 01x 4Fx>
atom$man_obj_stack_push <14x 00x 01x 4Fx>
atom$uni_end_stream


© America Online, Inc. 1999 6-59 America Online Confidential




Chapter 6: Display Manager Protocol November 1999


atom$man_place_cursor
24 ($18)

atom$man_place_cursor is a shorthand atom that immediately sets focus 
to an object that does not require a display update. 

Syntax

atom$man_place_cursor <relative_ID>

<relative_ID> Specifies the relative ID of the object to receive 
focus. Context must be set to a parent or ancestor 
of the desired object. (The independent object is 
usually used.)

Return Value

The relative ID of the object in focus. 

Example

The following example immediately sets focus on the object that has a 
relative ID of 4:

atom$man_set_context_globalid <32-234> 
atom$man_place_cursor <4>


America Online Confidential 6-60 © America Online, Inc. 1999




November 1999 FDO91 Manual


atom$man_post_update_gid 
72 ($48)

atom$man_post_update_gid does a post version of 
atom$man_update_display. This atom allows the current stream, all other 
streams, all pending client messages, and all currently pending client post 
messages to be processed by the client before performing a routine of 
atom$man_update_display on the argument.

Unlike atom$man_update_display, this atom has a mandatory GID 
argument of the form to be updated (a non-argument does not imply the 
current form).

Syntax

atom$man_post_update_gid <$gid>

<$gid> Specifies the gid.

Return Value

None.

Example

The following example posts the update gid:

atom$man_post_update_gid <$gid>


© America Online, Inc. 1999 6-61 America Online Confidential




Chapter 6: Display Manager Protocol November 1999


atom$man_preset_authoring_form 
83 ($53)

atom$man_preset_authoring_form designates an authoring form for the 
next object to be created. This atom is used only by Visual Publisher 
Designer (VPD) developers.

Syntax

atom$man_preset_authoring_form <string>

<string> Specifies the text for the next object to be created.

Return Value

None.

Example

The following example designates an authoring form for the next object to 
be created:

atom$man_present_authoring_form


America Online Confidential 6-62 © America Online, Inc. 1999




November 1999 FDO91 Manual


atom$man_preset_gid
22 ($16)

atom$man_preset_gid designates a global ID for the next object to be 
created. If the specified global ID is already assigned to an object in the 
display tree, the context is set to that object.

Syntax

atom$man_preset_gid <global_ID>

<global_ID> Specifies the global ID for the next object.

Return Value

The global ID when the object already exists. If the global ID does not 
exist, the value is 0. 

Example

The following example presets the global ID for the next object that is 
created:

atom$man_preset_gid <32-123>
atom$man_start_object <ind_group>


© America Online, Inc. 1999 6-63 America Online Confidential




Chapter 6: Display Manager Protocol November 1999


atom$man_preset_relative
51 ($33)

atom$man_preset_relative designates the relative ID to be used for the 
next object created. If an object with that relative ID already exists as a 
child or descendent of the current object, the context is set to that object.

Syntax

atom$man_preset_relative <relative_ID>

<relative_ID> Specifies the relative ID to be used for the next 
object.

Return Value

The relative ID when the object already exists. If the relative ID does not 
exist, the value is 0.

Example

The following example presets the relative ID for the next object that is 
created:

atom$man_preset_relative <4> 
atom$man_start_object <ornament>


America Online Confidential 6-64 © America Online, Inc. 1999




November 1999 FDO91 Manual


atom$man_preset_title
23 ($17)

atom$man_preset_title designates a title to be used for the next object 
created.

Syntax

atom$man_preset_title <string>

<string> Specifies the title.

Return Value

The title string.

Example

The following example presets the title (People Connection) for the next 
object that is created:

atom$man_preset_title <"People Connection"> 
atom$man_start_object <ind_group>


© America Online, Inc. 1999 6-65 America Online Confidential




Chapter 6: Display Manager Protocol November 1999


atom$man_preset_url 
90 ($5A)

atom$man_preset_url designates an URL to be used for the next object 
created.

Syntax

atom$man_preset_url <URL>

<URL> Specifies the URL.

Return Value

None.

Example

The following example designates an URL to be used for the next object 
created:

atom$uni_start_stream <00x>
atom$man_preset_gid <32-6123>
atom$uni_start_stream <>
atom$man_set_default_title <"View Buddies">
atom$man_preset_url <"aol://1722:buddyview">
atom$uni_end_stream <>


America Online Confidential 6-66 © America Online, Inc. 1999




November 1999 FDO91 Manual


atom$man_replace_data
21 ($15)

atom$man_replace_data replaces the content of the current object 
(usually a view). If the object has already been rendered, the replaced data 
does not take effect until a display update of the associated subtree is 
performed.

Syntax

atom$man_replace_data <data>

<data> Specifies the data in any number of bytes.

Return Value

None.

Example

The following example replaces the data for the current object:

atom$man_replace_data <"202-555-0956">

The result of this example is that the text in the current view is replaced 
with 202-555-0956.


© America Online, Inc. 1999 6-67 America Online Confidential




Chapter 6: Display Manager Protocol November 1999


atom$man_response_pop
27 ($1B)

atom$man_response_pop destroys the window containing the trigger that 
initiated a request. Typically, it is sent by the host as part of a response to a 
request to pop a form. An atom$man_set_response_id on page 6-80 atom 
must precede this atom in the stream so that the response is associated with 
the request.

Syntax

atom$man_response_pop [<response_ID>]

<response_ID> Specifies an optional response ID to override the 
preceding atom$man_set_response_id atom.

Return Value

The response ID; otherwise, 0.

Example

The following example destroys a window (ID 2014) that initiated a 
request:

atom$man_set_response_id <2014>
.
.
.
atom$man_response_pop 


America Online Confidential 6-68 © America Online, Inc. 1999




November 1999 FDO91 Manual


atom$man_set_append_secure_data
101 ($65) 

atom$man_set_append_secure_data displays the information provider’s 
(IP) brand ID in a field on a form. This atom lets the online service send 
secure field data between an information provider and client applications 
through the rmg server on the host.

Syntax

atom$man_set_append_secure_data <brand_id>

<brand_id> Specifies the brand ID for the form. Brand IDs 
can be up to 80 characters in length. 

Return Value

None.

Example

The following example displays the brand ID (AolVisa) in the current 
field:

atom$man_start_object <view, "">
atom$man_set_append_secure_data <"AolVisa"> 
atom$mat_bool_writeable <no>
atom$man_end_object


© America Online, Inc. 1999 6-69 America Online Confidential




Chapter 6: Display Manager Protocol November 1999


atom$man_set_context_globalid
9 ($09)

atom$man_set_context_globalid sets context to the object specified with 
the global ID. If the object is not found, the stream is terminated.

Syntax

atom$man_set_context_globalid <global_ID>

<global_ID> Specifies the global ID.

Return Value

The global ID.

Example

The following example sets the context to an object that has a global ID of 
32-123:

atom$man_set_context_globalid <32-123>
atom$man_set_context_relative <50>
.
.
.
atom$man_end_context


America Online Confidential 6-70 © America Online, Inc. 1999




November 1999 FDO91 Manual


atom$man_set_context_first_selection
111 ($6F)

atom$man_set_context_first_selection is used for handling the walking 
through of tree controls or list boxes.

Syntax

atom$man_set_context_first_selection <RID>

<RID> Specifies the RID for tree controls or list boxes.

Return Value

atom$man_set_context_first_selection returns true if successful and false 
if failed.

Object(s) Handled

The objects handled are treecontrols and listboxes.

Example

The following example sets the conext for the first command in the tree 
control action for the object with the specified RID:

atom$uni_start_stream
atom$man_set_context_first_selection 10
atom$if_last_return_true_then <20>
atom$uni_start_loop
atom$man_treectrl_action_command <1>
atom$man_end_context
atom$man_set_context_next_selection
atom$if_last_return_true_then <10>
atom$uni_end_loop
atom$uni_sync_skip <10>
atom$man_end_context
atom$uni_sync_skip <20>
atom$uni_end_stream
atom$man_end_object


© America Online, Inc. 1999 6-71 America Online Confidential




Chapter 6: Display Manager Protocol November 1999


atom$man_set_context_index
11 ($0B)

atom$man_set_context_index sets context to one of the children of the 
current object or list using the index number of the child. The current 
object must be a group or list. The stream is terminated if the index entry is 
out of range.

Syntax

atom$man_set_context_index <index_#>

<index_#> Specifies the index number of the child object.

Return Value

The index number.

Example

The following example sets the context to the third object in the current 
group:

atom$man_set_context_index <3> 
.
.
.
atom$man_end_context


America Online Confidential 6-72 © America Online, Inc. 1999




November 1999 FDO91 Manual


atom$man_set_context_next_selection
112 ($70)

atom$man_set_context_next_selection is used for handling the walking 
through of tree controls or list boxes.

Syntax
atom$man_set_context_next_selection

Return Value

None.

Object(s) Handled

The objects handled are treecontrols and listboxes.

Example

The following example sets the conext for the next command in the tree 
control action:

atom$uni_start_stream
atom$man_set_context_first_selection 10
atom$if_last_return_true_then <20>
atom$uni_start_loop
atom$man_treectrl_action_command <1>
atom$man_end_context
atom$man_set_context_next_selection
atom$if_last_return_true_then <10>
atom$uni_end_loop
atom$uni_sync_skip <10>
atom$man_end_context
atom$uni_sync_skip <20>
atom$uni_end_stream


© America Online, Inc. 1999 6-73 America Online Confidential




Chapter 6: Display Manager Protocol November 1999


atom$man_set_context_relative
10 ($0A)

atom$man_set_context_relative sets the context to one of the children or 
descendants of the current object using a relative ID. This atom is used 
with group, independent, or list objects. The stream is terminated if no 
object with the specified relative ID is found.

Syntax

atom$man_set_context_relative <relative_ID>

<relative_ID> Specifies the relative ID.

Return Value

The relative ID.

Example

The following example sets the context to an object that has a relative ID of 
2:

atom$man_set_context_relative <2>

The result of this example is that context is set to the object with an ID of 2 
on the current window.


America Online Confidential 6-74 © America Online, Inc. 1999




November 1999 FDO91 Manual


atom$man_set_context_response_id
8 ($08)

atom$man_set_context_response_id sets the context to the independent 
ancestor of the object that initiated a request. The request is identified by 
the response ID defined by atom$man_set_response_id on page 6-80 
which was executed earlier in the stream. Optionally, an argument may be 
supplied to set context to a different response ID.

Syntax

atom$man_set_context_response_id [<response_ID>]

[<response_ID>] Specifies an optional override response ID.

Return Value

The response ID given in the argument; otherwise, 0.

Example

The following example sets the context to the independent ancestor of an 
object that triggered a response:

atom$man_set_response_id <1234>
.
.
.
atom$man_set_context_response_id 


© America Online, Inc. 1999 6-75 America Online Confidential




Chapter 6: Display Manager Protocol November 1999


atom$man_set_default_title
66 ($42)

atom$man_set_default_title changes the text of the default title, which is 
stored in a buffer. 

Normally, when a trigger (namely, a button) is selected, the text of the 
trigger becomes the default title for the next window. For example, if a 
member selects a button with a title of Unread Articles, the title of the 
resulting window also says Unread Articles. atom$man_set_default_title 
can be used to override the default title.

Syntax

atom$man_set_default_title <string>

<string> Specifies the new title of the current object.

Return Value

None.

Example

The following example replaces the current object's default title with the 
new title, Exciting Articles to Read:

atom$man_set_default_title <"Exciting Articles to Read">


America Online Confidential 6-76 © America Online, Inc. 1999




November 1999 FDO91 Manual


atom$man_set_edit_position 
81 ($51)

atom$man_set_edit_position, along with 
atom$man_set_edit_position_to_end, can only be used on an input_box 
object; these atoms replace the cursor at the position specified. 
atom$man_set_edit_position takes a word argument specifying the 
number of characters from the beginning of the current string in the 
input_box. 

Syntax

atom$man_set_edit_position <$dword>

<$dword> Specifies the text string in which the cursor is 
placed.

Return Value

None.

Example

The following example specifies that the cursor falls after the 14th 
character of the string in the input_box:

atom$man_set_edit_position <$dwordxxxxxxxxx>


© America Online, Inc. 1999 6-77 America Online Confidential




Chapter 6: Display Manager Protocol November 1999


atom$man_set_edit_position_to_end
82 ($52)

atom$man_set_edit_position_to_end, along with 
atom$man_set_edit_position, can only be used on an input_box object; 
these atoms replace the cursor at the position specified. 
atom$man_set_edit_position_to_end takes a word argument specifying 
the number of characters from the beginning of the current string in the 
input_box. 

Syntax

atom$man_set_edit_position_to_end <$dword>

<$dword> Specifies the text string at whose end the cursor 
falls.

Return Value

None.

Example

The following example specifies that the cursor falls at the end of the string 
in the input_box:

atom$man_set_edit_position <$dword>


America Online Confidential 6-78 © America Online, Inc. 1999




November 1999 FDO91 Manual


atom$man_set_item_type
65 ($41)

atom$man_set_item_type specifies a particular Display Manager 
protocol register whose value is to be set or changed. This companion atom 
must precede atom$man_item_set on page 6-52.

Syntax

atom$man_set_item_type <dm_register>

<dm_register> Specifies the particular register whose value you want 
to set. Register types and their function are as follows:

dmi_session_log_id Session log ID

dmi_chat_log_id Chat log ID

dmi_logging_chat Usage state of the chat log

dmi_logging_session Usage state of the session 
log

dmi_logging_ims Usage state of the Instant 
Messages log

dmi_on_line Online state

dmi_paid_area Paid area state

dmi_font_size Font size

dmi_scroll_text Text scroll state

Return Value

None.

Example

The following example defines the type of a register as dmi_on_line to be 
set to a true (1) value. 

atom$man_set_item_type <dmi_on_line> 
atom$man_item_set <1> 


© America Online, Inc. 1999 6-79 America Online Confidential




Chapter 6: Display Manager Protocol November 1999


atom$man_set_response_id
7 ($07)

atom$man_set_response_id notifies the client computer that the current 
stream is a response to the client computer’s request. Each object has an 
associated response ID. When a special buffer flag is set (or any shorthand 
action is used), the response ID precedes any data that is sent to the host.

Additionally, if a magic action is used, an entry is added to the magic table 
indicating that a response is expected for the requesting object's response 
ID. When a stream is later received containing an 
atom$man_set_response_id atom for that response ID, the next 
independent object to be created is associated in the magic table with the 
requesting object.

This association allows a number of operations to be performed: 

• Magic is facilitated.

• The requesting window can be popped (destroyed).

• The requesting window can be modified. 

The magic table entry is retained until the resulting independent object is 
deleted.

Syntax

atom$man_set_response_id <response_ID>

<response_ID> Specifies the response ID.

Return Value

None.

Example

The following example associates response ID 1234 with a trigger object 
on the requesting window:

atom$uni_start_stream
atom$man_start_object <trigger>
atom$man_set_response_id <1234> 
atom$man_end_object
atom$uni_end_stream


America Online Confidential 6-80 © America Online, Inc. 1999




November 1999 FDO91 Manual


atom$man_sort_items
109 ($6D)

atom$man_sort_items is used for generic sorting of objects.  Atom used 
to sort

Syntax

atom$man_sort_items <sorting_flags> 

<sorting_flags> Specifies the sorting flags as follows:

byte0 Ascending/descending

byte1 Field number

byte2 Delimiter

byte3 Permanent flag (default is 
No)

Return Value

None.

Objects Handled

The objects handled are Tree Control and Listbox.

Example

The following example sets the sort flag by field number:

atom$man_start_object <trigger> "Sort"
atom$act_replace_select_action
atom$uni_start_stream
atom$man_set_context_relative <30>
atom$man_sort_items <1>
atom$man_end_context
atom$uni_end_stream
atom$man_end_object


© America Online, Inc. 1999 6-81 America Online Confidential




Chapter 6: Display Manager Protocol November 1999


atom$man_spell_check
96 ($60)

atom$man_spell_check invokes the current object as a spell-check form 
from a rich view.

Syntax

atom$man_spell_check 

Return Value

None.

Example

The following example invokes a spell-check form:

atom$uni_start_stream
atom$man_set_context relative <12>
atom$man_spell_check 
atom$man_end_context
atom$uni_end_stream


America Online Confidential 6-82 © America Online, Inc. 1999




November 1999 FDO91 Manual


atom$man_start_alpha
40 ($28)

atom$man_start_alpha creates an object as a child of the current object. 
The position of the object relative to its siblings is determined 
alphabetically. This atom requires that the object's title be specified as part 
of the atom or in a preceding atom$man_preset_title on page 6-65.

Syntax

atom$man_start_alpha <object_type[, string]>

<object_type> Specifies an object type. Values are as follows:

0 org_group An organizational group

1 ind_group An independent group (for 
example, a window)

2 dms_list A dynamic, multi-select list 
(for example, a list box 
where more than one item 
is selectable)

3 sms_list A static, multi-select list 
(for example, a check box)

4 dss_list A dynamic, single-select 
list (for example, a list box 
where only one item is 
selectable)

5 sss_list A static, single-select list 
(for example, radio buttons)

6 trigger An actionable object (for 
example, a button, icon, or 
menu item)

7 ornament A static or decorative object 
(for example, a picture, or 
static text)


© America Online, Inc. 1999 6-83 America Online Confidential




Chapter 6: Display Manager Protocol November 1999


8 view A view field (used for 
display of larger amounts of 
text or a graphic where, if 
necessary, scroll bars are 
available)

9 edit_view An editable view field 
(used for input text fields 
where members can enter 
text)

12 range A range (used for display of 
graphic representation of a 
value, such as a bar gauge)

13 select_range A selectable range (used for 
an easy user interface for 
entering numeric data, such 
as a spin gadget)

17 tool_group A toolbar used on any form 
or frame window including 
tab controls

18 tab_group A tab group used for tab 
control of a group of tabbed 
pages, frames or forms (for 
example, list boxes with 
tabs)

19 tab_page A tab page used as a tabbed 
page, frame or form such as 
a list box with a labeled tab

[<string>] Specifies an optional title.

Return Value

None.

Example

The following example creates a new object as a child of the current object 
and inserts it alphabetically among its siblings:


America Online Confidential 6-84 © America Online, Inc. 1999




November 1999 FDO91 Manual


atom$man_start_alpha <trigger, "The Wine Club">

The result of this example is that a trigger object with the title The Wine 
Club is created and inserted alphabetically among its siblings.


© America Online, Inc. 1999 6-85 America Online Confidential




Chapter 6: Display Manager Protocol November 1999


atom$man_start_first
34 ($22)

atom$man_start_first creates an object and inserts it as the first child of 
the current object.

Syntax

atom$man_start_first <object_type[, string]>

<object_type> Specifies an object type. Values are as follows:

0 org_group An organizational group

1 ind_group An independent group (for 
example, a window)

2 dms_list A dynamic, multi-select list 
(for example, a list box 
where more than one item 
is selectable)

3 sms_list A static, multi-select list 
(for example, a check box)

4 dss_list A dynamic, single-select 
list (for example, a list box 
where only one item is 
selectable)

5 sss_list A static, single-select list 
(for example, radio buttons)

6 trigger An actionable object (for 
example, a button, icon, 
menu item)

7 ornament A static or decorative object 
(for example, a picture, 
static text)

8 view A view field (used for 
display of larger amounts of 
text or a graphic where, if 
necessary, scroll bars are 
available)


America Online Confidential 6-86 © America Online, Inc. 1999




November 1999 FDO91 Manual


9 edit_view An editable view field 
(used for input text fields 
where members can enter 
text)

12 range A range (used for display of 
graphic representation of a 
value, such as a bar gauge)

13 select_range A selectable range (used for 
an easy user interface for 
entering numeric data, such 
as a spin gadget)

17 tool_group A toolbar used on any form 
or frame window including 
tab controls

18 tab_group A tab group used for tab 
control of a group of tabbed 
pages, frames or forms (for 
example, list boxes with 
tabs)

19 tab_page A tab page used as a tabbed 
page, frame or form such as 
a list box with a labeled tab

[<string>] Specifies an optional title.

Return Value

None.

Example

The following example creates a new object as a child of the current object 
and inserts it before its siblings:

atom$man_start_first <trigger, "The Wine Club">

The result of this example is that a trigger object with the title The Wine 
Club is created and inserted first, before its siblings.


© America Online, Inc. 1999 6-87 America Online Confidential




Chapter 6: Display Manager Protocol November 1999


atom$man_start_ip_session 
103 ($67) 

atom$man_start_ip_session establishes a secure information provider 
(IP) session between the client and the host. This atom is sent by the host as 
part of a form definition and must be paired with 
atom$man_set_append_secure_data on page 6-69 to create an environment 
that can be completed with a handshake between the client and the IP 
through the rmg server.

Syntax

atom$man_start_ip_session <token/gid>

<token> Specifies a hex token value in the first 2 bytes of 
the argument. This value defines a routing token 
to the host server the client should use regarding 
this session. The value is a code of 2 ASCII 
characters. For example, the value 59x 23x 
defines a routing token of Y#. 

<gid> Specifies a hex global ID (GID) value in the last 4 
bytes of the argument. This value defines the GID 
of the cache record in the database that the client 
must use regarding this session. For example, the 
value 14x 00x 01x 4Fx defines a global ID of 20-
0-00335, where 14x equals 20, 00x equals 0, and 
01x 4Fx equals 00335.

Return Value

None.

Example

The following example establishes an IP session to transmit secure data to 
the client application using a Y# routing token and a GID of 20-0-00335: 

atom$man_start_ip_session <59x 23x 14x 00x 01x 4Fx> 
atom$man_start_object <edit_view, "">
atom$mat_size <3Cx 0Ex>
atom$mat_secure_field <0>
atom$mat_bool_writeable <yes>
atom$man_end_object


America Online Confidential 6-88 © America Online, Inc. 1999




November 1999 FDO91 Manual


atom$man_start_last
41 ($29)

atom$man_start_last creates an object and inserts it as the last child of 
the current object. This is the default behavior of atom$man_start. The 
command atom$man_start_last is provided as a means of overriding a 
list's sort order when necessary.

Syntax

atom$man_start_last <object_type[, string]>

<object_type> Specifies an object type. Values are as follows:

0 org_group An organizational group

1 ind_group An independent group (for 
example, a window)

2 dms_list A dynamic, multi-select list 
(for example, a list box 
where more than one item 
is selectable)

3 sms_list A static, multi-select list 
(for example, a check box)

4 dss_list A dynamic, single-select 
list (for example, a list box 
where only one item is 
selectable)

5 sss_list A static, single-select list 
(for example, radio buttons)

6 trigger An actionable object (for 
example, a button, icon, 
menu item)

7 ornament A static or decorative object 
(for example, a picture, 
static text)


© America Online, Inc. 1999 6-89 America Online Confidential




Chapter 6: Display Manager Protocol November 1999


8 view A view field (used for 
display of larger amounts of 
text or a graphic where, if 
necessary, scroll bars are 
available)

9 edit_view An editable view field 
(used for input text fields 
where members can enter 
text)

12 range A range (used for display of 
graphic representation of a 
value, such as a bar gauge)

13 select_range A selectable range (used for 
an easy user interface for 
entering numeric data, such 
as a spin gadget)

17 tool_group A toolbar used on any form 
or frame window including 
tab controls

18 tab_group A tab group used for tab 
control of a group of tabbed 
pages, frames or forms (for 
example, list boxes with 
tabs)

19 tab_page A tab page used as a tabbed 
page, frame or form such as 
a list box with a labeled tab

[<string>] Specifies an optional title.

Return Value

None.

Example

The following example creates a new object as a child of the current object 
and inserts it after its siblings:


America Online Confidential 6-90 © America Online, Inc. 1999




November 1999 FDO91 Manual


atom$man_start_last <trigger, "The Wine Club">

The result of this example is that a trigger object with the title The Wine 
Club is created and inserted last, after its siblings.


© America Online, Inc. 1999 6-91 America Online Confidential




Chapter 6: Display Manager Protocol November 1999


atom$man_start_object
0 ($00)

atom$man_start_object creates an object as a child of the current object. 
The position of the new object relative to other children of the current 
object is dependent on the sort order of the current object. If no sort order 
has been explicitly set for the object, children are added after all other 
siblings (the equivalent of atom$man_start_first on page 6-86 behavior). 

Syntax

atom$man_start_object <object_type[, string]>

<object_type> Specifies an object type. Values are as follows:

0 org_group An organizational group

1 ind_group An independent group (for 
example, a window)

2 dms_list A dynamic, multi-select list 
(for example, a list box where 
more than one item is 
selectable)

3 sms_list A static, multi-select list (for 
example, a check box)

4 dss_list A dynamic, single-select list 
(for example, a list box where 
only one item is selectable)

5 sss_list A static, single-select list (for 
example, radio buttons)

6 trigger  An actionable object (for 
example, a button, icon, menu 
item)

7 ornament A static or decorative object 
(for example, a picture, static 
text)

8 view A view field (used for display 
of larger amounts of text or a 
graphic where, if necessary, 
scroll bars are available)


America Online Confidential 6-92 © America Online, Inc. 1999




November 1999 FDO91 Manual


9 edit_view An editable view field (used 
for input text fields where 
members can enter text)

12 range A range (used for display of 
graphic representation of a 
value, such as a bar gauge)

13 select_range  A selectable range (used for 
an easy user interface for 
entering numeric data, such as 
a spin gadget)

17 tool_group A toolbar used on any form or 
frame window including tab 
controls

18 tab_group A tab group used for tab 
control of a group of tabbed 
pages, frames or forms (for 
example, list boxes with tabs)

19 tab_page A tab page used as a tabbed 
page, frame or form such as a 
list box with a labeled tab

[<string>] Specifies an optional title.

Return Value

None.

Example

The following example defines a new trigger object:

atom$man_start_object <trigger> 
.
.
.
atom$man_end_object


© America Online, Inc. 1999 6-93 America Online Confidential




Chapter 6: Display Manager Protocol November 1999


atom$man_start_sibling
1 ($01)

atom$man_start_sibling creates an object and attaches it to the display 
tree as the next sibling of the current object. An atom$man_end_object on 
page 6-29 for the current object is implied.

Syntax

atom$man_start_sibling <object_type[, string]>

<object_type> Specifies an object type. Values are as follows:

0 org_group An organizational group

1 ind_group An independent group (for 
example, a window)

2 dms_list A dynamic, multi-select list (for 
example, a list box where more 
than one item is selectable)

3 sms_list A static, multi-select list (for 
example, a check box)

4 dss_list A dynamic, single-select list (for 
example, a list box where only 
one item is selectable)

5 sss_list A static, single-select list (for 
example, radio buttons)

6 trigger An actionable object (for 
example, a button, icon, menu 
item)

7 ornament A static or decorative object (for 
example, a picture, static text)

8 view A view field (used for display of 
larger amounts of text or a 
graphic where, if necessary, 
scroll bars are available)

9 edit_view An editable view field (used for 
input text fields where members 
can enter text)


America Online Confidential 6-94 © America Online, Inc. 1999




November 1999 FDO91 Manual


12 range A range (used for display of 
graphic representation of a 
value, such as a bar gauge)

13 select_range A selectable range (used for an 
easy user interface for entering 
numeric data, such as a spin 
gadget)

17 tool_group A toolbar used on any form or 
frame window including tab 
controls

18 tab_group A tab group used for tab control 
of a group of tabbed pages, 
frames or forms (for example, 
list boxes with tabs)

19 tab_page A tab page used as a tabbed 
page, frame or form such as a 
list box with a labeled tab

[<string>] Specifies an optional title.

Return Value

None.

Example

The following example creates a new object as a sibling of the current 
object and inserts it next in the object tree:

atom$man_start_sibling <trigger, "Software Center">

The result of this example is that a trigger object with the title Software 
Center is created and inserted after the current object.


© America Online, Inc. 1999 6-95 America Online Confidential




Chapter 6: Display Manager Protocol November 1999


atom$man_treectrl_action_command
110 ($6E)

atom$man_treectrl_action_command is used for tree_control to 
create various actions.

Syntax

atom$man_treectrl_action-command <object_type[, string]>

<command> Specifies the commands such as edit, add, or delete 
with an integer as follows:

1 action: edit the item's label

2 action:  add an item to the 
tree control

N action: as defined

Return Value

None.

Object(s) Handled

This atom handles the tree_control object.

Example 

The following example creates the action to edit the item’s label:

atom$man_start_object <trigger> "Edit"
atom$act_replace_select_action
atom$uni_start_stream
atom$man_treectrl_action_command < 1>
atom$uni_end_stream
atom$man_end_object


America Online Confidential 6-96 © America Online, Inc. 1999




November 1999 FDO91 Manual


atom$man_update_display
17 ($11)

atom$man_update_display visually updates the objects contained in a 
subtree of the display tree.

Syntax

atom$man_update_display [<global_ID>]

[<global_ID>] Specifies the optional global ID of the subtree to 
be updated. If the argument is omitted, the root of 
the subtree (to update) defaults to the current 
object.

Return Value

None.

Example

The following example visually updates the display of objects in the 
current object (ID 61):

atom$uni_start_stream
atom$man_set_context_relative <61>
atom$mat_bool_repeat_animation <no>
atom$mat_art_animation_rate <0>
atom$mat_art_frame <0>
atom$man_update_display 
atom$man_end_context
atom$uni_end_stream


© America Online, Inc. 1999 6-97 America Online Confidential




Chapter 6: Display Manager Protocol November 1999


atom$man_update_end_object
19 ($13)

atom$man_update_end_object performs a visual update of the subtree of 
the display tree and also ends the current object context. The current object 
is used as the root of the subtree to update.

Syntax

atom$man_update_end_object

Return Value

None.

Example

The following example ends the current object and visually updates the 
display of objects in a particular subtree:

atom$uni_start_stream
atom$man_set_context_relative <61>
atom$mat_bool_repeat_animation <no>
atom$mat_art_animation_rate <0>
atom$mat_art_frame <0>
atom$man_update_end_object 
atom$uni_end_stream


America Online Confidential 6-98 © America Online, Inc. 1999




November 1999 FDO91 Manual


atom$man_update_fonts
74 ($4A)

atom$man_update_fonts reloads font information from the database 
record that contains it. The database record is changed using atoms from 
the Database Manager command set, and then atom$man_update_fonts is 
invoked.

Syntax

atom$man_update_fonts

Return Value

None.

Example

The following example reloads font information:

atom$man_update_fonts


© America Online, Inc. 1999 6-99 America Online Confidential




Chapter 6: Display Manager Protocol November 1999


atom$man_update_woff_end_stream
18 ($12)

atom$man_update_woff_end_stream is a shorthand atom that performs 
a visual update of the current object and all of its descendants. Then it turns 
the global wait state off and terminates the stream.

Syntax

atom$man_update_woff_end_stream

Return Value

None.

Example

The following example visually updates the current object and all of its 
descendants, turns off the global wait state, and terminates the atom stream:

atom$man_start_sibling <trigger, “?”>
atom$act_replace_select_action
atom$uni_start_stream_wait_on
atom$sm_send_k1 <2-4936>
atom$mat_trigger_style <rectangle>
atom$mat_font_sis <arial, 12, bold>
atom$man_end_object
atom$man_update_woff_end_stream 


America Online Confidential 6-100 © America Online, Inc. 1999




November 1999 FDO91 Manual


atom$man_use_default_title
16 ($10)

atom$man_use_default_title presets the title for an object about to be 
created to the saved title. For example, when a trigger's action is invoked, 
the title of the trigger is saved for later reference. 

Syntax

atom$man_use_default_title

Return Value

The default title string.

Example

The following example presets the title of an object to a title that has 
already been saved:

atom$man_use_default_title 
atom$man_start_object <ind_group>
.
.
.
atom$man_end_object

MAN_SORT_ITEMS

ID#:  109

Return Value: None

Objects Handled:  Tree Control, Listbox

Description:  This atom is used for generic sorting.  Atom used to sort

objects by:

Arguments: <sorting_flags>  dword specifying the sorting flags.

        byte0: ascending | descending

        byte1: field number


© America Online, Inc. 1999 6-101 America Online Confidential




Chapter 6: Display Manager Protocol November 1999


        byte2: delimiter

        byte3: Permanent flag, Default= NO

 Example of Usage:

         atom$man_start_object <trigger> "Sort"

         atom$act_replace_select_action

           atom$uni_start_stream

                   atom$man_set_context_relative <30>

             atom$man_sort_items <1>

                   atom$man_end_context

           atom$uni_end_stream

        atom$man_end_object

---------------------

MAN_TREECTRL_ACTION_COMMAND

ID#:  110

Return Value: None

Object Handled: Tree Control

Description:  This atom is used for tree control to create various actions.

Arguments:  <command> integer representing actions like:

         edit | add | delete

we may add other actions later.

command =1   means action: edit the item's label

command =2   means action:  add an item to the tree control.

and so on.

Example of Usage:


America Online Confidential 6-102 © America Online, Inc. 1999




November 1999 FDO91 Manual


         atom$man_start_object <trigger> "Edit"

         atom$act_replace_select_action

           atom$uni_start_stream

             atom$man_treectrl_action_command < 1>

           atom$uni_end_stream

        atom$man_end_object


© America Online, Inc. 1999 6-103 America Online Confidential




Chapter 6: Display Manager Protocol November 1999


atom$man_sort_items
109 ($6D)

atom$man_sort_items. 

Syntax

atom$man_

Return Value

Example

The following example

MAN_SORT_ITEMS

ID#:  109

Return Value: None

Objects Handled:  Tree Control, Listbox

Description:  This atom is used for generic sorting.  Atom used to sort

objects by:

Arguments: <sorting_flags>  dword specifying the sorting flags.

        byte0: ascending | descending

        byte1: field number

        byte2: delimiter

        byte3: Permanent flag, Default= NO

 Example of Usage:

         atom$man_start_object <trigger> "Sort"

         atom$act_replace_select_action


America Online Confidential 6-104 © America Online, Inc. 1999




November 1999 FDO91 Manual


           atom$uni_start_stream

                   atom$man_set_context_relative <30>

             atom$man_sort_items <1>

                   atom$man_end_context

           atom$uni_end_stream

        atom$man_end_object


© America Online, Inc. 1999 6-105 America Online Confidential




Chapter 6: Display Manager Protocol November 1999


atom$man_
? ($?)

atom$man_use_. 

Syntax

atom$man_

Return Value

Example

The following example


America Online Confidential 6-106 © America Online, Inc. 1999



===== END PDF: ch06-man.pdf =====

===== BEGIN PDF: ch07-uni.pdf =====



Manual: FDO91 Manual
Chapter 7: Universal Protocol defines the universal protocol atoms and provides information for
controlling atom streams.
Last updated: July 1997




C H A P T E R  7

Universal (UNI) Protocol

The Universal (UNI) protocol (protocol ID 0) consists of atoms that provide
basic utility and control functions common to all platforms that use the FDO91
language.  This functionality includes stream execution control and atom
management, such as starting, ending, and controlling atom streams and
managing large atoms.  The protocol also supports some data manipulation
operations and client session control.

Universal Protocol Atoms

The Universal (UNI) protocol functions and their associated atoms follow:

Function Atoms

Stream execution control atom$uni_abort_stream

atom$uni_change_stream_id

atom$uni_data

atom$uni_end_loop

atom$uni_end_stream

atom$uni_force_processing

atom$uni_get_current_stream_id

atom$uni_get_first_stream

atom$uni_get_next_stream

atom$uni_get_stream_window

America Online Confidential 7-1  America Online, Inc. 1993-97




Chapter 7: Universal (UNI) Protocol July 1997

atom$uni_hold

atom$uni_invoke_local

atom$uni_invoke_local_later

atom$uni_invoke_local_preserve

atom$uni_invoke_no_context

atom$uni_set_data_length

atom$uni_start_loop

atom$uni_start_stream

atom$uni_start_stream_wait_on

atom$uni_transaction_id

atom$uni_sync_skip

atom$uni_wait_off_end_stream

Data manipulation atom$uni_convert_last_atom_data
operations

atom$uni_convert_last_atom_string

atom$uni_data

atom$uni_get_result

atom$uni_save_result

atom$uni_use_last_atom_data

atom$uni_use_last_atom_string

atom$uni_use_last_atom_value

Large atom management atom$uni_end_large_atom

atom$uni_large_atom_segment

atom$uni_start_large_atom

America Online Confidential 7-2  America Online, Inc. 1993-97




July 1997 FDO91 Manual, Vol. 1

Client session control atom$uni_cancel_action

atom$uni_set_watchdog_interval

atom$uni_start_stream_wait_on

atom$uni_wait_off

atom$uni_wait_off_end_stream

atom$uni_wait_on

Language data type for atom$uni_end_typed_data
display

atom$uni_next_atom_typed

atom$uni_start_typed_data

Atom stream debugging atom$uni_break

atom$uni_diagnostic_msg

atom$uni_single_step

atom$uni_void

The UNI protocol atoms are described in alphabetical order in the rest of this
chapter.

 America Online, Inc. 1993-97 7-3 America Online Confidential




Chapter 7: Universal (UNI) Protocol July 1997

atom$uni_abort_stream
3 ($03)

Description

atom$uni_abort_stream causes the current atom stream to be terminated.
Note that if this atom is executed in a host-to-client stream, the stream is
terminated for the current packet only.  Any atoms stored in the buffer are
ignored without further processing.

Syntax

atom$uni_abort_stream

Return Value

None.

Example

The following example terminates the current stream if the last return value is
0:

atom$uni_start_stream
.
.
.
atom$if_last_return_false <5>

ê atom$uni_abort_stream
atom$uni_sync_skip <5>
.
.
.
atom$_uni_end_stream

The example is explained as follows:

atom$if_last_return_false <5>

This example tests the last return value for a true or false state.

If the result is true, which means the last return value is false, the atoms
that appear between atom$if_last_return_false <5> and
atom$uni_sync_skip <5> are executed, followed by the atoms that
appear after atom$uni_sync_skip <5>.

America Online Confidential 7-4  America Online, Inc. 1993-97




July 1997 FDO91 Manual, Vol. 1

If the result is false, which means the last return value is true, the atoms
that appear between atom$if_last_return_false <5> and
atom$uni_sync_skip <5> are skipped, and the atoms that follow
atom$uni_sync_skip <5> are executed.

ê atom$uni_abort_stream

This example aborts the atom stream if atom$if_last_return_false <5>
evaluates to true.

atom$uni_sync_skip <5>

This atom marks the end of the true atoms, which is where execution
skips to in the atom stream if atom$if_last_return_false <5> evaluates
to false.

 America Online, Inc. 1993-97 7-5 America Online Confidential




Chapter 7: Universal (UNI) Protocol July 1997

atom$uni_break
43 ($2B)

Description

atom$uni_break breaks the processing of the current stream and invokes a
programmer’s Windows debugger.

Syntax

atom$uni_break

Return Value

None.

Example

The following example breaks the execution of the current atom stream and
invokes a programmer’s Windows debugger when the numeric value of
register A is 0:

atom$uni_start_stream
.
.
.
atom$if_numa_false_then <5>

ê atom$uni_break
atom$uni_sync_skip <5>
.
.
.
atom$_uni_end_stream

America Online Confidential 7-6  America Online, Inc. 1993-97




July 1997 FDO91 Manual, Vol. 1

atom$uni_cancel_action
49 ($31)

Description

atom$uni_cancel_action executes the cancel action associated with the top-
most form.

Syntax

atom$uni_cancel_action

Return Value

None.

Example

The following example executes the cancel action associated with the top-most
form when a member pressed the ESC key:

atom$uni_start_stream
ê atom$uni_cancel_action

.

.

.
atom$uni_end_stream

 America Online, Inc. 1993-97 7-7 America Online Confidential




Chapter 7: Universal (UNI) Protocol July 1997

atom$uni_change_stream_id
35 ($23)

Description

atom$uni_change_stream_id causes the flow of execution to change from
the current atom stream to the specified atom stream.  If the terminate flag is
set to a non-zero value, the current stream is terminated and the specified
stream is activated.  (If the specified stream ID is not valid, the current stream
is terminated.)  If the terminate flag is set to 0, the specified stream is
activated, and the current stream is put on hold until the specified stream
completes processing.

Syntax

atom$uni_change_stream_id <flag[, stream_ID]>

<flag> Specifies a 1-byte termination flag.  Values are 0 or
greater.

[<stream_ID>] Specifies an optional stream ID.  Values are 1 or
greater.

Return Value

None.

Examples

The following example terminates the current stream (ID 24) and activates
stream ID 23 when register A is greater than 99:

America Online Confidential 7-8  America Online, Inc. 1993-97




July 1997 FDO91 Manual, Vol. 1

atom$uni_start_stream
.(This is stream 23)
.
.
atom$var_number_set <B, 99>

atom$uni_start_stream
. (This is stream 24)
.
.
atom$if_numa_gt_numb_then <5>

ê atom$uni_change_stream_id <1, 23>
atom$uni_sync_skip <5>
.
.
.
atom$uni_end_stream

. (This is stream 23)

.

.
atom$uni_end_stream

The following example puts the current stream (ID 24) on hold and activates
stream ID 23 when register A is greater than 99:

atom$uni_start_stream
.(This is stream 23)
.
.
atom$var_number_set <B, 99>

atom$uni_start_stream
. (This is stream 24)
.
.
atom$if_numa_gt_numb_then <5>

ê atom$uni_change_stream_id <0, 23>
atom$uni_sync_skip <5> .
.
.
atom$uni_end_stream

. (This is stream 23)

.

.
atom$uni_end_stream

 America Online, Inc. 1993-97 7-9 America Online Confidential




Chapter 7: Universal (UNI) Protocol July 1997

atom$uni_convert_last_atom_data
45 ($2D)

Description

atom$uni_convert_last_atom_data converts the last return value to
characters and returns a pointer to the character string.  This string is valid
until another string is converted.

Syntax

atom$uni_convert_last_atom_data

Return Value

Pointer to the character string.

Example

The following example converts the last return value to characters.  For this
example, the last return value is decimal 617:

atom$uni_start_stream
.
.
.
atom$man_set_context_relative <56>
atom$var_lookup_by_id <A, 23>
atom$var_number_get <A>
atom$uni_save_result
.
.
.
atom$man_change_context_relative <11>
atom$uni_get_result

ê atom$uni_convert_last_atom_data
atom$uni_use_last_atom_string <atom$man_replace_data>
atom$man_end_context
.
.
atom$man_update_display
atom$uni_end_stream

The result of this example is that a pointer to the string "617" is returned and
placed in object 11.

America Online Confidential 7-10  America Online, Inc. 1993-97




July 1997 FDO91 Manual, Vol. 1

atom$uni_convert_last_atom_string
42 ($2A)

Description

atom$uni_convert_last_atom_string converts the last string return value to a
numeric value and returns the result.  (Note that valid string values are null-
terminated.)

Syntax

atom$uni_convert_last_atom_string

Return Value

Numeric value of the string.

Example

The following example converts the last string return value to a numeric value.
For this example, the last return value points to the string "123:"

atom$uni_start_stream
.
.
.
atom$man_set_context_relative <56>
atom$var_lookup_by_id <A, 23>
atom$var_string_get <A>
atom$uni_save_result
.
.
.
atom$man_change_context_relative <11>
atom$uni_get_result

ê atom$uni_convert_last_atom_string
atom$uni_use_last_atom_value <atom$var_number_set, A>
atom$var_number_save <A, 10>
atom$man_end_context
.
.
atom$man_update_display
atom$uni_end_stream

The result of this example is that the return value is 123 in decimal, and it is
saved in register 10 for object 11.

 America Online, Inc. 1993-97 7-11 America Online Confidential




Chapter 7: Universal (UNI) Protocol July 1997

atom$uni_data
14 ($0E)

Description

atom$uni_data delivers raw data in a stream to the host.  The preceding
atoms set the machine state and context for the type of data expected.

Syntax

atom$uni_data <raw_data>

<raw_data> Specifies the raw data to be sent.

Return Value

Pointer to the raw data specified.

Example

The following example sends raw data to the host:

atom$reg_data_type <reg_data_city>
ê atom$uni_data <56x 69x 65x 6Ex 6Ex 61x>

The example is explained as follows:

atom$reg_data_type <reg_data_city>

Tells a host register process during new member registration to expect
data describing the member's city.

ê atom$uni_data <56x 69x 65x 6Ex 6Ex 61x>

Transmits the data (56x 69x 65x 6Ex 6Ex 61x) that indicates the new
member's city (Vienna) to the host.

America Online Confidential 7-12  America Online, Inc. 1993-97




July 1997 FDO91 Manual, Vol. 1

atom$uni_diagnostic_msg
36 ($24)

Description

atom$uni_diagnostic_msg lets you put status notification messages in
streams.  This atom is used for debugging purposes.

Syntax

atom$uni_diagnostic_msg <flag[, string]>

<flag> Specifies a 1-byte debug flag, which is currently not
used.  The default value is 0.

[<string>] Specifies an optional message string.

Return Value

None.

Example

The following example displays a status notification message for testing
purposes:

atom$uni_start_stream
.
.
.

ê atom$uni_diagnostic_msg <0, "Create toolbar">
.
.
.
atom$uni_end_stream

When this atom command is executed, the message "Create toolbar" appears
on screen.  You can insert this command into an atom stream prior to atoms
that create and display a toolbar.  If errors are occurring and you think the
toolbar is causing them, this command lets you easily pinpoint the problem.

 America Online, Inc. 1993-97 7-13 America Online Confidential




Chapter 7: Universal (UNI) Protocol July 1997

atom$uni_end_large_atom
6 ($06)

Description

atom$uni_end_large_atom completes the large atom being collected (started
with atom$uni_start_large_atom).  For efficiency purposes, the Atomizer
tool mathematically determines whether or not to construct a large atom.

Syntax

atom$uni_end_large_atom [<data>]

[<data>] Specifies optional unlimited data.

Return Value

Result of the atom processed.

Examples

The following example assembles large amounts of text into a large atom via
the Atomizer tool:

atom$uni_start_large_atom <atom$man_text, 32>
atom$uni_large_atom_segment <Text goes here...>

ê atom$uni_end_large_atom <Rest of text goes here...>

The example is explained as follows:

atom$uni_start_large_atom <atom$man_text, 32>

Starts a large atom that assembles data into 0 or more segments.

<atom$man_text> Indicates that the large atom is an
atom$man_text atom.

<32> Indicates that the length of the large atom is 32
bytes.

atom$uni_large_atom_segment <Text goes here...>

Assembles the data being sent into as many segments as necessary.

America Online Confidential 7-14  America Online, Inc. 1993-97




July 1997 FDO91 Manual, Vol. 1

ê atom$uni_end_large_atom <Rest of text goes here...>

Sends the rest of the text, if more exists, and ends the large atom.

 America Online, Inc. 1993-97 7-15 America Online Confidential




Chapter 7: Universal (UNI) Protocol July 1997

atom$uni_end_loop
9 ($09)

Description

atom$uni_end_loop designates the end of a series of atoms that can be
repeated.  This atom is used in conjunction with the atom$uni_start_loop
command.

Syntax

atom$uni_end_loop

Return Value

None.

Example

The following example illustrates the use of a stream execution loop, which
will append "Hello there" 10 times to the object in context:

atom$var_number_set <A, 10>
atom$var_number_set <B, 0>
atom$uni_start_loop
atom$man_append_data <"Hello there">
atom$var_number_decrement <A>
atom$if_numa_neq_numb_then <35>

ê atom$uni_end_loop
atom$uni_sync_skip <35>

The example is explained as follows:

atom$var_number_set <A, 10>

Sets the numeric area of register A to 10.

atom$var_number_set <B, 0>

Sets the numeric area of register B to 0.

atom$uni_start_loop

Defines the beginning of a loop that will repeatedly execute atoms until
a specified termination point is reached.  In this case, the loop will
continue until the numeric value of register A reaches 0.

America Online Confidential 7-16  America Online, Inc. 1993-97




July 1997 FDO91 Manual, Vol. 1

atom$man_append_data <"Hello there">

Appends the text "Hello there" to the current object.

atom$var_number_decrement <A>

Decrements the numeric value of register A by 1, which results in a
value of 9.

atom$if_numa_neq_numb_then <35>

Compares the numeric content of register A with the numeric content
of register B to see if they are equal.

After the first execution of the loop, the register A numeric content is 9
and register B numeric content is 0 so this command evaluates to false
and execution returns to the beginning of the loop.

The loop executes until the register A numeric content is decremented
to 0.  At that point, this command evaluates to true, and
atom$uni_end_loop is executed, followed by atom$uni_sync_skip
<35>.

ê atom$uni_end_loop

Defines the end of the loop.

atom$uni_sync_skip <35>

Processing continues here after atom$if_numa_neq_numb_then
<35> evaluates to true and the loop is terminated.

 America Online, Inc. 1993-97 7-17 America Online Confidential




Chapter 7: Universal (UNI) Protocol July 1997

atom$uni_end_stream
2 ($02)

Description

atom$uni_end_stream designates the end of the current atom stream.

Syntax

atom$uni_end_stream

Return Value

None.

Example

The following example terminates the processing of an atom stream:

atom$uni_start_stream
.
.
.

ê atom$uni_end_stream

America Online Confidential 7-18  America Online, Inc. 1993-97




July 1997 FDO91 Manual, Vol. 1

atom$uni_end_typed_data
24 ($18)

atom$uni_end_type_data is described in Appendix B, "Internationalization
(i18n) Atoms."

 America Online, Inc. 1993-97 7-19 America Online Confidential




Chapter 7: Universal (UNI) Protocol July 1997

atom$uni_force_processing
32 ($20)

Description

atom$uni_force_processing signals the client computer to change the normal
atom processing mode that processes each atom in the stream as it is received
to a mode that collects and then processes the buffered chunks of atoms from a
stream received.

Note that whenever this atom arrives, any buffered atoms are processed before
the processing mode is changed.  This lets this atom precisely define the
processing chunks where required.

Syntax

atom$uni_force_processing <word>

<word> Specifies the processing mode of the atom stream.
Values are as follows:

EVERY Processes all atoms as they arrive (as
normal).

AT_END Processes no atoms until the end of
the stream.

Return Value

None.

Example

The following example changes the execution mode to defer atom processing
until the end of the stream is reached:

atom$uni_start_stream
.
.
.

ê atom$uni_force_processing <AT_END>
atom$uni_end_stream
atom$uni_start_stream
.
.
.
atom$uni_end_stream

America Online Confidential 7-20  America Online, Inc. 1993-97




July 1997 FDO91 Manual, Vol. 1

atom$uni_get_current_stream_id
50 ($32)

Description

atom$uni_get_current_stream_id returns the ID of the current stream.

Syntax

atom$uni_get_current_stream_id

Return Value

ID of the current stream.

Example

The following example gets the ID of the current stream:

atom$uni_start_stream
.
.
.

atom$uni_start_stream
.
.
.

ê atom$uni_get_current_stream_id
.
.
.
atom$uni_end_stream

.

.

.
atom$uni_end_stream

 America Online, Inc. 1993-97 7-21 America Online Confidential




Chapter 7: Universal (UNI) Protocol July 1997

atom$uni_get_first_stream
46 ($2E)

Description

atom$uni_get_first_stream returns the ID of the first stream in the list of
open streams.

Syntax

atom$uni_get_first_stream

Return Value

ID of first open stream.

Example

The following example gets the ID of the first stream that was opened:

atom$uni_start_stream
.
.
.

atom$uni_start_stream
.
.
.

atom$uni_start_stream
.
.
.

ê atom$uni_get_first_stream
.
.
.
atom$uni_end_stream

.

.

.
atom$uni_end_stream

.

.

.
atom$uni_end_stream

America Online Confidential 7-22  America Online, Inc. 1993-97




July 1997 FDO91 Manual, Vol. 1

atom$uni_get_next_stream
47 ($2F)

Description

atom$uni_get_next_stream returns the ID of the next stream in the open
stream list.

Syntax

atom$uni_get_next_steam

Return Value

ID of next open stream.

Example

The following example gets the ID of the next stream:

atom$uni_start_stream
.
.
.

atom$uni_start_stream
.
.
.

atom$uni_start_stream
.
.
.
atom$uni_get_first_stream

ê atom$uni_get_next_stream
.
.
.
atom$uni_end_stream

.

.

.
atom$uni_end_stream

.

.

.
atom$uni_end_stream

The example is explained as follows:

 America Online, Inc. 1993-97 7-23 America Online Confidential




Chapter 7: Universal (UNI) Protocol July 1997

atom$uni_get_first_stream

Gets the ID of the first open stream.

ê atom$uni_get_next_stream

Gets the ID of the next open stream.

America Online Confidential 7-24  America Online, Inc. 1993-97




July 1997 FDO91 Manual, Vol. 1

atom$uni_get_result
21 ($15)

Description

atom$uni_get_result gets the result of the previous atom$uni_save_result
atom and then uses it for the next atom.

Syntax

atom$uni_get_result

Return Value

Value of the last saved atom result.

Example

The following example executes atom$uni_get_result that gets the numeric
value that was saved with atom$uni_save_result in a previous operation.  For
this example, the last save result is decimal 617.

atom$uni_start_stream
.
.
.
atom$man_set_context_relative <56>
atom$var_lookup_by_id <A, 23>
atom$var_number_get <A>
atom$uni_save_result
.
.
.
atom$man_change_context_relative <11>

ê atom$uni_get_result
atom$uni_convert_last_atom_data
atom$uni_use_last_atom_string <atom$man_replace_data>
atom$man_end_context
.
.
atom$man_update_display
atom$uni_end_stream

The result of this example is that a pointer to the string "617" is returned and
placed in object 11.

 America Online, Inc. 1993-97 7-25 America Online Confidential




Chapter 7: Universal (UNI) Protocol July 1997

atom$uni_get_stream_window
48 ($30)

Description

atom$uni_get_stream_window returns the global ID of the window
associated with the specified stream or that of the current stream if no stream
ID is specified.

Syntax

atom$uni_get_steam_window [<dword>]

[<dword>] Specifies an optional stream ID.

Return Value

Global ID of the window.

Example

The following example gets the global ID of a window that is associated with
the current stream:

atom$uni_start_stream
.
.
.

atom$uni_start_stream
.
.
.

ê atom$uni_get_stream_window
.
.
.
atom$uni_end_stream

.

.

.
atom$uni_end_stream

America Online Confidential 7-26  America Online, Inc. 1993-97




July 1997 FDO91 Manual, Vol. 1

atom$uni_hold
37 ($25)

Description

atom$uni_hold causes the specified atom stream to be placed on hold.  If no
stream ID is specified, the current stream is held.

Syntax

atom$uni_hold [<dword>]

[<dword>] Specifies an optional stream ID.

Return Value

None.

Examples

The following example places the current stream on hold:

atom$uni_start_stream
.
.
.

atom$uni_start_stream
.
.
.

ê atom$uni_hold
.(This stream on hold)
.
.
atom$uni_end_stream

.

.

.
atom$uni_end_stream

The following example places a stream with an ID of 23 on hold:

 America Online, Inc. 1993-97 7-27 America Online Confidential




Chapter 7: Universal (UNI) Protocol July 1997

atom$uni_start_stream
.(This is stream 23)
.
.

atom$uni_start_stream
.
.
.

ê atom$uni_hold <23>
.
.
.
atom$uni_end_stream

. (This stream on hold)

.

.
atom$uni_end_stream

America Online Confidential 7-28  America Online, Inc. 1993-97




July 1997 FDO91 Manual, Vol. 1

atom$uni_invoke_local
20 ($14)

Description

atom$uni_invoke_local invokes the atom stream contained in the specified
database record.  This may be a complete atom stream or a fragment.  The
context of the current object is assumed when this record is invoked.  The
context for the next atom processed is based on the final context of the
database record processed.

Syntax

atom$uni_invoke_local <dword>

<dword> Specifies a database record.

Return Value

Database record from which the atom stream was invoked.

Example

The following example invokes a stream retrieved from a database record:

atom$uni_start_stream
atom$man_set_context_relative <56>
.
.
.

ê atom$uni_invoke_local <3005>
.
.
.
atom$uni_end_stream

.

.

.
atom$uni_end_stream

The result of this example is that database record 3005 is looked up and given
to the Atomizer tool for processing.

 America Online, Inc. 1993-97 7-29 America Online Confidential




Chapter 7: Universal (UNI) Protocol July 1997

atom$uni_invoke_local_later
41 ($29)

Description

atom$uni_invoke_local_later invokes the atom stream contained in the given
database record when the next client computer idle period begins.  This may be
a complete atom stream or a fragment.  The context of the current object is
assumed when this record is invoked.

Syntax

atom$uni_invoke_local_later <dword>

<dword> Specifies a database record.

Return Value

Database record from which the atom stream was invoked.

Example

The following example retrieves a stream from a database record and invokes
it when the client computer is idle:

atom$uni_start_stream
atom$man_set_context_relative <56>
.
.
.

ê atom$uni_invoke_local_later <1206>
.
.
.
atom$man_end_context
atom$uni_end_stream
atom$uni_start_stream

. (This is stream 1206)

.

.
atom$uni_end_stream

The result of this example is that database record 1206 is looked up and given
to the Atomizer tool for processing when the client application is idle.

America Online Confidential 7-30  America Online, Inc. 1993-97




July 1997 FDO91 Manual, Vol. 1

atom$uni_invoke_local_preserve
40 ($28)

Description

atom$uni_invoke_local_preserve preserves the context of the current object
when the atom stream contained in the given database record is invoked.  This
may be a complete atom stream or a fragment.  After the database record is
processed, the next atom processed will have context restored to its normal
state (the current object).

Syntax

atom$uni_invoke_local_preserve <dword>

<dword> Specifies a database record.

Return Value

Database record from which the atom stream was invoked.

Example

The following example retrieves a stream from the database and invokes it
while preserving the context of the current object:

atom$uni_start_stream
atom$man_set_context_relative <56>
.
.
.

ê atom$uni_invoke_local_preserve <3141>
.
.
.
atom$uni_end_stream

.(This is object context 56)

.

.
atom$uni_end_stream

The result of this example is that database record 3141 is looked up and given
to the Atomizer tool for processing.

 America Online, Inc. 1993-97 7-31 America Online Confidential




Chapter 7: Universal (UNI) Protocol July 1997

atom$uni_invoke_no_context
19 ($13)

Description

atom$uni_invoke_no_context invokes the atom stream contained in the given
database record.  This may be a complete atom stream or a fragment.  The
context of the current object is ignored when this record is invoked.  The
context for the next atom processed is based on the final context of the
database record processed.

Syntax

atom$uni_invoke_no_context <dword>

<dword> Specifies a database record.

Return Value

Database record from which the atom stream was invoked.

Example

The following example retrieves a stream from the database and invokes it
while ignoring the context of the current object:

atom$uni_start_stream
atom$man_set_context_relative <56>
.
.
.

ê atom$uni_invoke_no_context <721>
.
.
.
atom$uni_end_stream

.

.

.
atom$uni_end_stream

The result of this example is that database record 721 is looked up and given to
the Atomizer tool for processing.

America Online Confidential 7-32  America Online, Inc. 1993-97




July 1997 FDO91 Manual, Vol. 1

atom$uni_large_atom_segment
5 ($05)

Description

atom$uni_large_atom_segment adds data to the large atom being processed.
Zero or more large atom segments can follow atom$uni_start_large_atom.
For efficiency purposes, the Atomizer tool mathematically determines whether
or not to construct a large atom.

Syntax

atom$uni_large_atom_segment <data>

<data> Specifies a large segment of data.

Return Value

None

Example

The following example splits large amounts of data into several atom
segments:

atom$uni_start_large_atom <atom$man_append_data, 32>
ê atom$uni_large_atom_segment <Data goes here...>

.

.
(More atom$uni_large_atom_segment atoms, if necessary)
.
.
atom$uni_end_large_atom

The example is explained as follows:

atom$uni_start_large_atom <atom$man_append_data, 32>

Starts a large atom that assembles data into 0 or more segments.

<atom$man_append_ Indicates that the large atom is an
data> atom$man_append_data atom.

<32> Indicates that the length of the large atom is 32
bytes.

 America Online, Inc. 1993-97 7-33 America Online Confidential




Chapter 7: Universal (UNI) Protocol July 1997

ê atom$uni_large_atom_segment <Data goes here...>

Assembles the data being sent into as many segments as necessary.

atom$uni_end_large_atom

Ends the large atom.

America Online Confidential 7-34  America Online, Inc. 1993-97




July 1997 FDO91 Manual, Vol. 1

atom$uni_next_atom_typed
22 ($16)

atom$uni_next_atom_typed is described in Appendix B,
"Internationalization (i18n) Atoms."

 America Online, Inc. 1993-97 7-35 America Online Confidential




Chapter 7: Universal (UNI) Protocol July 1997

atom$uni_save_result
12 ($0C)

Description

atom$uni_save_result saves the result of the last atom executed.  Only one
atom result can be saved at a time.

Syntax

atom$uni_save_result

Return Value

None.

Example

The following example saves the result of the last atom value for later use:

atom$uni_start_stream
.
.
.
atom$man_set_context_relative <56>
atom$var_lookup_by_id <A, 23>
atom$var_number_get <A>

ê atom$uni_save_result
.
.
.
atom$man_change_context_relative <11>
atom$uni_get_result
atom$uni_convert_last_atom_data
atom$uni_use_last_atom_string <atom$man_replace_data>
atom$man_end_context
.
.
atom$man_update_display
atom$uni_end_stream

America Online Confidential 7-36  America Online, Inc. 1993-97




July 1997 FDO91 Manual, Vol. 1

atom$uni_set_data_length
51 ($33)

Description

atom$uni_set_data_length sets the default data length for the current stream.

Syntax

atom$uni_set_data_length <data_length>

<data_length> Specifies the default data length in bytes.

Return Value

None.

Example

The following example sets the default data length for the current stream to 4
bytes:

atom$uni_start_stream
ê atom$uni_set_data_length <4>

.

.

.
atom$uni_end_stream

 America Online, Inc. 1993-97 7-37 America Online Confidential




Chapter 7: Universal (UNI) Protocol July 1997

atom$uni_set_watchdog_interval
53 ($35)

Description

atom$uni_set_watchdog_interval sets the amount of time that elapses before
the client's watchdog timer expires.  The watchdog timer is used to detect
when the host has failed to respond to a request.

When the watchdog interval has expired, an abort action is triggered.  The
standard abort action is to turn off the wait cursor and display a dialog stating
The host has failed to respond.  Please continue.  An abort action is defined
using atom$act_set_criterion <17>, which specifies a timeout action.

Syntax

atom$uni_set_watchdog_interval <dword>

<dword> Specifies the watchdog interval in a client-dependent
unit of time.  Values are 1 tick or greater.  (For
example, the unit of time for the Windows client
application is ticks, where 1 tick = 1/60th of a second.)

Return Value

None.

Example

The following example sets the watchdog interval to 45 seconds:

atom$uni_start_stream
.
.
.

ê atom$uni_set_watchdog_interval <2700>
.
.
.
atom$uni_end_stream

The result of this example is that the watchdog interval is set to 45 seconds
(2700 divided by 60 = 45).  This means that the client will wait for 45 seconds
for the host to respond before giving up and performing a specified abort
action.

America Online Confidential 7-38  America Online, Inc. 1993-97




July 1997 FDO91 Manual, Vol. 1

atom$uni_single_step
44 ($2C)

Description

atom$uni_single_step invokes or terminates single step execution of atoms in
the stream.  For each atom, the Single Stepper Dialog box appears and lets you
modify any Action register value and the atom’s data.   

Syntax

atom$uni_single_step [<boolean>]

[<boolean>] Invokes or terminates the single step atom execution
mode.  Values are as follows:

0 Invokes the single step execution mode. 
(Default)

1 Terminates the single step execution mode.

Return Value

None.

Examples

The following example invokes the single step atom execution mode:

atom$uni_single_step

The following example terminates the single step atom execution mode:

atom$uni_single_step <1>

 America Online, Inc. 1993-97 7-39 America Online Confidential




Chapter 7: Universal (UNI) Protocol July 1997

atom$uni_start_large_atom
4 ($04)

Description

atom$uni_start_large_atom marks the beginning of a large atom.  A large
atom is an atom that does not fit in a data packet.  The size limit for a large
atom is 64K bytes.  Each time a large atom is sent, it needs to be broken into a
stream of atoms that begins with atom$uni_start_large_atom and ends with
atom$uni_end_large_atom, with 0 or more atom$uni_large_atom_segment
atoms in between.

For efficiency purposes, the Atomizer tool mathematically determines whether
or not to construct a large atom.

Syntax for VP Designer

atom$uni_start_large_atom <atom, atom_length>

Syntax for form_edit

atom$uni_start_large_atom <proto> <atom> <atom_length>

<proto> This argument is not used for VP Designer.

For form_edit, this argument specifies a protocol name
to which the large atom belongs.  The possible protocol
names are prefixed prot$ and are defined on Stratus in
arclient>atoms_dir>protocols.file.  Some typical
values are as follows:

prot$uni — Universal Protocol

prot$display — Display Manager Protocol

prot$action — Action Protocol

prot$extract — Data Manager Protocol

prot$buffer — Buffer Protocol

prot$database — Database Manager Protocol

prot$xfer — File Transfer Protocol

America Online Confidential 7-40  America Online, Inc. 1993-97




July 1997 FDO91 Manual, Vol. 1

prot$file — File Manager Protocol

prot$list — List Manager Protocol

prot$code — Code Manager Protocol

prot$chat — Chat Protocol

prot$var — Variable Protocol

prot$async — Async Protocol

prot$shorthand — Shorthand Protocol

prot$if — IF Protocol

prot$mat — Display Attributes Protocol

prot$mip — Message Interchange Protocol

prot$reg — Registration Protocol

prot$mmi — Multimedia Interface Protocol

prot$imgxfer — Image Transfer Protocol

prot$image — Image Manager Protocol

prot$chart — Chart Protocol

prot$morg — Multimedia Organizer Protocol

prot$rich — Rich Protocol

prot$exapi — External API Protocol

prot$ccl — CCL Protocol

prot$p3 — P3 Protocol

prot$pakman — File Decompression Protocol

prot$address — Address Protocol

prot$mt — Debugging Protocol

 America Online, Inc. 1993-97 7-41 America Online Confidential




Chapter 7: Universal (UNI) Protocol July 1997

<atom> Specifies an atom used to interpret the atom stream
once it has been completely received.

<atom_length> Specifies an atom length that provides the receiver with
an upper limit on the length of the large atom.  Although
this value can be used for memory allocation purposes,
the true length of the large atom is measured.

Return Value

None.

Example

The following example assembles large amounts of text into a large atom:

ê atom$uni_start_large_atom <atom$man_text, 32>
atom$uni_large_atom_segment <Text goes here...>
atom$uni_end_large_atom

The example is explained as follows:

ê atom$uni_start_large_atom <atom$man_text, 32>

Starts a large atom that assembles data into 0 or more segments.

<atom$man_text> Indicates that the large atom is
atom$man_text.

<32> Indicates that the length of the large atom is 32
bytes.

atom$uni_large_atom_segment <Text goes here...>

Assembles the data being sent into as many segments as necessary.

atom$uni_end_large_atom

Ends the large atom.

America Online Confidential 7-42  America Online, Inc. 1993-97




July 1997 FDO91 Manual, Vol. 1

atom$uni_start_loop
8 ($08)

Description

atom$uni_start_loop designates the beginning of a series of atom executions
that can be repeated.  This atom is used in conjunction with
atom$uni_end_loop.  The only way to break out of the loop is with an atom
from the Conditional protocol.  For more information, see Chapter 5,
"Conditional (IF) Protocol."

Syntax

atom$uni_start_loop

Return Value

None.

Example

The following example appends "Hello there" 10 times to the object in context
using an atom processing loop:

atom$var_number_set <A, 10>
atom$var_number_set <B, 0>

ê atom$uni_start_loop
atom$man_append_data <"Hello there">
atom$var_number_decrement <A>
atom$if_numa_neq_numb_then <35>
atom$uni_end_loop
atom$uni_sync_skip <35>

The example is explained as follows:

atom$var_number_set <A, 10>

Sets the numeric area of register A to 10.

atom$var_number_set <B, 0>

Sets the numeric area of register B to 0.

 America Online, Inc. 1993-97 7-43 America Online Confidential




Chapter 7: Universal (UNI) Protocol July 1997

ê atom$uni_start_loop

Defines the beginning of a loop that will repeatedly execute atoms until
a specified termination point is reached.  In this case, the loop will
continue until the numeric value of register A reaches 0.

atom$man_append_data <"Hello there">

Appends the text "Hello there" to the current object.

atom$var_number_decrement <A>

Decrements the numeric value of register A by 1, which gives it a value
of 9.

atom$if_numa_neq_numb_then <35>

Compares the numeric content of register A to the numeric content of
register B to see if they are equal.

After the first execution of the loop, the numeric value of register A is
9 and the numeric value of register B is 0 so this command evaluates to
false and execution returns to the beginning of the loop.

The loop executes until the numeric value of register A is decremented
to 0.  At that point, this command evaluates to true, and
atom$uni_end_loop is executed, followed by atom$uni_sync_skip
<35>.

atom$uni_end_loop

Defines the end of the loop.

atom$uni_sync_skip <35>

Processing continues here after atom$if_numa_neq_numb_then
<35> evaluates to true and the loop is terminated.

America Online Confidential 7-44  America Online, Inc. 1993-97




July 1997 FDO91 Manual, Vol. 1

atom$uni_start_stream
1 ($01)

Description

atom$uni_start_stream appears at the beginning of every atom stream.  An
atom stream can have multiple or nested atom$uni_start_stream entries.

Syntax

atom$uni_start_stream

Return Value

None.

Example

The following example shows the initiation of two streams, one nested within
the other:

ê atom$uni_start_stream
.
.
.

ê atom$uni_start_stream
.
.
.
atom$uni_end_stream

.

.

.
atom$uni_end_stream

The example is explained as follows:

ê atom$uni_start_stream

Signifies the beginning of an atom stream.

atom$uni_end_stream

Signifies the end of an atom stream.

 America Online, Inc. 1993-97 7-45 America Online Confidential




Chapter 7: Universal (UNI) Protocol July 1997

atom$uni_start_stream_wait_on
17 ($11)

Description

atom$uni_start_stream_wait_on is identical to atom$uni_start_stream
with the exception that it turns the wait cursor on.  Atom streams may have
multiple or nested atom$uni_start_stream_wait_on atoms.

Syntax

atom$uni_start_stream_wait_on

Return Value

None.

Example

The following example starts an atom stream and simultaneously turns on the
wait cursor.

ê atom$uni_start_stream_wait_on
atom$sm_check_domain
atom$de_start_extraction
atom$de_validate <display | terminate>
.
.
.
atom$uni_end_stream

America Online Confidential 7-46  America Online, Inc. 1993-97




July 1997 FDO91 Manual, Vol. 1

atom$uni_start_typed_data
23 ($17)

atom$uni_start_typed_data is described in Appendix B,
"Internationalization (i18n) Atoms."

 America Online, Inc. 1993-97 7-47 America Online Confidential




Chapter 7: Universal (UNI) Protocol July 1997

atom$uni_sync_skip
7 ($07)

Description

atom$uni_sync_skip serves as a label to mark the end of a conditional stream.
This atom is used with atoms in the IF protocol.  For more information, see
Chapter 5, "Conditional (IF) Protocol."

Syntax

atom$uni_sync_skip <label>

<label> Specifies a numeric value for a label that marks the end
of the conditional stream.

Return Value

None.

Example

The following example illustrates the use of this atom to mark the end of
conditional streams:

atom$if_online_then <1, 2>
.
.  (Atoms to execute if the atom evaluates to true...)
.

ê atom$uni_sync_skip <1>
.
.  (Atoms to execute if the atom evaluates to false...)
.

ê atom$uni_sync_skip <2>
.
.  (Stream execution continues here after execution of true or false atoms...)
.

The example is explained as follows:

atom$if_online_then <1, 2>

The result of this example evaluates to true if the member is online or
false if the member is offline.  If the member is online (true), the atoms
that immediately follow are executed.  If the member is offline (false),
the atoms that fall between atom$uni_sync_skip <1>  and
atom$uni_sync_skip <2> are executed.

America Online Confidential 7-48  America Online, Inc. 1993-97




July 1997 FDO91 Manual, Vol. 1

ê atom$uni_sync_skip <1>

Marks the end of the true atom stream.  When atom$if_online_then
<1, 2> evaluates to true, the true atoms are executed, the false atoms
are skipped, and stream execution continues after
atom$uni_sync_skip <2>.

ê atom$uni_sync_skip <2>

Marks the end of the false atom stream.  When atom$if_online_then
<1, 2>  evaluates to false, the true atoms are skipped, the false atoms
are executed, and stream execution continues immediately following
this atom.

 America Online, Inc. 1993-97 7-49 America Online Confidential




Chapter 7: Universal (UNI) Protocol July 1997

atom$uni_transaction_id
3C ($13)

Description

atom$uni_transaction_id associates an ID to the transaction in progress
between the host and client application.  Transaction IDs are generated by the
client application.  Because stream IDs are not always unique, transaction IDs
may be required.

Syntax

atom$uni_transaction_id <dword>

<dword> Specifies the transaction ID.  Values are 1 or greater.

Return Value

None.

Example

The following example assigns a transaction ID of 1 to a data on demand
(DOD) activity:

atom$uni_start_stream
atom$dod_start

ê atom$uni_transaction_id <1>
atom$dod_hints <00x, 2ax, 00x, 2ax>
atom$dod_end
atom$uni_end_stream

America Online Confidential 7-50  America Online, Inc. 1993-97




July 1997 FDO91 Manual, Vol. 1

atom$uni_use_last_atom_data
52 ($34)

Description

atom$uni_use_last_atom_data executes the specified atom using the data
pointed to by the return value of the previously executed atom.  This atom can
append the data content of an input field to a database.

Syntax for VP Designer

atom$uni_use_last_atom_data <atom[, data]>

Syntax for form_edit

atom$uni_use_last_atom_data  <proto> <atom> [<data>]

<proto> This argument is not used for VP Designer.

For form_edit, this argument specifies the protocol of
the atom to execute.  The possible protocol names are
prefixed prot$ and are defined on Stratus in
arclient>atoms_dir>protocols.file.  Some typical
values are as follows:

prot$uni — Universal Protocol

prot$display — Display Manager Protocol

prot$action — Action Protocol

prot$extract — Data Manager Protocol

prot$buffer — Buffer Protocol

prot$database — Database Manager Protocol

prot$xfer — File Transfer Protocol

prot$file — File Manager Protocol

prot$list — List Manager Protocol

prot$code — Code Manager Protocol

 America Online, Inc. 1993-97 7-51 America Online Confidential




Chapter 7: Universal (UNI) Protocol July 1997

prot$chat — Chat Protocol

prot$var — Variable Protocol

prot$async — Async Protocol

prot$shorthand — Shorthand Protocol

prot$if — IF Protocol

prot$mat — Display Attributes Protocol

prot$mip — Message Interchange Protocol

prot$reg — Registration Protocol

prot$mmi — Multimedia Interface Protocol

prot$imgxfer — Image Transfer Protocol

prot$image — Image Manager Protocol

prot$chart — Chart Protocol

prot$morg — Multimedia Organizer Protocol

prot$rich — Rich Protocol

prot$exapi — External API Protocol

prot$ccl — CCL Protocol

prot$p3 — P3 Protocol

prot$pakman — File Decompression Protocol

prot$address — Address Protocol

prot$mt — Debugging Protocol

<atom> Specifies the target atom to execute using a return value
(raw data) from a preceding atom as its argument.

[<data>] Specifies optional data.

America Online Confidential 7-52  America Online, Inc. 1993-97




July 1997 FDO91 Manual, Vol. 1

Return Value

Return value resulting from the execution of the specified atom.

Example

The following example appends data base record 32-12-345 with the data
saved from a previous operation provided that the data is not 0:

atom$uni_start_stream
.
.
.
atom$man_set_context_relative <56>
atom$var_lookup_by_id <A, 123>
atom$var_data_get <A>
.
.
.
atom$if_data_neq_zero_then <10>
atom$idb_set_context <32-12-345>

ê atom$uni_use_last_atom_data <atom$idb_append_data>
atom$idb_end_context
atom$man_end_context
atom$uni_sync_skip <10>
.
.
.
atom$uni_end_stream

 America Online, Inc. 1993-97 7-53 America Online Confidential




Chapter 7: Universal (UNI) Protocol July 1997

atom$uni_use_last_atom_string
10 ($0A)

Description

atom$uni_use_last_atom_string executes the specified atom using the string
value returned by the previously executed atom.

Syntax for VP Designer

atom$uni_use_last_atom_string  <atom[, data]>

Syntax for form_edit

atom$uni_use_last_atom_string  <proto> <atom> [<data>]

<proto> This argument is not used for VP Designer.

For form_edit, this argument specifies a protocol name.
The possible protocol names are prefixed prot$ and are
defined on Stratus in
arclient>atoms_dir>protocols.file.  Some typical
values are as follows:

prot$uni — Universal Protocol

prot$display — Display Manager Protocol

prot$action — Action Protocol

prot$extract — Data Manager Protocol

prot$buffer — Buffer Protocol

prot$database — Database Manager Protocol

prot$xfer — File Transfer Protocol

prot$file — File Manager Protocol

prot$list — List Manager Protocol

prot$code — Code Manager Protocol

America Online Confidential 7-54  America Online, Inc. 1993-97




July 1997 FDO91 Manual, Vol. 1

prot$chat — Chat Protocol

prot$var — Variable Protocol

prot$async — Async Protocol

prot$shorthand — Shorthand Protocol

prot$if — IF Protocol

prot$mat — Display Attributes Protocol

prot$mip — Message Interchange Protocol

prot$reg — Registration Protocol

prot$mmi — Multimedia Interface Protocol

prot$imgxfer — Image Transfer Protocol

prot$image — Image Manager Protocol

prot$chart — Chart Protocol

prot$morg — Multimedia Organizer Protocol

prot$rich — Rich Protocol

prot$exapi — External API Protocol

prot$ccl — CCL Protocol

prot$p3 — P3 Protocol

prot$pakman — File Decompression Protocol

prot$address — Address Protocol

prot$mt — Debugging Protocol

<atom> Specifies an atom to execute using a return value
(string) from a preceding atom as its argument.

[<data>] Specifies optional data.

 America Online, Inc. 1993-97 7-55 America Online Confidential




Chapter 7: Universal (UNI) Protocol July 1997

Return Value

Result of the processed atom.

Example

The following example executes the atom$man_replace_data atom that
replaces a string to object 11, which resulted from the data conversion by the
previously executed atom:

atom$uni_start_stream
.
.
.
atom$man_set_context_relative <56>
atom$var_lookup_by_id <A, 23>
atom$var_number_get <A>
atom$uni_save_result
.
.
.
atom$man_change_context_relative <11>
atom$uni_get_result
atom$uni_convert_last_atom_data

ê atom$uni_use_last_atom_string <atom$man_replace_data>
atom$man_end_context
.
.
atom$man_update_display
atom$uni_end_stream

America Online Confidential 7-56  America Online, Inc. 1993-97




July 1997 FDO91 Manual, Vol. 1

atom$uni_use_last_atom_value
11 ($0B)

Description

atom$uni_use_last_atom_value executes the specified atom using the
numeric value returned by the previously executed atom.

Syntax for VP Designer

atom$uni_use_last_atom_value <atom[, data>]

Syntax for form_edit

atom$uni_use_last_atom_value <proto> <atom> [<data>]

<proto> This argument is not used for VP Designer.

For form_edit, this argument specifies a protocol name.
The possible protocol names are prefixed prot$ and are
defined on Stratus in
arclient>atoms_dir>protocols.file.  Some typical
values are as follows:

prot$uni — Universal Protocol

prot$display — Display Manager Protocol

prot$action — Action Protocol

prot$extract — Data Manager Protocol

prot$buffer — Buffer Protocol

prot$database — Database Manager Protocol

prot$xfer — File Transfer Protocol

prot$file — File Manager Protocol

prot$list — List Manager Protocol

prot$code — Code Manager Protocol

 America Online, Inc. 1993-97 7-57 America Online Confidential




Chapter 7: Universal (UNI) Protocol July 1997

prot$chat — Chat Protocol

prot$var — Variable Protocol

prot$async — Async Protocol

prot$shorthand — Shorthand Protocol

prot$if — IF Protocol

prot$mat — Display Attributes Protocol

prot$mip — Message Interchange Protocol

prot$reg — Registration Protocol

prot$mmi — Multimedia Interface Protocol

prot$imgxfer — Image Transfer Protocol

prot$image — Image Manager Protocol

prot$chart — Chart Protocol

prot$morg — Multimedia Organizer Protocol

prot$rich — Rich Protocol

prot$exapi — External API Protocol

prot$ccl — CCL Protocol

prot$p3 — P3 Protocol

prot$pakman — File Decompression Protocol

prot$address — Address Protocol

prot$mt — Debugging Protocol

<atom> Specifies an atom to execute using a return value
(numeric data) from a preceding atom as its argument.

[<data>] Specifies optional data.

America Online Confidential 7-58  America Online, Inc. 1993-97




July 1997 FDO91 Manual, Vol. 1

Return Value

Result of the processed atom.

Example

The following example executes the atom$var_number_set atom that sets
and saves a number in register A for object 11.  The value saved resulted from
the string conversion from the execution of the last atom.

atom$uni_start_stream
.
.
.
atom$man_set_context_relative <56>
atom$var_lookup_by_id <A, 23>
atom$var_string_get <A>
atom$uni_save_result
.
.
.
atom$man_change_context_relative <11>
atom$uni_get_result
atom$uni_convert_last_atom_string

êatom$uni_use_last_atom_value <atom$var_number_set, 00x>
atom$var_number_save <00x, 07x>
atom$man_end_context
.
.
atom$man_update_display
atom$uni_end_stream

 America Online, Inc. 1993-97 7-59 America Online Confidential




Chapter 7: Universal (UNI) Protocol July 1997

atom$uni_void
0 ($0)

Description

atom$uni_void does nothing.  It is similar to a "NOP" instruction in many
assembly languages.  It is useful for leaving space for runtime patches, or as a
visual marker to help stream authors identify sections of streams.  It is also
useful to force form_edit to show comment fields or, more specifically, a
stream of atoms that were commented out with semicolons that would
otherwise have been rejected from the output by form_edit.

Syntax

atom$uni_void

Return Value

None.

Example

The following example provides a visual bookmark in the code for the
programmer:

atom$uni_start_stream
.
.
.

ê atom$uni_void
;atom$if_numa_false_then <5>
;atom$uni_break
;atom$uni_sync_skip <5>

.

.

.
atom$uni_end_stream

America Online Confidential 7-60  America Online, Inc. 1993-97




July 1997 FDO91 Manual, Vol. 1

atom$uni_wait_off
16 ($10)

Description

atom$uni_wait_off turns off the wait state.

Syntax

atom$uni_wait_off

Return Value

None.

Example

The following example turns off the wait state:

atom$uni_start_stream
.
.
.
atom$man_update_display
atom$man_end_context

ê atom$uni_wait_off
atom$uni_end_steam

 America Online, Inc. 1993-97 7-61 America Online Confidential




Chapter 7: Universal (UNI) Protocol July 1997

atom$uni_wait_off_end_stream
18 ($12)

Description

atom$uni_wait_off_end_stream turns the wait cursor off and terminates the
current atom stream.  Any buffered atoms associated with this stream are
processed before the stream terminates.

Syntax

atom$uni_wait_off_end_stream

Return Value

None.

Example

The following example turns the wait cursor off and terminates the current
stream:

atom$uni_start_stream
.
.
.
atom$man_update_display
atom$man_end_context

ê atom$uni_wait_off_end_stream

America Online Confidential 7-62  America Online, Inc. 1993-97




July 1997 FDO91 Manual, Vol. 1

atom$uni_wait_on
15 ($0F)

Description

atom$uni_wait_on activates the wait state in a member session, which
changes the cursor to an hourglass (wait cursor).  For every
atom$uni_wait_on, a corresponding atom$uni_wait_off must occur.

Syntax

atom$uni_wait_on

Return Value

None.

Example

The following example activates the wait state in a stream and turns on the
wait cursor in a member session:

atom$uni_start_stream
ê atom$uni_wait_on

atom$sm_check_domain
atom$de_start_extraction
atom$de_validate <display_msg | terminate>
.
.
.
atom$uni_wait_off
atom$uni_end_stream

 America Online, Inc. 1993-97 7-63 America Online Confidential



===== END PDF: ch07-uni.pdf =====

===== BEGIN PDF: ch08-var.pdf =====



Manual: FDO91 Manual
Chapter 8: Variable Protocol defines the variable protocol atoms and provides information for
associating variables with objects.
Last updated: April 1997




C H A P T E R  8

Variable (VAR) Protocol

The Variable (VAR) protocol (protocol ID 12) consists of atoms that allow
data variables to be associated with objects on forms.  The protocol lets you
manipulate object data within temporary (current) registers.  There are two
primary registers (current registers A and B) and two secondary registers
(current registers C and D).  (When you compile with form_edit, the current
registers are 0, 1, 2 and 3, respectively.)  The numeric and string operations
described in this chapter operate on these registers.  A register can be loaded
with a specific value or with a value taken from another register.

Note:  If you compile with form_edit, select one of the four registers with a
numeric identifier (0, 1, 2 or 3).  If you compile with VP Designer, select one
of the four registers with an alphabetic identifier (A, B, C or D).

There are three separate areas in a register that are associated with three data
types of storage:

• Numeric data register area — Holds a long integer (4-byte decimal value).

• Raw data register area — Holds hexadecimal data (up to 256 bytes or
characters in length).

• String register area — Holds a null-terminated string (up to 256 bytes in
length).

Any or all of the data type values in the current register can be saved in a save
register with a unique index value (ID) for a more permanent storage.
However, register values are not saved to disk and are lost when the object or
window that contains the variable is destroyed.  When a register is saved, you
assign a unique 4-byte numeric ID (1 or greater) to reference the stored value.
atom$var_number_save, atom$var_data_save, and atom$var_string_save
perform this save function for their respective data type area.

America Online Confidential 8-1  America Online, Inc. 1993-97




Chapter 8: Variable (VAR) Protocol April 1997

Figure 8-1 shows the relationship of the current and save registers:

ID nnn
Save ID nn

registers
Numeric area Raw data area String data area ID n

(4 bytes) (256 bytes) (256 bytes)

Look up by ID

Save

Numeric area Raw data area String data area A
(4 bytes) (256 bytes) (256 bytes)

Current B
registers

C

D

Figure 8.1 – Registers Supporting the Variable Protocol

When you need to retrieve and operate on the saved values, you move the data
from the save register back to a current register (A, B, C or D) using
atom$var_lookup_by_id.  This atom moves all three of the stored data type
values to the respective data type areas of the specified current register.

America Online Confidential 8-2  America Online, Inc. 1993-97




April 1997 FDO91 Manual, Vol 1

Variable Protocol Atoms

The Variable (VAR) protocol functions and their associated atoms follow:

Function Atoms

Manipulating data (decimal atom$var_lookup_by_id
values) in numeric register
areas atom$var_numa_decrement

atom$var_numa_increment

atom$var_numa_ones

atom$var_numa_zero

atom$var_number_add

atom$var_number_anding

atom$var_number_copy_between_regs

atom$var_number_decrement

atom$var_number_decrement_save

atom$var_number_div

atom$var_number_get

atom$var_number_increment

atom$var_number_increment_save

atom$var_number_mul

atom$var_number_ones

atom$var_number_ones_save

atom$var_number_oring

atom$var_number_save

atom$var_number_set

atom$var_number_set_from_atom

atom$var_number_shl

atom$var_number_shr

 America Online, Inc. 1993-97 8-3 America Online Confidential




Chapter 8: Variable (VAR) Protocol April 1997

atom$var_number_sub

atom$var_number_swap_between_regs

atom$var_number_zero

atom$var_number_zero_save

atom$var_reset

Manipulating data (hex atom$var_data_copy_between_regs
values) in raw data register
areas atom$var_data_copy_data_to_datb

atom$var_data_copy_datb_to_data

atom$var_data_get

atom$var_data_save

atom$var_data_set

atom$var_data_set_from_atom

atom$var_data_swap_between_regs

atom$var_data_zero

atom$var_lookup_by_id

atom$var_reset

Manipulating data (strings) atom$var_lookup_by_id
in string register areas

atom$var_reset

atom$var_string_copy_between_regs

atom$var_string_copy_stra_to_strb

atom$var_string_copy_strb_to_stra

atom$var_string_get

atom$var_string_null

atom$var_string_save

atom$var_string_set

atom$var_string_set_from_atom

atom$var_string_swap_between_regs

America Online Confidential 8-4  America Online, Inc. 1993-97




April 1997 FDO91 Manual, Vol 1

atom$var_string_trim_spaces

Clearing register IDs atom$var_data_clear_id

atom$var_number_clear_id

atom$var_string_clear_id

Handling current object atom$var_data_set_id_one_value
data values in save registers

atom$var_number_set_id_one_value

atom$var_string_set_id_one_value

The Variable protocol atoms are described in alphabetical order in the rest of
this chapter.

 America Online, Inc. 1993-97 8-5 America Online Confidential




Chapter 8: Variable (VAR) Protocol April 1997

atom$var_data_clear_id
85 ($55)

Description

atom$var_data_clear_id sets to 0 the ID of the save register associated with
the current register.  An ID of 0 designates the associated save register as
invalid.

Syntax

atom$var_data_clear_id <register>

<register> Specifies the current register.  Values are A, B, C or D.
When you use form_edit, the values are 0, 1, 2 or 3,
respectively.

Return Value

None.

Example

The following example sets the ID of the save register to 0.  For this example,
register A contains 0x120360 and the save register ID = 32:

atom$var_data_clear_id <A>

The result of this example is that the save register ID = 0.

America Online Confidential 8-6  America Online, Inc. 1993-97




April 1997 FDO91 Manual, Vol 1

atom$var_data_copy_between_regs
83 ($53)

Description

atom$var_data_copy_between_regs copies the raw data content of the
second current register to the raw data area of the first register.

Syntax

atom$var_data_copy_between_regs <register_1, register_2>

<register_1> Specifies the first current register to receive a copy of
the data.  Values are A, B, C or D.

<register_2> Specifies the second current register to be copied.
Values are A, B, C or D.

When you use form_edit, the values for these arguments are 0, 1, 2 or 3,
respectively.

Return Value

A pointer to the raw data area of the second register (source value).

Example

The following example copies raw data from the second register to the first
register.  For this example, register A = 0x23413F and register B =
0x134FECD.

atom$var_data_copy_between_regs <A, B>

The result of this example is that register A = 0x134FECD.

 America Online, Inc. 1993-97 8-7 America Online Confidential




Chapter 8: Variable (VAR) Protocol April 1997

atom$var_data_copy_data_to_datb
81 ($51)

Description

atom$var_data_copy_data_to_datb copies the raw data content of register
A to register B.

Syntax

atom$var_data_copy_data_to_datb

Return Value

A pointer to the raw data of register B.

Example

The following example copies raw data from register A to register B.  For this
example, register A = 0x23413F and B = 0x134FECD.

atom$var_data_copy_data_to_datb

The result of this example is that register B = 0x23413F.

America Online Confidential 8-8  America Online, Inc. 1993-97




April 1997 FDO91 Manual, Vol 1

atom$var_data_copy_datb_to_data
82 ($52)

Description

atom$var_data_copy_datb_to_data copies the raw data content of register
B to register A.

Syntax

atom$var_data_copy_datb_to_data

Return Value

A pointer to the raw data of register A.

Example

The following example copies the raw data of register B to register A.  For this
example, register A = 0x23413F and register B = 0x134FECD.

atom$var_data_copy_datb_to_data

The result of this example is that register A = 0x134FECD.

 America Online, Inc. 1993-97 8-9 America Online Confidential




Chapter 8: Variable (VAR) Protocol April 1997

atom$var_data_get
16 ($10)

Description

atom$var_data_get gets the raw data contained in register A and returns a
pointer to the data area.

Syntax

atom$var_data_get <register>

<register> Specifies the current register.  Values are A, B, C or D.
When you use form_edit, the values are 0, 1, 2 or 3,
respectively.

Return Value

A pointer to the raw data of the specified register.

Example

The following example gets the raw data from register A and returns a pointer
to the data area.  For this example, register A = 0x123FC1876:

atom$var_data_get <A>

The result of this example is that 0x123FC1876 is retrieved from raw data
register A and a pointer to register A is returned.

America Online Confidential 8-10  America Online, Inc. 1993-97




April 1997 FDO91 Manual, Vol 1

atom$var_data_save
14 ($0E)

Description

atom$var_data_save saves the raw data contained in the register for the
current object.  If you specify an optional save register ID argument, enter the
register ID to save the data value.

Syntax

atom$var_data_save <register[, register_ID]>

<register> Specifies the current register.  Values are A, B, C or D.
When you use form_edit, the values are 0, 1, 2 or 3,
respectively.

[<register_ID>] Specifies the ID of an optional save register.  The
numeric values are 1 or greater.

Return Value

A pointer to the raw data of the save register.

Example

The following examples copy the raw data contained in register A to a save
register.  For these examples, register A = 0x523431 and the ID of the save
register = 23.

atom$man_set_context_relative <32>
ê atom$var_data_save <A>

atom$man_end_context

The result of this example is that the raw data 0x523431 is saved in register 23.

atom$man_set_context_relative <32>
ê atom$var_data_save <A, 18>

atom$man_end_context

The result of this example is that 0x523431 is saved in the raw data area of
register 18.

 America Online, Inc. 1993-97 8-11 America Online Confidential




Chapter 8: Variable (VAR) Protocol April 1997

atom$var_data_set
11 ($0B)

Description

atom$var_data_set assigns a value to the raw data area of a current register.

Syntax

atom$var_data_set <register, hex_value>

<register> Specifies the current register.  Values are A, B, C or D.
When you use form_edit, the values are 0, 1, 2 or 3,
respectively.

<hex_value> Specifies a hex value up to 256 bytes in length, which
will be loaded in the register.

Return Value

A pointer to the raw data of the specified register.

Example

The following example assigns a raw data value to a current register:

atom$var_data_set <A, 0xCA234F>

The result of this example is that register A = 0xCA234F and a pointer to the
register A raw data is returned.

America Online Confidential 8-12  America Online, Inc. 1993-97




April 1997 FDO91 Manual, Vol 1

atom$var_data_set_from_atom
15 ($0F)

Description

atom$var_data_set_from_atom loads a current register with the raw data
pointed to by the last return value.  The amount of data copied into the register
is limited to 32 bytes.

Syntax

atom$var_data_set_from_atom <register>

<register> Specifies the current register.  Values are A, B, C or D.
When you use form_edit, the values are 0, 1, 2 or 3,
respectively.

Return Value

None.

Example

The following example loads the last raw data return value into a register.  For
this example, register A = 0x523431 and the last
return value = 0x2348F3CDEF123.

atom$var_data_set <B, 0x2348F3CDEF123>
ê atom$var_data_set_from_atom <A>

The result of this example is that register A = 0x2348F3CDEF123.

 America Online, Inc. 1993-97 8-13 America Online Confidential




Chapter 8: Variable (VAR) Protocol April 1997

atom$var_data_set_id_one_value
17 ($11)

Description

atom$var_data_set_id_one_value automatically saves the specified raw data
value to a save register with an ID of 1.

Syntax

atom$var_data_set_id_one_value <data>

<data> Specifies a raw data value of up to 256 bytes.

Return Value

None.

Example

The following example saves a raw data value of 0x2B74 to a save register
with an ID of 1:

atom$var_data_set_id_one_value <0x2B74>

America Online Confidential 8-14  America Online, Inc. 1993-97




April 1997 FDO91 Manual, Vol 1

atom$var_data_swap_between_regs
84 ($54)

Description

atom$var_data_swap_between_regs swaps the raw data content of a current
register with the content of another current register.

Syntax

atom$var_data_swap_between_regs <register_1, register_2>

<register_1> Specifies the first current register.  Values are A, B, C
or D.

<register_2> Specifies the second current register.  Values are A, B,
C or D.

When you use form_edit, the values of these arguments are 0, 1, 2 or 3,
respectively.

Return Value

None.

Example

The following example swaps raw data between registers.  For this example,
register A = 0x23413F and register B = 0x134FECD.

atom$var_data_swap_between_regs <A, B>

The result of this example is that register A = 0x134FECD and
register B = 0x23413F.

 America Online, Inc. 1993-97 8-15 America Online Confidential




Chapter 8: Variable (VAR) Protocol April 1997

atom$var_data_zero
12 ($0C)

Description

atom$var_data_zero sets the raw data area of a current register to 0.

Syntax

atom$var_data_zero <register>

<register> Specifies a current register.  Values are A, B, C or D.
When you use form_edit, the values are 0, 1, 2 or 3,
respectively.

Return Value

A pointer to the raw data of the specified current register.

Example

The following example sets the raw data area of a current register to 0.  For
this example, register B = 0x23431.

atom$var_data_zero <B>

The result of this example is that register B contains 0, and a pointer to the
register B data is returned.

America Online Confidential 8-16  America Online, Inc. 1993-97




April 1997 FDO91 Manual, Vol 1

atom$var_lookup_by_id
19 ($13)

Description

atom$var_lookup_by_id searches the current object context for the given
register ID and loads its content into a current register.  The scope of the
search is bound by the inheritance flag in the high byte of the ID.  The high
byte of any ID value is reserved for inheritance purposes.  The atom finds the
first occurrence of the specified ID and loads the data into the appropriate data
type area of the current register.

Syntax

atom$var_lookup_by_id <register, register_ID>

<register> Specifies the current register.  Values are A, B, C or D.
When you use form_edit, the values are 0, 1, 2 or 3,
respectively.

<register_ID> Specifies the ID of the save register that is holding the
data.  The numeric values are 1 or greater.

Return Value

The value of the numeric data area of the current register, a pointer to the raw
data area of the current register, or a pointer to the string area of the current
register.

Example

The following example searches the current object for an ID of 234:

atom$var_lookup_by_id <A, 234>

The result of this example is that register A is loaded with the contents of
register 234.

 America Online, Inc. 1993-97 8-17 America Online Confidential




Chapter 8: Variable (VAR) Protocol April 1997

atom$var_numa_decrement
23 ($17)

Description

atom$var_numa_decrement decrements the numeric value in register A by 1.
(When you use form_edit, the register is defined as register 0.)

Syntax

atom$var_numa_decrement

Return Value

The numeric value contained in register A after the arithmetic operation is
performed.

Example

The following example decrements the numeric value of register A by 1.  For
this example, register A = 5.

atom$var_numa_decrement

The result of this example is that register A = 4.

America Online Confidential 8-18  America Online, Inc. 1993-97




April 1997 FDO91 Manual, Vol 1

atom$var_numa_increment
22 ($16)

Description

atom$var_numa_increment increments the numeric value in register A by 1.
(When you use form_edit, the register is defined as register 0.)

Syntax

atom$var_numa_increment

Return Value

The numeric value contained in register A after the arithmetic operation is
performed.

Example

The following example increments the numeric value of register A by 1.  For
this example, the value of register A = 5.

atom$var_numa_increment

The result of this example is that register A = 6.

 America Online, Inc. 1993-97 8-19 America Online Confidential




Chapter 8: Variable (VAR) Protocol April 1997

atom$var_numa_ones
21 ($15)

Description

atom$var_numa_ones sets the numeric area of register A to –1.  (When you
use form_edit, the register is defined as register 0.)

Syntax

atom$var_numa_ones

Return Value

–1

Example

The following example sets the numeric value of register A to –1.  For this
example, register A = 5.

atom$var_numa_ones

The result of this example is that register A = –1.

America Online Confidential 8-20  America Online, Inc. 1993-97




April 1997 FDO91 Manual, Vol 1

atom$var_numa_zero
20 ($14)

Description

atom$var_numa_zero sets the numeric value of register A to 0.  (When you
use form_edit, the register is defined as register 0.)

Syntax

atom$var_numa_zero

Return Value

0

Example

The following example sets the numeric value of register A to 0.  For this
example, register A = 5:

atom$var_numa_zero

The result of this example is that register A = 0.

 America Online, Inc. 1993-97 8-21 America Online Confidential




Chapter 8: Variable (VAR) Protocol April 1997

atom$var_number_add
36 ($24)

Description

atom$var_number_add operates on the numeric data of registers A and B.
(When you use form_edit, the registers are defined as registers 0 and 1,
respectively.)  If you do not specify an argument, the value in register A is
added to the value of register B, and the result is placed in register A.  If you
specify a data value argument, the value is added to register A, and the result is
placed in register A.

Syntax

atom$var_number_add [<num_value>]

[<num_value>] Specifies an optional, 32-bit, decimal value, which will
be added with the value in register A.

Return Value

The numeric value contained in register A after the arithmetic operation is
performed.

Examples

The following examples add data to the numeric area of register A.  Register A
= 1 and register B = 4.

atom$var_number_add <1024>

In this example, 1024 is added to the value in register A.  The result is that
register A = 1025.

atom$var_number_add

In this example register B data is added to register A data.  The result is that
register A = 5.

America Online Confidential 8-22  America Online, Inc. 1993-97




April 1997 FDO91 Manual, Vol 1

atom$var_number_anding
40 ($28)

Description

atom$var_number_anding operates on the numeric data of registers A and
B.  (When you use form_edit, the registers are defined as registers 0 and 1,
respectively.)  If you do not specify an argument, the value of register A is
anded with the value of register B, and the result is placed in register A.  If you
specify a data value argument, the value is anded with register A, and the
result is placed in register A.

Syntax

atom$var_number_anding [<num_value>]

[<num_value>] Specifies an optional, 32-bit, decimal value to be anded
with the binary value in register A.

Return Value

The numeric value contained in register A after the arithmetic operation is
performed.

Examples

The following examples and the binary values in the numeric areas of the
registers.  Register A = 5 and register B = 7.

atom$var_number_anding <1>

In this example, 1 is anded with the register A value.  The result is that register
A = 1.

atom$var_number_anding

In this example, the value in register B is anded with the register A value.  The
result is that register A = 5.

 America Online, Inc. 1993-97 8-23 America Online Confidential




Chapter 8: Variable (VAR) Protocol April 1997

atom$var_number_clear_id
46 ($2E)

Description

atom$var_number_clear_id sets to 0 the ID of the save register associated
with the current register.  An ID of 0 designates the associated save register as
invalid.

Syntax

atom$var_number_clear_id <register>

<register> Specifies the current register.  Values are A, B, C or D.
When you use form_edit, values are 0, 1, 2 or 3,
respectively.

Return Value

None.

Example

The following example sets the ID of the save register to 0.

atom$var_number_clear_id <0>

America Online Confidential 8-24  America Online, Inc. 1993-97




April 1997 FDO91 Manual, Vol 1

atom$var_number_copy_between_regs
44 ($2C)

Description

atom$var_number_copy_between_regs copies the numeric data content of
the second current register to the numeric area of the first register.

Syntax

atom$var_number_copy_between_regs <register_1, register_2>

<register_1> Specifies the first current register to receive the copy of
the data value.  Values are A, B, C or D.

<register_2> Specifies the second register to be copied.  Values are
A, B, C or D.

When you use form_edit, the values of these arguments are 0, 1, 2 or 3,
respectively.

Return Value

The numeric value of the second register (source register).

Example

The following example copies the numeric data between current registers.  For
this example, register A = 101264 and register B = 120360:

atom$var_number_copy_between_regs <A, B>

The result of this example is that both registers A and B = 120360.

 America Online, Inc. 1993-97 8-25 America Online Confidential




Chapter 8: Variable (VAR) Protocol April 1997

atom$var_number_decrement
48 ($30)

Description

atom$var_number_decrement decrements the numeric value in a specified
register by 1.

Syntax

atom$var_number_decrement <register>

<register> Specifies a current register.  Values are A, B, C or D.
When you use form_edit, values are 0, 1, 2 or 3,
respectively.

Return Value

The numeric value contained in the specified register after the arithmetic
operation is performed.

Example

The following example decrements a numeric value in register A by 1.  For this
example, register A = 5:

atom$var_number_decrement <A>

The result of this example is that the numeric value in register A = 4.

America Online Confidential 8-26  America Online, Inc. 1993-97




April 1997 FDO91 Manual, Vol 1

atom$var_number_decrement_save
33 ($21)

Description

atom$var_number_decrement_save decrements the numeric value in a
current register by 1.  The resulting numeric value is then saved for the current
object, provided that the corresponding save register ID is valid (non-zero).

Syntax

atom$var_number_decrement_save <register>

<register> Specifies a current register.  Values are A, B, C or D.
When you use form_edit, values are 0, 1, 2 or 3,
respectively.

Return Value

The numeric value contained in the specified register after the arithmetic
operation is performed.

Example

The following example decrements a numeric value by 1 in a current register
and saves it for the current object.  For the following example, register A = 5
and the ID of the save register = 18.

atom$man_set_context_globalid <25>
ê atom$var_number_decrement_save <A>

atom$man_end_context

The result of this example is that the numeric value in register A = 4.  Since the
save register ID does not equal 0, the object referenced by global ID 25
contains a numeric variable whose save register ID is 18 and value is 4.  (Note
that if the save register ID had been 0, the register value would not have been
saved for global ID 25.)

 America Online, Inc. 1993-97 8-27 America Online Confidential




Chapter 8: Variable (VAR) Protocol April 1997

atom$var_number_div
39 ($27)

Description

atom$var_number_div operates with the numeric area of current registers A
and B.  (When you use form_edit, the registers are defined as registers 0 and
1, respectively.)  If you do not specify an argument, register A is divided by
register B, and the result is placed in register A.  If you specify an argument,
register A is divided by the argument's value, and the result is placed in register
A.

Syntax

atom$var_number_div [<num_value>]

[<num_value>] Specifies an optional, 32-bit, decimal divisor.

Return Value

The numeric value contained in register A after the arithmetic operation is
performed.

Examples

The following examples divide the numeric values contained in current
registers.  For these examples, register A = 1024 and register B = 4.

atom$var_number_div <2>

The result of this example is that the numeric value in register A = 512.

atom$var_number_div

The result of this example is that the numeric value in register A = 256.

America Online Confidential 8-28  America Online, Inc. 1993-97




April 1997 FDO91 Manual, Vol 1

atom$var_number_get
3 ($03)

Description

atom$var_number_get retrieves the data contained in the numeric area of a
specified register.

Syntax

atom$var_number_get <register>

<register> Specifies the current register holding the data.  Values
are A, B, C or D.  When you use form_edit, the values
are 0, 1, 2 or 3, respectively.

Return Value

The numeric value of the specified register.

Example

The following example retrieves the numeric data from a register.  For this
example, register A = 1876:

atom$var_number_get <A>

The result of this example is that 1876 is returned.

 America Online, Inc. 1993-97 8-29 America Online Confidential




Chapter 8: Variable (VAR) Protocol April 1997

atom$var_number_increment
47 ($2F)

Description

atom$var_number_increment increments the numeric value in a current
register by 1.

Syntax

atom$var_number_increment <register>

<register> Specifies the current register.  Values are A, B, C or D.
When you use form_edit, values are 0, 1, 2 or 3,
respectively.

Return Value

The numeric value contained in the specified register after the arithmetic
operation is performed.

Example

The following example increments the numeric value in a current register by 1.
For this example, register A = 5:

atom$var_number_increment <A>

The result of this example is that the value in register A = 6.

America Online Confidential 8-30  America Online, Inc. 1993-97




April 1997 FDO91 Manual, Vol 1

atom$var_number_increment_save
32 ($20)

Description

atom$var_number_increment_save increments the numeric value in a
current register by 1.  The incremented value is saved for the current object,
provided that the corresponding register ID is valid (non-zero).

Syntax

atom$var_number_increment_save <register>

<register> Specifies a current register.  Values are A, B, C or D.
When you use form_edit, the values are 0, 1, 2 or 3,
respectively.

Return Value

The numeric value contained in the specified register after the arithmetic
operation is performed.

Example

The following example increments the numeric value in a current register by 1
and saves the incremented value for the current object.  For the following
example, register A = 5 and the save register ID = 18:

atom$man_set_context_globalid <25>
ê atom$var_number_increment_save <A>

atom$man_end_context

The result of this example is that register A = 6.  Since the register ID does not
equal 0, the object referenced by global ID 25 contains a numeric variable
whose ID is 18 and value is 6.  (Note that if the register ID had been 0, the
register value would not have been saved for global ID 25.)

 America Online, Inc. 1993-97 8-31 America Online Confidential




Chapter 8: Variable (VAR) Protocol April 1997

atom$var_number_mul
38 ($26)

Description

atom$var_number_mul operates with the numeric areas of registers A and B.
(When you use form_edit, the registers are defined as registers 0 and 1,
respectively.)  If you do not specify an argument, the value of register A is
multiplied by the value of register B, and the result is placed in register A.  If
you specify an argument, register A is multiplied by the argument's value, and
the result is placed in register A.

Syntax

atom$var_number_mul [<num_value>]

<num_value> Specifies an optional, 32-bit, decimal multiplier.

Return Value

The numeric value contained in register A after the arithmetic operation is
performed.

Examples

The following examples multiply numeric values contained in current registers.
In the following examples, register A = 512 and register B =4.

atom$var_number_mul <2>

The result of this example is that the numeric value of register A = 1024.

atom$var_number_mul

The result of this example is that the numeric value of register A = 2048.

America Online Confidential 8-32  America Online, Inc. 1993-97




April 1997 FDO91 Manual, Vol 1

atom$var_number_ones
50 ($32)

Description

atom$var_number_ones sets the numeric area of the current register to –1.

Syntax

atom$var_number_ones <register>

<register> Specifies the current register.  Values are A, B, C or D.
When you use form_edit, values are 0, 1, 2 or 3,
respectively.

Return Value

–1

Example

The following example sets the numeric area of the current register to –1.  For
this example, register C = 5:

atom$var_number_ones <C>

The result of this example is that register C = –1.

 America Online, Inc. 1993-97 8-33 America Online Confidential




Chapter 8: Variable (VAR) Protocol April 1997

atom$var_number_ones_save
35 ($23)

Description

atom$var_number_ones_save sets the numeric area of a current register to
–1 and saves the –1 for the current object, provided that the corresponding
register ID is valid (non-zero).

Syntax

atom$var_number_ones_save <register>

<register> Specifies the current register.  Values are A, B, C or D.
When you use form_edit, the values are 0, 1, 2 or 3,
respectively.

Return Value

–1

Example

The following example sets the numeric value of a current register to –1 and
saves that value for the current object.  For this example, register A = 5 and
the save register ID = 18:

atom$man_set_context_globalid <25>
ê atom$var_number_ones_save <A>

atom$man_end_context

The result of this example is that register A = –1.  Since the register ID does
not equal 0, the object referenced by global ID 25 contains a numeric variable
whose ID is 18 and value is –1.  (Note that if the register ID had been 0, the
register value would not have been saved for global ID 25.)

America Online Confidential 8-34  America Online, Inc. 1993-97




April 1997 FDO91 Manual, Vol 1

atom$var_number_oring
41 ($29)

Description

atom$var_number_oring operates with the numeric area of registers A and
B.  (When you use form_edit, the registers are defined as registers 0 and 1,
respectively.)  If you do not specify an argument, the register A content is ored
to the register B content, and the result is placed in register A.  If you specify
an argument, the value is ored with the register A content and placed in
register A.

Syntax

atom$var_number_oring [<num_value>]

[<num_value>] Specifies an optional, 32-bit, decimal value, which will
or with the register content.

Return Value

The numeric value contained in register A after the arithmetic operation is
performed.

Examples

The following examples or the binary values in the numeric areas of the
registers.  In this example, register A = 5 and register B = 7.

atom$var_number_oring <1>

In this example, 1 is ored to the register A content.  The result is
register A = 5.

atom$var_number_oring

In this example, the result is register A = 7.

 America Online, Inc. 1993-97 8-35 America Online Confidential




Chapter 8: Variable (VAR) Protocol April 1997

atom$var_number_save
0 ($00)

Description

atom$var_number_save saves the value contained in the numeric area of a
current register for the current object.  You can specify the save register ID in
the second argument.

Syntax

atom$var_number_save <register[, register_ID]>

<register> Specifies the current register to be saved.  Values are A,
B, C or D.  When you use form_edit, values are 0, 1, 2
or 3, respectively.

[<register_ID>] Specifies the ID of an optional save register.  The
numeric values are 1 or greater.

Return Value

The numeric value of the specified current register.

Example

The following examples save the numeric value contained in register A for the
current object.  For these examples, register A = 2 and the ID for the save
register = 23:

atom$man_set_context_relative <32>
ê atom$var_number_save <A>

atom$man_end_context

The result of this example is that 2 is saved in register A for the current object,
which has a relative ID of 32.  The save register ID is still 23.

atom$man_set_context_relative <32>
ê atom$var_number_save <A, 18>

atom$man_end_context

The result of this example is that 2 is saved in register A for the current object,
which has a relative ID of 32.  The save register ID is changed to 18.

America Online Confidential 8-36  America Online, Inc. 1993-97




April 1997 FDO91 Manual, Vol 1

atom$var_number_set
1 ($01)

Description

atom$var_number_set assigns a value to the numeric area of a current
register.

Syntax

atom$var_number_set <register, data>

<register> Specifies the current register.  Values are A, B, C or D.
When you use form_edit, values are 0, 1, 2 or 3,
respectively.

<data> Specifies a decimal value up to 4 bytes in length that will
be loaded in the register.

Return Value

The numeric value set in the specified register.

Example

The following example assigns a numeric value in a current register.  For this
example, register C = 5:

atom$var_number_set <C, 86>

The result of this example is that register C = 86.

 America Online, Inc. 1993-97 8-37 America Online Confidential




Chapter 8: Variable (VAR) Protocol April 1997

atom$var_number_set_from_atom
2 ($02)

Description

atom$var_number_set_from_atom sets the numeric value of a current
register to the last return value.

Syntax

atom$var_number_set_from_atom <register>

<register> Specifies the current register.  Values are A, B, C or D.
When you use form_edit, the values are 0, 1, 2 or 3,
respectively.

Return Value

None.

Example

The following example sets the numeric value of a current register to that of
the last return value.  For this example, register A = 5, register B = 7 and the
last return value = 18:

atom$var_number_set <C, 18>
ê atom$var_number_set_from_atom <A>
ê atom$var_number_set_from_atom <B>

The result of this example is that the first atom$var_number_set_from_atom
in the stream sets register A to 18, based on the last return value from
atom$var_number_set.  The next atom$var_number_set_from_atom in the
stream also sets register B to 18 since it is still the last return value.

America Online Confidential 8-38  America Online, Inc. 1993-97




April 1997 FDO91 Manual, Vol 1

atom$var_number_set_id_one_value
4 ($04)

Description

atom$var_number_set_id_one_value automatically saves the specified
numeric data value to a save register that has an ID of 1.

Syntax

atom$var_number_set_id_one_value <num_value>

<num_value> Specifies a numeric value of up to 4 bytes.

Return Value

None.

Example

The following example saves a numeric data value to a save register with an ID
of 1:

atom$var_number_set_id_one_value <234>

 America Online, Inc. 1993-97 8-39 America Online Confidential




Chapter 8: Variable (VAR) Protocol April 1997

atom$var_number_shl
42 ($2A)

Description

atom$var_number_shl operates with the numeric area of registers A and B.
(When you use form_edit, the registers are defined as registers 0 and 1,
respectively.)  If you do not specify an argument, register A is bit-shifted left
by the value in register B.  If you specify an argument, register A is bit-shifted
left by that argument value.

Syntax

atom$var_number_shl [<num_value>]

<num_value> Specifies an optional, 32-bit, bit-shift value.

Return Value

The numeric value contained in register A after the arithmetic operation is
performed.

Examples

The following examples shift left the binary bits of the numeric value in register
A.  Register A = 4 and register B = 2.

atom$var_number_shl <1>

In this example, the binary value in register A is bit-shifted left by 1.  The result
is register A = 8.

atom$var_number_shl

In this example, the binary value in register A is bit-shifted left by the value
specified in register B.  The result is register A = 16.

America Online Confidential 8-40  America Online, Inc. 1993-97




April 1997 FDO91 Manual, Vol 1

atom$var_number_shr
43 ($2B)

Description

atom$var_number_shr operates with the numeric area of registers A and B.
(When you use form_edit, the registers are defined as registers 0 and 1,
respectively.)  If you do not specify an argument, register A is bit-shifted right
by the value in register B.  If you specify an argument, register A is bit-shifted
right by that argument value.

Syntax

atom$var_number_shr [<num_value>]

[<num_value>] Specifies an optional, 32-bit, bit-shift value.

Return Value

The numeric value contained in register A after the arithmetic operation is
performed.

Examples

The following examples shift right the binary bits of the numeric value in
register A.  Register A = 4 and register B = 2.

atom$var_number_shr <1>

In this example, the binary value in register A is bit-shifted right by 1.  The
result is that register A = 2.

atom$var_number_shr

In this example, the binary value in register A is bit-shifted right by the value in
register B.  The result is that register A = 1.

 America Online, Inc. 1993-97 8-41 America Online Confidential




Chapter 8: Variable (VAR) Protocol April 1997

atom$var_number_sub
37 ($25)

Description

atom$var_number_sub operates with the numeric area of registers A and B.
(When you use form_edit, the registers are defined as registers 0 and 1,
respectively.)  If you do not specify an argument, the register B content is
subtracted from the register A content, and the result is placed in register A.  If
you specify an argument, the argument value is subtracted from the register A
content and placed in register A.

Syntax

atom$var_number_sub [<num_value>]

[<num_value>] Specifies an optional, 32-bit, decimal subtrahend value.

Return Value

The numeric value contained in register A after the arithmetic operation is
performed.

Examples

The following examples subtract values from the register A numeric content.
In these examples, register A = 1024 and register B = 256.

atom$var_number_sub <512>

The result of this example is that register A = 512.

atom$var_number_sub

The result of this example is that register A = 768.

America Online Confidential 8-42  America Online, Inc. 1993-97




April 1997 FDO91 Manual, Vol 1

atom$var_number_swap_between_regs
45 ($2D)

Description

atom$var_number_swap_between_regs swaps the numeric content of one
register with another register.

Syntax

atom$var_number_swap_between_regs <register_1, register_2>

<register_1> Specifies the first register.  Values are A, B, C or D.

<register_2> Specifies the second register.  Values are A, B, C or D.

When you use form_edit, the register values are 0, 1, 2 or 3, respectively.

Return Value

A numeric value from the first register.

Example

The following example swaps numeric values between registers.  For this
example, register A = 101264 and register B = 120360:

atom$var_number_swap_between_regs <A, B>

The result of this example is that register A = 120360 and
register B = 101264.

 America Online, Inc. 1993-97 8-43 America Online Confidential




Chapter 8: Variable (VAR) Protocol April 1997

atom$var_number_zero
49 ($31)

Description

atom$var_number_zero sets the numeric value of a current register to 0.

Syntax

atom$var_number_zero <register>

<register> Specifies the current register.  Values are A, B, C or D.
When you use form_edit, the values are 0, 1, 2 or 3,
respectively.

Return Value

0

Example

The following example sets the numeric value of a register to 0.  For this
example, register C = 5:

atom$var_number_zero <C>

The result of this example is that register C = 0.

America Online Confidential 8-44  America Online, Inc. 1993-97




April 1997 FDO91 Manual, Vol 1

atom$var_number_zero_save
34 ($22)

Description

atom$var_number_zero_save sets the numeric value of the current register
to 0 and stores the value in the existing save register for the current object.
You can define an ID for a specific save register with the optional argument.
Note that an ID of 0 designates a register as invalid.

Syntax

atom$var_number_zero_save <register[, reg_id]>

<register> Specifies the current register.  Values are A, B, C or D.
When you use form_edit, the values are 0, 1, 2 or 3,
respectively.

[<reg_id>] Specifies an optional, 32-bit, save register ID.

Return Value

0

Example

The following examples set the numeric area of the current register to 0 and
save it for the current object.  For these examples, register A = 2 and the ID of
the save register = 23.

atom$man_set_context_globalid <25>
ê atom$var_number_zero_save <A>

atom$man_end_context

The result of this example is that the numeric value of register A is set to 0 and
saved for the current object, which has a global ID of 25.  The save register ID
is still 23.

atom$man_set_context_globalid <25>
ê atom$var_number_zero_save <A, 18>

atom$man_end_context

The result of this example is that the numeric value of register A is set to 0 and
saved for the current object, which has a global ID of 25.  The save register ID
is changed to 18.

 America Online, Inc. 1993-97 8-45 America Online Confidential




Chapter 8: Variable (VAR) Protocol April 1997

atom$var_reset
96 ($60)

Description

atom$var_reset clears all areas of all the current registers.

Syntax

atom$var_reset

Return Value

None.

Example

The following example clears all areas of all registers:

atom$var_reset

America Online Confidential 8-46  America Online, Inc. 1993-97




April 1997 FDO91 Manual, Vol 1

atom$var_string_clear_id
69 ($45)

Description

atom$var_string_clear_id sets to 0 the ID of the save register associated with
the current register.  An ID of 0 designates the associated save register as
invalid.

Syntax

atom$var_string_clear_id <register>

<register> Specifies a 1-byte register.  Values are A, B, C or D.
When you use form_edit the values are 0, 1, 2 or 3,
respectively.

Return Value

None.

Example

The following example sets the ID of a save register to 0.  For this example,
register A contains "Hello" and the ID of the save register is 27:

atom$var_string_clear_id <A>

The result of this example is that the ID of the save register is set to 0.

 America Online, Inc. 1993-97 8-47 America Online Confidential




Chapter 8: Variable (VAR) Protocol April 1997

atom$var_string_copy_between_regs
67 ($43)

Description

atom$var_string_copy_between_regs copies the string data content of the
second current register to the string area of the first current register.

Syntax

atom$var_string_copy_between_regs <register_1, register_2>

<register_1> Specifies the first current register to receive the copy of
the string data.  Values are A, B, C or D.

<register_2> Specifies the second current register to be copied.
Values are A, B, C or D.

When you use form_edit, the argument values are 0, 1, 2 or 3, respectively.

Return Value

A pointer to the string area of the second register.

Example

The following example copies string data between registers.  For this example,
register A contains "Hello" and register B contains "Goodbye:"

atom$var_string_copy_between_regs <A, B>

The result of this example is that the value of both registers A and B is
"Goodbye."

America Online Confidential 8-48  America Online, Inc. 1993-97




April 1997 FDO91 Manual, Vol 1

atom$var_string_copy_stra_to_strb
65 ($41)

Description

atom$var_string_copy_stra_to_strb copies the string data content of current
register A to the string area of register B.  (When you use form_edit, the
registers are defined as registers 0 and 1, respectively.)

Syntax

atom$var_string_copy_stra_to_strb

Return Value

A pointer to the string area of register B.

Example

The following example copies the string data of register A to register B.  In
this example, register A contains "Hello" and register B contains "Goodbye:"

atom$var_string_copy_stra_to_strb

The result of this example is that register B = "Hello."

 America Online, Inc. 1993-97 8-49 America Online Confidential




Chapter 8: Variable (VAR) Protocol April 1997

atom$var_string_copy_strb_to_stra
66 ($42)

Description

atom$var_string_copy_strb_to_stra copies the string data content of current
register B to the string data area of register A.  (When you use form_edit, the
registers are defined as registers 1 and 0, respectively.)

Syntax

atom$var_string_copy_strb_to_stra

Return Value

A pointer to the string area of register A.

Example

The following example copies the string data of register B to register A.  In
this example, register A contains "Hello" and register B contains "Goodbye:"

atom$var_string_copy_strb_to_stra

The result of this example is that register A = "Goodbye."

America Online Confidential 8-50  America Online, Inc. 1993-97




April 1997 FDO91 Manual, Vol 1

atom$var_string_get
9 ($09)

Description

atom$var_string_get gets the string data contained in a current register and
returns a pointer to the string area.

Syntax

atom$var_string_get <register>

<register> Specifies a current register.  Values are A, B, C or D.
When you use form_edit, the values are 0, 1, 2 or 3,
respectively.

Return Value

A pointer to the string area of the specified register.

Example

The following example gets a string value from a register.  In this example,
register A contains "Hello:"

atom$var_string_get <A>

The result of this example is that the string "Hello" is retrieved and a pointer to
the string area of register A is returned.

 America Online, Inc. 1993-97 8-51 America Online Confidential




Chapter 8: Variable (VAR) Protocol April 1997

atom$var_string_null
6 ($06)

Description

atom$var_string_null sets the string area of a current register to null.

Syntax

atom$var_string_null <register>

<register> Specifies a current register.  Values are A, B, C or D.
When you use form_edit, the values are 0, 1, 2 or 3,
respectively.

Return Value

A pointer to the string area of the specified register.

Example

The following example sets the string area of a register to null.  In this
example, register B contains "Goodbye:"

atom$var_string_null <B>

The result of this example is that the string area of register B is set to null ("").

America Online Confidential 8-52  America Online, Inc. 1993-97




April 1997 FDO91 Manual, Vol 1

atom$var_string_save
7 ($07)

Description

atom$var_string_save saves the string value contained in the string area of a
current register for the current object.  You can specify a save register ID in
the second argument.

Syntax

atom$var_string_save <register [, register_ID]>

<register> Specifies a current register.  Values are A, B, C or D.
When you use form_edit, the values are 0, 1, 2 or 3,
respectively.

[<register_ID>] Specifies the ID of an optional save register.  The
numeric values are 1 or greater.

Return Value

A pointer to the string area of the current register.

Example

The following examples save the string value contained in register A for the
current object.  For these examples, register A = "Hello" and the save register
ID = 23:

atom$man_set_context_relative <32>
ê atom$var_string_save <A>

atom$man_end_context

In this example, "Hello" is saved in the string area of register A for the current
object, which has a relative ID of 32.  The save register ID is still 23.

atom$man_set_context_relative <32>
ê atom$var_string_save <A, 18>

atom$man_end_context

The result of this example is that "Hello" is saved in the string area of register
A for the current object, which has a relative ID of 32.  The save register ID is
changed to 18.

 America Online, Inc. 1993-97 8-53 America Online Confidential




Chapter 8: Variable (VAR) Protocol April 1997

atom$var_string_set
5 ($05)

Description

atom$var_string_set sets the string register specified in the first argument to
the string specified in the second argument.

Syntax

atom$var_string_set <register, string>

<register> Specifies a current register.  Values are STRA, STRB,
STRC, or STRD (not A, B, C or D for this atom,
because this is a 4-character argument).

<string> Specifies a string value up to 256 characters or bytes in
length, which will be loaded in the register.

Return Value

A pointer to the string area of the specified register.

Example

The following example sets a string value in a register.  For the following
example, STRA contains "Hello" and STRB contains "Goodbye:"

atom$var_string_set <STRA, "Breakfast">

The result of this example is that the string value of register STRA is set to
"Breakfast."

America Online Confidential 8-54  America Online, Inc. 1993-97




April 1997 FDO91 Manual, Vol 1

atom$var_string_set_from_atom
8 ($08)

Description

atom$var_string_set_from_atom loads a register with the string data pointed
to by the last return value.  The last return value must point to a text string that
is null-terminated.

Syntax

atom$var_string_set_from_atom <register>

<register> Specifies a current register.  Values are A, B, C or D.
When you use form_edit, values are 0, 1, 2 or 3,
respectively.

Return Value

None.

Example

The following example loads a register with the text string pointed to by the
last return value.  For this example, register A = "Hello," and the last return
value = "Lunch Time:"

atom$var_string_trim_spaces
ê atom$var_string_set_from_atom <A>

The result of this example is that register A = "Lunch Time."

 America Online, Inc. 1993-97 8-55 America Online Confidential




Chapter 8: Variable (VAR) Protocol April 1997

atom$var_string_set_id_one_value
10 ($0A)

Description

atom$var_string_set_id_one_value automatically saves the specified string
value to a save register with an ID of 1.

Syntax

atom$var_string_set_id_one_value <string>

<string> Specifies a string of up to 256 characters in length.

Return Value

None.

Example

The following example saves the string "Hello" to a save register with an ID of
1:

atom$var_string_set_id_one_value "Hello"

America Online Confidential 8-56  America Online, Inc. 1993-97




April 1997 FDO91 Manual, Vol 1

atom$var_string_swap_between_regs
68 ($44)

Description

atom$var_string_swap_between_regs swaps the string data content of a
current register with the string content of another current register.

Syntax

atom$var_string_swap_between_regs <register_1, register_2>

<register_1> Specifies the first current register.  Values are A, B, C
or D.

<register_2> Specifies the second current register.  Values are A, B,
C or D.

When you use form_edit, the values of these arguments are 0, 1, 2 or 3,
respectively.

Return Value

None.

Example

The following example swaps the string data between registers.   For this
example, register A = "Hello" and register B = "Goodbye:"

atom$var_string_swap_between_regs <A, B>

The result of this example is that register A = "Goodbye" and
register B = "Hello."

 America Online, Inc. 1993-97 8-57 America Online Confidential




Chapter 8: Variable (VAR) Protocol April 1997

atom$var_string_trim_spaces
70 ($46)

Description

atom$var_string_trim_spaces removes the leading and trailing spaces from
the last returned text string.

Syntax

atom$var_string_trim_spaces

Return Value

A text string.

Example

The following example removes the leading and trailing spaces from a text
string:

atom$var_string_set <A, "   Hello   ">
ê atom$var_string_trim_spaces

The example is explained as follows:

atom$var_string_set <A, "   Hello   ">

Sets the string register A to "   Hello     ".

atom$var_string_trim_spaces

Removes the leading and trailing spaces from the text string.

America Online Confidential 8-58  America Online, Inc. 1993-97



===== END PDF: ch08-var.pdf =====

===== BEGIN PDF: ch09-ad.pdf =====



Manual: FDO91 Manual
Chapter 9: Address Protocol defines the address protocol atoms and provides information for
maintaining address lists.
Last updated: January 1994




C H A P T E R  9

Address (AD) Protocol

The Address (AD) protocol (protocol ID 39) consists of atoms that let
members create their own address books of online service screen names.  By
creating an address book, a member can save screen names individually or in
groups.  Once a screen name or group of names is added to the address book,
a member can select it when composing mail and place it in either the "To:"
field or the "CC:" field on the Compose Mail form.

Address Protocol Atoms

The Address protocol atoms are described in alphabetical order in the rest of
this chapter.

America Online Confidential 9-1  America Online, Inc. 1993-94




Chapter 9: Address (AD) Protocol January 1994

atom$ad_add
0 ($00)

Description

atom$ad_add allows the addition of a new address entry on the Address List
Edit form.

Syntax

atom$ad_add

Return Value

Preserves lValue.

Example

atom$ad_add

America Online Confidential 9-2  America Online, Inc. 1993-94




January 1994 FDO91 Manual, Vol. 1

atom$ad_cc
5 ($05)

Description

atom$ad_cc adds the currently selected address list to the "CC:" field of the
Compose Mail form.

Syntax

atom$_ad_cc

Return Value

Preserves lValue.

Example

atom$_ad_cc

 America Online, Inc. 1993-94 9-3 America Online Confidential




Chapter 9: Address (AD) Protocol January 1994

atom$ad_modify
2 ($02)

Description

atom$ad_modify allows the currently selected entry on the Address List Edit
form to be edited.

Syntax

atom$ad_modify

Return Value

Preserves lValue.

Example

atom$ad_modify

America Online Confidential 9-4  America Online, Inc. 1993-94




January 1994 FDO91 Manual, Vol. 1

atom$ad_set_caller
3 ($03)

Description

atom$ad_set_caller sets the global ID of the form that invoked the address
book.

Syntax

atom$ad_set_caller <global_ID>

<global_ID> Specifies the global ID of calling form.

Return Value

Preserves lValue.

Example

atom$ad_set_caller <32-01-001>

 America Online, Inc. 1993-94 9-5 America Online Confidential




Chapter 9: Address (AD) Protocol January 1994

atom$ad_store
1 ($01)

Description

atom$ad_store saves the new or modified address book entry.

Syntax

atom$ad_store

Return Value

Preserves lValue.

Example

atom$ad_store

America Online Confidential 9-6  America Online, Inc. 1993-94




January 1994 FDO91 Manual, Vol. 1

atom$ad_to
4 ($04)

Description

atom$ad_to adds the currently selected entry to the "To:" field on the
Compose Mail form.

Syntax

atom$ad_to

Return Value

Preserves lValue.

Example

atom$ad_to

 America Online, Inc. 1993-94 9-7 America Online Confidential



===== END PDF: ch09-ad.pdf =====

===== BEGIN PDF: ch10-async.pdf =====





Chapter 10:

Async Protocol

The Async Protocol (protocol ID 13) consists of atoms that control the 
communication flow between the host and client. Atoms of the Async 
Protocol also provide the following miscellaneous functions: 

• Displaying an alert dialog box

• Sending a message to let the client tools know the member is offline

• Sending a message to let the client tools know the member is online

• Playing a sound if the member has a sound card

Async Protocol Atoms

The Async protocol atoms are described in alphabetical order in the 
rest of this chapter.

© America Online, Inc. 1999 10-1 America Online Confidential






Chapter 10: Async Protocol June 1999


atom$async_alert
7 ($07)

atom$async_alert displays a Windows alert box with the specified text 
string as the alert message. The flag parameter specifies the style of alert 
box to display.

Note: atom$async_alert_raw is the atom for transferring data in 
form_edit. atom$async_alert_raw is not documented elsewhere because 
the description and syntax are the same as atom$async_alert.

Syntax

atom$async_alert <alert_style> <alert_text>

<alert_style> Specifies a 1 byte alert-style flag. If the 
high bit is set on the style flag, the alert 
pops the top form before it comes up. Alert 
styles and their values are as follows

1. ALERT_TYPE_INFO

2. ALERT_TYPE_ERROR

3. ALERT_TYPE_POP_INFO

4. ALERT_TYPE_POP_ERROR

5. ALERT_TYPE_WARNING

6. ALERT_TYPE_POP_WARNING

<alert_text> Specifies an alert text.

Return Value

Unchanged.

Example

The following example sends an informational alert to the member 
confirming that the member has updated the language preference list:

atom$uni_start_stream
atom$async_invoke_language_pref


America Online Confidential 10-2 © America Online, Inc. 1999




June 1999 FDO91 Manual


atom$uni_end_stream
atom$uni_start_stream
atom$uni_next_atom_typed <ascii>

atom$async_alert <info> "Your language list has been 
updated."


© America Online, Inc. 1999 10-3 America Online Confidential




Chapter 10: Async Protocol June 1999


atom$async_alert_add_date_time      
33 ($21)

atom$async_alert_add_date_time adds the host date and time integer 
stamp for the host process.

Syntax

atom$async_alert_add_date_time_<date time> 

<date time> Specifies the host date time stamp integer value.

Return Value

Unchanged.

Example

The following example adds the host date time integer value to an alert 
message:

atom$uni_start_stream <00x>
atom$async_alert_start
atom$uni_start_stream
atom$async_alert_add_date_time
atom$async_alert_add_text <text>
atom$async_alert_end <00x>
atom$uni_end_stream


America Online Confidential 10-4 © America Online, Inc. 1999




June 1999 FDO91 Manual


atom$async_alert_add_text           
32 ($20)

atom$async_alert_add_text adds text to the alert box.

Syntax

atom$async_alert_add_text <text>

<text> Specifies the text string.

Return Value

Unchanged.

Example

The following example adds text to an alert message:

atom$uni_start_stream <00x>
atom$async_alert_start
atom$uni_start_stream
atom$async_alert_add_date_time
atom$async_alert_add_text <text>
atom$async_alert_end <00x>
atom$uni_end_stream


© America Online, Inc. 1999 10-5 America Online Confidential




Chapter 10: Async Protocol June 1999


atom$async_alert_end               
34 ($22)

atom$async_alert_end ends the alert box creation action.

Syntax

atom$async_alert_end

Return Value

Unchanged.

Example

The following example ends the modifications of an alert message:

atom$uni_start_stream <00x>
atom$async_alert_start
atom$uni_start_stream
atom$async_alert_add_date_time
atom$async_alert_add_text <text>
atom$async_alert_end <00x>
atom$uni_end_stream


America Online Confidential 10-6 © America Online, Inc. 1999




June 1999 FDO91 Manual


atom$async_alert_start              
31 ($1F)

atom$async_alert_start builds an async alert box of multiple lines.

Syntax

atom$async_alert_start

Return Value

Unchanged.

Example

The following example starts the modification of an alert message:

atom$uni_start_stream <00x>
atom$async_alert_start
atom$uni_start_stream
atom$async_alert_add_date_time
atom$async_alert_add_text <text>
atom$async_alert_end <00x>
atom$uni_end_stream


© America Online, Inc. 1999 10-7 America Online Confidential




Chapter 10: Async Protocol June 1999


atom$async_allow_switch_screen_names 
55 ($37)

atom$async_allow_switch_screen_names lets the member switch screen 
names without losing the connection to the host. Use this atom to 
determine whether the member has permission to switch screen names. The 
menu calls the atom when the member chooses the Switch Screen Names 
button and the atom then broadcasts a message to all tools. Any tool not 
ready to switch screen names returns FALSE. 

Syntax

atom$async_allow_switch_screen_names 

Return Value

Returns nonzero if it is allowed to enable switch screen names.

Example

The following example allows the member to switch screen names without 
losing connection to the host:

atom$async_allow_switch_screen_names 
atom$if_last_return_false_then 3 4 
atom$uni_invoke_no_context 41-42465
atom$uni_sync_skip 3
atom$sm_send_token_arg 6Ex 74x
atom$uni_sync_skip 4


America Online Confidential 10-8 © America Online, Inc. 1999




June 1999 FDO91 Manual


atom$async_auto_launch                
38 ($26)

atom$async_auto_launch continues the navigation process to 
automatically go to a web site when AOL is invoked from a hyperlink or 
external application. This atom is sent by the host as part of the logon 
sequence. It is the atom that is used most often to deliver sign-on tools on 
demand (TODs). 

Syntax

atom$async_auto_launch

Return Value

Unchanged.

Note: atom$async_auto_launch is a host-only atom used for continuing 
the sign-on process. You cannot use this atom in normal forms 
development. 


© America Online, Inc. 1999 10-9 America Online Confidential




Chapter 10: Async Protocol June 1999


atom$async_display_errors            
41 ($29)

atom$async_display_errors displays the error messages stored on the 
client.

Syntax

atom$async_display_errors

Return Value

Unchanged.

Example

The following example displays the error messages stored on the client:

atom$uni_start_stream
atom$man_set_context_relative 30 
atom$async_display_errors
atom$man_end_context
atom$man_update_display
atom$uni_end_stream


America Online Confidential 10-10 © America Online, Inc. 1999




June 1999 FDO91 Manual


atom$async_error_box
6 ($06)

atom$async_error_box displays a Windows dialog box with an alert 
message. 

Note: The functionality of this atom has been replaced by 
atom$async_alert.

Syntax

atom$async_error_box <error number_string>

<error number_string> Specifies an error number string.

Return Value

Unchanged.

Example

The following example displays a Windows error box with an alert 
message:

atom$<man_set_context_relative> 1
atom$man_get_attribute prot$mat atom$mat_bool_invisible
atom$if_last_return_false_then <15>
atom$async_error_box <"Your error here">
atom$uni_abort_stream
atom$uni_sync_skip 15


© America Online, Inc. 1999 10-11 America Online Confidential




Chapter 10: Async Protocol June 1999


atom$async_exec_app                  
25 ($19)

atom$async_exec_app executes the application whose text string you 
provide.

Syntax

atom$async_exec_app <application file string>

<application file Specifies an application file to execute.
string>

Return Value

Unchanged.

Example

The following example executes an application that takes the member to 
the designated Intranet site:

atom$async_exec_app <"start.exe http://www2.ops.aol.com/
Tech-Docs/unr/index.htm">


America Online Confidential 10-12 © America Online, Inc. 1999




June 1999 FDO91 Manual


atom$async_exec_context_help 
14 ($0E)

atom$async_exec_context_help invokes the AOL help file, aol.hlp, and 
takes you to the part of the file related to the query. 

Note: atom$async_exec_context_help_raw is the atom for transferring 
data in form_edit. atom$async_exec_context_help_raw is not documented 
elsewhere because the description and syntax are the same as 
atom$async_exec_context_help.

Syntax

atom$async_exec_context_help <help text>

<help text> Specifies a context.

Return Value

Unchanged.

Example

The following example invokes the AOL help file, aol.hlp, and takes you 
to the part of the file related to mail:

atom$man_start_object <trigger, "Help">
atom$act_replace_select_action
atom$uni_start_stream
atom$async_exec_context_help "mail"
atom$uni_end_stream
atom$man_end_object


© America Online, Inc. 1999 10-13 America Online Confidential




Chapter 10: Async Protocol June 1999


atom$async_exec_help                 
13 ($0D)

atom$async_exec_help invokes the AOL help file, aol.hlp; this atom is 
statically defined to always open the aol.hlp file.

Syntax

atom$async_exec_help

Return Value

Unchanged.

Example

The following example invokes the AOL help file, aol.hlp, and takes you 
to the part of the file related to the query:

atom$man_start_object <trigger, "Help">
atom$act_replace_select_action
atom$uni_start_stream
atom$async_exec_help 
atom$uni_start_stream
atom$man_end_object


America Online Confidential 10-14 © America Online, Inc. 1999




June 1999 FDO91 Manual


atom$async_exec_help_file           
16 ($10)

atom$async_exec_help_file invokes the AOL help file, aol.hlp, or 
another help file that you designate. You have the option of putting in a text 
string to go to a particular help file or open the aol.hlp file. 

Syntax

atom$async_exec_help_file <file name string>

<file name string> Specifies a particular help file.

Return Value

Unchanged.

Example

The following example invokes the AOL help file, aol.hlp, and takes you 
to the part of the file related to the query:

atom$man_start_object <trigger, "Help">
atom$act_replace_select_action
atom$uni_start_stream
atom$async_exec_help_file 
atom$uni_start_stream
atom$man_end_object


© America Online, Inc. 1999 10-15 America Online Confidential




Chapter 10: Async Protocol June 1999


atom$async_exit
0 ($00)

atom$async_exit sends a MSG_NOTIFY_EXIT_REQUEST to all registered 
tools. If the result is RESULT_OK, an alert, asking the member whether or 
not to sign off or exit, is displayed.

Syntax

atom$async_exit

Return Value

Unchanged.

Example

The following example starts the process of exiting a member from the 
application:

atom$start_object <trigger> "Exit"
atom$act_replace_select_action
uni_start_stream_wait_on
atom$async_exit
atom$uni_end_stream
atom$man_end_object


America Online Confidential 10-16 © America Online, Inc. 1999




June 1999 FDO91 Manual


atom$async_exit_aux
0 ($00)

atom$async_exit_aux causes the online service application to sign off (if 
online) or exit (if offline). This atom causes the sign-off process to bypass 
popup functionality.

Syntax

atom$async_exit_aux

Return Value

Unchanged.

Example

The following example causes the online service application to sign off (if 
online) or exit (if offline):

atom$start_object <trigger> "Exit"
atom$act_replace_select_action
atom$uni_start_stream_wait_on
atom$async_exit_aux
atom$uni_end_stream
atom$man_end_object


© America Online, Inc. 1999 10-17 America Online Confidential




Chapter 10: Async Protocol June 1999


atom$async_force_off               
17 ($11)

atom$async_force_off completely drops the line to the host.

Syntax

atom$async_force_off

Return Value

Unchanged.

Example

The following example completely drops the line to the host and sends a 
message to the member that says "Thank you for using America Online":

atom$man_strat_object <trigger> 
atom$act_replace_select_action
atom$uni_start_stream
atom$man_close_update
atom$async_force_off <"Thank you for using America Online.">
atom$uni_end_stream
atom$man_end_object


America Online Confidential 10-18 © America Online, Inc. 1999




June 1999 FDO91 Manual


atom$async_get_alert_result 
24 ($18)

atom$async_get_alert_result returns the result of an alert box.

Syntax

atom$async_get_alert_result 

Return Value

Turns to l ("el") value.

Example

The following example returns the result of an alert box, which offers a 
choice between true or false:

atom$uni_start_stream
atom$async_get_alert_result
atom$if_last_return_false_then <11, 12>
atom$uni_sync_skip <11>
atom$man_end_context
atom$uni_sync_skip <12>
atom$act_get_db_value <14x, ffx, 00x, 04x>
atom$if_last_return_true_then <1, 2>
atom$uni_sync_skip <1>
atom$uni_end_stream


© America Online, Inc. 1999 10-19 America Online Confidential




Chapter 10: Async Protocol June 1999


atom$async_get_screen_name          
29 ($1D)

atom$async_get_screen_name returns the screen name as the l ("el") 
value.

Syntax

atom$async_get_screen_name <screen name>

<screen name> Specifies a screen name.

Return Value

To whatever the current screen name.

Example

The following example returns the screen name to whatever the current 
screen name happens to be:

atom$act_replace_select_action
atom$uni_start_stream
atom$async_get_screen_name
atom$uni_use_last_atom_string prot$async atom$async 
<async_storename>
atom$man_end_context
atom$man_update_display
atom$uni_end_stream


America Online Confidential 10-20 © America Online, Inc. 1999




June 1999 FDO91 Manual


atom$async_invoke_language_pref     
36 ($24)

atom$async_invoke_language_pref invokes an operating system call to 
select a language preference.

Syntax

atom$async_invoke_language_pref <language preference string>

<language Specifies a language preference.
preference string>

Return Value

Unchanged.

Example

The following example invokes an operating system call to select a 
language preference:

atom$uni_start_stream
atom$async_invoke_language_pref
atom$uni_end_stream


© America Online, Inc. 1999 10-21 America Online Confidential




Chapter 10: Async Protocol June 1999


atom$async_invoke_timezone_pref  
35 ($23)

atom$async_invoke_timezone_pref invokes an operating system call to 
select a time zone preference.

Syntax

atom$async_invoke_timezone_pref <timezone preference string>

<timezone Specifies a time zone.
preference string>

Return Value

Unchanged.

Example

The following example invokes an operating system call to select a time 
zone preference:

atom$uni_start_stream
atom$async_invoke_timezone_pref
atom$uni_end_stream


America Online Confidential 10-22 © America Online, Inc. 1999




June 1999 FDO91 Manual


atom$async_is_client_32bit           
40 ($28)

atom$async_is_client_32bit verifies that the client is a 32-bit 
microprocessor.

Syntax

atom$async_is_client_32bit

Return Value

True or false as l ("el") value.

Example

The following example verifies that the client is a 32-bit microprocessor:

atom$man_set_context_relative <1>
atom$async_is_client_32bit
atom$if_last_return_false_then <11, 12>
atom$man_append_data "16 bit"
atom$uni_sync_skip <11>
atom$man_append_data "32 bit"
atom$uni_sync_skip <12>
atom$man_end_context


© America Online, Inc. 1999 10-23 America Online Confidential




Chapter 10: Async Protocol June 1999


atom$async_is_current_screenname     
48 ($30)

atom$async_is_current_screenname verifies the current screen name.

Syntax

atom$async_is_current_screenname

Return Value

Unchanged.

Example

The following example verifies the current screen name:

atom$man_set_context_relative <2>
atom$idb_set_context <20-0-16>
atom$idb_offset 1
atom$idb_get_string
atom$uni_save-result
atom$uni_use_last_atom_string prot$async 
atom$async_is_current_screenname 
atom$if_last_return_true_then <1 2>
atom$mat_bool_invisible no
atom$uni_sync_skip 1
atom$mat_bool_invisible yes
atom$uni_sync_skip 2


America Online Confidential 10-24 © America Online, Inc. 1999




June 1999 FDO91 Manual


atom$async_is_guest                   
42 ($2A)

atom$async_is_guest verifies whether the sign-on account is a guest 
account or not.

Syntax

atom$async_is_guest

Return Value

True or false.

Example

The following example verifies whether the sign-on account is a guest 
account or not:

atom$async_is_guest
atom$if_last_return_true_then <1 2>
atom$man_set_context_relative <30>
atom$mat_bool_disabled <no>
atom$uni_sync_skip <1>
atom$ man_set_context_relative <30>
atom$mat_bool_disabled <yes>
atom$uni_sync_skip 2
atom$man_end_context
atom$man_update_display


© America Online, Inc. 1999 10-25 America Online Confidential




Chapter 10: Async Protocol June 1999


atom$async_is_known_subaccount     
27 ($1B)

atom$async_is_known_subaccount verifies if the screen name is a 
subaccount of the master account.

Syntax

atom$async_is_known_subaccount 

Return Value

True or false.

Example

The following example verifies if the screen name is a subaccount of the 
master account:

atom$async_is_known_subaccount
atom$if_last_return_true_then <1 2>
atom$man_set_context_relative 30
atom$mat_bool_disabled <no>
atom$uni_sync_skip <1>
atom$man_set_context_relative 30
atom$mat_bool_disabled <yes>
atom$uni_sync_skip 2
atom$man_end_context
atom$man_update_display


America Online Confidential 10-26 © America Online, Inc. 1999




June 1999 FDO91 Manual


atom$async_launcher_name             
39 ($27)

atom$async_launcher_name compares the name given to the name when 
the application was started.

Syntax

atom$async_launcher_name

Return Value

The value returned compares the name given to the name when the 
application was started.

Example

The following example compares the ATT name given to the name when 
the application was started:

atom$async_launcher_name <ATT>
atom$asyncif_last_return_true_then 1 2
atom$man_start_object trigger
atom$mat_context_help "Return to ATT&T WorldNet (sm) 
Service."
atom$mat_art_id 1-0-29290
atom$act_replace_select_action
atom$uni_start_stream
atom$async_exit
atom$uni_end_stream
atom$man_end_object
atom$uni_sync_skip 1
atom$man_start_object trigger
atom$mat_context_help "Today’s News:\nYour 24-hour new 
source."
atom$mat_art_id 1-0-21882
atom$act_replace_select_action
atom$uni_start_stream_wait_on
atom$sm_sendf1 0-32-2573
atom$man_end_object
atom$uni_sync_skip 2


© America Online, Inc. 1999 10-27 America Online Confidential




Chapter 10: Async Protocol June 1999


atom$async_logout                    
49 ($31)

atom$async_logout invokes the sign-off process and exits the application. 
See atom$async_signoff on page 10-38 for a related atom that does not exit 
the application.

Syntax

atom$async_logout

Return Value

Unchanged.

Example

The following example invokes the sign-off process and exits the 
application:

atom$uni_start_stream
atom$async_logout
atom$uni_end_stream


America Online Confidential 10-28 © America Online, Inc. 1999




June 1999 FDO91 Manual


atom$async_offline
5 ($05)

atom$async_offline sends a MSG_NOTIFY_OFFLINE and a 
MSG_CCL_HANG_UP to all registered tools. Use this atom on the Goodbye 
form.

Syntax

atom$async_offline

Return Value

Unchanged.

Example

The following example is used on the Goodbye form to send messages to 
all registered tools that the client is going offline and communications links 
are ended:

atom$async_offline


© America Online, Inc. 1999 10-29 America Online Confidential




Chapter 10: Async Protocol June 1999


atom$async_online
4 ($04)

atom$async_online sends a MSG_NOTIFY_ONLINE to all registered tools. 
Use this atom on the Welcome screen form.

Syntax

atom$async_online

Return Value

Unchanged.

Example

The following example is used on the Welcome screen to let all registered 
tools know that the client is online:

async_online 


America Online Confidential 10-30 © America Online, Inc. 1999




June 1999 FDO91 Manual


atom$async_playsound
11 ($0B)

atom$async_playsound plays a digitized sound if the member has a sound 
card.

When this atom is used, the online service application searches the DOS 
path for the sound name. 

In the Matterhorn client (GM June 11, 1999) and subsequent clients 
atom$async_playsound is upgraded to handle multiple sound requests.

Note: atom$async_playsound_raw transfers data in form_edit. 
atom$async_playsound_raw is not documented elsewhere because the 
description and syntax are the same as atom$async_playsound.

Syntax

atom$async_playsound <sound_name or anthem>

<sound_name or Specifies the sound name string or anthem.
anthem>

Return Value

Unchanged.

Example

The following example plays the Goodbye sound message:

atom$async_playsound <"Goodbye">


© America Online, Inc. 1999 10-31 America Online Confidential




Chapter 10: Async Protocol June 1999


atom$async_playsound_dammit
11 ($0B)

atom$async_playsound_dammit forces a sound to play even if another 
one is currently playing.

You will encounter this atom in older clients. In the Matterhorn client (GM 
June 11, 1999) and subsequent clients there is no need to use 
atom$async_playsound_dammit because atom$async_playsound is 
upgraded for multiple sound requests. 

Syntax

atom$async_playsound_dammit <sound_name>

<sound_name> Specifies the sound name string.

Return Value

Unchanged.

Example

The following example forces the You’ve Got Mail sound message to play 
immediately:

atom$async_playsound_dammit <"GotMail">


America Online Confidential 10-32 © America Online, Inc. 1999




June 1999 FDO91 Manual


atom$async_relogon                   
44 ($2C)

atom$async_relogon invokes the process of signing on again.

Syntax

atom$async_relogon 

Return Value

Unchanged.

Example

The following message starts the process of signing on again:

atom$async_relogon


© America Online, Inc. 1999 10-33 America Online Confidential




Chapter 10: Async Protocol June 1999


atom$async_relogon_init             
43 ($2B)

atom$async_relogon_init starts the process of signing on again.

Syntax

atom$async_relogon_init

Return Value

Unchanged.

Example

The following example starts the process of signing on again:

atom$uni_start_stream
atom$uni_invoke_no_context <41-31433>
atom$async_relogon_init
atom$buf_destroy_buffer
atom$buf_start_buffer 159
buf_set_token "UR"
buf_add_atom_data <0>
buf_close_buffer
atom$uni_end_stream


America Online Confidential 10-34 © America Online, Inc. 1999




June 1999 FDO91 Manual


atom$async_screen_name_changed
26 ($1A)

atom$async_screen_name_changed sets the internal client pointers to the 
currently selected screen name. This atom alerts all tools to the fact that the 
current screen name has changed.

Syntax

atom$async_screen_name_changed

Return Value

Unchanged.

Example

The following example sets the internal client pointers to the currently 
selected screen name:

atom$async_screen_name_changed


© America Online, Inc. 1999 10-35 America Online Confidential




Chapter 10: Async Protocol June 1999


atom$async_set_screen_name       
37 ($25)

atom$async_set_screen_name sets the screen name to whatever screen 
name is then in use.

Note: This atom does not work on a branded client because you cannot set 
the screen name to any name other than the one that logged on to initiate 
the current session.

Syntax

atom$async_set_screen_name <screen_name>

<screen_name> Specifies the screen name.

Return Value

Unchanged.

Example

The following example sets the screen name to the one that logged on to 
initiate the current session:

atom$uni_start_stream
atom$async_set_screen_name <"name">
atom$uni_end_stream


America Online Confidential 10-36 © America Online, Inc. 1999




June 1999 FDO91 Manual


atom$async_sign_on                 
30 ($1E)

atom$async_sign_on invokes the sign-on process.

Syntax

atom$async_sign_on

Return Value

Unchanged.

Example

The following example invokes the sign-on process:

atom$uni_start_stream
atom$async_sign_on
atom$morg_finish_jump_bookmark
atom$uni_end_stream


© America Online, Inc. 1999 10-37 America Online Confidential




Chapter 10: Async Protocol June 1999


atom$async_signoff             
47 ($2F)

atom$async_signoff explicitly invokes the sign-off process without 
exiting the application. The atom overrides any previous request to exit the 
application. See atom$async_logout on page 10-28 for a related atom that 
does exit the application.

Syntax

atom$async_signoff

Return Value

Unchanged.

Example

The following example invokes the sign-off process without exiting the 
application:

atom$uni_start_stream
atom$async_signoff
atom$uni_end_stream


America Online Confidential 10-38 © America Online, Inc. 1999




June 1999 FDO91 Manual


atom$async_storename             
45 ($2D)

atom$async_storename stores the new screen name.

Syntax

atom$async_storename <name>

<name> Specifies the screen name string.

Return Value

True or false, depending on whether the password is stored.

Example

The following example stores the new screen name:

atom$man_set_context_relative <1>
atom$de_start_extraction <0>
atom$de_get_data_pointer
atom$uni_use_last_atom_string prot$async 
atom$async_storename 


© America Online, Inc. 1999 10-39 America Online Confidential




Chapter 10: Async Protocol June 1999


atom$async_storepassword 
46 (2E)

atom$async_storepassword stores the new password.

Syntax

atom$async_storepassword <password>

<password> Specifies the password string.

Return Value

True or false, depending on whether the new password is stored.

Example

The following example stores the new password:

atom$man_set_context_relative <40>
atom$de_start_extraction <0>
atom$de_get_data_pointer
atom$uni_use_last_atom_string prot$async 
atom$async_storepassword 


America Online Confidential 10-40 © America Online, Inc. 1999




June 1999 FDO91 Manual


atom$async_system_usage          
52 ($34)

atom$async_system_usage reports on the individual client’s system 
characteristics. 

Syntax

atom$async_system_usage <n>

n=0 Windows version (in 32-bit, 95, or NT)

n=1 Percentage of memory free

n=2 Percentage of system resources free (16-bit only)

Return Value

Unchanged.

Example

The following example reports on the individual client’s system version of 
Windows:

atom$man_set_context_relative <40>
atom$async_system_usage 0
atom$man_end_context
atom$man_update_display


© America Online, Inc. 1999 10-41 America Online Confidential




Chapter 10: Async Protocol June 1999




America Online Confidential 10-42 © America Online, Inc. 1999



===== END PDF: ch10-async.pdf =====

===== BEGIN PDF: ch11-chart.pdf =====



Manual: FDO91 Manual
Chapter 11: Chart Protocol defines chart protocol atoms and provides information for building
charts with numeric data from the online service.
Last updated: August1996




C H A P T E R  1 1

Chart Protocol

The Chart protocol (protocol ID 23) consists of atoms that let online service
members view a variety of customized charts.  This protocol uses raw numeric
data from the host system to build charts on the client computer.  For example,
the Personal Finance/Stocks and Portfolios area of the online service lets
members analyze market activity and performance history for a specific stock
or fund.  Charts can be customized to show market activity for days, weeks,
months, or years.

Elements of a Chart View

The Chart protocol is used to create charts as displayed in Figure 11.1:

Figure 11.1 – Chart View

America Online Confidential 11-1  America Online, Inc. 1993-96




Chapter 11: Chart Protocol August 1996

Figure 11.1 contains four charts:  a line chart that represents the stock's
relative strength, a line chart that represents the stock's 50-day moving
average, a high/low/close chart, and a bar chart that represents the stock's
volume.  Chart views contain the following elements:

Dataset  Used to define a single group of values within a view.  For
example, the view in Figure 11.1 contains six datasets: one for each line chart,
one for the bar chart, and three for the high/low/close chart.  The high values,
low values, and close values each represent a single dataset.  Datasets are also
referred to as series.

Marker  The graphical element used to represent numeric data.  The
markers in Figure 11.1 are the line in the line chart, the high/low/close markers
in the high/low/close chart, and the bars in the bar chart.

Graphical toolbar  Contains tools that allow members to use their mouse
to execute commands and modify chart characteristics.  This feature is not
supported by Macintosh clients of the online service.  For more information on
the graphical toolbar, see "The Graphical Toolbar" below.

Constant  A line that extends across a chart, parallel with the x-axis, that is
used to mark a y-axis value such as a threshold or high-water mark.

Stripe  A colored region that extends across a chart, parallel with the x-axis,
that is used to highlight specific y-axis ranges.

The Graphical Toolbar

The graphical toolbar contains tools that allow members to use their mouse to
execute commands and modify chart characteristics.  The graphical toolbar is
enabled with atom$chart_bool_show_tools.  To specify which tools will
appear on the toolbar, atom$chart_set_tools is used.  All the tools on the
graphical toolbar appear in Figure 11.2:

Figure 11.2 – Graphical Toolbar

The tools of the graphical toolbar are described from left to right in Table 11.1:

America Online Confidential 11-2  America Online, Inc. 1993-96




August 1996 FDO91 Manual, Vol. 2

Table 11.1 – The Graphical Toolbar

Tool Description

Import Retrieves a previously saved chart.

Export Saves the current chart to disk as a .BMP file.

Copy bitmap Copies the current chart to the clipboard as a
.BMP file.

Copy data Copies the data from the current chart to the
clipboard.

Print Prints the current chart.

Chart-type Specifies the type of chart.

Color palette Specifies the color for the current chart's
background, markers, legend, or wall.

3D view Toggles the chart view from two-dimensional to
three-dimensional.

Rotate dialog Rotates the chart on either axis to change the
perspective.

Cluster dialog Controls the depth for three-dimensional cluster
charts.

Zoom Zooms in (or magnifies) a specific portion of the
current view.

Point legend Toggles the point legend.  The legend text is
modified within the data editor.

Dataset legend Toggles the dataset (or series) legend.  The
legend text is modified within the data editor.

Vertical grid Toggles the vertical grid.

Horizontal grid Toggles the horizontal grid.

 America Online, Inc. 1993-96 11-3 America Online Confidential




Chapter 11: Chart Protocol August 1996

Table 11.1 – The Graphical Toolbar (Continued)

Tool Description

Titles dialog Specifies the title text for the left, right, bottom,
and title labels.

Fonts dialog Specifies font attributes for all chart text.

Tools Enables the palette bar, pattern bar, and data
editor.

Tabbed dialog Used by members in conjunction with or instead
of the toolbar.  Tabs include:

General - Controls chart type and appearance.

Series - Controls dataset (series) attributes.

Scale - Controls x-axis and y-axis perspective.

3D View - Toggles the chart view from two-
dimensional to three-dimensional.

Titles - Specifies the title text for the left, right,
bottom, and title labels.

Dynamic Chart Update

The chart protocol supports dynamic chart update.  When new chart data is
received from the host, the current chart view in context is refreshed with the
new data.  This feature is enabled by the following stream:

atom$chart_checkpoint <arg>
.
.
.
atom$chart_set_response_token <token>
.
.
.
atom$chart_request_interval <interval>

atom$chart_checkpoint specifies the argument sent to the host.  atom$
chart_set_response_token specifies the token sent to the host.  atom$chart_
request_interval specifies the time interval for receiving the update data.
When the time interval expires, the token and argument are sent to the host.

America Online Confidential 11-4  America Online, Inc. 1993-96




August 1996 FDO91 Manual, Vol. 2

Transferring Chart Data

There are two methods for transferring chart data from the host system to the
client computer.  One method involves buffering the chart data within
atom$man_append_data atoms.  The other method transfers the data via
atom$chart_set_point_context and atom$chart_set_point_value.

When chart data is transferred via atom$man_append_data, the argument
sent with atom$chart_start_dataset determines how the data will be
interpreted, i.e., floating point integer or signed integer.  The following is a
signed integer example:

atom$chart_start_dataset <8>
atom$chart_add_dataset_legend <"America Online Inc.">
atom$chart_type <1>
atom$man_append_data <"">
atom$man_append_data <"">
atom$man_append_data <"">
atom$man_append_data <"">
atom$man_append_data <"">
atom$man_append_data <"">
atom$chart_end_dataset

When chart data is transferred using chart atoms exclusively, the client
positions the data on the chart via atom$chart_set_point_value and atom$
chart_set_point_context.  The client labels the data on the chart using
atom$chart_add_key_legend_text.

atom$chart_start_dataset <1>
atom$chart_dataset_chart_type <9>
atom$chart_set_dataset_color <00x, ffx, 00x>
atom$chart_set_point_context <0>
atom$chart_set_point_value <5562>
atom$chart_add_key_legend_text <"5/13/96">
atom$chart_set_point_context <1>
atom$chart_set_point_value <5600>
atom$chart_add_key_legend_text <"">
atom$chart_set_point_context <2>
atom$chart_set_point_value <5700>

Chart Protocol Atoms

The atoms that make up the Chart protocol are described in alphabetical order
in the rest of this chapter.  Unless otherwise noted, all Chart protocol atoms
are sent from the host to the client.

 America Online, Inc. 1993-96 11-5 America Online Confidential




Chapter 11: Chart Protocol August 1996

atom$chart_add_dataset_legend
48 ($30)

Description

atom$chart_add_dataset_legend specifies a text label to be used as the title
for the current dataset in context.  A dataset is used to define a single group of
values within a view.  For example, in a view that contains high/low/close
chart, the high values, low values, and close values each represent a separate
dataset.  The text attributes for this label are specified using atom$chart_
legend_font_sis.

Syntax

atom$chart_add_dataset_legend <text>

<text> Text used to describe the dataset legend.

Return Value

Unchanged.

Example

The following is an example of how to add a legend to the current dataset:

atom$chart_start_dataset
ê atom$chart_add_dataset_legend <AMER>

atom$chart_set_dataset_shape <1>
atom$chart_set_line_width <1>
atom$chart_set_dataset_color <00x, 00x, ffx>
atom$chart_set_point_context <0>

America Online Confidential 11-6  America Online, Inc. 1993-96




August 1996 FDO91 Manual, Vol. 2

atom$chart_add_key_legend_text
73 ($49)

Description

atom$chart_add_key_legend_text specifies a shortened or abbreviated
version of the text to be used as the x-axis legend for the current chart.  This
atom is useful when the x-axis legend text does not fit on the x-axis.  The text
attributes for this label are specified using atom$chart_xlegend_font_sis.

Syntax

atom$chart_add_key_legend_text <text>

<text> Abbreviated text to be used for the x-axis legend.

Return Value

Unchanged.

Example

The following is an example of how to specify a shortened or abbreviated
version of the text to be used as the x-axis legend for the current chart:

atom$chart_manage <>
atom$mat_width <600>
atom$mat_height <400>
atom$chart_bool_show_legend <yes>
atom$chart_ymax <50>
atom$chart_left_font_sis <00x, 0cx, 00x>
atom$chart_bottom_font_sis <00x, 0cx, 00x>
atom$chart_legend_font_sis <00x, 08x, 00x>
atom$chart_xlegend_font_sis <08x, 0cx, 00x>
atom$chart_ylegend_font_sis <08x, 0cx, 00x>
atom$chart_constant_font_sis <00x, 0cx, 01x>
atom$chart_title_font_sis <00x, 10x, 00x>
atom$chart_title <"America Online Stock Comparison Chart">
atom$chart_left_label <"Price">
atom$chart_bottom_label <"Dates">
atom$chart_set_ylegend_gap <"\x05">
atom$chart_add_ylegend_text <"$30">
atom$chart_add_ylegend_text <"$35">
atom$chart_add_ylegend_text <"$40">
atom$chart_add_ylegend_text <"$45">
atom$chart_add_ylegend_text <"$50">
atom$chart_add_ylegend_text <"$55">

 America Online, Inc. 1993-96 11-7 America Online Confidential




Chapter 11: Chart Protocol August 1996

atom$chart_add_ylegend_text <"$60">
atom$chart_add_xlegend_text <"June">
atom$chart_add_xlegend_text <"July">
atom$chart_add_xlegend_text <"August">
atom$chart_add_xlegend_text <"September">
atom$chart_add_xlegend_text <"October">
atom$chart_add_xlegend_text <"November">

ê atom$chart_add_key_legend_text <"Jun">
ê atom$chart_add_key_legend_text <"Jul">
ê atom$chart_add_key_legend_text <"Aug">
ê atom$chart_add_key_legend_text <"Sep">
ê atom$chart_add_key_legend_text <"Oct">
ê atom$chart_add_key_legend_text <"Nov">

America Online Confidential 11-8  America Online, Inc. 1993-96




August 1996 FDO91 Manual, Vol. 2

atom$chart_add_xlegend_text
67 ($43)

Description

atom$chart_add_xlegend_text specifies a text label to be used as the title for
each marker on the x-axis of the current chart.  The text attributes for this label
are specified using atom$chart_xlegend_font_sis.

Syntax

atom$chart_add_xlegend_text <text>

<text> Text to be used as the marker title.

Return Value

Unchanged.

Example

The following is an example of how to specify a text label to be used as the
title for each marker on the x-axis of the current chart.

atom$chart_title <"America Online Stock Comparison Chart">
atom$chart_left_label <"Price">
atom$chart_bottom_label <"Dates">
atom$chart_set_ylegend_gap <"\x05">
atom$chart_add_ylegend_text <"$25">
atom$chart_add_ylegend_text <"$30">
atom$chart_add_ylegend_text <"$35">
atom$chart_add_ylegend_text <"$40">
atom$chart_add_ylegend_text <"$45">
atom$chart_add_ylegend_text <"$50">
atom$chart_add_ylegend_text <"$55">
atom$chart_add_ylegend_text <"$60">

ê atom$chart_add_xlegend_text <"June">
ê atom$chart_add_xlegend_text <"July">
ê atom$chart_add_xlegend_text <"August">
ê atom$chart_add_xlegend_text <"September">
ê atom$chart_add_xlegend_text <"October">
ê atom$chart_add_xlegend_text <"November">

atom$chart_add_key_legend_text <"Jun">
atom$chart_add_key_legend_text <"Jul">
atom$chart_add_key_legend_text <"Aug">
atom$chart_add_key_legend_text <"Sep">
atom$chart_add_key_legend_text <"Oct">
atom$chart_add_key_legend_text <"Nov">

 America Online, Inc. 1993-96 11-9 America Online Confidential




Chapter 11: Chart Protocol August 1996

atom$chart_add_ylegend_text
66 ($42)

Description

atom$chart_add_ylegend_text specifies a text label to be used as the title for
each data point on the y-axis of the current chart.  The text attributes for this
label are specified using atom$chart_xlegend_font_sis.

Syntax

atom$chart_add_ylegend_text <text>

<text> Text to be used as the data point title.

Return Value

Unchanged.

Example

The following is an example of how to specify a text label to be used as the
title for the y-axis of the current chart:

atom$chart_title <"America Online Stock Comparison Chart">
atom$chart_left_label <"Price">
atom$chart_bottom_label <"Dates">

ê atom$chart_set_ylegend_gap <"\x05">
ê atom$chart_add_ylegend_text <"$25">
ê atom$chart_add_ylegend_text <"$30">
ê atom$chart_add_ylegend_text <"$35">
ê atom$chart_add_ylegend_text <"$40">
ê atom$chart_add_ylegend_text <"$45">
ê atom$chart_add_ylegend_text <"$50">
ê atom$chart_add_ylegend_text <"$55">
ê atom$chart_add_ylegend_text <"$60">

atom$chart_add_xlegend_text <"June">
atom$chart_add_xlegend_text <"July">
atom$chart_add_xlegend_text <"August">
atom$chart_add_xlegend_text <"September">
atom$chart_add_xlegend_text <"October">
atom$chart_add_xlegend_text <"November">
atom$chart_add_key_legend_text <"Jun">
atom$chart_add_key_legend_text <"Jul">
atom$chart_add_key_legend_text <"Aug">
atom$chart_add_key_legend_text <"Sep">
atom$chart_add_key_legend_text <"Oct">
atom$chart_add_key_legend_text <"Nov">

America Online Confidential 11-10  America Online, Inc. 1993-96




August 1996 FDO91 Manual, Vol. 2

atom$chart_atr_num_datasets
85 ($42)

Description

atom$chart_atr_num_datasets specifies the number of datasets within the
current view.  You must set this atom before defining datasets.  A dataset is
used to define a single group of values within a view.  For example, in a view
that contains a high/low/close chart, the high values, low values, and close
values each represent a separate dataset.

Syntax

atom$chart_atr_num_datasets <num>

<num> A 4-byte signed integer.

Return Value

Unchanged.

Example

The following is an example of how to specify the number of datasets in the
current view:

ê atom$chart_atr_num_datasets <5>
atom$chart_set_dataset_context <1>
atom$chart_start_dataset <1>
atom$chart_dataset_chart_type <9>
atom$chart_set_dataset_color <00x, ffx, 00x>

 America Online, Inc. 1993-96 11-11 America Online Confidential




Chapter 11: Chart Protocol August 1996

atom$chart_bool_3d_view
54 ($36)

Description

atom$chart_bool_3d_view enables the 3D button on the graphing toolbar.
The 3D button makes the current chart appear three-dimensional.  For more
information on the graphical toolbar, see "The Graphical Toolbar" on page
11-2.

Syntax

atom$chart_bool_3d_view (<yes>|<no>)

<yes> The 3D button is enabled.

<no> The 3D button is not enabled. (Default)

Return Value

Unchanged.

Example

The following is an example of how to enable the 3D button on the graphing
toolbar:

atom$uni_start_stream <>
.
.
.
atom$chart_type <1>
atom$chart_bool_show_tools <yes>
atom$chart_set_tools <4294967295>

ê atom$chart_bool_3d_view <yes>
atom$chart_bool_bars_together <no>
atom$chart_set_margins <32x, 19x, 0fx, 19x>
atom$chart_bool_show_points <no>
atom$chart_set_marker_size <5>
.
.
.
atom$uni_start_stream <>

America Online Confidential 11-12  America Online, Inc. 1993-96




August 1996 FDO91 Manual, Vol. 2

atom$chart_bool_bars_together
54 ($36)

Description

atom$chart_bool_bars_together controls whether the bars of the current bar
chart are adjoined.

This atom is not currently supported by Macintosh clients of the online service.

Syntax

atom$chart_bool_bars_together (<yes>|<no>)

<yes> Bars are adjoined.

<no> Bars are not adjoined.  (Default)

Return Value

Unchanged.

Example

The following is an example of how to adjoin the bars of the current bar chart:

atom$uni_start_stream <>
.
.
.
atom$chart_type <1>
atom$chart_bool_show_tools <yes>
atom$chart_set_tools <4294967295>
atom$chart_bool_3d_view <yes>

ê atom$chart_bool_bars_together <yes>
atom$chart_set_margins <32x, 19x, 0fx, 19x>
atom$chart_bool_show_points <no>
atom$chart_set_marker_size <5>
.
.
.
atom$uni_start_stream <>

 America Online, Inc. 1993-96 11-13 America Online Confidential




Chapter 11: Chart Protocol August 1996

atom$chart_bool_cluster
63 ($3F)

Description

atom$chart_bool_cluster enables the 3D cluster option on the graphing
toolbar.  The 3D cluster option assigns a y-axis value to each dataset within the
current chart.  For more information on the graphical toolbar, see "The
Graphical Toolbar" on page 11-2.

This atom is not currently supported by Macintosh clients of the online service.

Syntax

atom$chart_bool_cluster (<yes>|<no>)

<yes> The 3D cluster option is enabled.

<no> The 3D cluster option is not enabled.

Return Value

Unchanged.

Example

The following is an example of how to enable the 3D cluster option within the
graphing toolbar:

atom$chart_bool_cluster <yes>

America Online Confidential 11-14  America Online, Inc. 1993-96




August 1996 FDO91 Manual, Vol. 2

atom$chart_bool_dlggray
65 ($41)

Description

atom$chart_bool_dlggray specifies that the dialog box containing the current
chart view will have a gray background.

This atom is not currently supported by Macintosh clients of the online service.

Syntax

atom$chart_bool_dlggray (<yes>|<no>)

<yes> The current chart view will have a gray background.

<no> The current chart view will not have a gray background.
(Default)

Return Value

Unchanged.

Example

The following is an example of how to specify that the current chart view will
have a gray background:

atom$chart_bool_dlggray <yes>

 America Online, Inc. 1993-96 11-15 America Online Confidential




Chapter 11: Chart Protocol August 1996

atom$chart_bool_each_bar
62 ($3E)

Description

atom$chart_bool_each_bar specifies that each bar (marker) in a single-
dataset bar chart will be a different color.

This atom is not currently supported by Macintosh clients of the online service.

Syntax

atom$chart_bool_each_bar (<yes>|<no>)

<yes> Bars are different colors.

<no> Bars are not different colors.  (Default)

Return Value

Unchanged.

Example

The following is an example of how to specify that each bar in a bar chart will
be a different color:

atom$chart_bool_each_bar <yes>

America Online Confidential 11-16  America Online, Inc. 1993-96




August 1996 FDO91 Manual, Vol. 2

atom$chart_bool_horiz_bar
52 ($34)

Description

atom$chart_bool_horiz_bar converts the vertical bars (markers) for the
current chart to horizontal bars.  This atom works only with bar charts.

Syntax

atom$chart_bool_horiz_bar (<yes>|<no>)

<yes> Bars will appear horizontal.

<no> Bars will not appear horizontal.  (Default)

Return Value

Unchanged.

Example

The following is an example of how to convert vertical bars to horizontal bars:

atom$chart_bool_horiz_bar <yes>

 America Online, Inc. 1993-96 11-17 America Online Confidential




Chapter 11: Chart Protocol August 1996

atom$chart_bool_horiz_grid
50 ($32)

Description

atom$chart_bool_horiz_grid enables the horizontal grid button on the
graphical toolbar.  The horizontal grid button draws horizontal grid lines
across the current chart view.  For more information on the graphical toolbar,
see "The Graphical Toolbar" on page 11-2.

Syntax

atom$chart_bool_horiz_grid (<yes>|<no>)

<yes> Horizontal grid button is enabled.

<no> Horizontal grid button is not enabled.  (Default)

Return Value

Unchanged.

Example

The following is an example of how to enable the horizontal grid button:

atom$chart_bool_horiz_grid <yes>

America Online Confidential 11-18  America Online, Inc. 1993-96




August 1996 FDO91 Manual, Vol. 2

atom$chart_bool_show_legend
58 ($3A)

Description

atom$chart_bool_show_legend enables the value legend button on the
graphical toolbar.  The value legend button defines a legend for x-axis values.

Syntax

atom$chart_bool_show_legend (<yes>|<no>)

<yes> The value legend button is enabled.

<no> The value legend button is not enabled.  (Default)

Return Value

Unchanged.

Example

The following is an example of how to enable the value legend button on the
graphical toolbar:

atom$chart_bool_show_legend <yes>

 America Online, Inc. 1993-96 11-19 America Online Confidential




Chapter 11: Chart Protocol August 1996

atom$chart_bool_show_menu
57 ($39)

Description

atom$chart_bool_show_menu enables the tools button on the graphical
toolbar.  The tools button enables the palette bar, pattern bar, and data editor
options.  For more information on the graphical toolbar, see "The Graphical
Toolbar" on page 11-2.

This atom is not currently supported by Macintosh clients of the online service.

Syntax

atom$chart_bool_show_menu (<yes>|<no>)

<yes> The tools button is enabled.

<no> The tools button is not enabled.  (Default)

Return Value

Unchanged.

Example

The following is an example of how to enable the tools button on the graphical
toolbar:

atom$chart_bool_show_menu <yes>

America Online Confidential 11-20  America Online, Inc. 1993-96




August 1996 FDO91 Manual, Vol. 2

atom$chart_bool_show_palette
55 ($37)

Description

atom$chart_bool_show_palette enables the palette bar option of the tools
button on the graphical toolbar.  The palette bar option allows the member to
define the background color for the current chart.  For more information on the
graphical toolbar, see "The Graphical Toolbar" on page 11-2.

This atom is not currently supported by Macintosh clients of the online service.

Syntax

atom$chart_bool_show_palette (<yes>|<no>)

<yes> The palette bar option is enabled.

<no> The palette bar option is not enabled.  (Default)

Return Value

Unchanged.

Example

The following is an example of how to enable the palette bar option of the
tools button:

atom$chart_bool_show_palette <yes>

 America Online, Inc. 1993-96 11-21 America Online Confidential




Chapter 11: Chart Protocol August 1996

atom$chart_bool_show_patterns
56 ($38)

Description

atom$chart_bool_show_patterns enables the pattern bar option of the tools
button on the graphical toolbar.  The pattern bar option allows the member to
define the background pattern for the current chart.  For more information on
the graphical toolbar, see "The Graphical Toolbar" on page 11-2.

This atom is not currently supported by Macintosh clients of the online service.

Syntax

atom$chart_bool_show_patterns (<yes>|<no>)

<yes> The pattern bar option is enabled.

<no> The pattern bar option is not enabled.  (Default)

Return Value

Unchanged.

Example

The following is an example of how to enable the pattern bar option of the
tools button:

atom$chart_bool_show_patterns <yes>

America Online Confidential 11-22  America Online, Inc. 1993-96




August 1996 FDO91 Manual, Vol. 2

atom$chart_bool_show_points
60 ($3C)

Description

atom$chart_bool_show_points enables x-axis data point values to appear on
a line or spline chart.

Syntax

atom$chart_bool_show_points (<yes>|<no>)

<yes> The x-axis data point values will appear.

<no> The x-axis data point values will not appear.  (Default)

Return Value

Unchanged.

Example

The following is an example of how to enable x-axis data point values:

atom$uni_start_stream <>
.
.
.
atom$chart_type <1>
atom$chart_bool_show_tools <yes>
atom$chart_set_tools <4294967295>
atom$chart_bool_3d_view <yes>
atom$chart_bool_bars_together <no>
atom$chart_set_margins <32x, 19x, 0fx, 19x>

ê atom$chart_bool_show_points <yes>
atom$chart_set_marker_size <5>
.
.
.
atom$uni_start_stream <>

 America Online, Inc. 1993-96 11-23 America Online Confidential




Chapter 11: Chart Protocol August 1996

atom$chart_bool_show_tools
53 ($35)

Description

atom$chart_bool_show_tools enables the graphical toolbar.  This atom is
used in conjunction with atom$chart_set_tools, which specifies what tools
will appear on the graphical toolbar.  For more information on the graphical
toolbar, see "The Graphical Toolbar" on page 11-2.

This atom is not currently supported by Macintosh clients of the online service.

Syntax

atom$chart_bool_show_tools (<yes>|<no>)

<yes> The graphical toolbar is enabled.

<no> The graphical toolbar is not enabled.  (Default)

Return Value

Unchanged.

Example

The following is an example of how to enable the graphical toolbar:

atom$uni_start_stream <>
.
.
.
atom$chart_type <1>

ê atom$chart_bool_show_tools <yes>
atom$chart_set_tools <4294967295>
atom$chart_bool_3d_view <yes>
atom$chart_bool_bars_together <no>
atom$chart_set_margins <32x, 19x, 0fx, 19x>
atom$chart_bool_show_points <no>
atom$chart_set_marker_size <5>
.
.
.
atom$uni_start_stream <>

America Online Confidential 11-24  America Online, Inc. 1993-96




August 1996 FDO91 Manual, Vol. 2

atom$chart_bool_show_zero
61 ($3D)

Description

atom$chart_bool_show_zero sets the y-axis starting point value to zero, i.e.,
the value in the lower left corner of the current chart will be zero.

Syntax

atom$chart_bool_show_zero (<yes>|<no>)

<yes> The y-axis starting point value is zero.

<no> The y-axis starting point value is not zero.  (Default)

Return Value

Unchanged.

Example

The following is an example of how to set the y-axis starting point value to
zero:

atom$chart_bool_show_zero <yes>

 America Online, Inc. 1993-96 11-25 America Online Confidential




Chapter 11: Chart Protocol August 1996

atom$chart_bool_showdata
64 ($40)

Description

atom$chart_bool_showdata enables the data editor option of the tools button
on the graphical toolbar.  The data editor is used to modify numerical data for
building charts.  For more information on the graphical toolbar, see "The
Graphical Toolbar" on page 11-2.

Syntax

atom$chart_bool_showdata (<yes>|<no>)

<yes> The data editor is enabled.

<no> The data editor is not enabled.  (Default)

Return Value

Unchanged.

Example

The following is an example of how to enable the data editor:

atom$chart_bool_showdata <yes>

America Online Confidential 11-26  America Online, Inc. 1993-96




August 1996 FDO91 Manual, Vol. 2

atom$chart_bool_stacked
49 ($31)

Description

atom$chart_bool_stacked specifies that the bars or markers of a bar or area
chart will appear stacked (on top of each other).

This atom is not currently supported by Macintosh clients of the online service.

Syntax

atom$chart_bool_stacked

Return Value

Unchanged.

Example

The following is an example of how to stack the bars (markers) of a bar or area
chart:

atom$chart_bool_stacked

 America Online, Inc. 1993-96 11-27 America Online Confidential




Chapter 11: Chart Protocol August 1996

atom$chart_bool_vert_grid
51 ($33)

Description

atom$chart_bool_vert_grid enables the vertical grid button on the graphical
toolbar.  The vertical grid button draws vertical grid lines across the current
chart view.  For more information on the graphical toolbar, see "The Graphical
Toolbar" on page 11-2.

Syntax

atom$chart_bool_vert_grid (<yes>|<no>)

<yes> Vertical grid button is enabled.

<no> Vertical grid button is not enabled.  (Default)

Return Value

Unchanged.

Example

The following is an example of how to enable the vertical grid button:

atom$chart_bool_vert_grid <yes>

America Online Confidential 11-28  America Online, Inc. 1993-96




August 1996 FDO91 Manual, Vol. 2

atom$chart_bottom_font_sis
47 ($2F)

Description

atom$chart_bottom_font_sis sets the font ID, size, and style for the label that
appears at the bottom of the current chart.  This label is typically used as the x-
axis title of the current chart view.  The text string for this label is defined
using atom$chart_bottom_label.

Syntax

atom$chart_bottom_font_sis <font_id> [<size>] [<style>]

<font_id> The font ID of the text.  Values are as follows:

0 Arial (If not found, MS Sans Serif)

1 Courier

2 Times New Roman (If not found, MS Serif)

3 System

4 Fixed System

5 MS Serif

6 MS Sans Serif

7 Small Fonts

8 Courier New

9 Script

[<size>] The point size of the text.

[<style>] The style of the text.  Values are as follows:

0 Normal

1 Bold

 America Online, Inc. 1993-96 11-29 America Online Confidential




Chapter 11: Chart Protocol August 1996

2 Italic

4 Underline

If the style values are added together, the text displays a
combination of the styles.  For example, a value of 3
displays text in bold and italic.

Return Value

Unchanged.

Example

The following is an example of how to set the font ID, size, and style to Times
New Roman, 7,  Bold:

atom$uni_start_stream <>
.
.
.
atom$chart_manage <>
atom$mat_width <600>
atom$mat_height <400>
atom$chart_bool_show_legend <yes>
atom$chart_ymax <50>
atom$chart_left_font_sis <00x, 0cx, 00x>

ê atom$chart_bottom_font_sis <02x, 07x, 01x>
atom$chart_legend_font_sis <00x, 08x, 00x>
atom$chart_xlegend_font_sis <08x, 0cx, 00x>
atom$chart_ylegend_font_sis <08x, 0cx, 00x>
atom$chart_constant_font_sis <00x, 0cx, 01x>
atom$chart_title_font_sis <00x, 10x, 00x>
atom$chart_title <"America Online Stock Comparison Chart">
atom$chart_left_label <"Price">
atom$chart_bottom_label <"Dates">
.
.
.
atom$uni_end_stream <>

America Online Confidential 11-30  America Online, Inc. 1993-96




August 1996 FDO91 Manual, Vol. 2

atom$chart_bottom_label
7 ($07)

Description

atom$chart_bottom_label specifies the text to be used as the label that
appears at the bottom of the current chart.  The text attributes for this label are
defined using atom$chart_bottom_font_sis.

Syntax

atom$chart_bottom_label <text>

<text> The text used for the label.

Return Value

Unchanged.

Example

The following is an example of how to specify the text to be used as the
bottom label:

atom$uni_start_stream <>
.
.
.
atom$chart_manage <>
atom$mat_width <600>
atom$mat_height <400>
atom$chart_bool_show_legend <yes>
atom$chart_ymax <50>
atom$chart_left_font_sis <00x, 0cx, 00x>
atom$chart_bottom_font_sis <00x, 0cx, 00x>
atom$chart_legend_font_sis <00x, 08x, 00x>
atom$chart_xlegend_font_sis <08x, 0cx, 00x>
atom$chart_ylegend_font_sis <08x, 0cx, 00x>
atom$chart_constant_font_sis <00x, 0cx, 01x>
atom$chart_title_font_sis <00x, 10x, 00x>
atom$chart_title <"America Online Stock Comparison Chart">
atom$chart_left_label <"Price">

ê atom$chart_bottom_label <"Dates">
.
.
.
atom$uni_end_stream <>

 America Online, Inc. 1993-96 11-31 America Online Confidential




Chapter 11: Chart Protocol August 1996

atom$chart_checkpoint
10 ($0A)

Description

atom$chart_checkpoint specifies the argument that will be sent from the
client to the host when the client callback timer expires.  When the client
callback timer expires, the client sends a token and an argument to the host to
request update data.  This atom is used for updating charts dynamically.

atom$chart_set_response_token specifies the token sent to the host.
atom$chart_request_interval specifies the time interval for the client callback
timer.  When the timer expires, the token and argument are sent to the host.

Syntax

atom$chart_checkpoint <arg>

<arg> Argument to send to the host when the client callback
timer expires.

Return Value

Unchanged.

Example

The following is an example of how to specify the argument that will be sent to
the host when the client callback timer expires:

ê atom$chart_checkpoint <00x, 00x, 00x, 01x>
.
.
.
atom$chart_set_response_token <pn>
.
.
.
atom$chart_request_interval <120>

America Online Confidential 11-32  America Online, Inc. 1993-96




August 1996 FDO91 Manual, Vol. 2

atom$chart_constant_font_sis
82 ($52)

Description

atom$chart_constant_font_sis sets the font ID, size, and style for the label of
the constant defined within the current chart or dataset.  The text string for this
label is defined using atom$chart_set_constant_label.  A constant is a line
that extends across a chart, parallel with the x-axis, that is used to mark a y-
axis value such as a threshold or high-water mark.

This atom is not currently supported by Macintosh clients of the online service.

Syntax

atom$chart_constant_font_sis <font_id> [<size>] [<style>]

<font_id> The font ID of the text.  Values are as follows:

0 Arial (If not found, MS Sans Serif)

1 Courier

2 Times New Roman (If not found, MS Serif)

3 System

4 Fixed System

5 MS Serif

6 MS Sans Serif

7 Small Fonts

8 Courier New

9 Script

[<size>] The point size of the text.

[<style>] The style of the text.  Values are as follows:

 America Online, Inc. 1993-96 11-33 America Online Confidential




Chapter 11: Chart Protocol August 1996

0 Normal

1 Bold

2 Italic

4 Underline

If the style values are added together, the text displays a
combination of the styles.  For example, a value of 3
displays text in bold and italic.

Return Value

Unchanged.

Example

The following is an example of how to set the font ID, size, and style to Times
New Roman, 7,  Bold:

atom$uni_start_stream <>
.
.
.
atom$chart_set_constant
atom$chart_start_constant <0>
atom$chart_set_constant <1000>
atom$chart_set_constant_width <3>
atom$chart_set_constant_label <"Maximum Buy Price">
atom$chart_set_constant_color <00x, 00x,80x>
atom$chart_set_constant_bkcolor <10x, 10x, 10x>
atom$chart_end_constant <0>
atom$chart_start_constant <0>
atom$chart_set_constant <4000>
atom$chart_set_constant_style <4>
atom$chart_set_constant_width <10>

ê atom$chart_constant_font_sis <02x, 07x, 01x>
atom$chart_set_constant_label <"Minimum Sell Price">
atom$chart_end_constant <0>
.
.
.
atom$uni_end_stream <>

America Online Confidential 11-34  America Online, Inc. 1993-96




August 1996 FDO91 Manual, Vol. 2

atom$chart_dataset_chart_type
86 ($56)

Description

atom$chart_dataset_chart_type defines the chart type for the current dataset
in context.  This atom is used for views that contain more than one dataset.  To
define the chart type for single-chart views, use atom$chart_type.  A dataset
is used to define a single group of values within a view.  For example, in a view
that contains a high/low/close chart, the high values, low values, and close
values each represent a separate dataset.

Syntax

atom$chart_dataset_chart_type [<type>]

[<type>] The chart type for the current dataset.  Valid values are
as follows:

1 Line chart

2 Bar chart

3 Spline chart

4 Mark chart

5 Pie chart

6 Area chart

7 Pareto chart

8 Scatter chart

9 Hi/Low/Open chart

10 Surface chart

11 Polar chart

12 Cube chart

 America Online, Inc. 1993-96 11-35 America Online Confidential




Chapter 11: Chart Protocol August 1996

13 Doughnut chart

Return Value

Unchanged.

Example

The following is an example of how to define the chart type for the current
dataset as a line chart:

atom$uni_start_stream <>
.
.
.
atom$chart_end_dataset
atom$chart_start_dataset <8>
atom$chart_add_dataset_legend <"America Online Inc.">

ê atom$chart_dataset_chart_type <1>
atom$man_append_data <"">
atom$man_append_data <"">
atom$man_append_data <"">
atom$man_append_data <"">
atom$man_append_data <"">
atom$man_append_data <"">
atom$chart_end_dataset
atom$chart_start_dataset <8>
atom$chart_add_dataset_legend <"Microsoft Inc.">

ê atom$chart_dataset_chart_type <1>
atom$man_append_data <"">
atom$man_append_data <"">
atom$man_append_data <"">
atom$man_append_data <"">
atom$man_append_data <"">
atom$man_append_data <"">
atom$chart_end_dataset
.
.
.
atom$uni_end_stream <>

America Online Confidential 11-36  America Online, Inc. 1993-96




August 1996 FDO91 Manual, Vol. 2

atom$chart_end_constant
76 ($4C)

Description

atom$chart_end_constant terminates a constant definition within a chart or
dataset. A constant is a line that extends across a chart, parallel with the x-axis,
that is used to mark a y-axis value such as a threshold or high-water mark.

This atom is not currently supported by Macintosh clients of the online service.

Syntax

atom$chart_end_constant

Return Value

Unchanged.

Example

The following is an example of how to terminate a constant definition within a
chart or dataset:

atom$chart_set_constant
atom$chart_start_constant
atom$chart_set_constant <1000>
atom$chart_set_constant_width <3>
atom$chart_set_constant_label <"Maximum Buy Price">
atom$chart_set_constant_color <00x, 00x,80x>
atom$chart_set_constant_bkcolor <10x, 10x, 10x>
atom$chart_end_constant <0>
atom$chart_start_constant <0>
atom$chart_set_constant <4000>
atom$chart_set_constant_style <4>
atom$chart_set_constant_width <10>
atom$chart_set_constant_label <"Minimum Sell Price">

ê atom$chart_end_constant

 America Online, Inc. 1993-96 11-37 America Online Confidential




Chapter 11: Chart Protocol August 1996

atom$chart_end_dataset
14 ($0E)

Description

atom$chart_end_dataset specifies the end of a dataset definition.  A dataset
is used to define a single group of values within a view.  For example, in a view
that contains a high/low/close chart, the high values, low values, and close
values each represent a separate dataset.

Syntax

atom$chart_end_dataset

Return Value

Unchanged.

Example

The following is an example of how to specify the end of a dataset definition:

atom$chart_dataset_chart_type <17>
atom$man_append_data <"">
atom$man_append_data <"">
atom$man_append_data <"">
atom$man_append_data <"">
atom$man_append_data <"">
atom$man_append_data <"">

ê atom$chart_end_dataset <>

America Online Confidential 11-38  America Online, Inc. 1993-96




August 1996 FDO91 Manual, Vol. 2

atom$chart_end_dataset_context
16 ($10)

Description

atom$chart_end_dataset_context ends the context for the current dataset.  A
dataset is used to define a single group of values within a view.  For example,
in a view that contains a high/low/close chart, the high values, low values, and
close values each represent a separate dataset.

Syntax

atom$chart_end_dataset_context

Return Value

Unchanged.

Example

The following is an example of how to end the context for the current dataset:

atom$chart_set_dataset_context <0>
atom$chart_add_dataset_legend <"MicroSoft Inc.">
atom$chart_set_dataset_color <50x, 32x, 90x>
atom$chart_end_dataset_context <>
atom$chart_set_dataset_context <1>
atom$chart_add_dataset_legend <"AT&T Inc.">
atom$chart_set_dataset_color <b3x, 4fx, 0dx>

ê atom$chart_end_dataset_context <>

 America Online, Inc. 1993-96 11-39 America Online Confidential




Chapter 11: Chart Protocol August 1996

atom$chart_end_stripe
72 ($48)

Description

atom$chart_end_stripe specifies the end of a stripe definition.  A stripe is a
colored region that extends across a chart, parallel with the x-axis, that is used
to highlight specific y-axis ranges.

This atom is not currently supported by Macintosh clients of the online service.

Syntax

atom$chart_end_stripe

Return Value

Unchanged.

Example

The following is an example of how to specify the end of a stripe definition:

atom$uni_start_stream <>
.
.
.
atom$chart_start_stripe <0>
atom$chart_set_stripe_color <b0x, 0fx, 23x>
atom$chart_set_stripe_top <4000>
atom$chart_set_stripe_bottom <3000>

ê atom$chart_end_stripe <>
.
.
.
atom$uni_end_stream <>

America Online Confidential 11-40  America Online, Inc. 1993-96




August 1996 FDO91 Manual, Vol. 2

atom$chart_get_attribute
78 ($4E)

Description

atom$chart_get_attribute returns the attributes for a specific chart.  This
atom is used in conjunction with atom$uni_last_atom_data, atom$uni_
last_atom_string, or atom$uni_last_atom_value.

Syntax

atom$chart_get_attribute

Return Value

Unchanged.

Example

The following is an example of how to return the attributes for a specific chart:

atom$chart_get_attribute

 America Online, Inc. 1993-96 11-41 America Online Confidential




Chapter 11: Chart Protocol August 1996

atom$chart_left_font_sis
46 ($2E)

Description

atom$chart_left_font_sis sets the font ID, size, and style for the label that
appears at the left of the current chart.  This label is typically used as the y-axis
title for the current chart view.  The text string for this label is defined using
atom$chart_left_label.

Syntax

atom$chart_left_font_sis <font_id> [<size>] [<style>]

<font_id> The font ID of the text.  Values are as follows:

0 Arial (If not found, MS Sans Serif)

1 Courier

2 Times New Roman (If not found, MS Serif)

3 System

4 Fixed System

5 MS Serif

6 MS Sans Serif

7 Small Fonts

8 Courier New

9 Script

[<size>] The point size of the text.

[<style>] The style of the text.  Values are as follows:

0 Normal

1 Bold

America Online Confidential 11-42  America Online, Inc. 1993-96




August 1996 FDO91 Manual, Vol. 2

2 Italic

4 Underline

If the style values are added together, the text displays a
combination of the styles.  For example, a value of 3
displays text in bold and italic.

Return Value

Unchanged.

Example

The following is an example of how to set the font ID, size, and style to Times
New Roman, 7,  Bold:

atom$uni_start_stream <>
.
.
.
atom$chart_manage <>
atom$mat_width <600>
atom$mat_height <400>
atom$chart_bool_show_legend <yes>
atom$chart_ymax <50>

ê atom$chart_left_font_sis <02x, 07x, 01x>
atom$chart_bottom_font_sis <00x, 0cx, 00x>
atom$chart_legend_font_sis <00x, 08x, 00x>
atom$chart_xlegend_font_sis <08x, 0cx, 00x>
atom$chart_ylegend_font_sis <08x, 0cx, 00x>
atom$chart_constant_font_sis <00x, 0cx, 01x>
atom$chart_title_font_sis <00x, 10x, 00x>
atom$chart_title <"America Online Stock Comparison Chart">
atom$chart_left_label <"Price">
atom$chart_bottom_label <"Dates">
.
.
.
atom$uni_end_stream <>

 America Online, Inc. 1993-96 11-43 America Online Confidential




Chapter 11: Chart Protocol August 1996

atom$chart_left_label
8 ($08)

Description

atom$chart_left_label specifies the text to be used as the label that appears at
the left of the current chart.  The text attributes for this label are defined using
atom$chart_left_font_sis.

Syntax

atom$chart_left_label <text>

<text> The text used for the label.

Return Value

Unchanged.

Example

The following is an example of how to specify the text to be used as the left
label:

atom$uni_start_stream <>
.
.
.
atom$chart_manage <>
atom$mat_width <600>
atom$mat_height <400>
atom$chart_bool_show_legend <yes>
atom$chart_ymax <50>
atom$chart_left_font_sis <00x, 0cx, 00x>
atom$chart_bottom_font_sis <00x, 0cx, 00x>
atom$chart_legend_font_sis <00x, 08x, 00x>
atom$chart_xlegend_font_sis <08x, 0cx, 00x>
atom$chart_ylegend_font_sis <08x, 0cx, 00x>
atom$chart_constant_font_sis <00x, 0cx, 01x>
atom$chart_title_font_sis <00x, 10x, 00x>
atom$chart_title <"America Online Stock Comparison Chart">

ê atom$chart_left_label <"Price">
atom$chart_bottom_label <"Dates">
.
.
.
atom$uni_end_stream <>

America Online Confidential 11-44  America Online, Inc. 1993-96




August 1996 FDO91 Manual, Vol. 2

atom$chart_legend_font_sis
83 ($53)

Description

atom$chart_legend_font_sis sets the font ID, size, and style for the main
legend text of the current chart.  The text string for this label is defined using
atom$chart_add_dataset_legend.

Syntax

atom$chart_legend_font_sis <font_id> [<size>] [<style>]

<font_id> The font ID of the text.  Values are as follows:

0 Arial (If not found, MS Sans Serif)

1 Courier

2 Times New Roman (If not found, MS Serif)

3 System

4 Fixed System

5 MS Serif

6 MS Sans Serif

7 Small Fonts

8 Courier New

9 Script

[<size>] The point size of the text.

[<style>] The style of the text.  Values are as follows:

0 Normal

1 Bold

 America Online, Inc. 1993-96 11-45 America Online Confidential




Chapter 11: Chart Protocol August 1996

2 Italic

4 Underline

If the style values are added together, the text displays a
combination of the styles.  For example, a value of 3
displays text in bold and italic.

Return Value

Unchanged.

Example

The following is an example of how to set the font ID, size, and style to Times
New Roman, 7,  Bold:

atom$uni_start_stream <>
.
.
.
atom$chart_manage <>
atom$mat_width <600>
atom$mat_height <400>
atom$chart_bool_show_legend <yes>
atom$chart_ymax <50>
atom$chart_left_font_sis <00x, 0cx, 00x>
atom$chart_bottom_font_sis <00x, 0cx, 00x>

ê atom$chart_legend_font_sis <02x, 07x, 01x>
atom$chart_xlegend_font_sis <08x, 0cx, 00x>
atom$chart_ylegend_font_sis <08x, 0cx, 00x>
atom$chart_constant_font_sis <00x, 0cx, 01x>
atom$chart_title_font_sis <00x, 10x, 00x>
atom$chart_title <"America Online Stock Comparison Chart">
atom$chart_left_label <"Price">
atom$chart_bottom_label <"Dates">
.
.
.
atom$uni_end_stream <>

America Online Confidential 11-46  America Online, Inc. 1993-96




August 1996 FDO91 Manual, Vol. 2

atom$chart_manage
99 ($63)

Description

atom$chart_manage specifies the beginning of a chart definition and marks
the current view as a chart view.

Syntax

atom$chart_manage

Return Value

Unchanged.

Example

The following is an example of how to specify the beginning of a chart
definition:

atom$man_start_object <view, "">
atom$mat_relative_tag <1>
atom$mat_precise_x <2>
atom$mat_precise_y <2>

ê atom$chart_manage <>
atom$mat_height <300>
atom$mat_width <550>
atom$mat_vertical_spacing <4>
atom$mat_bool_vertical_scroll <no>
atom$mat_bool_writeable <yes>
atom$man_start_sibling <org_group, "">

 America Online, Inc. 1993-96 11-47 America Online Confidential




Chapter 11: Chart Protocol August 1996

atom$chart_request_interval
11 ($0B)

Description

atom$chart_request_interval specifies the time interval for the client callback
timer, in seconds.  When the client callback timer expires, the client sends a
token and an argument to the host to request update data.  This atom is used
for updating charts dynamically.

atom$chart_checkpoint specifies the argument sent to the host.  atom$
chart_set_response_token specifies the token sent to the host.

Syntax

atom$chart_request_interval <interval>

<interval> A 4-byte signed integer.

Return Value

Unchanged.

Example

The following is an example of how to set the interval for the client callback
timer to 120 seconds:

atom$chart_checkpoint <00x, 00x, 00x, 01x>
.
.
.
atom$chart_set_response_token <pn>
.
.
.

ê atom$chart_request_interval <120>

America Online Confidential 11-48  America Online, Inc. 1993-96




August 1996 FDO91 Manual, Vol. 2

atom$chart_right_font_sis
45 ($2D)

Description

atom$chart_right_font_sis sets the font ID, size, and style for the label that
appears at the right of the current chart.  The text string for this label is defined
using atom$chart_right_label.

Syntax

atom$chart_right_font_sis <font_id> [<size>] [<style>]

<font_id> The font ID of the text.  Values are as follows:

0 Arial (If not found, MS Sans Serif)

1 Courier

2 Times New Roman (If not found, MS Serif)

3 System

4 Fixed System

5 MS Serif

6 MS Sans Serif

7 Small Fonts

8 Courier New

9 Script

[<size>] The point size of the text.

[<style>] The style of the text.  Values are as follows:

0 Normal

1 Bold

 America Online, Inc. 1993-96 11-49 America Online Confidential




Chapter 11: Chart Protocol August 1996

2 Italic

4 Underline

If the style values are added together, the text displays a
combination of the styles.  For example, a value of 3
displays text in bold and italic.

Return Value

Unchanged.

Example

The following is an example of how to set the font ID, size, and style to Times
New Roman, 7,  Bold:

atom$uni_start_stream <>
.
.
.
atom$chart_left_font_sis <01x, 0ax, 01x>

ê atom$chart_right_font_sis <02x, 07x, 01x>
atom$chart_bottom_font_sis <01x, 0ax, 01x>
.
.
.
atom$uni_end_stream <>

America Online Confidential 11-50  America Online, Inc. 1993-96




August 1996 FDO91 Manual, Vol. 2

atom$chart_right_label
18 ($12)

Description

atom$chart_right_label specifies the text to be used as the label that appears
at the right of the current chart.  The text attributes for this label are defined
using atom$chart_right_font_sis.

Syntax

atom$chart_right_label <text>

<text> The text used for the label.

Return Value

Unchanged.

Example

The following is an example of how to specify the text to be used as the right
label:

atom$uni_start_stream <>
.
.
.
atom$chart_title_font_sis <00x, 10x, 00x>
atom$chart_title <"America Online Stock Comparison Chart">
atom$chart_left_label <"Price">
atom$chart_bottom_label <"Dates">

ê atom$chart_right_label <"U.S. Dollars">
.
.
.
atom$uni_end_stream <>

 America Online, Inc. 1993-96 11-51 America Online Confidential




Chapter 11: Chart Protocol August 1996

atom$chart_scale
5 ($05)

Description

atom$chart_scale sets the scale for the y-axis values of the current chart.

Syntax

atom$chart_scale <scale>

<scale> A 4-byte signed integer.

Return Value

Unchanged.

Example

The following is an example of how to set the scale for the y-axis values of the
current chart:

atom$chart_scale <147>

America Online Confidential 11-52  America Online, Inc. 1993-96




August 1996 FDO91 Manual, Vol. 2

atom$chart_set_3d_x_rotation
27 ($1B)

Description

atom$chart_set_3d_x_rotation specifies the x-axis rotation angle for the
current chart when the 3D view option is enabled.  The member can specify the
x-axis rotation angle and the 3D view option within the tabbed dialog/3D view
option of the graphical toolbar.  For more information on the graphical toolbar,
see "The Graphical Toolbar" on page 11-2.

This atom is not currently supported by Macintosh clients of the online service.

Syntax

atom$chart_set_3d_x_rotation <angle>

<angle> A 4-byte signed integer that specifies the rotation angle
in degrees.  Values range from -90 to 90.

Return Value

Unchanged.

Example

The following is an example of how to specify a 45-degree, x-axis rotation
angle:

atom$chart_set_3d_x_rotation <45>

 America Online, Inc. 1993-96 11-53 America Online Confidential




Chapter 11: Chart Protocol August 1996

atom$chart_set_3d_y_rotation
28 ($1C)

Description

atom$chart_set_3d_y_rotation specifies the y-axis rotation angle for the
current chart when the 3D view option is enabled.  The member can specify y-
axis rotation angle and the 3D view option within the tabbed dialog/3D view
option of the graphical toolbar.  For more information on the graphical toolbar,
see "The Graphical Toolbar" on page 11-2.

This atom is not currently supported by Macintosh clients of the online service.

Syntax

atom$chart_set_3d_y_rotation <angle>

<angle> A 4-byte signed integer that specifies the rotation angle
in degrees.  Values range from 0 to 360.

Return Value

Unchanged.

Example

The following is an example of how to specify a 180-degree, y-axis rotation
angle:

atom$chart_set_3d_y_rotation <180>

America Online Confidential 11-54  America Online, Inc. 1993-96




August 1996 FDO91 Manual, Vol. 2

atom$chart_set_atom_decimal_places
79 ($4F)

Description

atom$chart_set_atom_decimal_places specifies the scale of the y-axis of the
current chart by dividing the y-axis values by the value that is the argument to
this atom.

Syntax

atom$chart_set_atom_decimal_places <value>

<value> Value to the nth power, as follows:

100 = 0

101 = 10

102 = 100

103 = 1000

Return Value

Unchanged.

Example

The following is an example of how to specify the scale of the y-axis as 1000
(103):

atom$chart_set_atom_decimal_places <3>

 America Online, Inc. 1993-96 11-55 America Online Confidential




Chapter 11: Chart Protocol August 1996

atom$chart_set_bar_init_value
20 ($14)

Description

atom$chart_set_bar_init_value specifies the starting point for a marker on a
bar chart when the starting point value is not equal to zero.  This atom is useful
for creating gantt-style (floating bar) charts.

This atom is not currently supported by Macintosh clients of the online service.

Syntax

atom$chart_set_bar_init_value <value>

<value> A 4-byte signed integer.  Valid values are -2, -147,
-483, and -647, and 2, 147, 483, and 647.

Return Value

Unchanged.

Example

The following is an example of how to specify the starting point for a marker
as -483:

atom$chart_set_bar_init_value <-483>

America Online Confidential 11-56  America Online, Inc. 1993-96




August 1996 FDO91 Manual, Vol. 2

atom$chart_set_bkcolor
43 ($2B)

Description

atom$chart_set_bkcolor sets the color of the title and legend areas for the
current chart.

Syntax

atom$chart_set_bkcolor <color>

<color> Specifies a color using a 3-byte RGB value as follows:

r 1-byte red value

g 1-byte green value

b 1-byte blue value

Return Value

Unchanged.

Example

The following is an example of how to set the color of the title and legend
areas for the current chart.

ê atom$chart_set_bkcolor <124 126 0>

 America Online, Inc. 1993-96 11-57 America Online Confidential




Chapter 11: Chart Protocol August 1996

atom$chart_set_chart_bkcolor
42 ($2A)

Description

atom$chart_set_chart_bkcolor sets the background color for the current
chart.

Syntax

atom$chart_set_chart_bkcolor <color>

<color> Specifies a color using a 3-byte RGB value as follows:

r 1-byte red value

g 1-byte green value

b 1-byte blue value

Return Value

Unchanged.

Example

The following is an example of how to set the background color for the current
chart:

ê atom$chart_set_chart_bkcolor <124 126 0>

America Online Confidential 11-58  America Online, Inc. 1993-96




August 1996 FDO91 Manual, Vol. 2

atom$chart_set_close_arg
88 ($58)

Description

atom$chart_set_close_arg is sent from the host to specify the argument that
will be sent from the client to notify the host that the current chart has been
closed by the member.

Syntax

atom$chart_set_close_arg <arg>

<arg> The argument sent to specify that the current chart has
been closed.

Return Value

Unchanged.

Example

The following is an example of how to specify the closing argument for the
current chart:

atom$chart_set_gallery <2087>
atom$chart_set_marker_size <2>
atom$chart_set_close_token <pt>

ê atom$chart_set_close_arg <1>

 America Online, Inc. 1993-96 11-59 America Online Confidential




Chapter 11: Chart Protocol August 1996

atom$chart_set_close_token
87 ($57)

Description

atom$chart_set_close_token is sent from the host to specify the token that
will be sent from the client to notify the host that the current chart has been
closed by the member.

Syntax

atom$chart_set_close_token <token>

<token> The token sent to specify that the current chart has been
closed.

Return Value

Unchanged.

Example

The following is an example of how to specify the closing token for the current
chart:

atom$chart_set_gallery <2087>
atom$chart_set_marker_size <2>

ê atom$chart_set_close_token <pt>
atom$chart_set_close_arg <1>

America Online Confidential 11-60  America Online, Inc. 1993-96




August 1996 FDO91 Manual, Vol. 2

atom$chart_set_constant
23 ($17)

Description

atom$chart_set_constant specifies the beginning of a constant definition
within a chart or dataset.  A constant is a line that extends across a chart,
parallel with the x-axis, that is used to mark a y-axis value such as a threshold
or high-water mark.

This atom is not currently supported by Macintosh clients of the online service.

Syntax

atom$chart_set_constant

Return Value

Unchanged.

Example

The following is an example of how to specify the beginning of a constant
definition within a chart or dataset:

ê atom$chart_set_constant
atom$chart_start_constant <0>
atom$chart_set_constant <1000>
atom$chart_set_constant_width <3>
atom$chart_set_constant_label <"Maximum Buy Price">
atom$chart_set_constant_color <00x, 00x,80x>
atom$chart_set_constant_bkcolor <10x, 10x, 10x>
atom$chart_end_constant <0>
atom$chart_start_constant <0>
atom$chart_set_constant <4000>
atom$chart_set_constant_style <1>
atom$chart_set_constant_width <10>
atom$chart_set_constant_label <"Minimum Sell Price">
atom$chart_end_constant <0>

 America Online, Inc. 1993-96 11-61 America Online Confidential




Chapter 11: Chart Protocol August 1996

atom$chart_set_constant_bkcolor
33 ($21)

Description

atom$chart_set_constant_bkcolor specifies the background color of a chart
that contains a constant definition.  A constant is a line that extends across a
chart, parallel with the x-axis, that is used to mark a y-axis value such as a
threshold or high-water mark.

This atom is not currently supported by Macintosh clients of the online service.

Syntax

atom$chart_set_constant_bkcolor <color>

<color> Specifies a color using a 3-byte RGB value as follows:

r 1-byte red value

g 1-byte green value

b 1-byte blue value

Return Value

Unchanged.

Example

The following is an example of how to specify the background color of a chart
that contains a constant definition:

atom$chart_set_constant
atom$chart_start_constant <0>
atom$chart_set_constant <1000>
atom$chart_set_constant_width <3>
atom$chart_set_constant_label <"Maximum Buy Price">
atom$chart_set_constant_color <00x, 00x,80x>

ê atom$chart_set_constant_bkcolor <10x, 10x, 10x>
atom$chart_end_constant <0>
atom$chart_start_constant <0>
atom$chart_set_constant <4000>
atom$chart_set_constant_style <4>
atom$chart_set_constant_width <10>

America Online Confidential 11-62  America Online, Inc. 1993-96




August 1996 FDO91 Manual, Vol. 2

atom$chart_set_constant_label <"Minimum Sell Price">
atom$chart_end_constant <0>

 America Online, Inc. 1993-96 11-63 America Online Confidential




Chapter 11: Chart Protocol August 1996

atom$chart_set_constant_color
34 ($22)

Description

atom$chart_set_constant_color specifies the color of the current constant.  A
constant is a line that extends across a chart, parallel with the x-axis, that is
used to mark a y-axis value such as a threshold or high-water mark.

This atom is not currently supported by Macintosh clients of the online service.

Syntax

atom$chart_set_constant_color <color>

<color> Specifies a color using a 3-byte RGB value as follows:

r 1-byte red value

g 1-byte green value

b 1-byte blue value

Return Value

Unchanged.

Example

The following is an example of how to specify the color of the current
constant:

atom$chart_set_constant
atom$chart_start_constant <0>
atom$chart_set_constant <1000>
atom$chart_set_constant_width <3>
atom$chart_set_constant_label <"Maximum Buy Price">

ê atom$chart_set_constant_color <00x, 00x,80x>
atom$chart_set_constant_bkcolor <10x, 10x, 10x>
atom$chart_end_constant <0>
atom$chart_start_constant <0>
atom$chart_set_constant <4000>
atom$chart_set_constant_style <4>
atom$chart_set_constant_width <10>

America Online Confidential 11-64  America Online, Inc. 1993-96




August 1996 FDO91 Manual, Vol. 2

atom$chart_set_constant_label <"Minimum Sell Price">
atom$chart_end_constant <0>

 America Online, Inc. 1993-96 11-65 America Online Confidential




Chapter 11: Chart Protocol August 1996

atom$chart_set_constant_context
68 ($44)

Description

atom$chart_set_constant_context sets the context for a constant within the
current chart.  A constant is a line that extends across a chart, parallel with the
x-axis, that is used to mark a y-axis value such as a threshold or high-water
mark.

This atom is not currently supported by Macintosh clients of the online service.

Syntax

atom$chart_set_constant_context

Return Value

Unchanged.

Example

The following is an example of how to set the context for a constant within the
current chart:

atom$chart_set_constant_context

America Online Confidential 11-66  America Online, Inc. 1993-96




August 1996 FDO91 Manual, Vol. 2

atom$chart_set_constant_label
36 ($24)

Description

atom$chart_set_constant_label specifies a label for the current constant.
The argument to this atom is the title text of the label. The text attributes for
this label are specified using atom$chart_constant_font_sis.  A constant is a
line that extends across a chart, parallel with the x-axis, that is used to mark a
y-axis value such as a threshold or high-water mark.

This atom is not currently supported by Macintosh clients of the online service.

Syntax

atom$chart_set_constant_label <text>

<text> The text used for the label.

Return Value

Unchanged.

Example

The following is an example of how to specify a label for the current constant:

atom$chart_set_constant
atom$chart_start_constant <0>
atom$chart_set_constant <1000>
atom$chart_set_constant_width <3>

ê atom$chart_set_constant_label <"Maximum Buy Price">
atom$chart_set_constant_color <00x, 00x,80x>
atom$chart_set_constant_bkcolor <10x, 10x, 10x>
atom$chart_end_constant <0>
atom$chart_start_constant <0>
atom$chart_set_constant <4000>
atom$chart_set_constant_style <4>
atom$chart_set_constant_width <10>
atom$chart_set_constant_label <"Minimum Sell Price">
atom$chart_end_constant <0>

 America Online, Inc. 1993-96 11-67 America Online Confidential




Chapter 11: Chart Protocol August 1996

atom$chart_set_constant_style
77 ($4D)

Description

atom$chart_set_constant_style specifies the style for the current constant.  A
constant is a line that extends across a chart, parallel with the x-axis, that is
used to mark a y-axis value such as a threshold or high-water mark.

This atom is not currently supported by Macintosh clients of the online service.

Syntax

atom$chart_set_constant_style <style>

<style> Specifies the constant style.  Valid values are as follows:

0 Solid

1 Dash

2 Dot

3 Dash-Dot

4 Dash-Dot-Dot

Return Value

Unchanged.

Example

The following is an example of how to specify a dash line style for the current
constant:

atom$chart_set_constant
atom$chart_start_constant <0>
atom$chart_set_constant <1000>
atom$chart_set_constant_width <3>
atom$chart_set_constant_label <"Maximum Buy Price">
atom$chart_set_constant_color <00x, 00x,80x>
atom$chart_set_constant_bkcolor <10x, 10x, 10x>
atom$chart_end_constant <0>

America Online Confidential 11-68  America Online, Inc. 1993-96




August 1996 FDO91 Manual, Vol. 2

atom$chart_start_constant <0>
atom$chart_set_constant <4000>

ê atom$chart_set_constant_style <1>
atom$chart_set_constant_width <10>
atom$chart_set_constant_label <"Minimum Sell Price">
atom$chart_end_constant <0>

 America Online, Inc. 1993-96 11-69 America Online Confidential




Chapter 11: Chart Protocol August 1996

atom$chart_set_constant_width
35 ($23)

Description

atom$chart_set_constant_width sets the width of the current constant in
pixels.  A constant is a line that extends across a chart, parallel with the x-axis,
that is used to mark a y-axis value such as a threshold or high-water mark.

This atom is not currently supported by Macintosh clients of the online service.

Syntax

atom$chart_set_constant_width <width>

<width> Specifies the line width in pixels.

Return Value

Unchanged.

Example

The following is an example of how to set the width of the current constant in
pixels:

atom$chart_set_constant
atom$chart_start_constant <0>
atom$chart_set_constant <1000>

ê atom$chart_set_constant_width <3>
atom$chart_set_constant_label <"Maximum Buy Price">
atom$chart_set_constant_color <00x, 00x,80x>
atom$chart_set_constant_bkcolor <10x, 10x, 10x>
atom$chart_end_constant <0>
atom$chart_start_constant <0>
atom$chart_set_constant <4000>
atom$chart_set_constant_style <4>
atom$chart_set_constant_width <10>
atom$chart_set_constant_label <"Minimum Sell Price">
atom$chart_end_constant <0>

America Online Confidential 11-70  America Online, Inc. 1993-96




August 1996 FDO91 Manual, Vol. 2

atom$chart_set_dataset_bkcolor
30 ($1E)

Description

atom$chart_set_dataset_bkcolor sets the color of the title and legend areas
for the current dataset.  A dataset is used to define a single group of values
within a view.  For example, in a view that contains a high/low/close chart, the
high values, low values, and close values each represent a separate dataset.

This atom is not currently supported by Macintosh clients of the online service.

Syntax

atom$chart_set_dataset_bkcolor <color>

<color> Specifies a color using a 3-byte RGB value as follows:

r 1-byte red value

g 1-byte green value

b 1-byte blue value

Return Value

Unchanged.

Example

The following is an example of how to set the color of the title and legend
areas for the current dataset:

atom$chart_set_dataset_bkcolor <20x, 20x, 20x>

 America Online, Inc. 1993-96 11-71 America Online Confidential




Chapter 11: Chart Protocol August 1996

atom$chart_set_dataset_color
19 ($13)

Description

atom$chart_set_dataset_color sets the color of the marker(s) for the current
dataset (e.g., bar color for a bar chart, line color for a line chart).  A dataset is
used to define a single group of values within a view.  For example, in a view
that contains a high/low/close chart, the high values, low values, and close
values each represent a separate dataset.

Syntax

atom$chart_set_dataset_color <color>

<color> Specifies a color using a 3-byte RGB value as follows:

r 1-byte red value

g 1-byte green value

b 1-byte blue value

Return Value

Unchanged.

Example

The following is an example of how to set the marker color for the current
dataset:

atom$chart_set_dataset_context <0>
atom$chart_add_dataset_legend <"MicroSoft Inc.">

ê atom$chart_set_dataset_color <50x, 32x, 90x>
atom$chart_end_dataset_context <>
atom$chart_set_dataset_context <1>
atom$chart_add_dataset_legend <"AT&T Inc.">
atom$chart_set_dataset_color <b3x, 4fx, 0dx>
atom$chart_end_dataset_context <>

America Online Confidential 11-72  America Online, Inc. 1993-96




August 1996 FDO91 Manual, Vol. 2

atom$chart_set_dataset_context
15 ($0F)

Description

atom$chart_set_dataset_context sets the context for the current dataset.  A
dataset is used to define a single group of values within a view.  For example,
in a view that contains a high/low/close chart, the high values, low values, and
close values each represent a separate dataset.

Syntax

atom$chart_set_dataset_context

Return Value

Unchanged.

Example

The following is an example of how to set the context for the current dataset:

ê chart_set_dataset_context
chart_add_dataset_legend <"MicroSoft Inc.">
chart_set_dataset_color <50x, 32x, 90x>
chart_end_dataset_context <>
chart_set_dataset_context <1>
chart_add_dataset_legend <"AT&T Inc.">
chart_set_dataset_color <b3x, 4fx, 0dx>
chart_end_dataset_context <>

 America Online, Inc. 1993-96 11-73 America Online Confidential




Chapter 11: Chart Protocol August 1996

atom$chart_set_dataset_shape
15 ($0F)

Description

atom$chart_set_dataset_shape specifies the shape of the marker(s) for the
current dataset.  This atom works only with charts where atom$chart_
dataset_chart_type is set to Line, Bar, or Hi/Low/Open.  A dataset is used to
define a single group of values within a view.  For example, in a view that
contains a high/low/close chart, the high values, low values, and close values
each represent a separate dataset.

This atom is not currently supported by Macintosh clients of the online service.

Syntax

atom$chart_set_dataset_shape <shape>

<shape> A 4-byte signed integer that specifies the dataset shape.
Valid values are as follows:

-16 to -2 Cones.  The value equals the width of 
each cone, in pixels.

0 Normal bar or line.

1 to 16 Cylinders. The value equals the width of 
each cylinder, in pixels.

Return Value

Unchanged.

Example

The following is an example of how to set the context for the current dataset:

atom$chart_start_dataset
atom$chart_add_dataset_legend <AMER>

ê atom$chart_set_dataset_shape <1>
atom$chart_set_line_width <1>
atom$chart_set_dataset_color <00x, 00x, ffx>
atom$chart_set_point_context <0>

America Online Confidential 11-74  America Online, Inc. 1993-96




August 1996 FDO91 Manual, Vol. 2

atom$chart_set_decimals
32 ($20)

Description

atom$chart_set_decimals specifies the default number of decimal places used
when the current chart receives floating point integers.

Syntax

atom$chart_set_decimals <n>

<n> The number of decimal places.

Return Value

Unchanged.

Example

The following is an example of how to specify the default number of decimal
places used for floating point integers:

atom$chart_set_decimals <2>

 America Online, Inc. 1993-96 11-75 America Online Confidential




Chapter 11: Chart Protocol August 1996

atom$chart_set_gallery
90 ($5A)

Description

atom$chart_set_gallery allows the member to change the chart type of the
current chart using the chart-type dialog button on the graphical toolbar.  For
more information on the graphical toolbar, see "The Graphical Toolbar" on
page 11-2.

This atom is not currently supported by Macintosh clients of the online service.

Syntax

atom$chart_set_gallery [<chart_type>]

[<chart_type>] The chart type ID.  This is a two-byte argument whose
bits are specified as follows:

0 Line chart

1 Bar chart

2 Spline chart

3 Mark chart

4 Pie chart

5 Area chart

6 Pareto chart

7 Scatter chart

8 Hi/Low/Open chart

9 Surface chart

10 Polar chart

11 Cube chart

America Online Confidential 11-76  America Online, Inc. 1993-96




August 1996 FDO91 Manual, Vol. 2

12 Doughnut chart

Return Value

Unchanged.

Example

The following is an example of how to change the chart type to a bar chart:

ê atom$chart_set_gallery <2087>
atom$chart_set_marker_size <2>
atom$chart_set_close_token <pt>
atom$chart_set_close_arg <1>

 America Online, Inc. 1993-96 11-77 America Online Confidential




Chapter 11: Chart Protocol August 1996

atom$chart_set_line_bkcolor
38 ($26)

Description

atom$chart_set_line_bkcolor sets the background color for a line chart.

This atom is not currently supported by Macintosh clients of the online service.

Syntax

atom$chart_set_line_bkcolor <color>

<color> Specifies a color using a 3-byte RGB value as follows:

r 1-byte red value

g 1-byte green value

b 1-byte blue value

Return Value

Unchanged.

Example

The following is an example of how to specify that the background color for a
line chart is white:

atom$chart_set_line_bkcolor <00x, 00x, 00x>

America Online Confidential 11-78  America Online, Inc. 1993-96




August 1996 FDO91 Manual, Vol. 2

atom$chart_set_line_color
39 ($27)

Description

atom$chart_set_line_color specifies the color for the line (marker) in a line
chart.

Syntax

atom$chart_set_line_color <color>

<color> Specifies a color using a 3-byte RGB value as follows:

r 1-byte red value

g 1-byte green value

b 1-byte blue value

Return Value

Unchanged.

Example

The following is an example of how to specify that the line color of a line chart
is red:

atom$chart_set_line_color <ffx, 00x, 00x>

 America Online, Inc. 1993-96 11-79 America Online Confidential




Chapter 11: Chart Protocol August 1996

atom$chart_set_line_style
40 ($28)

Description

atom$chart_set_line_style specifies the style for the line (marker) in the
current line chart.

This atom is not currently supported by Macintosh clients of the online service.

Syntax

atom$chart_set_line_style <style>

<style> Specifies the line style.  Valid values are as follows:

0 Solid

1 Dash

2 Dot

3 Dash-Dot

4 Dash-Dot-Dot

Return Value

Unchanged.

Example

The following is an example of how to specify that the line style for a line chart
is dashed:

atom$chart_set_line_style <1>

America Online Confidential 11-80  America Online, Inc. 1993-96




August 1996 FDO91 Manual, Vol. 2

atom$chart_set_line_width
41 ($29)

Description

atom$chart_set_line_width specifies the width, in pixels, for the line
(marker) in a line chart.

Syntax

atom$chart_set_line_width <width>

<width> Specifies the line width in pixels.

Return Value

Unchanged.

Example

The following is an example of how to specify that the line width for a line
chart is two pixels:

atom$chart_set_line_width <02x>

 America Online, Inc. 1993-96 11-81 America Online Confidential




Chapter 11: Chart Protocol August 1996

atom$chart_set_marker_size
29 ($1D)

Description

atom$chart_set_marker_size specifies the width, in pixels, for the markers
within the current chart.  This atom works only with bar or area charts.

Syntax

atom$chart_set_marker_size <size>

<size> Specifies the size of the markers in pixels.

Return Value

Unchanged.

Example

The following is an example of how to specify that the marker width for the
current chart is 10 pixels:

atom$chart_set_marker_size <0ax>

America Online Confidential 11-82  America Online, Inc. 1993-96




August 1996 FDO91 Manual, Vol. 2

atom$chart_set_pattern_scheme
37 ($25)

Description

atom$chart_set_pattern_scheme specifies the type of pattern used for the
data markers of the current chart.

This atom is not currently supported by Macintosh clients of the online service.

Syntax

atom$chart_set_pattern_scheme <scheme>

<scheme> A 4-byte signed integer.  Valid values are as follows:

0 Solid color

1 Black and white pattern

2 Color pattern

Return Value

Unchanged.

Example

The following is an example of how to specify that the pattern for the data
markers in the current chart is black and white:

atom$chart_set_pattern_scheme <1>

 America Online, Inc. 1993-96 11-83 America Online Confidential




Chapter 11: Chart Protocol August 1996

atom$chart_set_point_context
21 ($15)

Description

atom$chart_set_point_context sets the context for an x-axis data point
within the current chart.

Syntax

atom$chart_set_point_context <relative_ID>

<relative_ID> The relative ID of the x-axis data point.

Return Value

Unchanged.

Example

The following is an example of how to set the context for x-axis data points:

atom$chart_start_dataset <1>
atom$chart_dataset_chart_type <9>
atom$chart_set_dataset_color <00x, ffx, 00x>

ê atom$chart_set_point_context <0>
atom$chart_set_point_value <5562>
atom$chart_set_point_type <5>
atom$chart_add_key_legend_text <"5/13/96">

ê atom$chart_set_point_context <1>
atom$chart_set_point_value <5600>
atom$chart_set_point_type <5>
atom$chart_add_key_legend_text <"">

ê atom$chart_set_point_context <2>
.
.
.
atom$chart_end_dataset

America Online Confidential 11-84  America Online, Inc. 1993-96




August 1996 FDO91 Manual, Vol. 2

atom$chart_set_point_type
31 ($1F)

Description

atom$chart_set_point_type sets the marker type for the current x-axis data
point.

Syntax

atom$chart_set_point_type <type>

<type> The marker type.  Valid values are as follows:

0 None (Default)

1 Rectangle

2 Circle

3 Triangle

4 Pentagon

5 Hexagon

6 Many types

Return Value

Unchanged.

Example

The following is an example of how to set the marker type for x-axis data
points to hexagons:

atom$chart_start_dataset <1>
atom$chart_dataset_chart_type <>
atom$chart_set_dataset_color <00x, ffx, 00x>
atom$chart_set_point_context <0>
atom$chart_set_point_value <5562>

ê atom$chart_set_point_type <5>
atom$chart_add_key_legend_text <"5/13/96">

 America Online, Inc. 1993-96 11-85 America Online Confidential




Chapter 11: Chart Protocol August 1996

atom$chart_set_point_context <1>
atom$chart_set_point_value <5600>

ê atom$chart_set_point_type <5>
atom$chart_add_key_legend_text <"">
atom$chart_set_point_context <2>
.
.
.
atom$chart_end_dataset

America Online Confidential 11-86  America Online, Inc. 1993-96




August 1996 FDO91 Manual, Vol. 2

atom$chart_set_point_value
22 ($16)

Description

atom$chart_set_point_value sets the y-axis value for the current x-axis data
point.

Syntax

atom$chart_set_point_value <value>

<value> A 4-byte signed integer.

Return Value

Unchanged.

Example

The following is an example of how to set the y-axis value:

atom$chart_start_dataset <1>
atom$chart_dataset_chart_type <>
atom$chart_set_dataset_color <00x, ffx, 00x>
atom$chart_set_point_context <0>

ê atom$chart_set_point_value <5562>
atom$chart_set_point_type <5>
atom$chart_add_key_legend_text <"5/13/96">
atom$chart_set_point_context <1>

ê atom$chart_set_point_value <5600>
atom$chart_set_point_type <5>
atom$chart_add_key_legend_text <"">
atom$chart_set_point_context <2>
.
.
.
atom$chart_end_dataset

 America Online, Inc. 1993-96 11-87 America Online Confidential




Chapter 11: Chart Protocol August 1996

atom$chart_set_response_token
84 ($54)

Description

atom$chart_set_response_token specifies the token that will be sent from the
client to the host when the client callback timer expires.  When the client
callback timer expires, the client sends a token and an argument to the host to
request update data.  This atom is used for updating charts dynamically.

atom$chart_checkpoint specifies the argument sent to the host.  atom$
chart_request_interval specifies the time interval for receiving the update
data.

Syntax

atom$chart_set_response_token <token>

<token> Token to send to the host when the client callback timer
expires.

Return Value

Unchanged.

Example

The following is an example of how to specify the token that will be sent to the
host when the client callback timer expires:

atom$chart_checkpoint <00x, 00x, 00x, 01x>
.
.
.

ê atom$chart_set_response_token <pn>
.
.
.
atom$chart_request_interval <120>

America Online Confidential 11-88  America Online, Inc. 1993-96




August 1996 FDO91 Manual, Vol. 2

atom$chart_set_stripe_bottom
25 ($19)

Description

atom$chart_set_stripe_bottom specifies the value where the bottom of the
stripe will appear on the current chart.  A stripe is a colored region that
extends across a chart, parallel with the x-axis, that is used to highlight specific
y-axis ranges.

This atom is not currently supported by Macintosh clients of the online service.

Syntax

atom$chart_set_stripe_bottom <bottom>

<bottom> The y-axis value where the bottom of the stripe will
appear.

Return Value

Unchanged.

Example

The following is an example of how to specify the bottom value of the stripe in
context:

atom$uni_start_stream <>
.
.
.
atom$chart_start_stripe <0>
atom$chart_set_stripe_color <b0x, 0fx, 23x>
atom$chart_set_stripe_top <4000>

ê atom$chart_set_stripe_bottom <3000>
atom$chart_end_stripe <>
.
.
.
atom$uni_end_stream <>

 America Online, Inc. 1993-96 11-89 America Online Confidential




Chapter 11: Chart Protocol August 1996

atom$chart_set_stripe_color
69 ($45)

Description

atom$chart_set_stripe_color specifies the color of the stripe for the current
chart.  A stripe is a colored region that extends across a chart, parallel with the
x-axis, that is used to highlight specific y-axis ranges.

This atom is not currently supported by Macintosh clients of the online service.

Syntax

atom$chart_set_stripe_color <color>

<color> Specifies a color using a 3-byte RGB value as follows:

r 1-byte red value

g 1-byte green value

b 1-byte blue value

Return Value

Unchanged.

Example

The following is an example of how to set the stripe color for the current chart:

atom$uni_start_stream <>
.
.
.
atom$chart_start_stripe <0>

ê atom$chart_set_stripe_color <b0x, 0fx, 23x>
atom$chart_set_stripe_top <4000>
atom$chart_set_stripe_bottom <3000>
atom$chart_end_stripe <>
.
.
.
atom$uni_end_stream <>

America Online Confidential 11-90  America Online, Inc. 1993-96




August 1996 FDO91 Manual, Vol. 2

atom$chart_set_stripe_context
70 ($46)

Description

atom$chart_set_stripe_context sets the context to a previously defined stripe
definition.  A stripe is a colored region that extends across a chart, parallel with
the x-axis, that is used to highlight specific y-axis ranges.

This atom is not currently supported by Macintosh clients of the online service.

Syntax

atom$chart_set_stripe_context <relative_ID>

<relative_ID> The relative ID of the stripe.

Return Value

Unchanged.

Example

The following is an example of how to set the context to a stripe definition:

atom$chart_set_stripe_context <1>

 America Online, Inc. 1993-96 11-91 America Online Confidential




Chapter 11: Chart Protocol August 1996

atom$chart_set_stripe_top
6 ($06)

Description

atom$chart_set_stripe_top specifies the value where the top of the stripe will
appear on the current chart.  A stripe is a colored region that extends across a
chart, parallel with the x-axis, that is used to highlight specific y-axis ranges.

This atom is not currently supported by Macintosh clients of the online service.

Syntax

atom$chart_set_stripe_top <top>

<top> The y-axis value where the top of the stripe will appear.

Return Value

Unchanged.

Example

The following is an example of how to specify the top value of the stripe:

atom$uni_start_stream <>
.
.
.
atom$chart_start_stripe <0>
atom$chart_set_stripe_color <b0x, 0fx, 23x>

ê atom$chart_set_stripe_top <4000>
atom$chart_set_stripe_bottom <3000>
atom$chart_end_stripe <>
.
.
.
atom$uni_end_stream <>

America Online Confidential 11-92  America Online, Inc. 1993-96




August 1996 FDO91 Manual, Vol. 2

atom$chart_set_tools
89 ($59)

Description

atom$chart_set_tools specifies which tools are enabled on the graphical
toolbar.  The tools on the graphical toolbar allow members to use their mouse
to execute commands and modify chart characteristics.  This atom is used in
conjunction with atom$chart_bool_show_tools, which enables the graphical
toolbar.  For more information on the graphical toolbar, see "The Graphical
Toolbar" on page 11-2.

This atom is not currently supported by Macintosh clients of the online service.

Syntax

atom$chart_set_tools <tool_id>

<tool_id> The IDs of the tools to be enabled.  This is a 4-byte
argument whose bits are specified as follows:

0 Import  Retrieves a previously saved chart.

1 Export  Saves the current chart to disk as a
.BMP file.

2 Copy bitmap  Copies the current chart to the
clipboard as a .BMP file.

3 Copy data  Copies the data from the current
chart to the clipboard.

4 Print  Prints the current chart.

5 Space  Inserts a space on the toolbar.  Used
for separating groups of related tools.

6 Chart-type dialog  Specifies the chart type.

7 Space  Inserts a space on the toolbar.  Used
for separating groups of related tools.

 America Online, Inc. 1993-96 11-93 America Online Confidential




Chapter 11: Chart Protocol August 1996

8 Color palette  Specifies the color for the
current chart's background, markers, legend, or
wall.

9 Space  Inserts a space on the toolbar.  Used
for separating groups of related tools.

10 3D view  Toggles the chart view from two-
dimensional to three-dimensional.

11 Rotate dialog  Rotates the chart on either axis
to change the perspective.

12 Cluster dialog  Controls the depth for three-
dimensional cluster charts.

13 Zoom  Zooms in (or magnifies) a specific
portion of the current view.

14 Space  Inserts a space on the toolbar.  Used
for separating groups of related tools.

16 Point legend  Toggles the point legend.  The
legend text is modified within the data editor.

17 Dataset legend  Toggles the dataset (series)
legend.  The legend text is modified within the
data editor.

18 Vertical grid  Toggles the vertical grid.

19 Horizontal grid  Toggles the horizontal grid.

20 Space  Inserts a space on the toolbar.  Used
for separating groups of related tools.

21 Titles dialog  Specifies the title text for the
left, right, bottom, and title labels.

22 Fonts dialog  Specifies fonts for all chart text.

23 Tools button  Shows/hides the palette bar,
pattern bar, and data editor.

America Online Confidential 11-94  America Online, Inc. 1993-96




August 1996 FDO91 Manual, Vol. 2

24 Tabbed dialog  Opens the tabbed dialog.  This
dialog can be used by members in conjunction
with or instead of the toolbar.  Tabs include:

General - Controls chart type and appearance.

Series - Controls dataset (series) attributes.

Scale - Controls x-axis and y-axis perspective.

3D View - Toggles the chart view from two-
dimensional to three-dimensional.

Titles - Specifies the title text for the left, right, 
bottom, and title labels.

25-32 Not used.

Return Value

Unchanged.

Example

The following is an example of how to specify that the import, export, copy
bitmap, copy data, color palette, zoom, vertical grid, horizontal grid, and font
dialog tools are enabled:

atom$uni_start_stream <>
atom$sm_send_token_arg <79x, 76x, 00x, 00x, 00x, 00x>
.
.
.
atom$mat_title <"AMER Graph: Daily for 1 month">
atom$mat_url <"aol://5862:170/CHART,US,AMER,D,A">
atom$man_set_context_relative <1>
atom$chart_type <1>
atom$chart_bool_show_tools <yes>

ê atom$chart_set_tools <3040063>
atom$chart_bool_3d_view <no>
atom$chart_bool_bars_together <no>
atom$chart_set_margins <32x, 19x, 0fx, 19x>
atom$chart_bool_show_points <no>
atom$chart_set_marker_size <5>
.
.
.
atom$uni_end_stream <>

 America Online, Inc. 1993-96 11-95 America Online Confidential




Chapter 11: Chart Protocol August 1996

The result of this example is a graphical toolbar that will contain the following:
import, export, copy bitmap, copy data, print, space, color palette, space,
zoom, vertical grid, horizontal grid, and font dialog.

America Online Confidential 11-96  America Online, Inc. 1993-96




August 1996 FDO91 Manual, Vol. 2

atom$chart_set_xvalue
24 ($18)

Description

atom$chart_set_xvalue sets the x-axis value for scatter charts.

Syntax

atom$chart_set_xvalue <value>

<value> The x-axis value.

Return Value

Unchanged.

Example

The following is an example of how to set the x-axis value for a scatter chart:

atom$chart_set_xvalue <1500>

 America Online, Inc. 1993-96 11-97 America Online Confidential




Chapter 11: Chart Protocol August 1996

atom$chart_set_y_inc_gap
100 ($64)

Description

atom$chart_set_y_inc_gap sets the width between y-axis data points, in
pixels, for the current chart.

Syntax

atom$chart_set_y_inc_gap <width>

<width> Specifies the width between data points.

Return Value

Unchanged.

Example

The following is an example of how to set the width between data points to
200 pixels:

atom$chart_title <"AMER - High, Low, Close">
atom$chart_ymin <42>

ê atom$chart_set_y_inc_gap <200>
atom$man_update_woff_end_stream <>

America Online Confidential 11-98  America Online, Inc. 1993-96




August 1996 FDO91 Manual, Vol. 2

atom$chart_set_ylegend_context
26 ($1A)

Description

atom$chart_set_ylegend_context sets the context to the y-axis legend of the
current chart.

Syntax

atom$chart_set_ylegend_context

Return Value

Unchanged.

Example

The following is an example of how to set the context to the y-axis legend of
the current chart:

atom$chart_set_ylegend_context

 America Online, Inc. 1993-96 11-99 America Online Confidential




Chapter 11: Chart Protocol August 1996

atom$chart_set_ylegend_gap
74 ($4A)

Description

atom$chart_set_ylegend_gap specifies the width, in pixels, of the distance
between y-axis data points on the current chart.

This atom is not currently supported by Macintosh clients of the online service.

Syntax

atom$chart_set_ylegend_gap <gap>

<gap> The distance between y-axis data points, in pixels.

Return Value

Unchanged.

Example

The following is an example of how to specify a five-pixel width between y-
axis data points:

atom$chart_title <"America Online Stock Comparison Chart">
atom$chart_left_label <"Price">
atom$chart_bottom_label <"Dates">

ê atom$chart_set_ylegend_gap <"\x05">
atom$chart_add_ylegend_text <"$30">
atom$chart_add_ylegend_text <"$35">
atom$chart_add_ylegend_text <"$40">
atom$chart_add_ylegend_text <"$45">
atom$chart_add_ylegend_text <"$50">
atom$chart_add_ylegend_text <"$55">
atom$chart_add_ylegend_text <"$60">

America Online Confidential 11-100  America Online, Inc. 1993-96




August 1996 FDO91 Manual, Vol. 2

atom$chart_start_constant
75 ($4B)

Description

atom$chart_start_constant specifies the beginning of a constant definition.
A constant is a line that extends across a chart, parallel with the x-axis, that is
used to mark a y-axis value such as a threshold or high-water mark.

This atom is not currently supported by Macintosh clients of the online service.

Syntax

atom$chart_start_constant <relative_ID>

<relative_ID> The relative ID of the constant.

Return Value

Unchanged.

Example

The following is an example of how to specify the beginning of a constant
definition:

atom$chart_set_constant
ê atom$chart_start_constant <0>

atom$chart_set_constant <1000>
atom$chart_set_constant_width <3>
atom$chart_set_constant_label <"Maximum Buy Price">
atom$chart_set_constant_color <00x, 00x,80x>
atom$chart_set_constant_bkcolor <10x, 10x, 10x>
atom$chart_end_constant <0>
atom$chart_start_constant <0>
atom$chart_set_constant <4000>
atom$chart_set_constant_style <4>
atom$chart_set_constant_width <10>
atom$chart_constant_font_sis <02x, 07x, 01x>
atom$chart_set_constant_label <"Minimum Sell Price">
atom$chart_end_constant <0>

 America Online, Inc. 1993-96 11-101 America Online Confidential




Chapter 11: Chart Protocol August 1996

atom$chart_start_dataset
12 ($0C)

Description

atom$chart_start_dataset specifies the beginning of a dataset definition.  A
dataset is used to define a single group of values within a view.  For example,
in a view that contains a high/low/close chart, the high values, low values, and
close values each represent a separate dataset.

Syntax

atom$chart_start_dataset <type>

<type> The dataset type.  Valid values are as follows:

1 4-byte floating integer.

8 4-byte signed integer.

Return Value

Unchanged.

Example

The following is an example of how to specify the beginning of a dataset
definition:

ê atom$chart_start_dataset <1>
atom$chart_add_dataset_legend <AMER>
atom$chart_set_dataset_shape <1>
atom$chart_set_line_width <1>
atom$chart_set_dataset_color <00x, 00x, ffx>
atom$chart_set_point_context <0>

America Online Confidential 11-102  America Online, Inc. 1993-96




August 1996 FDO91 Manual, Vol. 2

atom$chart_start_stripe
71 ($47)

Description

atom$chart_start_stripe specifies the beginning of a stripe definition.  A
stripe is a colored region that extends across a chart, parallel with the x-axis,
that is used to highlight specific y-axis ranges.

This atom is not currently supported by Macintosh clients of the online service.

Syntax

atom$chart_start_stripe

Return Value

Unchanged.

Example

The following is an example of how to specify the beginning of a stripe
definition:

atom$uni_start_stream <>
.
.
.

ê atom$chart_start_stripe
atom$chart_set_stripe_color <b0x, 0fx, 23x>
atom$chart_set_stripe_top <4000>
atom$chart_set_stripe_bottom <3000>
atom$chart_end_stripe <>
.
.
.
atom$uni_end_stream <>

 America Online, Inc. 1993-96 11-103 America Online Confidential




Chapter 11: Chart Protocol August 1996

atom$chart_title
9 ($09)

Description

atom$chart_title specifies the text to be used as the label that appears at the
top of the current chart.  This label is typically used as the title for the current
chart view.  The text attributes for this label are defined using atom$chart_
title_font_sis.

Syntax

atom$chart_title <text>

<text> The text used for the label.

Return Value

Unchanged.

Example

The following is an example of how to specify the text to be used as the title
for the current chart view:

atom$uni_start_stream <>
.
.
.
atom$chart_title_font_sis <00x, 10x, 00x>

ê atom$chart_title <"America Online Stock Comparison Chart">
atom$chart_left_label <"Price">
atom$chart_bottom_label <"Dates">
atom$chart_right_label <"U.S. Dollars">
.
.
.
atom$uni_end_stream <>

America Online Confidential 11-104  America Online, Inc. 1993-96




August 1996 FDO91 Manual, Vol. 2

atom$chart_title_font_sis
44 ($2C)

Description

atom$chart_title_font_sis sets the font ID, size, and style for the label that
appears at the top of the current chart.  This label is typically used as the title
for the current chart view.  The text string for this label is defined using
atom$chart_title.

Syntax

atom$chart_title_font_sis <font_id> [<size>] [<style>]

<font_id> The font ID of the text.  Values are as follows:

0 Arial (If not found, MS Sans Serif)

1 Courier

2 Times New Roman (If not found, MS Serif)

3 System

4 Fixed System

5 MS Serif

6 MS Sans Serif

7 Small Fonts

8 Courier New

9 Script

[<size>] The point size of the text.

[<style>] The style of the text.  Values are as follows:

0 Normal

1 Bold

 America Online, Inc. 1993-96 11-105 America Online Confidential




Chapter 11: Chart Protocol August 1996

2 Italic

4 Underline

If the style values are added together, the text displays a
combination of the styles.  For example, a value of 3
displays text in bold and italic.

Return Value

Unchanged.

Example

The following is an example of how to set the font ID, size, and style to Times
New Roman, 7,  Bold for the title:

atom$uni_start_stream <>
.
.
.

ê atom$chart_title_font_sis <02x, 07x, 01x>
atom$chart_title <"America Online Stock Comparison Chart">
atom$chart_left_label <"Price">
atom$chart_bottom_label <"Dates">
atom$chart_right_label <"U.S. Dollars">
.
.
.
atom$uni_end_stream <>

America Online Confidential 11-106  America Online, Inc. 1993-96




August 1996 FDO91 Manual, Vol. 2

atom$chart_type
0 ($00)

Description

atom$chart_type defines the chart type for the current chart and/or dataset(s)
in context.  This atom is used for single-chart views.  To define the chart type
for views that contain more than one dataset, use atom$chart_dataset_chart_
type.

Syntax

atom$chart_type [<chart_type>]

[<chart_type>] The chart type ID.  This is a two-byte argument whose
bits are specified as follows:

0 Line chart

1 Bar chart

2 Spline chart

3 Mark chart

4 Pie chart

5 Area chart

6 Pareto chart

7 Scatter chart

8 Hi/Low/Open chart

9 Surface chart

10 Polar chart

11 Cube chart

12 Doughnut chart

 America Online, Inc. 1993-96 11-107 America Online Confidential




Chapter 11: Chart Protocol August 1996

Return Value

Unchanged.

Example

The following is an example of how to define the chart type for the current
chart as a bar chart:

atom$uni_start_stream <>
atom$sm_send_token_arg <79x, 76x, 00x, 00x, 00x, 00x>
.
.
.
atom$mat_title <"AMER Graph: Daily for 1 month">
atom$mat_url <"aol://5862:170/CHART,US,AMER,D,A">
atom$man_set_context_relative <1>

ê atom$chart_type <1>
atom$chart_bool_show_tools <yes>
atom$chart_set_tools <3040063>
atom$chart_bool_3d_view <no>
atom$chart_bool_bars_together <no>
atom$chart_set_margins <32x, 19x, 0fx, 19x>
atom$chart_bool_show_points <no>
atom$chart_set_marker_size <5>
.
.
.
atom$uni_end_stream <>

America Online Confidential 11-108  America Online, Inc. 1993-96




August 1996 FDO91 Manual, Vol. 2

atom$chart_xlegend_font_sis
80 ($50)

Description

atom$chart_xlegend_font_sis sets the font ID, size, and style for the legend
text that appears on the x-axis of the current chart.  The text string for this
atom is specified using atom$chart_add_xlegend_text.

Syntax

atom$chart_xlegend_font_sis <font_id> [<size>] [<style>]

<font_id> The font ID of the text.  Values are as follows:

0 Arial (If not found, MS Sans Serif)

1 Courier

2 Times New Roman (If not found, MS Serif)

3 System

4 Fixed System

5 MS Serif

6 MS Sans Serif

7 Small Fonts

8 Courier New

9 Script

[<size>] The point size of the text.

[<style>] The style of the text.  Values are as follows:

0 Normal

1 Bold

 America Online, Inc. 1993-96 11-109 America Online Confidential




Chapter 11: Chart Protocol August 1996

2 Italic

4 Underline

If the style values are added together, the text displays a
combination of the styles.  For example, a value of 3
displays text in bold and italic.

Return Value

Unchanged.

Example

The following is an example of how to set the font ID, size, and style to Times
New Roman, 7,  Bold:

atom$uni_start_stream <>
.
.
.
atom$chart_manage <>
atom$mat_width <600>
atom$mat_height <400>
atom$chart_bool_show_legend <yes>
atom$chart_ymax <50>
atom$chart_left_font_sis <00x, 0cx, 00x>
atom$chart_bottom_font_sis <01x, 07x, 01x>
atom$chart_legend_font_sis <00x, 08x, 00x>

ê atom$chart_xlegend_font_sis <02x, 07x, 01x>
atom$chart_ylegend_font_sis <01x, 07x, 01x>
atom$chart_constant_font_sis <00x, 0cx, 01x>
atom$chart_title_font_sis <00x, 10x, 00x>
atom$chart_title <"America Online Stock Comparison Chart">
atom$chart_left_label <"Price">
atom$chart_bottom_label <"Dates">
.
.
.
atom$uni_end_stream <>

America Online Confidential 11-110  America Online, Inc. 1993-96




August 1996 FDO91 Manual, Vol. 2

atom$chart_xmax
1 ($01)

Description

atom$chart_xmax sets the maximum value for the x-axis of the current chart.
This atom causes the x-axis of the chart to be "clipped" according to the value
given.

Syntax

atom$chart_xmax <value>

<value> A 4-byte signed integer.  Valid values are -2, -147,
-483, and -647, and 2, 147, 483, and 647.

Return Value

Unchanged.

Example

The following is an example of how to set the maximum value for the x-axis of
the current chart to 147:

atom$chart_title <"NASDAQ Composite">
ê atom$chart_xmax <147>

 America Online, Inc. 1993-96 11-111 America Online Confidential




Chapter 11: Chart Protocol August 1996

atom$chart_xmin
3 ($03)

Description

atom$chart_xmin sets the minimum value for the x-axis of the current chart.
This atom causes the x-axis of the chart to be "clipped" according to the value
given.

Syntax

atom$chart_xmin <value>

<value> A 4-byte signed integer.  Valid values are -2, -147,
-483, and -647, and 2, 147, 483, and 647.

Return Value

Unchanged.

Example

The following is an example of how to set the minimum value for the x-axis of
the current chart to -147:

atom$chart_title <"NASDAQ Composite">
ê atom$chart_xmin <-147>

America Online Confidential 11-112  America Online, Inc. 1993-96




August 1996 FDO91 Manual, Vol. 2

atom$chart_ylegend_font_sis
81 ($51)

Description

atom$chart_ylegend_font_sis sets the font ID, size, and style for the legend
that appears on the y-axis of the current chart.  The text string for this atom is
specified using atom$chart_add_ylegend_text.

Syntax

atom$chart_ylegend_font_sis <font_id> [<size>] [<style>]

<font_id> The font ID of the text.  Values are as follows:

0 Arial (If not found, MS Sans Serif)

1 Courier

2 Times New Roman (If not found, MS Serif)

3 System

4 Fixed System

5 MS Serif

6 MS Sans Serif

7 Small Fonts

8 Courier New

9 Script

[<size>] The point size of the text.

[<style>] The style of the text.  Values are as follows:

0 Normal

1 Bold

 America Online, Inc. 1993-96 11-113 America Online Confidential




Chapter 11: Chart Protocol August 1996

2 Italic

4 Underline

If the style values are added together, the text displays a
combination of the styles.  For example, a value of 3
displays text in bold and italic.

Return Value

Unchanged.

Example

The following is an example of how to set the font ID, size, and style to Times
New Roman, 7,  Bold:

atom$uni_start_stream <>
.
.
.
atom$chart_manage <>
atom$mat_width <600>
atom$mat_height <400>
atom$chart_bool_show_legend <yes>
atom$chart_ymax <50>
atom$chart_left_font_sis <00x, 0cx, 00x>
atom$chart_bottom_font_sis <01x, 07x, 01x>
atom$chart_legend_font_sis <00x, 08x, 00x>
atom$chart_xlegend_font_sis <01x, 07x, 01x>

ê atom$chart_ylegend_font_sis <02x, 07x, 01x>
atom$chart_constant_font_sis <00x, 0cx, 01x>
atom$chart_title_font_sis <00x, 10x, 00x>
atom$chart_title <"America Online Stock Comparison Chart">
atom$chart_left_label <"Price">
atom$chart_bottom_label <"Dates">
.
.
.
atom$uni_end_stream <>

America Online Confidential 11-114  America Online, Inc. 1993-96




August 1996 FDO91 Manual, Vol. 2

atom$chart_ymax
2 ($02)

Description

atom$chart_ymax sets the maximum value for the y-axis of the current chart.
This atom causes the y-axis of the chart to be "clipped" according to the value
given.

Syntax

atom$chart_ymax <value>

<value> A 4-byte signed integer.  Valid values are -2, -147,
-483, and -647, and 2, 147, 483, and 647.

Return Value

Unchanged.

Example

The following is an example of how to set the maximum value for the y-axis of
the current chart to 147:

atom$chart_title <"NASDAQ Composite">
ê atom$chart_ymax <147>

 America Online, Inc. 1993-96 11-115 America Online Confidential




Chapter 11: Chart Protocol August 1996

atom$chart_ymin
4 ($04)

Description

atom$chart_ymin sets the minimum value for the y-axis of the current chart.
This atom causes the y-axis of the chart to be "clipped" according to the value
given.

Syntax

atom$chart_ymin <value>

<value> A 4-byte signed integer.  Valid values are -2, -147,
-483, and -647, and 2, 147, 483, and 647.

Return Value

Unchanged.

Example

The following is an example of how to set the minimum value for the y-axis of
the current chart to -147:

atom$chart_title <"NASDAQ Composite">
ê atom$chart_ymin <-147>

America Online Confidential 11-116  America Online, Inc. 1993-96



===== END PDF: ch11-chart.pdf =====

===== BEGIN PDF: ch12-chat.pdf =====



Manual: FDO91 Manual
Chapter 12: Chat Protocol defines chat protocol atoms and provides information for chat
functionality.
Last updated: August 1996




C H A P T E R  1 2

Chat Protocol

The Chat protocol (protocol ID 11) consists of atoms that handle real-time
conferencing and messaging within people connection rooms, forum
conference halls, and auditoriums.  The Chat protocol also provides the
following functionality:

• Opening and closing chat rooms

• Adding and removing members from chat rooms

• Managing chat preferences

• Sending chat messages

Chat Protocol Atoms

The Chat protocol atoms are described in alphabetical order in the rest of this
chapter.

America Online Confidential 12-1  America Online, Inc. 1993-96




Chapter 12: Chat Protocol August 1996

atom$chat_add_user
1 ($01)

Description

atom$chat_add_user notifies the host when a member enters a chat room.
The member's name is added to the local list of members currently in the chat
room.  If the member enables arrival notification within chat preferences, other
members in the chat room will be notified that the member has arrived.  This
atom is sent by the client.

Syntax

atom$chat_add_user <name>

<name> An ASCII string (null-terminated) representing the
screen name of the member who is entering the chat
room.

Return Value

Unchanged

Example

The following is an example of how to add a member to a chat room:

atom$var_number_set <A, 1>
atom$var_number_save <A, 65537>
atom$man_update_display
atom$chat_room_open

ê atom$chat_add_user <54x, 41x, 44x, 75x, 6ex, 6ex>

America Online Confidential 12-2  America Online, Inc. 1993-96




August 1996 FDO91 Manual, Vol. 2

atom$chat_end_object
2 ($02)

Description

atom$chat_end_object terminates the current chat object in context.  For
example, each screen name on the member list for a current chat room is a chat
object.  This atom is sent by the host.

Syntax

atom$chat_end_object <object>

<object> An ASCII string representing the name of the object to
be terminated.

Return Value

Unchanged

Example

The following is an example of how to terminate the current chat object in
context:

atom$chat_add_user <54x, 41x, 44x, 75x, 6ex, 6ex>
atom$mat_relative_tag <19>
atom$act_set_inheritance
.
.
.

ê atom$chat_end_object

 America Online, Inc. 1993-96 12-3 America Online Confidential




Chapter 12: Chat Protocol August 1996

atom$chat_message
5 ($05)

Description

atom$chat_message contains the text string of the chat message that is sent
when a member enters text and selects the Send button.  This atom is sent by
the client.

Syntax

atom$chat_message <text>

<text> A text string that represents the chat message.

Return Value

Unchanged

Example

The following is an example of how to send the text string of a chat message:

atom$uni_start_stream
atom$de_start_extraction
atom$de_validate

ê atom$chat_message <"Hello">
.
.
.
atom$uni_end_stream

America Online Confidential 12-4  America Online, Inc. 1993-96




August 1996 FDO91 Manual, Vol. 2

atom$chat_refresh_pref
6 ($06)

Description

atom$chat_refresh_pref reloads all the chat-related preferences set by the
member, such as member arrival notification, member exit notification, double-
spacing of incoming messages, alphabetizing the member list, and enabling chat
room sounds.  This atom is sent by the client.

Syntax

atom$chat_refresh_pref

Return Value

Unchanged

Example

The following is an example of how to reload all chat-related preferences:

atom$uni_start_stream
atom$uni_set_context_relative <1>

ê atom$chat_refresh_pref
atom$man_end_context
atom$uni_end_stream

 America Online, Inc. 1993-96 12-5 America Online Confidential




Chapter 12: Chat Protocol August 1996

atom$chat_remove_user
3 ($03)

Description

atom$chat_remove_user is sent by the client when a member leaves the
current chat room.  The member's name is removed from the local list of
members currently in the chat room.  If the member enables exit notification
within chat preferences, other members in the chat room will be notified that
the member has left.  This atom is sent by the client.

Syntax

atom$chat_remove_user <name>

<name> An ASCII string (null-terminated) representing the
screen name of the member who is exiting the chat
room.

Return Value

Unchanged

Example

The following is an example of how to remove a member from a chat room:

atom$var_number_set <A, 1>
atom$var_number_save <A, 65537>
atom$man_update_display
atom$chat_room_open
atom$chat_add_user <54x, 41x, 44x, 75x, 6ex, 6ex>
.
.
.

ê atom$chat_remove_user <Akoontz>

America Online Confidential 12-6  America Online, Inc. 1993-96




August 1996 FDO91 Manual, Vol. 2

atom$chat_room_open
0 ($00)

Description

atom$chat_room_open is sent to the client when a member enters a chat
room.  This atom precedes atom$chat_add_user, which adds the member's
name to the local list of members currently in the chat room.  If the member
enables arrival notification within chat preferences, other members in the chat
room will be notified that the member has arrived.  This atom is sent by the
client.

Syntax

atom$chat_room_open

Return Value

Unchanged

Example

The following is an example of opening a chat room:

atom$var_number_set <A, 1>
atom$var_number_save <A, 65537>
atom$man_update_display

ê atom$chat_room_open
atom$chat_add_user <54x, 41x, 44x, 75x, 6ex, 6ex>

 America Online, Inc. 1993-96 12-7 America Online Confidential




Chapter 12: Chat Protocol August 1996

atom$chat_show_arrival
4 ($04)

Description

atom$chat_show_arrival displays a notice from the OnlineHost announcing
the arrival of a member to other members in a chat room.  This atom is sent
only if the member has enabled arrival notification within chat preferences.
This atom is sent by the client.

Syntax

atom$chat_show_arrival (<yes>|<no>)

<yes> Arrival notification is enabled.

<no> Arrival notification is not enabled.  (Default)

Return Value

Unchanged

Example

The following is an example of how to announce the arrival of a member to a
chat room:

atom$chat_show_arrival <yes>

America Online Confidential 12-8  America Online, Inc. 1993-96



===== END PDF: ch12-chat.pdf =====

===== BEGIN PDF: ch13-cm.pdf =====



Manual: FDO91 Manual
Chapter 13: Code Manager Protocol defines code manager protocol atoms and provides information
for handling code management.
Last updated: January 1994




C H A P T E R  1 3

Code Manager Protocol

The Code Manager protocol (protocol ID 10) consists of atoms that provide
an atom-based interface for tool management.  This protocol augments the
capabilities of the Loader module to implement the following features:

• The ability to replace a tool or any other online service module at any time
by downloading a new version of the tool.

• A facility for marking specific atoms or entire protocols invalid so that
their use in a stream initiates a forced tool download to obtain a new
handler for that atom.

• Support for transient tools, which are tools that are started and stopped
explicitly through atoms.  This feature is intended primarily for games.

Code Manager Protocol Atoms

The Code Manager protocol atoms are described in alphabetical order in the
rest of this chapter.

America Online Confidential 13-1  America Online, Inc. 1993-94




Chapter 13: Code Manager Protocol January 1994

atom$cm_bounce_tool
12 ($0C)

Description

atom$cm_bounce_tool bounces (stops and restarts) a specific tool.  If the tool
is configured for intelligent bouncing, all state information for the tool is
preserved, and the tool continues its tasks as if it had not been interrupted.  For
other tools, this atom must initiate a full application restart in order to restart
the tool.

Syntax

atom$cm_bounce_tool <tool_ID>

<tool_ID> Specifies the tool ID of the tool to bounce.

Return Value

Unchanged

Example

atom$cm_bounce_tool  21

America Online Confidential 13-2  America Online, Inc. 1993-94




January 1994 FDO91 Manual, Vol. 2

atom$cm_cancel_job
18 ($12)

Description

atom$cm_cancel_job cancels all pending events with the given job ID.  The
client computer assigns job IDs to requests sent to the host, and sends the job
IDs with the request streams.  If multiple forced downloads are initiated to
satisfy the same missing atom/protocol/token, the client computer
automatically assigns the same job ID to the event queued for each download.

This mechanism allows the host to cancel the entire process without having
knowledge of the exact events pending.  This atom is most often invoked when
a member chooses to not accept the forced download of a client tool.

Syntax

atom$cm_cancel_job <job_ID>

<job_ID> Specifies the job ID to cancel.

Return Value

Unchanged

Example

atom$cm_cancel_job 1234

 America Online, Inc. 1993-94 13-3 America Online Confidential




Chapter 13: Code Manager Protocol January 1994

atom$cm_check_tool
17 ($11)

Description

atom$cm_check_tool creates a tool dependency object at the current position
in the poison tree.

Syntax

atom$cm_start_block <tool_ID>

<tool_ID> Specifies the tool ID.

Return Value

Unchanged

Example

atom$cm_start_block
  atom$cm_version 1677218
  atom$cm_file_id 190
  atom$cm_create_date 385088830
  atom$cm_check_tool 7
  atom$cm_mark_proto_invalid <prot$chat>
atom$cm_end_block

America Online Confidential 13-4  America Online, Inc. 1993-94




January 1994 FDO91 Manual, Vol. 2

atom$cm_clear_list
9 ($09)

Description

atom$cm_clear_list clears the list of tools whose versions are to be inquired.
For more information, see the atom$cm_inquire atom.

Syntax

atom$cm_clear_list

Return Value

Unchanged

Example

atom$cm_clear_list

 America Online, Inc. 1993-94 13-5 America Online Confidential




Chapter 13: Code Manager Protocol January 1994

atom$cm_create_date
16 ($10)

Description

atom$cm_create_date specifies the creation date of a tool file belonging to
the Stratus host system.  It is one of two identifiers (the other being the file ID)
that uniquely locates a file in the host file transfer databases.  This atom is used
before an atom$cm_check_tool atom to preset the creation date of a tool
dependency object about to be created.

Syntax

atom$cm_create_date <create_date>

<create_date> Specifies the creation date of the tool dependency
object.

Return Value

Unchanged

Example

atom$cm_start_block
  atom$cm_version 1677218
  atom$cm_file_id 190
  atom$cm_create_date 385088830
  atom$cm_check_tool 7
  atom$cm_mark_proto_invalid <prot$chat>
atom$cm_end_block

America Online Confidential 13-6  America Online, Inc. 1993-94




January 1994 FDO91 Manual, Vol. 2

atom$cm_dump
27 ($1B)

Description

atom$cm_dump displays the state of the Code Manager Tool, including the
current event and any pending events, the poison tree, the intercept list, and the
held stream list.  This atom is provided for debugging purposes only.

Syntax

atom$cm_dump [<clear_queue>]

<clear_queue> Specifies an optional value of 999 which clears the event
queue.

Return Value

Unchanged

Example

atom$cm_dump 999

 America Online, Inc. 1993-94 13-7 America Online Confidential




Chapter 13: Code Manager Protocol January 1994

atom$cm_end_block
26 ($1A)

Description

atom$cm_end_block ends the current dependency block within the poison
tree.  For a complete example, see the atom$cm_check_tool atom.

Syntax

atom$cm_end_block

Return Value

Unchanged

Example

atom$cm_end_block

America Online Confidential 13-8  America Online, Inc. 1993-94




January 1994 FDO91 Manual, Vol. 2

atom$cm_event_byte_count
19 ($13)

Description

atom$cm_event_byte_count sets the byte count for the current download
event.  The host generally sends this atom in response to a request from the
client computer to download a specific tool.

Syntax

atom$cm_event_byte_count <byte_count>

<byte_count> Specifies the byte count for the current download event.

Return Value

Unchanged

Example

atom$cm_event_byte_count 41228
atom$cm_event_tool_name "filer.tl!"
atom$cm_start_tool_download

 America Online, Inc. 1993-94 13-9 America Online Confidential




Chapter 13: Code Manager Protocol January 1994

atom$cm_event_tool_name
20 ($14)

Description

atom$cm_event_tool_name sets the tool filename for the current download
event.  The host generally sends this atom in response to a request from the
client computer to download a specific tool.

Syntax

atom$cm_event_tool_name <tool_filename>

<tool_filename> Specifies the string of the tool filename.

Return Value

Unchanged

Example

atom$cm_event_byte_count 41228
atom$cm_event_tool_name "filer.tl!"
atom$cm_start_tool_download

America Online Confidential 13-10  America Online, Inc. 1993-94




January 1994 FDO91 Manual, Vol. 2

atom$cm_file_id
15 ($0F)

Description

atom$cm_file_id specifies the host file ID of a tool file.  It is one of two
identifiers (the other being the creation date) that uniquely locates a file in the
host file transfer databases.  This atom is used before an atom$cm_check_tool
atom to preset the creation date of a tool dependency object about to be
created.

Syntax

atom$cm_file_id <file_ID>

<file_ID> Specifies the host file ID.

Return Value

Unchanged

Example

atom$cm_start_block
  atom$cm_version 1677218
  atom$cm_file_id 190
  atom$cm_create_date 385088830
  atom$cm_check_tool 7
  atom$cm_mark_proto_invalid <prot$chat>
atom$cm_end_block

 America Online, Inc. 1993-94 13-11 America Online Confidential




Chapter 13: Code Manager Protocol January 1994

atom$cm_force_off
5 ($05)

Description

atom$cm_force_off forces the user offline with a message.

Syntax

atom$cm_force_off <message>

<message> Specifies the message string.

Return Value

Unchanged

Example

atom$cm_force_off "Your session has been terminated."

America Online Confidential 13-12  America Online, Inc. 1993-94




January 1994 FDO91 Manual, Vol. 2

atom$cm_inquire
7 ($07)

Description

atom$cm_inquire causes the Code Manager Tool to send the version
numbers of all selected tools to the host.

Syntax

atom$cm_inquire <token>

<token> Specifies the two-character token to accompany the
version data.

Return Value

Unchanged

Example

atom$cm_inquire

 America Online, Inc. 1993-94 13-13 America Online Confidential




Chapter 13: Code Manager Protocol January 1994

atom$cm_inquire_add_tool
6 ($06)

Description

atom$cm_inquire_add_tool adds a tool to the list of tools whose versions are
to be sent to the host by the next atom$cm_inquire atom.

Syntax

atom$cm_inquire_add_tool <tool_ID>

<tool_ID> Specifies the tool ID.

Return Value

Unchanged

Example

atom$cm_inquire_add_tool 8
atom$cm_inquire_add_tool 11
atom$cm_inquire

America Online Confidential 13-14  America Online, Inc. 1993-94




January 1994 FDO91 Manual, Vol. 2

atom$cm_inquire_all
8 ($08)

Description

atom$cm_inquire_all instructs the client computer to send the versions of all
tools loaded to the host.

Syntax

atom$cm_inquire_all

Return Value

Unchanged

Example

atom$cm_inquire_all

 America Online, Inc. 1993-94 13-15 America Online Confidential




Chapter 13: Code Manager Protocol January 1994

atom$cm_job_id
71 ($45)

Description

atom$cm_job_id is sent from the client computer to the host as part of a
forced download request.  It identifies the unique job number for the current
request, which allows the host to cancel all client events related to that request
if necessary.

Syntax

atom$cm_job_id <job_ID>

<job_ID> Specifies the job ID.

Return Value

Unchanged

Example

atom$cm_job_id 1234

America Online Confidential 13-16  America Online, Inc. 1993-94




January 1994 FDO91 Manual, Vol. 2

atom$cm_kill_tool
11 ($0B)

Description

atom$cm_kill_tool stops a tool and removes it from memory.

Syntax

atom$cm_kill_tool <tool_ID>

<tool_ID> Specifies the tool ID.

Return Value

Unchanged

Example

atom$cm_kill_tool 7

 America Online, Inc. 1993-94 13-17 America Online Confidential




Chapter 13: Code Manager Protocol January 1994

atom$cm_load_tool
10 ($0A)

Description

atom$cm_load_tool starts a tool by loading it from disk.

Syntax

atom$cm_load_tool <full_path>

<full_path> Specifies full path to the tool to be loaded.  If only the
filename is specified, the tool is assumed to be in the
normal tool directory.

Return Value

Unchanged

Example

atom$cm_load_tool "c:\aol\sketchpd.dll"

America Online Confidential 13-18  America Online, Inc. 1993-94




January 1994 FDO91 Manual, Vol. 2

atom$cm_mark_atom_invalid
22 ($16)

Description

atom$cm_mark_atom_invalid creates an atom dependency object at the
current position in the poison tree.  The atom is assumed to be in the protocol
specified by the last atom$cm_use_proto atom.  When the specified atom is
next invoked, each tool contained within the dependency block that includes
the atom is requested from the host.  This occurs if a tool's current version
number is below the version number specified by the atom$cm_version atom.

Syntax

atom$cm_load_tool <atom_num>

<atom_num> Specifies the atom number.  Valid values are 0-255.

Return Value

Unchanged

Example

atom$cm_use_proto <prot$filer>
atom$cm_mark_atom_invalid <atom$fm_start>

 America Online, Inc. 1993-94 13-19 America Online Confidential




Chapter 13: Code Manager Protocol January 1994

atom$cm_mark_proto_invalid
21 ($15)

Description

atom$cm_mark_proto_invalid creates a protocol dependency object at the
current position in the poison tree.  When any atom in the specified protocol is
next invoked, each tool contained within the dependency block, that includes
the protocol is requested from the host.  This occurs only if a tool's current
version number is below the version number specified by the
atom$cm_version atom.

Syntax

atom$cm_mark_proto_invalid <proto_num>

<proto_num> Specifies the protocol number.  Valid values are 0-255.

Return Value

Unchanged

Example

atom$cm_mark_proto_invalid <prot$chat>

America Online Confidential 13-20  America Online, Inc. 1993-94




January 1994 FDO91 Manual, Vol. 2

atom$cm_mark_token_invalid
23 ($17)

Description

atom$cm_mark_token_invalid creates a token dependency object at the
current position in the poison tree.  When the token with the related
dependency is next received, all the tools contained within the dependency
block are requested from the host.  This occurs only if a tool's current version
number is below the version number specified by the atom$cm_version atom.

Syntax

atom$cm_mark_token_invalid <token>

<token> Specifies a 2-byte token.

Return Value

Unchanged

Example

atom$cm_mark_token_invalid "CA"

 America Online, Inc. 1993-94 13-21 America Online Confidential




Chapter 13: Code Manager Protocol January 1994

atom$cm_mark_tool_invalid
0 ($00)

Description

atom$cm_mark_tool_invalid designates a tool as invalid.  Its file is renamed
to prevent it from being loaded in subsequent sessions.

Syntax

atom$cm_mark_tool_invalid <tool_ID>

<tool_ID> Specifies a tool ID.

Return Value

Unchanged

Example

atom$cm_mark_tool_invalid 28

America Online Confidential 13-22  America Online, Inc. 1993-94




January 1994 FDO91 Manual, Vol. 2

atom$cm_packet_num
70 ($46)

Description

atom$cm_packet_num is sent to the host as part of a forced download
request to indicate that a partial copy of the tool was previously downloaded.
The tool download is resumed at the packet number given.

Syntax

atom$cm_packet_num <packet_num>

<packet_num> Specifies the packet number (1-n).

Return Value

Unchanged

Example

atom$cm_packet_num 406

 America Online, Inc. 1993-94 13-23 America Online Confidential




Chapter 13: Code Manager Protocol January 1994

atom$cm_start_block
25 ($19)

Description

atom$cm_start_block creates a new dependency block in the poison tree.
Context is then set to that block object, so any dependency objects added
before the atom$cm_end_block become children of the block object.

Syntax

atom$cm_start_block

Return Value

Unchanged

Example

atom$cm_start_block
...
atom$cm_end_block

America Online Confidential 13-24  America Online, Inc. 1993-94




January 1994 FDO91 Manual, Vol. 2

atom$cm_start_tool_download
4 ($04)

Description

atom$cm_start_tool_download is sent to the client computer from the host in
response to the client computer's request to download a specific tool.  A
download, which is managed by the normal file transfer tool, begins when a
confirmation packet with a token of 'eJ' is received by the host.

Syntax

atom$cm_start_tool_download

Return Value

Unchanged

Example

atom$cm_event_byte_count 41228
atom$cm_event_tool_name "filer.tl!"
atom$cm_start_tool_download

 America Online, Inc. 1993-94 13-25 America Online Confidential




Chapter 13: Code Manager Protocol January 1994

atom$cm_use_proto
24 ($18)

Description

atom$cm_use_proto designates the message protocol for subsequent
atom$cm_mark_atom_invalid atoms.

Syntax

atom$cm_use_proto <proto_num>

<proto_num> Specifies the protocol number.  Valid values are 0-255.

Return Value

Unchanged

Example

atom$cm_use_proto <prot$idb>

America Online Confidential 13-26  America Online, Inc. 1993-94




January 1994 FDO91 Manual, Vol. 2

atom$cm_version
14 ($0E)

Description

atom$cm_version specifies the minimum required version number for a tool in
a dependency block.  The dependency is considered satisfied if the tool's
version on the user's disk is equal to or greater than this value.

Syntax

atom$cm_version <ver_num>

<ver_num> Specifies the version number.

Return Value

Unchanged

Example

atom$cm_version 1677218

 America Online, Inc. 1993-94 13-27 America Online Confidential




Chapter 13: Code Manager Protocol January 1994

atom$cm_version_info
64 ($40)

Description

atom$cm_version_info is sent to the host in response to a version number
inquiry of one or more tools (see atom$cm_inquire).  The atom's arguments
consist of multiple pairs of long values.  The first value in each pair is a tool ID
and the second value is the current version number of that tool loaded in
memory.

Syntax

atom$cm_version_info <long_val_1> [<long_val_2> <long_val_3>
...]

<long_val_n> Specifies one or more tool IDs and version numbers.

Return Value

Unchanged

Example

atom$cm_version_info  00x  00x  00x 04x  01x  00x  01x  01x

America Online Confidential 13-28  America Online, Inc. 1993-94



===== END PDF: ch13-cm.pdf =====

===== BEGIN PDF: ch14-ccl.pdf =====



Manual: FDO91 Manual
Chapter 14: Communications Control Language (CCL) Protocol defines CCL protocol atoms and
provides information for the CCL.
Last updated: January 1994




C H A P T E R  1 4

Communications Control Language
(CCL) Protocol

The Communications Control Language protocol (protocol ID 34) connects
the online service client software to the remote host system.  This procedure
includes control over the command strings sent to the modem and the result
codes expected from the modem in response.  Also, once a connection is made
to the modem, the Communications Control Language (CCL) controls the
connection to the online service host via the appropriate data-switch networks
(i.e., SprintNet, Tymnet, Datapac).  The CCL module does not handle any P3
protocol communications.

CCL Module Concepts

Modem personality modules (MPMs) contain information for commanding
specific brands of modems.  This information includes commands to be sent to
perform various functions, lists of result strings and their meanings, and some
miscellaneous advanced options, such as information on what characters may
legally be dialed, and whether the modem supports error correction and flow
control.

Locality groups are used to manage groups of information required for dialing
to the remote host.  This information includes phone numbers, baud rates, and
network types (each for both a first and second attempt), phone type (DTMF
or pulse), and whether or not outside-line and/or call-waiting prefixes are
required, and what such prefixes are.  Locality groups are intended for the
convenience of users who travel with portable computers, permitting them to
maintain lists of dialing information for cities they frequent.  Locality groups
are not referenced at the actual time of connection; however, CCL atoms are
provided to move locality information to and from the member's current
configuration.

America Online Confidential 14-1  America Online, Inc. 1993-94




Chapter 14: Communications Control Language (CCL) Protocol January 1994

CCL scripts are the driving force of the CCL mechanism.  They use a simple
CCL language, similar to the macro language of many terminal programs, to
instruct the AOL software to properly access the various supported data-
switch networks.  At this time CCL scripts are provided for SprintNet (nee
Telenet), Tymnet, and Datapac.

CCL Protocol Atoms

The CCL protocol atoms are described in alphabetical order in the rest of this
chapter.

America Online Confidential 14-2  America Online, Inc. 1993-94




January 1994 FDO91 Manual, Vol. 2

atom$ccl_dial
0 ($00)

Description

atom$ccl_dial is used to tell the system to begin dialing the host system.  The
atom references a database record to determine which network (SprintNet,
Tymnet, Datapac) and, by extension, which CCL script to use to connect.  The
CCL script handles dialing the modem (using the currently selected modem
personality module), connecting to the data-switch network, and connecting to
the correct host address.  On successful return, the system is in a state ready to
initiate P3 protocol; on failure, an appropriate error code is returned.

Syntax

atom$ccl_dial

Return Value

A reflection of the status of the connection - zero (0) if the connection was
successful; otherwise, an error code.

Example

atom$ccl_dial

 America Online, Inc. 1993-94 14-3 America Online Confidential




Chapter 14: Communications Control Language (CCL) Protocol January 1994

atom$ccl_get_locality
4 ($04)

Description

atom$ccl_get_locality is used to retrieve setup data associated with a
particular locality group.  Specifically, given the global ID of a form containing
a locality list of relative ID 16, it copies the setup data from the currently
selected group into the database records representing the user's current
configuration.  This serves to select phone numbers, baud rates, networks,
phone type (DTMF/pulse), and dialing prefixes.

Syntax

atom$ccl_get_locality  [<global_ID>]

<global_ID> Specifies the optional global ID of the form containing
locality list.  If this argument is omitted, the code
defaults to GLOBALID_SETUP, the top-most setup
form.  In any case, the specified form must contain a
listbox with a relative ID of 16, and this listbox must
contain a list of the available locality groups.

Return Value

Unchanged; the locality data is transparently copied into the correct database
records.

Example

atom$ccl_get_locality

America Online Confidential 14-4  America Online, Inc. 1993-94




January 1994 FDO91 Manual, Vol. 2

atom$ccl_hang_up
1 ($01)

Description

atom$ccl_hang_up tells the modem to hang up.

Syntax

atom$ccl_hang_up

Return Value

Unchanged

Example

atom$ccl_hang_up

 America Online, Inc. 1993-94 14-5 America Online Confidential




Chapter 14: Communications Control Language (CCL) Protocol January 1994

atom$ccl_install_modem_driver
2 ($02)

Description

atom$ccl_install_modem_driver tells the CCL engine to use a new modem
personality module (MPM) configuration file.  All command strings, result
code strings, and other data items pertinent to the new modem driver are
loaded into CCL's working space.  These settings remain in effect until another
modem driver is installed.

Syntax

atom$ccl_install_modem_driver  <filename>

<filename> Specifies an ASCII string (null-terminated) representing
the filename of the MPM file to load.  The full pathname
need not be included (MPMs are assumed to be located
in the subdirectory MPM\ of the online application
directory), but a complete filename, including extension,
must be specified.

Return Value

Unchanged

Example

atom$ccl_install_modem_driver  "Hayes.MDM"

America Online Confidential 14-6  America Online, Inc. 1993-94




January 1994 FDO91 Manual, Vol. 2

atom$ccl_new_location
5 ($05)

Description

atom$ccl_new_location is no longer actually used by the online software, but
is still supported.  It creates a new locality group under a specified name,
initializing the group with the current dial information.  It also selects the new
group as the current locality.  Note that it is possible to create a duplicate
group using this atom; it is the programmer's responsibility to ensure this does
not happen.

Syntax

atom$ccl_new_location  <group_name>

<group_name> Specifies an ASCII string (null-terminated) representing
the name of the group to create.

Return Value

Unchanged

Example

atom$ccl_new_location  "Untitled"

 America Online, Inc. 1993-94 14-7 America Online Confidential




Chapter 14: Communications Control Language (CCL) Protocol January 1994

atom$ccl_translate_baud_rate
7 ($07)

Description

atom$ccl_translate_baud_rate is designed to shorten lengthy atom streams.
Given a CCL baud rate value, this atom returns an ASCII string representing
the actual corresponding bps rate.

Syntax

atom$ccl_translate_baud_rate  <baud_rate>

<baud_rate> Specifies the numeric CCL baud rate value.  Known
CCL baud rate values are 1: 300 bps, 2: 1200 bps, 3:
2400 bps, 4: 4800 bps, 5: 9600 bps.

Return Value

The ASCII string (null-terminated) representing the baud rate specified.

Example

atom$act_get_db_value  <20-0-18>
atom$uni_use_last_atom_value  <prot$ccl>  atom$ccl_translate_baud_rate

America Online Confidential 14-8  America Online, Inc. 1993-94




January 1994 FDO91 Manual, Vol. 2

atom$ccl_translate_com_port
6 ($06)

Description

atom$ccl_translate_com_port is designed to shorten lengthy atom streams.
Given a COM port number, this atom returns an ASCII string representing the
actual corresponding port name.

Syntax

atom$ccl_translate_com_port  <COM_port>

<COM_port> Specifies the numeric COM port number.  Under the
MS-DOS environment, supported ports are COM1,
COM2, COM3, and COM4.  This may vary on different
hardware platforms.

Return Value

The ASCII string (null-terminated) representing the COM port specified.

Example

atom$act_get_db_value  <20-0-21>
atom$uni_use_last_atom_value  <prot$ccl>  atom$ccl_translate_com_port

 America Online, Inc. 1993-94 14-9 America Online Confidential




Chapter 14: Communications Control Language (CCL) Protocol January 1994

atom$ccl_translate_locality
9 ($09)

Description

atom$ccl_translate_locality retrieves the name of a specified locality group.

Syntax

atom$ccl_translate_locality  <index>

<index> Specifies the index (zero-based) of the locality group
whose name you want to retrieve.

Return Value

The ASCII string (null-terminated) representing the name of the specified
locality group.

Example

atom$act_get_db_value  <20-0-46>
atom$uni_use_last_atom_value  <prot$ccl>  atom$ccl_translate_locality

America Online Confidential 14-10  America Online, Inc. 1993-94




January 1994 FDO91 Manual, Vol. 2

atom$ccl_translate_network
8 ($08)

Description

atom$ccl_translate_network returns an ASCII string representing the name
of the specified network if given a data network ID value.

Syntax

atom$ccl_translate_network  <net_ID>

<net_ID> Specifies the numeric network ID value.  Known
network IDs are:

1 SprintNet

2 Tymnet

3 Datapac

Return Value

The ASCII string (null-terminated) representing the name of the specified
network.

Example

atom$act_get_db_value  <20-0-19>
atom$uni_use_last_atom_value <prot$ccl>  atom$ccl_translate_network

 America Online, Inc. 1993-94 14-11 America Online Confidential




Chapter 14: Communications Control Language (CCL) Protocol January 1994

atom$ccl_update_locality
3 ($03)

Description

atom$ccl_update_locality is the preferred atom used for saving data to
locality groups.  Given the name of a locality group to save to, this atom writes
the current dialing setup information, including phone numbers, baud rates,
networks, phone type (DTMF/pulse), and dialing prefixes, into the specified
locality group.  If a group with the specified name already exists, it is updated
with the new information; otherwise, a new group is created.

Syntax

atom$ccl_update_locality  <local_grp_name>

<local_grp_name> Specifies an ASCII string (null-terminated) representing
the name of the locality group to which the dialing setup
is saved.

Return Value

Unchanged.

Syntax

atom$ccl_update_locality "Home"

America Online Confidential 14-12  America Online, Inc. 1993-94



===== END PDF: ch14-ccl.pdf =====

===== BEGIN PDF: ch15-de.pdf =====



Manual: FDO91 Manual
Chapter 15: Data Manager Protocol defines data manager protocol atoms and provides information
for handling data extraction.
Last updated: January 1994




C H A P T E R  1 5

Data Manager Protocol

The Data Manager protocol (protocol ID 3) consists of atoms that provide the
ability to extract data from fields in forms for local processing or to be sent to
the host.  Various data types and extraction options are supported.  There is
also support for input field validation.

Data Manager Protocol Atoms

The Data Manager protocol atoms are described in alphabetical order in the
rest of this chapter.

America Online Confidential 15-1  America Online, Inc. 1993-94




Chapter 15: Data Manager Protocol January 1994

atom$de_custom_data
11 ($0B)

Description

atom$de_custom_data is sent to the host from the data manager if an
optional 32-bit value is passed with the atom$de_ez_send_form atom.  This
atom is a host-bound atom only.

Syntax

atom$de_custom_data <32_bit_val>

<32_bit_val> Specifies a 32-bit custom value.

Return Value

None

Example

atom$de_custom_data <32_bit_val>

America Online Confidential 15-2  America Online, Inc. 1993-94




January 1994 FDO91 Manual, Vol. 2

atom$de_data
1 ($01)

Description

atom$de_data is sent to the host from the Data Manager Tool when it is
sending extracted data.  This atom is a host-bound atom only.

Syntax

atom$de_data <data>

<data> Specifies variable length data.

Return Value

None

Example

atom$de_data <data>

 America Online, Inc. 1993-94 15-3 America Online Confidential




Chapter 15: Data Manager Protocol January 1994

atom$de_end_extraction
7 ($07)

Description

atom$de_end_extraction signifies the end of an extraction sequence.

Syntax

atom$de_end_extraction

Return Value

Unchanged

Example

atom$de_end_extraction

America Online Confidential 15-4  America Online, Inc. 1993-94




January 1994 FDO91 Manual, Vol. 2

atom$de_ez_send_field
15 ($0F)

Description

atom$de_ez_send_field is a shorthand atom that sends the data from the
current object to the host.

Syntax

atom$de_ez_send_field <token>

<token> Specifies a token to send to host with data.

Return Value

Unchanged

Example

atom$de_ez_send_field <token>

 America Online, Inc. 1993-94 15-5 America Online Confidential




Chapter 15: Data Manager Protocol January 1994

atom$de_ez_send_form
10 ($0A)

Description

atom$de_ez_send_form is a shorthand atom that sends the data from all the
sendable children of the current object to the host.

Syntax

atom$de_ez_send_form <token> [<32_bit_val>]

<token> Specifies a token to send to host.

<32_bit_val> Specifies an optional  32-bit custom value.

Return Value

Unchanged

Example

atom$de_ez_send_form <token> [<32_bit_val>]

America Online Confidential 15-6  America Online, Inc. 1993-94




January 1994 FDO91 Manual, Vol. 2

atom$de_ez_send_list_index
14 ($0E)

Description

atom$de_ez_send_list_index is a shorthand atom that sends the index of the
selected item of the current list box or the list box specified by the optional
relative ID parameter.

Syntax

atom$de_ez_send_list_index <token> [<relative_ID>]

<token> Specifies a token to send to host.

<relative_ID> Specifies an optional relative ID.

Return Value

Unchanged

Example

atom$de_ez_send_list_index <token> [<relative_ID>]

 America Online, Inc. 1993-94 15-7 America Online Confidential




Chapter 15: Data Manager Protocol January 1994

atom$de_ez_send_list_text
12 ($0C)

Description

atom$de_ez_send_list_text is a shorthand atom that sends the text of the
currently selected item from the current list box or the list box specified by the
optional relative ID parameter.

Syntax

atom$de_ez_send_list_text <token> [<relative_ID>]

<token> Specifies a token to send to host.

<relative_ID> Specifies an optional relative ID.

Return Value

Unchanged

Example

atom$de_ez_send_list_text <token> [<relative_ID>]

America Online Confidential 15-8  America Online, Inc. 1993-94




January 1994 FDO91 Manual, Vol. 2

atom$de_get_data
6 ($06)

Description

atom$de_get_data gets data according to the preset state of the Data
Manager Tool and sends it to the host.

Syntax

atom$de_get_data [<extract_method>]

<extract_method> Specifies an optional extraction method.  Values are as
follows:

0 EM_DEFAULT

1 EM_CURRENT_OBJECT

2 EM_SELECTED_CHILDREN

3 EM_CUR_OBJ_SELECTED_
CHILDREN

4 EM_ALL_CHILDREN

5 EM_CUR_OBJ_ALL_CHILDREN

Return Value

Unchanged

Example

atom$de_get_data 1

 America Online, Inc. 1993-94 15-9 America Online Confidential




Chapter 15: Data Manager Protocol January 1994

atom$de_get_data_pointer
9 ($09)

Description

atom$de_get_data_pointer gets data and returns a pointer to the data
according to the preset state of the Data Manager Tool.

Syntax

atom$de_get_data_pointer [<extract_method>]

<extract_method> Specifies an optional extraction method.  Values as
follows:

0 EM_DEFAULT

1 EM_CURRENT_OBJECT

2 EM_SELECTED_CHILDREN

3 EM_CUR_OBJ_SELECTED_
CHILDREN

4 EM_ALL_CHILDREN

5 EM_CUR_OBJ_ALL_CHILDREN

Return Value

A pointer to the extracted data.

Example

atom$de_get_data_pointer 4

America Online Confidential 15-10  America Online, Inc. 1993-94




January 1994 FDO91 Manual, Vol. 2

atom$de_get_data_value
8 ($08)

Description

atom$de_get_data_value gets data and returns the value of the data
according to the preset state of the Data Manager Tool.

Syntax

atom$de_get_data_value [<extract_method>]

<extract_method> Specifies an optional extraction method values as
follows:

0 EM_DEFAULT

1 EM_CURRENT_OBJECT

2 EM_SELECTED_CHILDREN

3 EM_CUR_OBJ_SELECTED_
CHILDREN

4 EM_ALL_CHILDREN

5 EM_CUR_OBJ_ALL_CHILDREN

Return Value

The extracted value.

Example

atom$de_get_data_value 1

 America Online, Inc. 1993-94 15-11 America Online Confidential




Chapter 15: Data Manager Protocol January 1994

atom$de_set_data_type
3 ($03)

Description

atom$de_set_data_type sets the data type to be extracted by the next
atom$de_get_data command.

Syntax

atom$de_set_data_type <data_type>

<data_type> Specifies a data type.  Values are as follows:

0 DATATYPE_DEFAULT

1 DATATYPE_TEXT

2 DATATYPE_VAR

3 DATATYPE_BOOLEAN

4 DATATYPE_GLOBAL_ID

5 DATATYPE_RELATIVE_ID

6 DATATYPE_INDEX

7 DATATYPE_CHILD_COUNT

8 DATATYPE_OBJPTR

9 DATATYPE_VALUE

10 DATATYPE_RAW

Return Value

Unchanged

America Online Confidential 15-12  America Online, Inc. 1993-94




January 1994 FDO91 Manual, Vol. 2

Example

atom$de_set_data_type 1

 America Online, Inc. 1993-94 15-13 America Online Confidential




Chapter 15: Data Manager Protocol January 1994

atom$de_set_extraction_type
0 ($00)

Description

atom$de_set_extraction_type is sent to the host on an atom$de_get_data to
tell the host the extraction method used.

This atom is a host-bound atom only.

Syntax

atom$de_set_extraction_type <extract_method>

<extract_method> Specifies an extraction method.  Values are as follows:

0 EM_DEFAULT

1 EM_CURRENT_OBJECT

2 EM_SELECTED_CHILDREN

3 EM_CUR_OBJ_SELECTED_
CHILDREN

4 EM_ALL_CHILDREN

5 EM_CUR_OBJ_ALL_CHILDREN

Return Value

Unchanged

Example

atom$de_set_extraction_type 1

America Online Confidential 15-14  America Online, Inc. 1993-94




January 1994 FDO91 Manual, Vol. 2

atom$de_set_text_column
5 ($05)

Description

atom$de_set_text_column sets the column (tab stop) from which text is
extracted on the next atom$de_get_data command.

Syntax

atom$de_set_text_column <number>

<number> Specifies a zero-based column number.

Return Value

Unchanged

Example

atom$de_set_text_column <number>

 America Online, Inc. 1993-94 15-15 America Online Confidential




Chapter 15: Data Manager Protocol January 1994

atom$de_set_variable_id
4 ($04)

Description

atom$de_set_variable_id sets the ID of the variable to be extracted on the
next atom$de_get_data command.

Parameters

atom$de_set_variable_id <var_id>

<var_id> Specifies the variable ID.

Return Value

Unchanged

Example

atom$de_set_variable_id <var_ID>

America Online Confidential 15-16  America Online, Inc. 1993-94




January 1994 FDO91 Manual, Vol. 2

atom$de_start_extraction
2 ($02)

Description

atom$de_start_extraction initializes the Data Manager Tool for the current
stream.  This atom is always used to start extraction.

Syntax

atom$de_start_extraction [<buf_flag>]

<buf_flag> Specifies optional buffer flags.  For flag values, see the
atom$buf_set_flag atom in Chapter 6, "The Buffer
Tool."  Default flags are for sending data to the host.  A
zero value can be used for local operations.

Return Value

Unchanged

Example

atom$de_start_extraction <buf_flag>

 America Online, Inc. 1993-94 15-17 America Online Confidential




Chapter 15: Data Manager Protocol January 1994

atom$de_validate
16 ($10)

Description

atom$de_validate causes the member input fields in the current object tree to
be validated.

Syntax

atom$de_validate <action_flags>

<action_flags> Specifies one or more optional actions to be taken when
a field that is not valid is encountered.  The following
flags can be combined:

DVF_DISPLAY_MESSAGE (01) - Displays a message
box informing the member that a field in error was
detected.

DVF_TERMINATE (02) - Performs a
DE_END_EXTRACTION and terminates the current
stream.

Return Value

0 (zero) if the input is valid, non-zero otherwise.

Example

atom$de_validate <action_flags>

America Online Confidential 15-18  America Online, Inc. 1993-94



===== END PDF: ch15-de.pdf =====

===== BEGIN PDF: ch16-idb.pdf =====



Manual: FDO91 Manual
Chapter 16: Database Manager Protocol defines database manager protocol atoms and provides
information for maintaining the online database.
Last updated: January 1994




C H A P T E R  1 6

Database Manager Protocol

The Database Manager protocol (protocol ID 5) consists of atoms that enable
the storage and retrieval of data records in the main database of the client
application.  Various record types and attributes are supported.  Each record in
the database is identified by a unique global ID.  The Database Manager
protocol performs space reclamation tasks in order to keep the database size to
a minimum.

Database Manager Protocol Atoms

The Database Manager protocol atoms are described in alphabetical order in
the rest of this chapter.

America Online Confidential 16-1  America Online, Inc. 1993-94




Chapter 16: Database Manager Protocol January 1994

atom$idb_append_data
11 ($0B)

Description

atom$idb_append_data adds the specified data to the current database
record.

Syntax

atom$idb_append_data <data>

<data> Specifies the data to be appended.

Return Value

lValue is preserved.

Example

atom$idb_append_data "Now is the time ..."

America Online Confidential 16-2  America Online, Inc. 1993-94




January 1994 FDO91 Manual, Vol. 2

atom$idb_atr_dod
0 ($00)

Description

atom$idb_atr_dod sets or clears the DOD (data on demand) attribute of the
current database record.

Syntax

atom$idb_atr_dod [<flag>]

<flag> Specifies an optional value of 1 to set the DOD attribute
or 0 to clear it.  If this argument is not specified, the
DOD attribute is set.

Return Value

lValue is preserved.

Example

atom$idb_atr_dod 0

 America Online, Inc. 1993-94 16-3 America Online Confidential




Chapter 16: Database Manager Protocol January 1994

atom$idb_atr_globalid
20 ($14)

Description

atom$idb_atr_globalid establishes the global ID of the current database
record.

Syntax

atom$idb_atr_globalid <global ID>

<global_id> Specifies the global ID of the current database record.

Return Value

lValue is preserved.

Example

atom$idb_atr_globalid <32-12-345>

America Online Confidential 16-4  America Online, Inc. 1993-94




January 1994 FDO91 Manual, Vol. 2

atom$idb_atr_length
21 ($15)

Description

atom$idb_atr_length establishes the length of the current database record.

Syntax

atom$idb_atr_length <rec_length>

<rec_length> Specifies the record length.

Return Value

lValue is preserved.

Example

atom$idb_atr_length 4

 America Online, Inc. 1993-94 16-5 America Online Confidential




Chapter 16: Database Manager Protocol January 1994

atom$idb_atr_offset
23 ($17)

Description

atom$idb_atr_offset establishes the offset within the current database record
at which data is appended.

Syntax

atom$idb_atr_offset <offset>

<offset> Specifies the offset.

Return Value

lValue is preserved.

Example

atom$idb_atr_offset <27>

America Online Confidential 16-6  America Online, Inc. 1993-94




January 1994 FDO91 Manual, Vol. 2

atom$idb_cancel
18 ($12)

Description

18 ($12)  atom$idb_cancel closes the current database record context without
writing the record to the database.

Syntax

atom$idb_cancel

Return Value

lValue is preserved.

Example

atom$idb_cancel

 America Online, Inc. 1993-94 16-7 America Online Confidential




Chapter 16: Database Manager Protocol January 1994

atom$idb_change_context
14 ($0E)

Description

atom$idb_change_context ends the current context and establishes a new
context.

Syntax

atom$idb_change_context <global_ID>

<global_ID> Specifies the global ID of the new database record.

Return Value

lValue is preserved.

Example

atom$idb_change_context <32-12-345>

America Online Confidential 16-8  America Online, Inc. 1993-94




January 1994 FDO91 Manual, Vol. 2

atom$idb_delete_obj
3 ($03)

Description

atom$idb_delete_obj deletes the specified record from the database.

Syntax

atom$idb_delete_obj <global_ID>

<global_ID> Specifies the global ID of the record to delete.

Return Value

True if successful, false otherwise.

Example

atom$idb_delete_obj <32-12-345>

 America Online, Inc. 1993-94 16-9 America Online Confidential




Chapter 16: Database Manager Protocol January 1994

atom$idb_end_context
15 ($0F)

Description

atom$idb_end_context writes the current record to the database and closes
the context associated with that record.

Syntax

atom$idb_end_context

Return Value

lValue is preserved.

Example

atom$idb_end_context

America Online Confidential 16-10  America Online, Inc. 1993-94




January 1994 FDO91 Manual, Vol. 2

atom$idb_exists
5 ($05)

Description

atom$idb_exists tests for the existence of the specified database record.

Syntax

atom$idb_exists <global_ID>

<global_ID> Specifies global ID of record for which to test.

Return Value

The global ID if the record exists; otherwise zero.

Example

atom$idb_exists <32-12-345>

 America Online, Inc. 1993-94 16-11 America Online Confidential




Chapter 16: Database Manager Protocol January 1994

atom$idb_get_data
8 ($08)

Description

atom$idb_get_data returns a pointer to the data from the current record
based on the current offset and length.

Syntax

atom$idb_get_data

Return Value

A data pointer to current record.

Example

atom$idb_get_data

America Online Confidential 16-12  America Online, Inc. 1993-94




January 1994 FDO91 Manual, Vol. 2

atom$idb_get_length
30 ($1E)

Description

atom$idb_get_length returns the currently established data length.

Syntax

atom$idb_get_length

Return Value

The current data length.

Example

atom$idb_get_length

 America Online, Inc. 1993-94 16-13 America Online Confidential




Chapter 16: Database Manager Protocol January 1994

atom$idb_get_value
9 ($09)

Description

atom$idb_get_value returns the specified number of bytes from the current
record.

Syntax

atom$idb_get_value <bytes>

<bytes> Specifies number of bytes to return.

Return Value

The value from the current record.

Example

atom$idb_get_value <3>

America Online Confidential 16-14  America Online, Inc. 1993-94




January 1994 FDO91 Manual, Vol. 2

atom$idb_set_context
19 ($13)

Description

atom$idb_set_context sets the context to the specified database record.

Syntax

atom$idb_set_context <global_ID>

<global_ID> Specifies global ID.

Return Value

lValue preserved.

Example

atom$idb_set_context <32-12-345>

 America Online, Inc. 1993-94 16-15 America Online Confidential




Chapter 16: Database Manager Protocol January 1994

atom$idb_start_obj
1 ($01)

Description

atom$idb_start_obj starts a new database context of the specified type.

Syntax

atom$idb_start_obj <record_type>

<record_type> Specifies an optional record type.  Default type is
ATOM.

Return Value

lValue preserved.

Example

atom$idb_start_obj

America Online Confidential 16-16  America Online, Inc. 1993-94



===== END PDF: ch16-idb.pdf =====

===== BEGIN PDF: ch18-fm.pdf =====



Manual: FDO91 Manual
Chapter 18: File Manager Protocol defines file manager protocol atoms and provides information for
handling file management.
Last updated: February 1995




C H A P T E R  1 8

File Manager Protocol

The File Manager protocol (protocol ID 8) consists of atoms that manage
online service files on the client computer.  The functions provided in the File
Manager Tool can be accessed through inter-tool messaging, as well as with
atom commands.  The File Manager Tool's primary responsibilities include the
following:

• Support for the commands on the standard File menu and extendibility for
future non-text views.

• File type registration and notification for tools.

• Atom- and message-based interface to the Windows Common Dialog
Library's Open, Print, and Save As dialog boxes.

• Low-level session log and chat log support, including basic word wrap.

• Windows drag-and-drop functionality.

• The ability to read and modify any .INI file.

• Basic file operations such as creation, deletion, and renaming.

Context of the File Manager Tool

The online service application supports multiple, concurrent streams of data,
which requires the File Manager Tool to be available for simultaneous
operations.  To support simulataneous operations, the File Manager Tool
maintains multiple contexts.  A context is the current state of the File Manager
Tool and consists mainly of approximately twenty context registers, each of
which contains a single value or string representing data to be passed to an
operation, the result of an operation, or some other piece of information.  The
atom$fm_start atom is used to create a File Manager Tool context for a

America Online Confidential 18-1  America Online, Inc. 1993-95




Chapter 18: File Manager Protocol February 1995

stream, while the atom$fm_end atom should be invoked before the stream
terminates in order to dispose of the context.  A similar set of messages exists
for tools that need to make use of File Manager Tool services.

Once a context has been created, other command atoms and messages may be
used to manipulate the context registers.  Since all File Manager Tool atoms
have been designed to take no more than a single argument, setting the value
of a register directly is a two-step process.  First, use the atom$fm_item_type
atom to select the register to be used for subsequent operations.  Then, supply
the new value of the register via the atom$fm_item_set atom.  To query the
value of a register, imbed the atom$fm_item_get atom in your stream.  The
value of the selected register is returned as the last atom value of the stream.
For information on how to use the value of the selected register, see Chapter 5,
"Universal Protocol."

File Types

In a tool-based environment such as that used by the online service application,
it is impossible to anticipate all of the document types that might be introduced
in the future by new tools.  In fact, even attempting to do so would go against
the grain of the tool approach, where extendibility must be ensured.  With that
in mind, The File Manager Tool was designed to make it possible to seamlessly
add new document types without changing any existing code or forms.  When
a tool that supports a document type is present, File menu operations
automatically handle that type of document, passing requests to the appropriate
tool as needed.  Similarly, drag-and-drop operations involving the new
document type are forwarded to the proper tool.

The bulk of this is accomplished through file type registration. During its
initialization, a tool that manages a type of document must register its
document type by sending a message to the File Manager Tool that includes
the 3-character file type extension shared by all documents of the given type,
tag text describing the document type, and a set of flags that determine the
behavior of such documents in generic terms (i.e., whether such documents can
be loaded, created, and/or saved from the File menu).  The File Manager Tool
returns a file type ID to the tool to be used for all future transactions involving
that document type.

Tools that register file types can also include handlers for any notification
messages broadcast by the File Manager Tool.  These include requests to open
a specific file, determine which file type(s) to use for a Save As, and save the
current file.  All File Manager Tool messages are sent to tools that that have
registered for the messages.  A file type ID is passed with all broadcast
messages to allow a tool to ignore messages that do not pertain to one of its

America Online Confidential 18-2  America Online, Inc. 1993-95




February 1995 FDO91 Manual, Vol. 2

document types.  Broadcasting to all registered tools makes it possible for
tools to share file types and is also necessary for operations where the file type
is ambiguous or simply not known.  For example, many tools listen for the
MSG_NOTIFY_INQUIRE_SAVE_AS message.  The tool that determines
that one of its documents is displayed in the current window responds to the
message; all other tools ignore it, letting it pass to the next tool in the dispatch
tree.

Related file types may be grouped for the purpose of reducing the number of
items displayed in the pop-up menu on file selection dialog boxes.  For
example, "*.PCX" and "*.LBM" files might be grouped under the heading "Art
Files."  When a file group is registered, a file type ID is returned that can be
used to reference the group.  For more information on using file type grouping,
see the atom descriptions later in this chapter and message descriptions in the
America Online Windows Client Manual.

Dialog Boxes

The File Manager Tool employs the standard Windows 3.1 Open, Save As,
and Print dialog boxes.  In addition, a locally-defined dialog box is used to
select the type for New operations.  Prior to using the atoms that invoke the
dialog boxes, the File Manager tool usually performs a small amount of
initialization.  The initial directory can be specified, and, for Save As, a default
filename may be needed.  By default, the only file type selectable from the pop-
up menu is "All Files (*.*)."  The File Manager Tool provides several atoms
that add registered file types and file groups to the context file list, which is the
list of file types displayed in the next dialog box.  In the Open dialog box, the
file type list is merely a convenience to the user; however, for Save As, the file
type highlighted when the transaction is complete determines the type of
document created, as well as the default extension used if the user did not
specify one.

After the user completes a dialog box transaction, several context registers
may be set.  The most important register – and the first to check – is
fmi_error_code, which summarizes the overall result of the operation.  A result
of 0 indicates that the transaction was successful.  A non-zero value indicates
that the user canceled the operation or that a disk error occurred.  The
atom$fm_handle_error atom can be used to provide default error handling; it
does nothing if no error occurred, but optionally displays an error message,
broadcasts the error to all registered tools, and/or terminates the current
stream if something went awry.  Other registers updated include the
fmi_filename, fmi_path, and fmi_filespec.  The File Manager Tool also deduces
a file type from the extension of the file selected (or from the highlighted file

 America Online, Inc. 1993-95 18-3 America Online Confidential




Chapter 18: File Manager Protocol February 1995

type if no extension was specified) and updates the file type ID, extension, and
description registers.

Several options are available once the user selects a file.  The
atom$fm_broadcast atom can be used to announce the event to any
registered tools.  The argument to that atom is the type of broadcast message
to be generated.  Alternatively, the value of any register(s) can be used as the
argument(s) of subsequent atoms in any protocol.  For example, the filespec
could be displayed in a text field on a screen or saved in an action variable.
Beyond that, the File Manager Tool provides several atoms that carry out
common file operations on the current file.

Initialization Files

Windows applications use initialization (*.INI) files to keep track of user
preferences and other settings that must be maintained between application
sessions.  Since the online service application employs a much more
sophisticated database system, the .INI file is not often used.  However, .INI
files are still useful for providing hooks for options and functionality that need
to be made available to members on an emergency basis only.  An example of
this includes special debugging flags that cause the online service application to
create detailed crash reports.

The File Manager Tool provides atoms that allow any .INI file to be read or
modified.  The default .INI file is AOL.INI, and a register is provided to allow
a stream to switch to a different .INI file, such as WIN.INI, when necessary.
.INI file settings are identified by group and key; to access a particular setting,
you must set the fmi_ini_group and fmi_ini_key registers.  The online service
application supports the following data types in .INI files: string
(FM_INI_STRING), integer (FM_INI_INT), and boolean (FM_INI_BOOL).
The fmi_ini_data_type context register is used to specify the data type for an
atom$fm_write_data or atom$fm_read_data atom.

File Operations

A number of advanced file and disk operations were added to the tool as atoms
and messages to provide additional functionality.  These include creating,
opening, and closing files, deleting files, renaming files, checking a disk volume
for space, and adding data to and reading data from files at any offset.  This
functionality, coupled with the power of the action language, allows fairly
complex file management tasks to be carried out through atom streams.

America Online Confidential 18-4  America Online, Inc. 1993-95




February 1995 FDO91 Manual, Vol. 2

A stream may have only one file open at once.  The fmi_handle context register
contains the handle for the currently open file.  When no file is open, the value
of that register is guaranteed to be 0.  Open files are not automatically closed
when a context is destroyed or the stream ends; they must be explicitly closed.
File operations that require a filespec, such as open and create, use the one
contained in the fmi_filespec context register.

Files can be opened in binary mode or text mode.  In binary mode, the
argument to an atom$fm_append_data atom is appended verbatim to the file.
In text mode, some simple interpretation of the data can be done.  Word wrap
can be applied based on the line width and indentation registers, escape
sequences are expanded to the current date and time or the text of a register,
and chat logs can be properly formatted.  The fmi_text_flags context register
dictates which translations are used.

File Manager Protocol Atoms

The File Manager protocol atoms are described in alphabetical order in the rest
of this chapter.

 America Online, Inc. 1993-95 18-5 America Online Confidential




Chapter 18: File Manager Protocol February 1995

atom$fm_add_file_type
7 ($07)

Description

atom$fm_add_file_type adds a registered file type to the context file type list.
This atom is used with atom$fm_dialog_get_file and
atom$fm_dialog_put_file.  For more information about registering file types,
see atom$fm_register.

If no argument is specified, the value of the fmi_file_type_id context register is
used.

Syntax

atom$fm_add_file_type [<file_type_id>]

[<file_type_id>] Specifies a registered file type.

Return Value

Unchanged.

Example

The following is an example of how to add a registered file type to the context
file type list:

atom$fm_start
atom$fm_item_type <fmi_file_type_ext>
atom$fm_item_set <JPG>
atom$fm_item_type <fmi_file_type_desc>
atom$fm_item_set <JPG Files>
atom$fm_register <FMR_FILE_TYPE>

ê atom$fm_add_file_type
atom$fm_dialog_put_file <Save As>

America Online Confidential 18-6  America Online, Inc. 1993-95




February 1995 FDO91 Manual, Vol. 2

.

.

.
atom$fm_end

The example is explained as follows:

atom$fm_start

Creates a File Manager Tool context.

atom$fm_item_type <fmi_file_type_ext>

Specifies the fmi_file_type_ext context register.

atom$fm_item_set <JPG>

Sets the value of the current context register to JPG.

atom$fm_item_type <fmi_file_type_desc>

Specifies the fmi_file_type_desc context register.

atom$fm_item_set <JPG Files>

Sets the value of the current context register to JPG Files.

atom$fm_register <FMR_FILE_TYPE>

Registers a new file type and creates a file type ID.

ê atom$fm_add_file_type

Adds the registered file type ID stored in the fmi_file_type_id context
register to the context file type list.

atom$fm_dialog_put_file <Save As>

Displays a standard Windows file dialog box and retrieves a filename
and full path of a file to be created.

atom$fm_end

Disposes of the File Manager Tool context.

 America Online, Inc. 1993-95 18-7 America Online Confidential




Chapter 18: File Manager Protocol February 1995

atom$fm_add_file_type_mask
9 ($09)

Description

atom$fm_add_file_type_mask adds all registered file types matching a mask
criteria to the context file type list.  This atom is used with
atom$fm_dialog_get_file and atom$fm_dialog_put_file.  For more
information about registering file types, see atom$fm_register.

The mask criteria requires that the type flag value of each registered file type
be exclusive-ored with the value of the fmi_xor_mask context register and
anded with the value of the fmi_and_mask context register.  If the result is
non-zero, the file type is added to the context file list.  To add all registered file
types to the file list, set the value of the fmi_xor_mask register to <FFx FFx>
and the value of the fmi_and_mask register to <0>.  For more information
about setting context registers, see atom$fm_item_type and
atom$fm_item_set.

Syntax

atom$fm_add_file_type_mask

Return Value

Unchanged.

Example

The following is an example of how to add all registered file types matching a
mask criteria to the context file type list:

atom$fm_start
atom$fm_item_type <fmi_xor_mask>
atom$fm_item_set <FFx FFx>
atom$fm_item_type <fmi_and_mask>
atom$fm_item_set <0>

ê atom$fm_add_file_type_mask
atom$fm_dialog_get_file <Open a file>

America Online Confidential 18-8  America Online, Inc. 1993-95




February 1995 FDO91 Manual, Vol. 2

.

.

.
atom$fm_end

The example is explained as follows:

atom$fm_start

Creates a File Manager Tool context.

atom$fm_item_type <fmi_xor_mask>

Specifies the fmi_xor_mask context register.

atom$fm_item_set <FFx FFx>

Sets the value of the current context register to FFx FFx.

atom$fm_item_type <fmi_and_mask>

Specifies the fmi_and_mask context register.

atom$fm_item_set <0>

Sets the value of the current context register to 0.

ê atom$fm_add_file_type_mask

Adds all registered file types matching the mask criteria to the context
file type list.

atom$fm_dialog_get_file <Open a file>

Displays a standard Windows file dialog box and retrieves a filename
and full path of an existing file.

atom$fm_end

Disposes of the File Manager Tool context.

 America Online, Inc. 1993-95 18-9 America Online Confidential




Chapter 18: File Manager Protocol February 1995

atom$fm_add_type_to_group
14 ($0E)

Description

atom$fm_add_type_to_group adds a registered file type to the current
group.  The fmi_file_group_id context register contains the ID of the current
group.

If no argument is specified, the value of the fmi_file_type_id context register is
used.

Syntax

atom$fm_add_type_to_group [<file_type_id>]

[<file_type_id>] Specifies a registered file type or group identifier.

Return Value

Unchanged.

Example

The following is an example of how to register two file types and a group and
add the two registered file types to the group:

atom$fm_start
atom$fm_item_type <fmi_file_type_ext>
atom$fm_item_set <GIF>
atom$fm_item_type <fmi_file_type_desc>
atom$fm_item_set <GIF Files>
atom$fm_register <FMR_FILE_TYPE>
atom$fm_item_get <fmi_file_type_id>
atom$var_number_set_from_atom <NUMA>
atom$fm_item_type <fmi_file_type_ext>
atom$fm_item_set <JPG>
atom$fm_item_type <fmi_file_type_desc>
atom$fm_item_set <JPG Files>
atom$fm_register <FMR_FILE_TYPE>
atom$fm_item_get <fmi_file_type_id>
atom$var_number_set_from_atom <NUMB>
atom$fm_item_type <fmi_file_type_desc>
atom$fm_item_set <Graphics Files>
atom$fm_register <FMR_FILE_GROUP>
atom$var_number_get <NUMA>

America Online Confidential 18-10  America Online, Inc. 1993-95




February 1995 FDO91 Manual, Vol. 2

ê atom$uni_use_last_atom_value <prot$file>
    <atom$fm_add_type_to_group>

atom$var_number_get <NUMB>
ê atom$uni_use_last_atom_value <prot$file>
    <atom$fm_add_type_to_group>

.

.

.
atom$fm_end

The example is explained as follows:

atom$fm_start

Creates a File Manager Tool context.

atom$fm_item_type <fmi_file_type_ext>

Specifies the fmi_file_type_ext context register.

atom$fm_item_set <GIF>

Sets the value of the current context register to GIF.

atom$fm_item_type <fmi_file_type_desc>

Specifies the fmi_file_type_desc context register.

atom$fm_item_set <GIF Files>

Sets the value of the current context register to GIF Files.

atom$fm_register <FMR_FILE_TYPE>

Registers a new file type and creates a file type ID.

atom$fm_item_get <fmi_file_type_id>

Retrieves the value of the fmi_file_type_id context register.

atom$var_number_set_from_atom <NUMA>

Sets the value of the NUMA variable register to the file type ID
assigned to the GIF file type.

atom$fm_item_type <fmi_file_type_ext>

Specifies the fmi_file_type_ext context register.

 America Online, Inc. 1993-95 18-11 America Online Confidential




Chapter 18: File Manager Protocol February 1995

atom$fm_item_set <JPG>

Sets the value of the current context register to JPG.

atom$fm_item_type <fmi_file_type_desc>

Specifies the fmi_file_type_desc context register.

atom$fm_item_set <JPG Files>

Sets the value of the current context register to JPG Files.

atom$fm_register <FMR_FILE_TYPE>

Registers a new file type and creates a file type ID.

atom$fm_item_get <fmi_file_type_id>

Retrieves the value of the fmi_file_type_id context register.

atom$var_number_set_from_atom <NUMB>

Sets the value of the NUMB variable register to the file type ID
assigned to the JPG file type.

atom$fm_item_type <fmi_file_type_desc>

Specifies the fmi_file_type_desc context register.

atom$fm_item_set <Graphics Files>

Sets the value of the current context register to Graphics Files.

atom$fm_register <FMR_FILE_GROUP>

Registers a new file group and creates a file group ID.

atom$var_number_get <NUMA>

Gets the value of the NUMA variable register.

ê atom$uni_use_last_atom_value <prot$file>
    <atom$fm_add_type_to_group>

Adds the registered file type retrieved with the previous atom to the
current group.

America Online Confidential 18-12  America Online, Inc. 1993-95




February 1995 FDO91 Manual, Vol. 2

atom$var_number_get <NUMB>

Gets the value of the NUMB variable register.

ê atom$uni_use_last_atom_value <prot$file>
    <atom$fm_add_type_to_group>

Adds the registered file type retrieved with the previous atom to the
current group.

atom$fm_end

Disposes of the File Manager Tool context.

 America Online, Inc. 1993-95 18-13 America Online Confidential




Chapter 18: File Manager Protocol February 1995

atom$fm_append_data
27 ($1B)

Description

atom$fm_append_data appends data at the current position to the file in
context.  The fmi_filespec context register contains the name of the file in
context.  The file must be open.

If the value of the fmi_text_mode context register is 1, indicating a text file, the
fmi_text_flags context register is honored using an interim data buffer to
format the data prior to writing it to the disk.  The formatting process uses the
values of the fmi_text_width and fmi_text_indent context registers.  For more
information about the context registers, see atom$fm_item_type.

atom$fm_append_data sets the value of the fmi_error_code context register
to reflect the result of the operation.  For more information about the possible
values for this register, see atom$fm_handle_error.

Syntax

atom$fm_append_data <data>

<data> Specifies data.

Return Value

Unchanged.

Example

The following is an example of how to append data to the currently open file at
the current position:

atom$fm_start
atom$fm_item_type <fmi_xor_mask>
atom$fm_item_set <FFx FFx>
atom$fm_item_type <fmi_and_mask>
atom$fm_item_set <0>
atom$fm_add_file_type_mask
atom$fm_dialog_put_file <Open a file>
atom$fm_create_file
atom$fm_open_file <4>

America Online Confidential 18-14  America Online, Inc. 1993-95




February 1995 FDO91 Manual, Vol. 2

ê atom$fm_append_data <Hello>

The example is explained as follows:

atom$fm_start

Creates a File Manager Tool context.

atom$fm_item_type <fmi_xor_mask>

Specifies the fmi_xor_mask context register.

atom$fm_item_set <FFx FFx>

Sets the value of the current context register to FFx FFx.

atom$fm_item_type <fmi_and_mask>

Specifies the fmi_and_mask context register.

atom$fm_item_set <0>

Sets the value of the current context register to 0.

atom$fm_add_file_type_mask

Adds all registered file types matching the mask criteria to the context
file type list.

atom$fm_dialog_put_file <Open a file>

Displays a standard Windows file dialog box and retrieves a filename
and full path of a file to be created.

atom$fm_create_file

Creates a file.

atom$fm_open_file <4>

Opens an existing file in text mode for write operations and positions
the file pointer to the beginning of the file.

ê atom$fm_append_data <Hello>

Appends data at the current position to the file in context.

 America Online, Inc. 1993-95 18-15 America Online Confidential




Chapter 18: File Manager Protocol February 1995

atom$fm_broadcast
5 ($05)

Description

atom$fm_broadcast broadcasts an event to the tools registered for that event.
If the tool returns a value, the value is stored in the
fmi_broadcast_return_value context register.  For more information about
registering tools for an event, see ???.

Syntax

atom$fm_broadcast <event>

<event> Specifies an event.  Values are as follows:

fmb_general (0) — general broadcast.

fmb_open (1) — file open request.

fmb_save_as (3) — save current document request.

fmb_save (4) — save current document with default
filename request.

fmb_inquire_new (5) — invitation to add file types to
the file list for use in a file type selection dialog box.

fmb_new (6) — create a new document request.

fmb_error (7) — error notification.

fmb_print (9) — print current document request.

fmb_abort_print (10) — current print job aborted
notification.

Return Value

Unchanged.

America Online Confidential 18-16  America Online, Inc. 1993-95




February 1995 FDO91 Manual, Vol. 2

Example

The following is an example of how to broadcast an event to the tools
registered for that event:

atom$fm_start
atom$fm_item_type <fmi_xor_mask>
atom$fm_item_set <FFx FFx>
atom$fm_item_type <fmi_and_mask>
atom$fm_item_set <0>
atom$fm_add_file_type_mask
atom$fm_dialog_get_file <Open a file>
atom$fm_handle_error <fhf_display_msg+terminate>

ê atom$fm_broadcast <fmb_open>
atom$fm_end

The example is explained as follows:

atom$fm_start

Creates a File Manager Tool context.

atom$fm_item_type <fmi_xor_mask>

Specifies the fmi_xor_mask context register.

atom$fm_item_set <FFx FFx>

Sets the value of the current context register to FFx FFx.

atom$fm_item_type <fmi_and_mask>

Specifies the fmi_and_mask context register.

atom$fm_item_set <0>

Sets the value of the current context register to 0.

atom$fm_add_file_type_mask

Adds all registered file types matching the mask criteria to the context
file type list.

atom$fm_dialog_get_file <Open a file>

Displays a standard Windows file dialog box and retrieves a filename
and full path of an existing file.

 America Online, Inc. 1993-95 18-17 America Online Confidential




Chapter 18: File Manager Protocol February 1995

atom$fm_handle_error <fhf_display_msg+terminate>

Provides generic error handling, using the fhf_display_msg+terminate
flag.

ê atom$fm_broadcast <fmb_open>

Broadcasts the fmb_open event type to all tools registered for that
event.

atom$fm_end

Disposes of the File Manager Tool context.

America Online Confidential 18-18  America Online, Inc. 1993-95




February 1995 FDO91 Manual, Vol. 2

atom$fm_close_file
26 ($1A)

Description

atom$fm_close_file closes a file.  The fmi_handle context register contains the
file handle associated with the file to be closed.

atom$fm_close_file sets the value of the fmi_error_code context register to
reflect the result of the operation.  For more information about the possible
values for this register, see atom$fm_handle_error.

Syntax

atom$fm_close_file

Return Value

Unchanged.

Example

The following is an example of how to close a file:

atom$fm_start
.
.
.
atom$fm_open_file <fmo_read>
.
.
.

ê atom$fm_close_file

The example is explained as follows:

atom$fm_start

Creates a File Manager Tool context.

atom$fm_open_file <fmo_read>

Opens an existing file in fmo_read mode and positions the file pointer
to the beginning of the file.

 America Online, Inc. 1993-95 18-19 America Online Confidential




Chapter 18: File Manager Protocol February 1995

ê atom$fm_close_file

Closes the file.

America Online Confidential 18-20  America Online, Inc. 1993-95




February 1995 FDO91 Manual, Vol. 2

atom$fm_create_file
21 ($15)

Description

atom$fm_create_file creates a file.  The fmi_filespec context register contains
the name of the file to be created.  If the file exists, the contents are discarded.
The value of the fmi_file_size context register determines the initial size of the
new file.

atom$fm_create_file sets the value of the fmi_error_code context register to
reflect the result of the operation.  For more information about the possible
values for this register, see atom$fm_handle_error.

Syntax

atom$fm_create_file

Return Value

Unchanged.

Example

The following is an example of how to create a file:

atom$fm_start
atom$fm_item_type <fmi_filespec>
atom$fm_item_set <c:\test.txt>
atom$fm_item_type <fmi_file_size>
atom$fm_item_set <40x 0x>

ê atom$fm_create_file

The example is explained as follows:

atom$fm_start

Creates a File Manager Tool context.

atom$fm_item_type <fmi_filespec>

Specifies the fmi_filespec context register.

 America Online, Inc. 1993-95 18-21 America Online Confidential




Chapter 18: File Manager Protocol February 1995

atom$fm_item_set <c:\test.txt>

Sets the value of the current context register to c:\test.txt.

atom$fm_item_type <fmi_file_size>

Specifies the fmi_file_size context register.

atom$fm_item_set <40x 0x>

Sets the value of the fmi_file_size context register to 16K.

ê atom$fm_create_file

Creates a file.

America Online Confidential 18-22  America Online, Inc. 1993-95




February 1995 FDO91 Manual, Vol. 2

atom$fm_delete_file
23 ($17)

Description

atom$fm_delete_file deletes a file.  The fmi_filespec context register contains
the name of the file to be deleted.  The file must be closed before it is deleted.

atom$fm_delete_file sets the value of the fmi_error_code context register to
reflect the result of the operation.  For more information about the possible
values for this register, see atom$fm_handle_error.

Syntax

atom$fm_delete_file

Return Value

Unchanged.

Example

The following is an example of how to delete a file:

atom$fm_start
.
.
.
atom$fm_open_file <fmo_read>
.
.
.
atom$fm_close_file

ê atom$fm_delete_file

The example is explained as follows:

atom$fm_start

Creates a File Manager Tool context.

atom$fm_open_file <fmo_read>

Opens an existing file in fmo_read mode and positions the file pointer
to the beginning of the file.

 America Online, Inc. 1993-95 18-23 America Online Confidential




Chapter 18: File Manager Protocol February 1995

atom$fm_close_file

Closes the file.

ê atom$fm_delete_file

Deletes the file.

America Online Confidential 18-24  America Online, Inc. 1993-95




February 1995 FDO91 Manual, Vol. 2

atom$fm_delete_file_type
8 ($08)

Description

atom$fm_delete_file_type deletes a registered file type from the context file
type list.  For more information about registering file types, see
atom$fm_register.

If no argument is specified, the value of the fmi_file_type_id context register is
used.

Syntax

atom$fm_delete_file_type [<file_type_id>]

[<file_type_id>] Specifies a registered file type.

Return Value

Unchanged.

Example

The following is an example of how to delete a registered file type from the
context file type list:

atom$fm_start
atom$fm_item_type <fmi_file_type_ext>
atom$fm_item_set <ART>
atom$fm_item_type <fmi_file_type_desc>
atom$fm_item_set <ART Files>
atom$fm_register <FMR_FILE_TYPE>
atom$fm_item_get <fmi_file_type_id>
atom$var_number_set_from_atom <NUMA>
.
.
.
atom$fm_add_file_type
atom$var_number_get <NUMA>

ê atom$uni_use_last_atom_value <prot$file>
    <atom$fm_delete_file_type>

 America Online, Inc. 1993-95 18-25 America Online Confidential




Chapter 18: File Manager Protocol February 1995

The example is explained as follows:

atom$fm_start

Creates a File Manager Tool context.

atom$fm_item_type <fmi_file_type_ext>

Specifies the fmi_file_type_ext context register.

atom$fm_item_set <ART>

Sets the value of the current context register to ART.

atom$fm_item_type <fmi_file_type_desc>

Specifies the fmi_file_type_desc context register.

atom$fm_item_set <ART Files>

Sets the value of the current context register to ART Files.

atom$fm_register <FMR_FILE_TYPE>

Registers a new file type and creates a file type ID.

atom$fm_item_get <fmi_file_type_id>

Retrieves the value of the fmi_file_type_id context register.

atom$var_number_set_from_atom <NUMA>

Sets the value of the NUMA variable register to the file type ID
assigned to the ART file type.

atom$fm_add_file_type

Adds the registered file type ID stored in the fmi_file_type_id context
register to the context file type list.

atom$var_number_get <NUMA>

Gets the value of the NUMA variable register.

America Online Confidential 18-26  America Online, Inc. 1993-95




February 1995 FDO91 Manual, Vol. 2

ê atom$uni_use_last_atom_value <prot$file>
    <atom$fm_delete_file_type>

Deletes the registered file type retrieved with the previous atom from
the context file type list.

 America Online, Inc. 1993-95 18-27 America Online Confidential




Chapter 18: File Manager Protocol February 1995

atom$fm_delete_file_type_mask
10 ($0A)

Description

atom$fm_delete_file_type_mask deletes all registered file types matching a
mask criteria from the context file type list.  This atom is used with
atom$fm_dialog_get_file and atom$fm_dialog_put_file.  For more
information about registering file types, see atom$fm_register.

The mask criteria requires that the type flag value of each registered file type
be exclusive-ored with the value of the fmi_xor_mask context register and
anded with the value of the fmi_and_mask context register.  If the result is
non-zero, the file type is deleted from the context file list.  To delete all
registered file types from the file list, set the value of the fmi_xor_mask register
to <FFx FFx> and the value of the fmi_and_mask register to <0>.  For more
information about setting context registers, see atom$fm_item_type and
atom$fm_item_set.

Syntax

atom$fm_delete_file_type_mask

Return Value

Unchanged.

Example

The following is an example of how to delete all registered file types matching
a mask criteria from the context file type list:

atom$fm_start
atom$fm_item_type <fmi_xor_mask>
atom$fm_item_set <FFx FFx>
atom$fm_item_type <fmi_and_mask>
atom$fm_item_set <0>

ê atom$fm_delete_file_type_mask

The example is explained as follows:

atom$fm_start

Creates a File Manager Tool context.

America Online Confidential 18-28  America Online, Inc. 1993-95




February 1995 FDO91 Manual, Vol. 2

atom$fm_item_type <fmi_xor_mask>

Specifies the fmi_xor_mask context register.

atom$fm_item_set <FFx FFx>

Sets the value of the current context register to FFx FFx.

atom$fm_item_type <fmi_and_mask>

Specifies the fmi_and_mask context register.

atom$fm_item_set <0>

Sets the value of the current context register to 0.

ê atom$fm_delete_file_type_mask

Deletes all registered file types matching the mask criteria from the
context file type list.

 America Online, Inc. 1993-95 18-29 America Online Confidential




Chapter 18: File Manager Protocol February 1995

atom$fm_delete_type_from_group
15 ($0F)

Description

atom$fm_delete_type_to_group deletes a registered file type from the
current group.  The fmi_file_group_id context register contains the ID of the
current group.

If no argument is specified, the value of the fmi_file_type_id context register is
used.

Syntax

atom$fm_delete_type_from_group [<file_type_id>]

[<file_type_id>] Specifies a registered file type or group identifier.

Return Value

Unchanged.

Example

The following is an example of how to delete a file type from a group:

atom$fm_start
.
.
.
atom$var_number_get <NUMA>

ê atom$uni_use_last_atom_value <prot$file>
    <atom$fm_delete_type_from_group>

The example is explained as follows:

atom$fm_start

Creates a File Manager Tool context.

atom$var_number_get <NUMA>

Gets the value of the NUMA variable register, which is a previously
stored file type ID.

America Online Confidential 18-30  America Online, Inc. 1993-95




February 1995 FDO91 Manual, Vol. 2

ê atom$uni_use_last_atom_value <prot$file>
    <atom$fm_delete_type_from_group>

Deletes the registered file type retrieved with the previous atom from
the current group.

 America Online, Inc. 1993-95 18-31 America Online Confidential




Chapter 18: File Manager Protocol February 1995

atom$fm_dialog_get_file
17 ($11)

Description

atom$fm_dialog_get_file displays a standard Windows file dialog box and
retrieves a filename and full path of an existing file from a member.

If the filename is valid, the following context registers are updated:
fmi_file_type_id, fmi_file_type_ext, fmi_file_type_flags, fmi_filename,
fmi_path, and fmi_filespec.

Syntax

atom$fm_dialog_get_file <title>

<title> Specifies a title for the dialog box.

Return Value

Unchanged.

Example

The following is an example of how to display a standard Windows file dialog
box and retrieve a filename and full path name of an existing file from a
member:

atom$fm_start
atom$fm_item_type <fmi_xor_mask>
atom$fm_item_set <FFx FFx>
atom$fm_item_type <fmi_and_mask>
atom$fm_item_set <0>
atom$fm_add_file_type_mask

ê atom$fm_dialog_get_file <Open a file>

The example is explained as follows:

atom$fm_start

Creates a File Manager Tool context.

America Online Confidential 18-32  America Online, Inc. 1993-95




February 1995 FDO91 Manual, Vol. 2

atom$fm_item_type <fmi_xor_mask>

Specifies the fmi_xor_mask context register.

atom$fm_item_set <FFx FFx>

Sets the value of the current context register to FFx FFx.

atom$fm_item_type <fmi_and_mask>

Specifies the fmi_and_mask context register.

atom$fm_item_set <0>

Sets the value of the current context register to 0.

atom$fm_add_file_type_mask

Adds all registered file types matching the mask criteria to the context
file type list.

ê atom$fm_dialog_get_file <Open a file>

Displays a standard Windows file dialog box and retrieves a filename
and full path of an existing file.

 America Online, Inc. 1993-95 18-33 America Online Confidential




Chapter 18: File Manager Protocol February 1995

atom$fm_dialog_print
20 ($14)

Description

atom$fm_dialog_print displays a dialog box for printing.

atom$fm_dialog_print sets the value of the fmi_error_code context register
to reflect the result of the operation.  For more information about the possible
values for this register, see atom$fm_handle_error.

In addition, the following context registers are updated: fmi_print_copies and
fmi_hdc.

Syntax

atom$fm_dialog_print <dialog_code>

<dialog_code> Specifies a dialog box.  Values are as follows:

fmp_print (0) — The standard Windows print dialog
box.

fmp_setup (1) — The standard Windows print setup
dialog box.

fmp_printing (2) — The online service print job status
dialog box.

fmp_done (3) — The online service print job completed
dialog box.

Return Value

Unchanged.

Example

The following is an example of how to display a dialog box for printing:

atom$fm_start

America Online Confidential 18-34  America Online, Inc. 1993-95




February 1995 FDO91 Manual, Vol. 2

.

.

.
atom$fm_item_type <fmi_print_min_page>
atom$fm_item_set <1>
atom$fm_item_type <fmi_print_max_page>
atom$fm_item_set <2>
atom$fm_item_type <fmi_print_job_name>
atom$fm_item_set <Document1>

ê atom$fm_dialog_print <fmp_print>
atom$fm_broadcast <fmb_print>

The example is explained as follows:

atom$fm_start

Creates a File Manager Tool context.

atom$fm_item_type <fmi_print_min_page>

Specifies the fmi_print_min_page context register.

atom$fm_item_set <1>

Sets the value of the current context register to 1.

atom$fm_item_type <fmi_print_max_page>

Specifies the fmi_print_max_page context register.

atom$fm_item_set <2>

Sets the value of the current context register to 2.

atom$fm_item_type <fmi_print_job_name>

Specifies the fmi_print_job_name context register.

atom$fm_item_set <Document1>

Sets the value of the current context register to Document1.

ê atom$fm_dialog_print <fmp_print>

Displays the standard Windows print dialog box.

atom$fm_broadcast <fmb_print>

Broadcasts the fmb_print event type to all tools.

 America Online, Inc. 1993-95 18-35 America Online Confidential




Chapter 18: File Manager Protocol February 1995

atom$fm_dialog_put_file
18 ($12)

Description

atom$fm_dialog_put_file displays a standard Windows file dialog box and
retrieves a filename and full path of a file to be created from a member.

If the filename is valid, the following context registers are updated:
fmi_file_type_id, fmi_file_type_ext, fmi_file_type_flags, fmi_filename,
fmi_path, and fmi_filespec.

Syntax

atom$fm_dialog_put_file <title>

<title> Specifies a title for the dialog box.

Return Value

Unchanged.

Example

The following is an example of how to display a standard Windows file dialog
box and retrieve a filename and full path name of a file to be created from a
member:

atom$fm_start
atom$fm_item_type <fmi_xor_mask>
atom$fm_item_set <FFx FFx>
atom$fm_item_type <fmi_and_mask>
atom$fm_item_set <0>
atom$fm_add_file_type_mask

ê atom$fm_dialog_put_file <Open a file>

The example is explained as follows:

atom$fm_start

Creates a File Manager Tool context.

America Online Confidential 18-36  America Online, Inc. 1993-95




February 1995 FDO91 Manual, Vol. 2

atom$fm_item_type <fmi_xor_mask>

Specifies the fmi_xor_mask context register.

atom$fm_item_set <FFx FFx>

Sets the value of the current context register to FFx FFx.

atom$fm_item_type <fmi_and_mask>

Specifies the fmi_and_mask context register.

atom$fm_item_set <0>

Sets the value of the current context register to 0.

atom$fm_add_file_type_mask

Adds all registered file types matching the mask criteria to the context
file type list.

ê atom$fm_dialog_put_file <Open a file>

Displays a standard Windows file dialog box and retrieves a filename
and full path of a file to be created.

 America Online, Inc. 1993-95 18-37 America Online Confidential




Chapter 18: File Manager Protocol February 1995

atom$fm_dump
31 ($1F)

Description

atom$fm_dump displays the values of the File Manager Tool context registers
as debug messages.

This atom is designed for development use only.

Syntax

atom$fm_dump

Return Value

Unchanged.

Example

The following is an example of how to display the values of the File Manager
Tool context registers as debug messages:

atom$fm_dump

America Online Confidential 18-38  America Online, Inc. 1993-95




February 1995 FDO91 Manual, Vol. 2

atom$fm_end
1 ($01)

Description

atom$fm_end disposes of the File Manager Tool context for the current atom
stream.

Syntax

atom$fm_end

Return Value

Unchanged.

Example

The following is an example of how to dispose of the File Manager Tool
context for the current atom stream:

atom$fm_start
.
.
.

ê atom$fm_end

The example is explained as follows:

atom$fm_start

Creates a File Manager Tool context.

ê atom$fm_end

Disposes of the File Manager Tool context.

 America Online, Inc. 1993-95 18-39 America Online Confidential




Chapter 18: File Manager Protocol February 1995

atom$fm_find_file_type
16 ($10)

Description

atom$fm_find_file_type searches registered file types for one matching an
extension and sets the fmi_file_type_id context register to the ID of the file
type found.

If no argument is specified, the value of the fmi_file_type_ext context register
is used.

Syntax

atom$fm_find_file_type [<file_ext>]

[<file_ext>] Specifies a file extension.

Return Value

Unchanged.

Example

The following is an example of how to set the fmi_file_type_id context
register:

atom$fm_start
.
.
.

ê atom$fm_find_file_type <GIF>
atom$fm_item_get <fmi_file_type_id>
atom$uni_use_last_atom_value <prot$file>

    <atom$fm_add_file_type>

The example is explained as follows:

atom$fm_start

Creates a File Manager Tool context.

America Online Confidential 18-40  America Online, Inc. 1993-95




February 1995 FDO91 Manual, Vol. 2

ê atom$fm_find_file_type <GIF>

Searches registered file types for one matching GIF and sets the
fmi_file_type_id context register to the ID of the file type found.

atom$fm_item_get <fmi_file_type_id>

Retrieves the value of the fmi_file_type_id context register.

atom$uni_use_last_atom_value <prot$file>
    <atom$fm_add_file_type>

Adds the registered file type ID retrieved with the previous atom to the
context file type list.

 America Online, Inc. 1993-95 18-41 America Online Confidential




Chapter 18: File Manager Protocol February 1995

atom$fm_flush_file
39 ($27)

Description

atom$fm_flush_file takes any data remaining in the data buffer and appends it
at the current position to the file in context.  The fmi_filespec context register
contains the name of the file in context.  The file must be open. For more
information about the data buffer, see atom$fm_append_data.

If the value of the fmi_text_mode context register is 1, indicating a text file, the
fmi_text_flags context register is honored, formatting the data in the data
buffer prior to writing it to the disk.  The formatting process uses the values of
the fmi_text_width and fmi_text_indent context registers.  For more
information about the context registers, see atom$fm_item_type.

atom$fm_flush_file sets the value of the fmi_error_code context register to
reflect the result of the operation.  For more information about the possible
values for this register, see atom$fm_handle_error.

Syntax

atom$fm_flush_file

Return Value

Unchanged.

Example

The following is an example of how to take any data remaining in the data
buffer and append it at the current position to the file in context:

atom$fm_start
.
.
.
atom$fm_item_type <fmi_text_width>
atom$fm_item_set <5>
atom$fm_open_file <fmo_text_write>
atom$fm_append_data <THEEND>

ê atom$fm_flush_file

America Online Confidential 18-42  America Online, Inc. 1993-95




February 1995 FDO91 Manual, Vol. 2

atom$fm_close_file

The example is explained as follows:

atom$fm_start

Creates a File Manager Tool context.

atom$fm_item_type <fmi_text_width>

Specifies the fmi_text_width context register.

atom$fm_item_set <5>

Sets the value of the current context register to 5.

atom$fm_open_file <fmo_text_write>

Opens an existing file in fmo_text_write mode and positions the file
pointer to the beginning of the file.

atom$fm_append_data <THEEND>

Appends data at the current position to the file in context.

ê atom$fm_flush_file

Takes any data remaining in the data buffer and appends it at the
current position to the file in context.

atom$fm_close_file

Closes the file.

The result of this example is that the data THEEND is appended in the
following format to the file in context:

THEEN
D

Due to the fact that the file was opened in fmo_text_write mode,
atom$fm_append_data appends the data to the file in blocks equal in size to
the value of the fmi_text_width register (5).  Any data in an odd-sized block at
the end is placed in the data buffer.  atom$fm_flush_file writes the contents of
the buffer to the file

 America Online, Inc. 1993-95 18-43 America Online Confidential




Chapter 18: File Manager Protocol February 1995

atom$fm_get_first_file
32 ($20)

Description

atom$fm_get_first_file locates the first file in the current path that matches
the specified file name mask.

Syntax

atom$fm_get_first_file <file_mask>

<file_mask> Specifies a file name mask.  Wildcard characters are
allowed.

Return Value

The name of the file found or NULL if no file is found.

Example

The following is an example of how to locate the first file in the current path
that matches the specified file name mask:

atom$fm_start
.
.
.
atom$fm_item_type <fmi_path>
atom$fm_item_set <c:\aol\download>

ê atom$fm_get_first_file <texas?.*>

The example is explained as follows:

atom$fm_start

Creates a File Manager Tool context.

atom$fm_item_type <fmi_path>

Specifies the fmi_path context register.

America Online Confidential 18-44  America Online, Inc. 1993-95




February 1995 FDO91 Manual, Vol. 2

atom$fm_item_set <c:\aol\download>

Sets the value of the current context register to c:\aol\download.

ê atom$fm_get_first_file <texas?.*>

Locates the first file in the current path that matches the texas?.* mask.

 America Online, Inc. 1993-95 18-45 America Online Confidential




Chapter 18: File Manager Protocol February 1995

atom$fm_get_next_file
33 ($21)

Description

atom$fm_get_next_file locates the next file in the current path that matches
the file name mask specified in the previous atom$fm_get_first_file atom.

Syntax

atom$fm_get_next_file

Return Value

The name of the file found or NULL if no file is found.

Example

The following is an example of how to locate the next file in the current path
that matches the file name mask specified in the previous
atom$fm_get_first_file atom:

atom$fm_start
.
.
.
atom$fm_item_type <fmi_path>
atom$fm_item_set <c:\aol\download>
atom$fm_get_first_file <texas?.*>

ê atom$fm_get_next_file

The example is explained as follows:

atom$fm_start

Creates a File Manager Tool context.

atom$fm_item_type <fmi_path>

Specifies the fmi_path context register.

atom$fm_item_set <c:\aol\download>

Sets the value of the current context register to c:\aol\download.

America Online Confidential 18-46  America Online, Inc. 1993-95




February 1995 FDO91 Manual, Vol. 2

atom$fm_get_first_file <texas?.*>

Locates the first file in the current path that matches the texas?.* mask.

ê atom$fm_get_next_file

Locates the next file in the current path that matches the previously
specified mask.

 America Online, Inc. 1993-95 18-47 America Online Confidential




Chapter 18: File Manager Protocol February 1995

atom$fm_handle_error
6 ($06)

Description

atom$fm_handle_error provides generic error handling.  If the value of the
fmi_error_code context register is fme_ok, no action is performed.

The value of the fmi_error_code context register is set by a number of File
Manager Tool atoms.  Values are as follows:

fme_ok (0) — no error.

fme_cancel (1) — dialog canceled by member.

fme_internal (2) — internal error.

fme_invalid_filename (3) — current filename is invalid.

fme_insufficient_space (4) — insufficient disk space for
specified file.

fme_file_not_found (5) — fmi_filespec context register
does not contain a valid value.

fme_path_not_found (6) — fmi_path context register
does not contain a valid value.

fme_file_exists (7) — file already exists

fme_read (8) — general read error.

fme_write (9) — general write error.

fme_access (10) — access or sharing violation.

fme_no_default_printer (11) — no default printer
defined.

fme_no_printers (12) — no printers defined.

fme_no_select (13) — current document cannot be
printed or saved.

America Online Confidential 18-48  America Online, Inc. 1993-95




February 1995 FDO91 Manual, Vol. 2

fme_skip (14) — the skip push button was selected in
the dialog box.

Syntax

atom$fm_handle_error <flag>

<flag> Specifies the type of error handling.  Values are as
follows:

fhf_display_msg (1) — Displays an generic error
message.

fhf_terminate (2) — Terminates the atom stream.

fhf_display_msg+terminate (3) — Displays an generic
error message and terminates the atom stream.

fhf_broadcast (4) — Broadcasts an event to all tools.

fhf_display_msg+broadcast (5) — Displays an generic
error message and broadcasts an event to all tools.

fhf_terminate+broadcast (6) — Terminates the atom
stream and broadcasts an event to all tools.

fhf_display_msg+terminate+broadcast (7) — Displays
an generic error message, terminates the atom stream
and broadcasts an event to all tools.

Return Value

Unchanged.

Example

The following is an example of how to provide generic error handling:

atom$fm_open_file <fmo_read>

 America Online, Inc. 1993-95 18-49 America Online Confidential




Chapter 18: File Manager Protocol February 1995

ê atom$fm_handle_error <fhf_display_msg+broadcast>

The example is explained as follows:

atom$fm_open_file <fmo_read>

Opens an existing file in fmo_read mode and positions the file pointer
to the beginning of the file.

ê atom$fm_handle_error <fhf_display_msg+broadcast>

???.

America Online Confidential 18-50  America Online, Inc. 1993-95




February 1995 FDO91 Manual, Vol. 2

atom$fm_ini_read_data
34 ($22)

Description

atom$fm_ini_read_data reads data from an .INI file.  The INI file to read
from is specified in the fmi_ini_file context register.  Similarly, the group and
the key are specified in the fmi_ini_group and fmi_ini_key context registers
respectively.

Syntax

atom$fm_ini_read_data

Return Value

Depends on the data type selected; the return value is numeric for word and
boolean data types, and is a string data type otherwise.

Example

The following is an example of how to read data from an .INI file:

atom$fm_item_type <fmi_ini_file>
atom$fm_item_set <aol.ini>
atom$fm_item_type <fmi_ini_group>
atom$fm_item_set <preferences>
atom$fm_item_type <fmi_ini_key>
atom$fm_item_set <mode>
atom$fm_item_type <fmi_ini_data_type>
atom$fm_item_set <FM_INI_BOOL>

ê atom$fm_ini_read_data
.
.
.
atom$if_last_return_true_then <1>
.
.
.
atom$uni_sync_skip <1>

The example is explained as follows:

atom$fm_item_type <fmi_ini_file>

Specifies the fmi_ini_file context register.

 America Online, Inc. 1993-95 18-51 America Online Confidential




Chapter 18: File Manager Protocol February 1995

atom$fm_item_set <aol.ini>

Sets the value of the current context register to aol.ini.

atom$fm_item_type <fmi_ini_group>

Specifies the fmi_ini_group context register.

atom$fm_item_set <Preferences>

Sets the value of the current context register to Preferences.

atom$fm_item_type <fmi_ini_key>

Specifies the fmi_ini_key context register.

atom$fm_item_set <mode>

Sets the value of the current context register to mode.

atom$fm_item_type <fmi_ini_data_type>

Specifies the fmi_ini_data_type context register.

atom$fm_item_set <FM_INI_BOOL>

Sets the value of the current context register to FM_INI_BOOL.

ê atom$fm_ini_read_data

Reads data from the current .INI file.

atom$if_last_return_true_then <1>

If the last return value is true, atom$if_last_return_true_then
evaluates to true, and the atoms that fall between it and
atom$uni_sync_skip are executed.

atom$uni_sync_skip <1>

Signifies the end of the true atoms.  If atom$if_last_return_true_then
evaluates to true, the true atoms are executed and stream execution
continues immediately following this atom.

America Online Confidential 18-52  America Online, Inc. 1993-95




February 1995 FDO91 Manual, Vol. 2

atom$fm_ini_write_data
35 ($23)

Description

atom$fm_ini_write_data writes data to an .INI file.  The INI file to write to
is specified in the fmi_ini_file context register.  Similarly, the group and the key
are specified in the fmi_ini_group and fmi_ini_key context registers
respectively.

Syntax

atom$fm_ini_write_data <data>

<data> Specifies data.

Return Value

Unchanged.

Example

The following is an example of how to write data to an .INI file:

atom$fm_item_type <fmi_ini_file>
atom$fm_item_set <aol.ini>
atom$fm_item_type <fmi_ini_group>
atom$fm_item_set <preferences>
atom$fm_item_type <fmi_ini_key>
atom$fm_item_set <name>
atom$fm_item_type <fmi_ini_data_type>
atom$fm_item_set <FM_INI_STRING>
atom$fm_item_type <fmi_ini_string_length>
atom$fm_item_set <5>
atom$man_set_context_relative <1>
atom$de_start_extraction <0>
atom$de_get_data_pointer
atom$uni_save_result
atom$de_end_extraction
atom$man_end_context
atom$uni_get_result

 America Online, Inc. 1993-95 18-53 America Online Confidential




Chapter 18: File Manager Protocol February 1995

ê atom$uni_use_last_atom_string <prot$file>
    <atom$fm_ini_write_data>

The example is explained as follows:

atom$fm_item_type <fmi_ini_file>

Specifies the fmi_ini_file context register.

atom$fm_item_set <aol.ini>

Sets the value of the current context register to aol.ini.

atom$fm_item_type <fmi_ini_group>

Specifies the fmi_ini_group context register.

atom$fm_item_set <preferences>

Sets the value of the current context register to Preferences.

atom$fm_item_type <fmi_ini_key>

Specifies the fmi_ini_key context register.

atom$fm_item_set <mode>

Sets the value of the current context register to mode.

atom$fm_item_type <fmi_ini_data_type>

Specifies the fmi_ini_data_type context register.

atom$fm_item_set <FM_INI_BOOL>

Sets the value of the current context register to mode.

atom$fm_ini_read_data

Reads data from the current .INI file.

atom$man_set_context_relative <1>

Sets the context to the object with a relative ID of 1.

atom$de_start_extraction <0>

Initializes the Data Manager tool for local operations.

America Online Confidential 18-54  America Online, Inc. 1993-95




February 1995 FDO91 Manual, Vol. 2

atom$de_get_data_pointer

Retrieves data and returns a pointer to the data.

atom$uni_save_result

Saves the result of the previous atom.

atom$de_end_extraction

Ends the data extraction sequence.

atom$man_end_context

Returns the context to the object previously in context.

atom$uni_get_result

Gets the result of the previous atom$uni_save_result.

ê atom$uni_use_last_atom_string <prot$file>
    <atom$fm_ini_write_data>

Writes the data retrieved with the previous atom to the current .INI
file.

 America Online, Inc. 1993-95 18-55 America Online Confidential




Chapter 18: File Manager Protocol February 1995

atom$fm_item_get
4 ($04)

Description

atom$fm_item_get retrieves the value of a File Manager context register.  For
a list of File Manager context registers, see atom$fm_item_type.

If no argument is specified, the value of the current context register is used.

Syntax

atom$fm_item_get [<fm_register>]

[<fm_register>] Specifies a context register.

Return Value

The current value of the specified register.

Example

The following is an example of how to retrieve the value of a File Manager
context register:

ê atom$fm_item_get <fmi_date>

The example is explained as follows:

ê atom$fm_item_get <fmi_date>

Retrieves the value of fmi_date context register.

America Online Confidential 18-56  America Online, Inc. 1993-95




February 1995 FDO91 Manual, Vol. 2

atom$fm_item_set
3 ($03)

Description

atom$fm_item_set sets the value of the current File Manager Tool context
register. This atom is used with atom$fm_item_type.

When used with atom$uni_use_last_atom_value, this atom can also set a
register to an action variable value, the text of a display object, and so on.  To
copy the value from one register to another, for example, use
atom$fm_item_get, then atom$uni_use_last_atom with atom$fm_item_set
as the argument.

Syntax

atom$fm_item_set <value>

<value> Specifies a value.

Return Value

Unchanged.

Example

The following is an example of how to set the value of the fmi_persistent_path
context register:

atom$fm_item_type <fmi_persistent_path>
ê atom$fm_item_set <1-0-1234>

The example is explained as follows:

atom$fm_item_type <fmi_persistent_path>

Specifies the fmi_persistent_path context register.

ê atom$fm_item_set <1-0-1234>

Sets the value of the fmi_persistent_path register to 1-0-1234.

 America Online, Inc. 1993-95 18-57 America Online Confidential




Chapter 18: File Manager Protocol February 1995

atom$fm_item_type
2 ($02)

Description

atom$fm_item_type specifies a File Manager Tool context register.  This
atom is used with atom$fm_item_set.

Syntax

atom$fm_item_type <fm_register>

<fm_register> Specifies a context register.  Values are as follows:

fmi_file_type_id (1) — current file type ID.

fmi_file_group_id (2) — current file group ID.

fmi_file_type_ext (3) — current file type extension.

fmi_file_type_desc (4) — current file type description.

fmi_file_type_flags (5) — current file type flags.

fmi_filename (6) — current file name.

fmi_path (7) — current file directory path.

fmi_filespec (8) — current file fully qualified path and
name.

fmi_handle (9) —  current file handle (0 if the file is not
open).

fmi_error_code (10) — error code returned by the last
file operation.  For a list of possible values, see
atom$fm_handle_error.

fmi_custom_data (11) — 32-bit numeric value passed
with all broadcast messages.

fmi_text_width (12) — line width of files opened in one
of the text modes.

America Online Confidential 18-58  America Online, Inc. 1993-95




February 1995 FDO91 Manual, Vol. 2

fmi_text_indent (13) — number of characters to indent
each line for files opened in one of the text modes.

fmi_text_flags (15) — processing instructions for data
in files opened in text mode.  Values are as follows:

• 0 — no action.

• 4 — translate CR to CRLF.

• 8 — translate 7F to CR.

• 12 — translate CR to CRLF and 7F to CR.

• 16 — translate ESC sequences.

• 20 — translate CR to CRLF and translate ESC
sequences.

• 24 — translate 7F to CR and translate ESC
sequences.

• 28 — translate CR to CRLF, 7F to CR and
translate ESC sequences.

fmi_dialog_flags (16) — processing instructions for
controlling the appearance of the dialog boxes displayed
by the File Manager tool.  Values are as follows:

• 0 — do not display the Skip push button.

• 1 — display the Skip push button.

fmi_and_mask (17) — 32-bit AND mask.

fmi_xor_mask (18) — 32-bit exclusive OR mask.

fmi_file_size (19) — initial file size in bytes.

fmi_broadcast_return_value (21) — value returned by
the last atom$fm_broadcast.  The tool that handled the
broadcast message generates the value.

fmi_file_type_list_size (22) — number of files in the
current context file list.

fmi_print_from_page (23) — initial page number to
print.

fmi_print_to_page (24) — final page number to print.

 America Online, Inc. 1993-95 18-59 America Online Confidential




Chapter 18: File Manager Protocol February 1995

fmi_print_min_page (25) — minimum page number that
can be printed.

fmi_print_max_page (26) — maximum page number
that can be printed.

fmi_print_copies (27) — number of copies to print

fmi_hdc (28) — device context handle in which printing
occurs.  Reserved for internal File Manager tool use.

fmi_print_job_name (29) — title of the print job.

fmi_date (30) — current date in the format "Sunday,
January 1, 1995."  This register is read-only.

fmi_time (31) — current time in the format "10:30 p.m."
This register is read-only.

fmi_text_mode (32) — file mode.  This register is
automatically set by atom$fm_open_file.

• 0 — binary mode.

• 1 — text mode.

fmi_ini_string_length (33) — maximum length of a
string that can be written using
atom$fm_ini_write_data.

fmi_ini_file (34) — full path name of an initialization
(.INI) file.

fmi_ini_group (35) — internal group name in an
initialization (.INI) file.

fmi_ini_key (36) — internal key name in an initialization
(.INI) file.

fmi_ini_data_type (37) — type of data in an
initialization (.INI) file.

fmi_thumbnail (38) — image handle that represents the
thumbnail image to be displayed.

America Online Confidential 18-60  America Online, Inc. 1993-95




February 1995 FDO91 Manual, Vol. 2

fmi_thumbnail_size (39) — size in bytes of the
thumbnail image.

fmi_persistent_path (40) — global ID of the database
record containing the path associated with the next
atom$fm_dialog_get_file or
atom$fm_dialog_put_file. For more information about
global IDs, see Chapter 11, "The Database Manager
Tool."

Return Value

Unchanged.

Example

The following is an example of how to specify a File Manager Tool context
register:

ê atom$fm_item_type <fmi_persistent_path>
atom$fm_item_set <1-0-1234>

The example is explained as follows:

ê atom$fm_item_type <fmi_persistent_path>

Specifies the fmi_persistent_path context register.

atom$fm_item_set <1-0-1234>

Sets the value of the fmi_persistent_path register to 1-0-1234.

 America Online, Inc. 1993-95 18-61 America Online Confidential




Chapter 18: File Manager Protocol February 1995

atom$fm_open_file
22 ($16)

Description

atom$fm_open_file opens an existing file and positions the file pointer to the
beginning of the file.

atom$fm_open_file sets the value of the fmi_text_mode context register to
reflect the mode, either binary or text, with which the file was opened.  For
more information about the possible values for this register, see
atom$fm_item_type.

atom$fm_open_file also sets the value of the fmi_error_code context register
to reflect the result of the operation.  For more information about the possible
values for this register, see atom$fm_handle_error.

Syntax

atom$fm_open_file <mode>

<mode> Specifies the mode. Values are as follows:

0 — binary mode for read operations only.

1 — binary mode for write operations only.

2 — binary mode for read and write operations.

3 — text mode for read operations only.

4 — text mode for write operations only.

5 — text mode for read and write operations.

Return Value

Unchanged.

America Online Confidential 18-62  America Online, Inc. 1993-95




February 1995 FDO91 Manual, Vol. 2

Example

The following is an example of how to open an existing file and position the
file pointer to the beginning of the file:

atom$fm_item_type <fmi_filespec>
atom$fm_item_set <c:\test.txt>

ê atom$fm_open_file <5>

The example is explained as follows:

atom$fm_item_type <fmi_filespec>

Specifies the fmi_filespec context register.

atom$fm_item_set <c:\test.txt>

Sets the value of the fmi_filespec register to c:\test.txt.

ê atom$fm_open_file <5>

Opens an existing file in text mode for read and write operations and
positions the file pointer to the beginning of the file.

 America Online, Inc. 1993-95 18-63 America Online Confidential




Chapter 18: File Manager Protocol February 1995

atom$fm_position_eof
29 ($1D)

Description

atom$fm_position_eof sets the file pointer to the end of the file.  The file
must be open.

atom$fm_position_eof sets the value of the fmi_error_code context register
to reflect the result of the operation.  For more information about the possible
values for this register, see atom$fm_handle_error.

Syntax

atom$fm_position_eof

Return Value

Unchanged.

Example

The following is an example of how to set the file pointer to the end of the file:

atom$fm_item_type <fmi_filespec>
atom$fm_item_set <c:\test.txt>
atom$fm_open_file <5>

ê atom$fm_position_eof
atom$fm_append_data <Hello>

The example is explained as follows:

atom$fm_item_type <fmi_filespec>

Specifies the fmi_filespec context register.

atom$fm_item_set <c:\test.txt>

Sets the value of the fmi_filespec register to c:\test.txt.

atom$fm_open_file <5>

Opens an existing file in text mode for read and write operations and
positions the file pointer to the beginning of the file.

America Online Confidential 18-64  America Online, Inc. 1993-95




February 1995 FDO91 Manual, Vol. 2

ê atom$fm_position_eof

Sets the file pointer to the end of the file.

atom$fm_append_data <Hello>

Appends data at the current position to the file in context.

 America Online, Inc. 1993-95 18-65 America Online Confidential




Chapter 18: File Manager Protocol February 1995

atom$fm_position_file
28 ($1C)

Description

atom$fm_position_file sets the file pointer to a specific offset from the
beginning of the file.  The file must be open.

atom$fm_position_file sets the value of the fmi_error_code context register
to reflect the result of the operation.  For more information about the possible
values for this register, see atom$fm_handle_error.

Syntax

atom$fm_position_file <offset>

<offset> Specifies the offset in bytes from the beginning of the
file.

Return Value

Unchanged.

Example

The following is an example of how to set the file pointer to a specific offset
from the beginning of the file:

atom$fm_item_type <fmi_filespec>
atom$fm_item_set <c:\test.txt>
atom$fm_open_file <5>

ê atom$fm_position_file <27>
atom$fm_append_data <Hello>

The example is explained as follows:

atom$fm_item_type <fmi_filespec>

Specifies the fmi_filespec context register.

atom$fm_item_set <c:\test.txt>

Sets the value of the fmi_filespec register to c:\test.txt.

America Online Confidential 18-66  America Online, Inc. 1993-95




February 1995 FDO91 Manual, Vol. 2

atom$fm_open_file <5>

Opens an existing file in text mode for read and write operations and
positions the file pointer to the beginning of the file.

ê atom$fm_position_file <27>

Sets the file pointer to an offset of 27 bytes from the beginning of the
file.

atom$fm_append_data <Hello>

Appends data at the current position to the file in context.

 America Online, Inc. 1993-95 18-67 America Online Confidential




Chapter 18: File Manager Protocol February 1995

atom$fm_read_file
37 ($25)

Description

atom$fm_read_file reads data from a file.  The file must be open.

If no argument is specified, the contents of the entire file is read.

atom$fm_read_file sets the value of the fmi_error_code context register to
reflect the result of the operation.  For more information about the possible
values for this register, see atom$fm_handle_error.

Syntax

atom$fm_read_file [<bytes>]

[<bytes>] Specifies the number of bytes to read

Return Value

0 (zero) if no error; otherwise, non-zero.

Example

The following is an example of how to read data from a file:

atom$fm_item_type <fmi_filespec>
atom$fm_item_set <c:\test.txt>
atom$fm_open_file <3>
atom$fm_position_file <27>

ê atom$fm_read_file <10>

The example is explained as follows:

atom$fm_item_type <fmi_filespec>

Specifies the fmi_filespec context register.

atom$fm_item_set <c:\test.txt>

Sets the value of the fmi_filespec register to c:\test.txt.

America Online Confidential 18-68  America Online, Inc. 1993-95




February 1995 FDO91 Manual, Vol. 2

atom$fm_open_file <3>

Opens an existing file in text mode for read operations and positions
the file pointer to the beginning of the file.

atom$fm_position_file <27>

Sets the file pointer to an offset of 27 bytes from the beginning of the
file.

ê atom$fm_read_file <10>

Reads 10 bytes of data from the file.

 America Online, Inc. 1993-95 18-69 America Online Confidential




Chapter 18: File Manager Protocol February 1995

atom$fm_register
11 ($0B)

Description

atom$fm_register registers a new file type or group.  This atom sets  the
value of fmi_file_type_id or fm_file_group_id to the ID of the new file type or
group.

If you are registering a file type, you must set the fmi_file_type_ext and the
fmi_file_type_desc context registers before using atom$fm_register.

Syntax

atom$fm_register (<FMR_FILE_TYPE> | <FMR_FILE_GROUP>)

<FMR_FILE_TYPE> Specifies registration of a new file type.

<FMR_FILE_GROUP> Specifies registration of a new group.

Return Value

Unchanged.

Example

The following is an example of how to register a new file type:

atom$fm_start
atom$fm_item_type <fmi_file_type_ext>
atom$fm_item_set <GIF>
atom$fm_item_type <fmi_file_type_desc>
atom$fm_item_set <GIF Files>

ê atom$fm_register <FMR_FILE_TYPE>
.
.
.
atom$fm_end

The example is explained as follows:

atom$fm_start

Creates a File Manager Tool context.

America Online Confidential 18-70  America Online, Inc. 1993-95




February 1995 FDO91 Manual, Vol. 2

atom$fm_item_type <fmi_file_type_ext>

Specifies the fmi_file_type_ext context register.

atom$fm_item_set <GIF>

Sets the value of the current context register to GIF.

atom$fm_item_type <fmi_file_type_desc>

Specifies the fmi_file_type_desc context register.

atom$fm_item_set <GIF Files>

Sets the value of the current context register to GIF Files.

ê atom$fm_register <FMR_FILE_TYPE>

Registers a new file type and creates a file type ID.

atom$fm_end

Disposes of the File Manager Tool context.

 America Online, Inc. 1993-95 18-71 America Online Confidential




Chapter 18: File Manager Protocol February 1995

atom$fm_rename_file
24 ($18)

Description

atom$fm_rename_file renames a file.  The path name is not changed.

atom$fm_rename_file sets the value of the fmi_error_code context register to
reflect the result of the operation.  For more information about the possible
values for this register, see atom$fm_handle_error.

Syntax

atom$fm_rename_file <name>

<name> Specifies a filename.

Return Value

Unchanged.

Example

The following is an example of how to rename a file:

atom$fm_item_type <fmi_filespec>
atom$fm_item_set <c:\download\badname.jpg>

ê atom$fm_rename_file <goodname.jpg>

The example is explained as follows:

atom$fm_item_type <fmi_filespec>

Specifies the fmi_filespec context register.

atom$fm_item_set <c:\download\badname.jpg>

Sets the value of the fmi_filespec context register to
c:\download\badname.jpg.

ê atom$fm_rename_file <goodname.jpg>

Renames the file to goodname.jpg.

America Online Confidential 18-72  America Online, Inc. 1993-95




February 1995 FDO91 Manual, Vol. 2

atom$fm_set_relative_path
36 ($24)

Description

atom$fm_set_relative_path sets the path of the current context to the
specified path, relative to the path of the online service application directory.

Syntax

atom$fm_set_relative_path <path>

<path> Specifies the path.

Return Value

Preserves lValue.

Example

The following is an example of how to set the path of the current context to
the specified path:

ê atom$fm_set_relative_path <download>

The example is explained as follows:

ê atom$fm_set_relative_path <download>

Sets the path of the current context to dowload.

 America Online, Inc. 1993-95 18-73 America Online Confidential




Chapter 18: File Manager Protocol February 1995

atom$fm_start
0 ($00)

Description

atom$fm_start creates a File Manager Tool context for the current atom
stream.

Syntax

atom$fm_start

Return Value

Unchanged.

Example

The following is an example of how to create a File Manager Tool context for
the current atom stream:

ê atom$fm_start
.
.
.
atom$fm_end

The example is explained as follows:

ê atom$fm_start

Creates a File Manager Tool context.

atom$fm_end

Disposes of the File Manager Tool context.

America Online Confidential 18-74  America Online, Inc. 1993-95




February 1995 FDO91 Manual, Vol. 2

atom$fm_unregister
12 ($0C)

Description

atom$fm_unregister unregisters a file type or group.

If no argument is specified, the value of the fmi_file_type_id context register is
used.

Syntax

atom$fm_unregister [<file_type_id>]

[<file_type_id>] Specifies a file type ID to be unregistered.

Return Value

Unchanged.

Example

The following is an example of how to unregister a file type or group:

atom$fm_find_file_type <GIF>
ê atom$fm_unregister

The example is explained as follows:

atom$fm_find_file_type <GIF>

Searches registered file types for one matching GIF and sets the
fmi_file_type_id context register to the ID of the file type found.

ê atom$fm_unregister

Unregisters the GIF file type.

 America Online, Inc. 1993-95 18-75 America Online Confidential




Chapter 18: File Manager Protocol February 1995

atom$fm_unregister_list
38 ($26)

Description

atom$fm_unregister_list unregisters every file type in the current context.

Syntax

atom$fm_unregister_list

Return Value

Unchanged.

Example

The following is an example of how to unregister every file type in the current
context:

ê atom$fm_unregister_list

The example is explained as follows:

ê atom$fm_unregister_list

Unregistera every file type in the current context.

America Online Confidential 18-76  America Online, Inc. 1993-95



===== END PDF: ch18-fm.pdf =====

===== BEGIN PDF: ch19-xfer.pdf =====



Manual: FDO91 Manual
Chapter 19: File Transfer Protocol defines file transfer protocol atoms and provides information for
handling file transfer.
Last updated: March 1996




C H A P T E R  1 9

File Transfer Protocol

The File Transfer protocol (protocol ID 7) consists of atoms that provide
error-free transfer of files between the online service client application and the
host system.  File uploading and downloading are supported; in addition to
single file transfers, batch downloads can also be performed.  Downloads can
be interrupted and resumed at a later time.  Data compression is supported
using a run-length encoding scheme.

File Transfer Protocol Atoms

The File Transfer protocol atoms are described in alphabetical order in the rest
of this chapter.

America Online Confidential 19-1  America Online, Inc. 1993-96




Chapter 19: File Transfer Protocol March 1996

atom$xfer_abort
0 ($00)

Description

atom$xfer_abort terminates the current file transfer when the member clicks
the cancel button in the File Transfer dialog box while the file is uploading.
This atom is sent by the client.

Syntax

atom$xfer_abort

Return Value

Unchanged.

Example

The following is an example that terminates the current file transfer:

atom$uni_start_stream <00x>
.
.
.
atom$xfer_start_object <00x>
atom$xfer_bool_mail <yes>
atom$xfer_atr_request_id <123932171>
atom$xfer_atr_title "Updated Phone List"
atom$xfer_atr_file_size <25600>
atom$xfer_atr_file_name <mtfglf.xls>
atom$xfer_atr_create_date <508741200>
.
.
.

ê atom$xfer_abort
atom$uni_end_stream <00x>

America Online Confidential 19-2  America Online, Inc. 1993-96




March 1996 FDO91 Manual, Vol. 2

atom$xfer_atr_create_date
23 ($17)

Description

atom$xfer_atr_create_date is sent by the host and indicates the date the file
was created.

Syntax

atom$xfer_atr_create_date <create_date>

<create_date> A 32-bit integer indicating the creation date of a file
attached to a message in number of seconds since
midnight January 1, 1980 GMT.

Return Value

Unchanged.

Example

The following is an example that indicates the date the file was created:

atom$uni_start_stream <00x>
.
.
.
atom$xfer_start_object <00x>
atom$xfer_atr_library "Applications"
atom$xfer_bool_mail <yes>
atom$xfer_atr_request_id <123932111>
atom$xfer_atr_title "PK Zip"
atom$xfer_atr_file_size <42166>
atom$xfer_atr_file_name <pkzip.exe>

ê atom$xfer_atr_create_date <508741200>
.
.
.
atom$xfer_end_object
.
.
.
atom$uni_end_stream <00x>

 America Online, Inc. 1993-96 19-3 America Online Confidential




Chapter 19: File Transfer Protocol March 1996

atom$xfer_atr_end_object
19 ($13)

Description

atom$xfer_atr_end_object ends the current XFER object.  This atom is sent
by the host and triggers the client to display a dialog box asking the member
where to save the file.

Syntax

atom$xfer_end_object

Return Value

Unchanged.

Example

The following is an example that ends the current XFER object:

atom$uni_start_stream <00x>
.
.
.
atom$xfer_start_object <00x>
atom$xfer_atr_library "Applications"
atom$xfer_bool_mail <yes>
atom$xfer_atr_request_id <123932111>
atom$xfer_atr_title "PK Zip"
atom$xfer_atr_file_size <42166>
atom$xfer_atr_file_name <pkzip.exe>
atom$xfer_atr_create_date <508741200>
.
.
.

ê atom$xfer_end_object
.
.
.
atom$uni_end_stream <00x>

America Online Confidential 19-4  America Online, Inc. 1993-96




March 1996 FDO91 Manual, Vol. 2

atom$xfer_atr_file_name
18 ($12)

Description

atom$xfer_atr_file_name is sent from the host to indicate the name of the
attached file to be transferred.

Syntax

atom$xfer_atr_file_name

Return Value

Unchanged.

Example

The following is an example that indicates the name of the attached file to be
transferred:

atom$uni_start_stream <00x>
.
.
.
atom$xfer_start_object <00x>
atom$xfer_bool_mail <yes>
atom$xfer_atr_request_id <123932171>
atom$xfer_atr_title "Updated Phone List"

ê atom$xfer_atr_file_size <25600>
atom$xfer_atr_file_name <mtfglf.xls>
atom$xfer_atr_create_date <508741200>
.
.
.
atom$xfer_end_object
.
.
.
atom$uni_end_stream <00x>

 America Online, Inc. 1993-96 19-5 America Online Confidential




Chapter 19: File Transfer Protocol March 1996

atom$xfer_atr_file_size
16 ($10)

Description

atom$xfer_atr_file_size is sent from the host to indicate the size, in bytes, of
the attached file to be transferred.

Syntax

atom$xfer_atr_file_size <size>

<size> The size of the file to be transferred.

Return Value

Unchanged.

Example

The following is an example that indicates that the size of the file to be
transferred is 25600 bytes:

atom$uni_start_stream <00x>
.
.
.
atom$xfer_start_object <00x>
atom$xfer_bool_mail <yes>
atom$xfer_atr_request_id <123932171>
atom$xfer_atr_title "Updated Phone List"

ê atom$xfer_atr_file_size <25600>
atom$xfer_atr_file_name <mtfglf.xls>
atom$xfer_atr_create_date <508741200>
.
.
.
atom$xfer_end_object
.
.
.
atom$uni_end_stream <00x>

America Online Confidential 19-6  America Online, Inc. 1993-96




March 1996 FDO91 Manual, Vol. 2

atom$xfer_atr_library
21 ($15)

Description

atom$xfer_atr_library is sent from the host to indicate the name of the
software library that contains the attached file to be transferred.

Syntax

atom$xfer_atr_library <library_name>

<library_name> The name of the software library.

Return Value

Unchanged.

Example

The following is an example that indicates the name of the software library that
contains the file to be transferred:

atom$uni_start_stream <00x>
.
.
.
atom$xfer_start_object <00x>

ê atom$xfer_atr_library "Applications"
atom$xfer_bool_mail <yes>
atom$xfer_atr_request_id <123932111>
atom$xfer_atr_title "PK Zip"
atom$xfer_atr_file_size <42166>
atom$xfer_atr_file_name <pkzip.exe>
atom$xfer_atr_create_date <508741200>
.
.
.
atom$xfer_end_object
.
.
.
atom$uni_end_stream <00x>

 America Online, Inc. 1993-96 19-7 America Online Confidential




Chapter 19: File Transfer Protocol March 1996

atom$xfer_atr_request_id
15 ($F)

Description

atom$xfer_atr_request_id sends the ID from the host to the client in
response to a request for an attached file.  The e-mail ID is used for text files
and the file ID is used for attached files within software libraries.

Syntax

atom$xfer_atr_request_id <id>

<id> The ID of the attached file or software library.

Return Value

Unchanged.

Example

The following example sends the file ID to enable the transfer of an attached
file:

atom$uni_start_stream <00x>
.
.
.
atom$xfer_start_object <00x>
atom$xfer_bool_mail <yes>

ê atom$xfer_atr_request_id <123932171>
atom$xfer_atr_title "Updated Phone List"
atom$xfer_atr_file_size <25600>
atom$xfer_atr_file_name <mtfglf.xls>
atom$xfer_atr_create_date <508741200>
.
.
.
atom$xfer_end_object
.
.
.
atom$uni_end_stream <00x>

America Online Confidential 19-8  America Online, Inc. 1993-96




March 1996 FDO91 Manual, Vol. 2

atom$xfer_atr_title
17 ($11)

Description

atom$xfer_atr_title is sent from the host to indicate the title of the message to
which the file to be transferred is attached.

Syntax

atom$xfer_atr_title

Return Value

Unchanged.

Example

The following is an example that indicates that the title of the message is
"Updated Phone List":

atom$uni_start_stream <00x>
.
.
.
atom$xfer_start_object <00x>
atom$xfer_bool_mail <yes>
atom$xfer_atr_request_id <123932171>

ê atom$xfer_atr_title "Updated Phone List"
atom$xfer_atr_file_size <25600>
atom$xfer_atr_file_name <mtfglf.xls>
atom$xfer_atr_create_date <508741200>
.
.
.
atom$xfer_end_object
.
.
.
atom$uni_end_stream <00x>

 America Online, Inc. 1993-96 19-9 America Online Confidential




Chapter 19: File Transfer Protocol March 1996

atom$xfer_bool_in_progress
10 ($A)

Description

atom$xfer_bool_in_progress is sent from the client to indicate whether a file
download is in progress.

Syntax

atom$xfer_bool_in_progress

Return Value

Unchanged.

Example

The following example indicates that a download is in progress:

atom$xfer_start_object <00x>
atom$xfer_bool_mail <yes>

ê atom$xfer_bool_in_progress <1>
atom$xfer_end_object
atom$uni_end_stream <00x>

America Online Confidential 19-10  America Online, Inc. 1993-96




March 1996 FDO91 Manual, Vol. 2

atom$xfer_bool_mail
22 ($16)

Description

atom$xfer_bool_mail is sent by the host to indicate whether mail system
tokens or software library tokens should be used to view and download the file
to be transferred.

Syntax

atom$xfer_bool_mail

Return Value

Unchanged.

Example

The following is an example that indicates that mail system tokens should be
used to download and view the file:

atom$uni_start_stream <00x>
.
.
.
atom$xfer_start_object <00x>
atom$xfer_atr_library "Applications"

ê atom$xfer_bool_mail <yes>
atom$xfer_atr_request_id <123932111>
atom$xfer_atr_title "PK Zip"
atom$xfer_atr_file_size <42166>
atom$xfer_atr_file_name <pkzip.exe>
atom$xfer_atr_create_date <508741200>
.
.
.
atom$xfer_end_object
.
.
.
atom$uni_end_stream <00x>

 America Online, Inc. 1993-96 19-11 America Online Confidential




Chapter 19: File Transfer Protocol March 1996

atom$xfer_clear_rle_flag
8 ($08)

Description

atom$xfer_clear_rle_flag clears the RLE (run length encoding) flag.  This
atom is sent by the client when the member unchecks the file decompression
checkbox within the Download Preferences dialog box.

Syntax

atom$xfer_clear_rle_flag

Return Value

Unchanged.

Example

atom$xfer_clear_rle_flag

America Online Confidential 19-12  America Online, Inc. 1993-96




March 1996 FDO91 Manual, Vol. 2

atom$xfer_finish_later
5 ($05)

Description

atom$xfer_finish_later interrupts the current file transfer when the member
clicks the cancel button in the File Transfer dialog box while the file is
uploading.  This atom is sent by the client.

Syntax

atom$xfer_finish_later

Return Value

Unchanged.

Example

atom$uni_start_stream <00x>
.
.
.
atom$xfer_start_object <00x>
atom$xfer_bool_mail <yes>
atom$xfer_atr_request_id <123932171>
atom$xfer_atr_title "Updated Phone List"
atom$xfer_atr_file_size <25600>
atom$xfer_atr_file_name <mtfglf.xls>
atom$xfer_atr_create_date <508741200>
.
.
.

ê atom$xfer_finish_later
atom$uni_end_stream <00x>

 America Online, Inc. 1993-96 19-13 America Online Confidential




Chapter 19: File Transfer Protocol March 1996

atom$xfer_refresh_prefs
9 ($09)

Description

atom$xfer_refresh_prefs reloads all of the download preferences set by the
member, such as automatic decompression and setting the number of
downloads to retain.  This atom is sent by the client.

Syntax

atom$xfer_refresh_prefs

Return Value

Unchanged.

Example

atom$xfer_refresh_prefs

America Online Confidential 19-14  America Online, Inc. 1993-96




March 1996 FDO91 Manual, Vol. 2

atom$xfer_set_rle_flag
7 ($07)

Description

atom$xfer_set_rle_flag sets the RLE (run length encoded) flag.  This atom is
sent by the client when the member checks the file decompression checkbox
within the Download Preferences dialog box.

Syntax

atom$xfer_set_rle_flag

Return Value

Unchanged.

Example

atom$xfer_set_rle_flag

 America Online, Inc. 1993-96 19-15 America Online Confidential




Chapter 19: File Transfer Protocol March 1996

atom$xfer_start_object
14 ($E)

Description

atom$xfer_start_object is sent from the host to indicate the start of an XFER
object such as a file to be downloaded.  The argument to this atom specifies
whether the file will be downloaded immediately (Download Now is selected
by the member), or the file will be added to the download manager queue
(Download Later is selected by the member).

Syntax

atom$xfer_start_object (<0>|<1>)

(<0>|<1>) The status of the file to be downloaded.  Valid 
values are:

<0> The file will be downloaded immediately.

<1> The file will be downloaded later.

Return Value

Unchanged.

Example

The following is an example that specifies that a file will be downloaded
immediately:

atom$uni_start_stream <00x>
.
.
.

ê atom$xfer_start_object <00x>
.
.
.
atom$xfer_end_object

America Online Confidential 19-16  America Online, Inc. 1993-96




March 1996 FDO91 Manual, Vol. 2

atom$xfer_toggle_signoff
4 ($04)

Description

atom$xfer_toggle_signoff toggles the state of the sign off when finished flag.
This atom is sent when the member checks the Sign Off After Transfer
checkbox.  This atom is sent by the client.

Syntax

atom$xfer_toggle_signoff

Return Value

Unchanged.

Example

atom$xfer_toggle_signoff

 America Online, Inc. 1993-96 19-17 America Online Confidential



===== END PDF: ch19-xfer.pdf =====

===== BEGIN PDF: ch20-hfs.pdf =====



Manual: FDO91 Manual
Chapter 20: Host Forms Server Protocol defines host forms server protocol atoms and provides
host forms information.
Last updated: February 1998




C H A P T E R  2 0

Host Forms Server (HFS) Protocol

The Host Forms Server (HFS) protocol (protocol ID 51) consists of atoms
that handle the communications between the Host Forms Server (HFS) and the
VP Designer tool running on a client PC.

HFS stores and installs forms to the online service.  The HFS protocol contains
two groups: attribute atoms and command atoms.

The attribute atoms are sent by VP Designer to provide required information
(such as field mapping) for HFS to store and install a form.  Note that the
attribute atoms used by HFS are stripped from the form stream before the form
is installed.

The command atoms support a communication protocol between HFS and VP
Designer that synchronizes the form opening, saving, and installation
operations.  For example, these commands are used to open a form stored on
the host.

America Online Confidential 20-1  America Online, Inc. 1993-98




Chapter 20: Host Forms Server (HFS) Protocol February 1998

Host Forms Server Atoms

The Host Forms Server (HFS) protocol functions and their associated atoms
follow:

Function Atoms

Commands:

Granting access rights atom$hfs_cmd_access_rights

Opening a form with ho token atom$hfs_cmd_form_gid
to HFS atom$hfs_cmd_form_name

atom$hfs_cmd_template_name
atom$hfs_cmd_tag

Sending the opened form to atom$hfs_cmd_start_form_data
VP Designer atom$hfs_cmd_form_gid

atom$hfs_cmd_template_name
atom$hfs_cmd_read_only_form
atom$hfs_cmd_fdo (with form stream)
atom$hfs_cmd_end_form_data

Saving a form to HFS with hc
token:

   VP Designer requests HFS atom$hfs_cmd_form_name
to save a form atom$hfs_cmd_template_name

atom$hfs_cmd_save_as

   HFS requests to receive a atom$hfs_cmd_start_get_fdo
form atom$hfs_cmd_tag

atom$hfs_cmd_form_gid
atom$hfs_cmd_form_name
atom$hfs_cmd_response_id
atom$hfs_cmd_reference_id
atom$hfs_cmd_end_get_fdo

   VP Designer sends a form atom$hfs_cmd_form_name
stream with he token to HFS atom$hfs_cmd_gid

atom$hfs_cmd_template_name
atom$hfs_cmd_tag

America Online Confidential 20-2  America Online, Inc. 1993-98




February 1998 FDO91 Manual, Vol. 2

atom$hfs_cmd_response_id

atom$hfs_cmd_reference_id
atom$hfs_cmd_fdo (with form stream)

   HFS replies with the save
results atom$hfs_cmd_start_save_result

atom$hfs_cmd_tag
atom$hfs_cmd_form_gid
atom$hfs_cmd_template_name
atom$hfs_cmd_form_name
atom$hfs_cmd_result_code

atom$hfs_cmd_end_save_result

   VP Designer sends request atom$hfs_cmd_form_name
with hj token to install form

Attributes:

Mapping form objects atom$hfs_attr_checkbox_mapping

atom$hfs_attr_field_mapping

atom$hfs_attr_variable_mapping

Marking stream areas atom$hfs_attr_end_in_stream

atom$hfs_attr_end_post_stream

atom$hfs_attr_end_pre_stream

atom$hfs_attr_start_in_stream

atom$hfs_attr_start_post_stream

atom$hfs_attr_start_pre_stream

Setting flags atom$hfs_attr_flags

atom$hfs_attr_object_flags

Assigning a database atom$hfs_attr_database_type

Assigning a canned-form atom$hfs_attr_server_name
server

Defining window size and atom$hfs_attr_style_id
positioning styles

 America Online, Inc. 1993-98 20-3 America Online Confidential




Chapter 20: Host Forms Server (HFS) Protocol February 1998

Defining a preset global ID atom$hfs_attr_preset_global_id

Defining a plus group atom$hfs_attr_plus_group_number

atom$hfs_attr_plus_group_type

Naming and commenting atom$hfs_attr_object_comment
objects

atom$hfs_attr_layer_name

atom$hfs_attr_object_name

The HFS protocol atoms are described in alphabetical order in the rest of this
chapter.

America Online Confidential 20-4  America Online, Inc. 1993-98




February 1998 FDO91 Manual, Vol. 2

atom$hfs_attr_checkbox_mapping
30 ($1E)

Description

atom$hfs_attr_checkbox_mapping maps the checkbox or radio button
object relative ID to a known text string.

Syntax

atom$hfs_attr_checkbox_mapping <dword1, string>

<dword1> Specifies the relative ID of the object to be mapped.
The 4-byte value is 1 or greater.

<string> Specifies the associated text.

Return Value

None.

Example

The following VP Designer example maps object 5 to the text Remote
enabled:

atom$uni_start_stream_wait_on
atom$hfs_attr_field_mapping <1, 16>
atom$hfs_attr_variable_mapping <4, 20>

ê atom$hfs_attr_checkbox_mapping <5, “Remote enabled”>
atom$hfs_attr_style_id <0-43-1234>
atom$hfs_attr_server_name <"Rainman">
atom$hfs_attr_start_pre_stream
atom$uni_void
atom$hfs_attr_end_pre_stream
atom$man_start_object <ind_group, "Form">

atom$mat_orientation <vff>
atom$mat_precise_width <500>
atom$mat_precise_height <300>
atom$mat_bool_precise <yes>
atom$mat_bool_resize_vertical <no>
atom$mat_bool_resize_horizontal <no>
atom$mat_relative_tag <1>
atom$mat_dirty_query <yes>
atom$hfs_attr_start_in_stream
atom$uni_void
atom$hfs_attr_end_in_stream

 America Online, Inc. 1993-98 20-5 America Online Confidential




Chapter 20: Host Forms Server (HFS) Protocol February 1998

atom$hfs_attr_object_comment <"The quick brown fox jumps
over the lazy dog.">

atom$hfs_attr_object_name <"Julius Caesar">
atom$hfs_attr_end_object
atom$hfs_attr_start_post_stream
atom$uni_void
atom$hfs_attr_end_post_stream

atom$uni_end_stream

America Online Confidential 20-6  America Online, Inc. 1993-98




February 1998 FDO91 Manual, Vol. 2

atom$hfs_attr_database_type
31 ($1F)

Description

atom$hfs_attr_database_type specifies the database where the form will
reside.

Syntax

atom$hfs_attr_database_type <dword>

<dword> Specifies the database where the form will reside.
Possible values are:

0 Client-based form

1 Host-based form

Return Value

None.

Example

The following VP Designer example specifies the host database as the storage
target for the form:

atom$uni_start_stream_wait_on
atom$hfs_attr_field_mapping <1, 16>
atom$hfs_attr_variable_mapping <4, 20>
atom$hfs_attr_style_id <0-43-1234>

ê atom$hfs_attr_database_type <1>
atom$hfs_attr_server_name <"Rainman">
atom$hfs_attr_start_pre_stream
atom$uni_void
atom$hfs_attr_end_pre_stream
atom$man_start_object <ind_group, "Form">

atom$mat_orientation <vff>
atom$mat_precise_width <500>
atom$mat_precise_height <300>
atom$mat_bool_precise <yes>
atom$mat_bool_resize_vertical <no>
atom$mat_bool_resize_horizontal <no>
atom$mat_relative_tag <1>
atom$mat_dirty_query <yes>

 America Online, Inc. 1993-98 20-7 America Online Confidential




Chapter 20: Host Forms Server (HFS) Protocol February 1998

atom$hfs_attr_start_in_stream
atom$uni_void
atom$hfs_attr_end_in_stream
atom$hfs_attr_object_comment <"The quick brown fox jumps

over the lazy dog.">
atom$hfs_attr_object_name <"Julius Caesar">
atom$hfs_attr_end_object
atom$hfs_attr_start_post_stream
atom$uni_void
atom$hfs_attr_end_post_stream

atom$uni_end_stream

America Online Confidential 20-8  America Online, Inc. 1993-98




February 1998 FDO91 Manual, Vol. 2

atom$hfs_attr_end_in_stream
15 ($0F)

Description

atom$hfs_attr_end_in_stream marks the end of the in-stream segment of a
form definition.  Note that atom$hfs_attr_start_in_stream marks the start of
the in-stream.

Syntax

atom$hfs_attr_end_in_stream

Return Value

None.

Example

The following VP Designer example marks the end of the in-stream section of
the code:

atom$uni_start_stream_wait_on
atom$hfs_attr_field_mapping <1, 16>
atom$hfs_attr_variable_mapping <4, 20>
atom$hfs_attr_style_id <0-43-1234>
atom$hfs_attr_server_name <"Rainman">
atom$hfs_attr_start_pre_stream
atom$uni_void
atom$hfs_attr_end_pre_stream
atom$man_start_object <ind_group, "Form">

atom$mat_orientation <vff>
atom$mat_precise_width <500>
atom$mat_precise_height <300>
atom$mat_bool_precise <yes>
atom$mat_bool_resize_vertical <no>
atom$mat_bool_resize_horizontal <no>
atom$mat_relative_tag <1>
atom$mat_dirty_query <yes>
atom$hfs_attr_start_in_stream
.
.
.

ê atom$hfs_attr_end_in_stream
atom$hfs_attr_object_comment <"The quick brown fox jumps

over the lazy dog.">
atom$hfs_attr_object_name <"Julius Caesar">
atom$hfs_attr_end_object

 America Online, Inc. 1993-98 20-9 America Online Confidential




Chapter 20: Host Forms Server (HFS) Protocol February 1998

atom$hfs_attr_start_post_stream
atom$uni_void
atom$hfs_attr_end_post_stream

atom$uni_end_stream

America Online Confidential 20-10  America Online, Inc. 1993-98




February 1998 FDO91 Manual, Vol. 2

atom$hfs_attr_end_post_stream
17 ($11)

Description

atom$hfs_attr_end_post_stream marks the end of the post-stream segment
of a form definition.  Note that atom$hfs_attr_start_post_stream marks the
start of the post-stream.

Syntax

atom$hfs_attr_end_post_stream

Return Value

None.

Example

The following VP Designer example marks the end of the post-stream section
of the code:

atom$uni_start_stream_wait_on
atom$hfs_attr_field_mapping <1, 16>
atom$hfs_attr_variable_mapping <4, 20>
atom$hfs_attr_style_id <0-43-1234>
atom$hfs_attr_server_name <"Rainman">
atom$hfs_attr_start_pre_stream
atom$uni_void
atom$hfs_attr_end_pre_stream
atom$man_start_object <ind_group, "Form">

atom$mat_orientation <vff>
atom$mat_precise_width <500>
atom$mat_precise_height <300>
atom$mat_bool_precise <yes>
atom$mat_bool_resize_vertical <no>
atom$mat_bool_resize_horizontal <no>
atom$mat_relative_tag <1>
atom$mat_dirty_query <yes>
atom$hfs_attr_start_in_stream
atom$uni_void
atom$hfs_attr_end_in_stream
atom$hfs_attr_object_comment <"The quick brown fox jumps

over the lazy dog.">
atom$hfs_attr_object_name <"Julius Caesar">
atom$hfs_attr_end_object
atom$hfs_attr_start_post_stream
.

 America Online, Inc. 1993-98 20-11 America Online Confidential




Chapter 20: Host Forms Server (HFS) Protocol February 1998

.

.
ê atom$hfs_attr_end_post_stream

atom$uni_end_stream

America Online Confidential 20-12  America Online, Inc. 1993-98




February 1998 FDO91 Manual, Vol. 2

atom$hfs_attr_end_pre_stream
13 ($0D)

Description

atom$hfs_attr_end_pre_stream marks the end of the pre-stream segment of
a form definition.  Note that atom$hfs_attr_start_pre_stream marks the start
of the pre-stream.

Syntax

atom$hfs_attr_end_pre_stream

Return Value

None.

Example

The following VP Designer example marks the end of the pre-stream section
of the code:

atom$uni_start_stream_wait_on
atom$hfs_attr_field_mapping <1, 16>
atom$hfs_attr_variable_mapping <4, 20>
atom$hfs_attr_style_id <0-43-1234>
atom$hfs_attr_server_name <"Rainman">
atom$hfs_attr_start_pre_stream
.
.
.

ê atom$hfs_attr_end_pre_stream
atom$man_start_object <ind_group, "Form">

atom$mat_orientation <vff>
atom$mat_precise_width <500>
atom$mat_precise_height <300>
atom$mat_bool_precise <yes>
atom$mat_bool_resize_vertical <no>
atom$mat_bool_resize_horizontal <no>
atom$mat_relative_tag <1>
atom$mat_dirty_query <yes>
atom$hfs_attr_start_in_stream
atom$uni_void
atom$hfs_attr_end_in_stream
atom$hfs_attr_object_comment <"The quick brown fox jumps

over the lazy dog.">
atom$hfs_attr_object_name <"Julius Caesar">
atom$hfs_attr_end_object

 America Online, Inc. 1993-98 20-13 America Online Confidential




Chapter 20: Host Forms Server (HFS) Protocol February 1998

atom$hfs_attr_start_post_stream
atom$uni_void
atom$hfs_attr_end_post_stream

atom$uni_end_stream

America Online Confidential 20-14  America Online, Inc. 1993-98




February 1998 FDO91 Manual, Vol. 2

atom$hfs_attr_field_mapping
0 ($00)

Description

atom$hfs_attr_field_mapping maps a specified object to a field on the form
for the host server.

Syntax

atom$hfs_attr_field_mapping <dword1, dword2>

<dword1> Specifies the relative ID of the object to be mapped.
The 4-byte value is 1 or greater.

<dword2> Specifies the field mapping data.  The 4-byte value is 1
or greater.

Return Value

None.

Example

The following VP Designer example maps object 1 to field 16:

atom$uni_start_stream_wait_on
ê atom$hfs_attr_field_mapping <1, 16>

atom$hfs_attr_variable_mapping <4, 20>
atom$hfs_attr_style_id <0-43-1234>
atom$hfs_attr_server_name <"Rainman">
atom$hfs_attr_start_pre_stream
atom$uni_void
atom$hfs_attr_end_pre_stream
atom$man_start_object <ind_group, "Form">

atom$mat_orientation <vff>
atom$mat_precise_width <500>
atom$mat_precise_height <300>
atom$mat_bool_precise <yes>
atom$mat_bool_resize_vertical <no>
atom$mat_bool_resize_horizontal <no>
atom$mat_relative_tag <1>
atom$mat_dirty_query <yes>
atom$hfs_attr_start_in_stream
atom$uni_void
atom$hfs_attr_end_in_stream
atom$hfs_attr_object_comment <"The quick brown fox jumps

 America Online, Inc. 1993-98 20-15 America Online Confidential




Chapter 20: Host Forms Server (HFS) Protocol February 1998

over the lazy dog.">
atom$hfs_attr_object_name <"Julius Caesar">
atom$hfs_attr_end_object
atom$hfs_attr_start_post_stream
atom$uni_void
atom$hfs_attr_end_post_stream

atom$uni_end_stream

America Online Confidential 20-16  America Online, Inc. 1993-98




February 1998 FDO91 Manual, Vol. 2

atom$hfs_attr_flags
6 ($06)

Description

atom$hfs_attr_flags sets flags to define various attributes on a form.

Syntax

atom$hfs_attr_flags <dword>

<dword> Specifies an attribute flag to be set.  Flag values are:

2 insert_global_id — Specifies that a form has
a preset global ID.

128 direct_accessible — Specifies that a form
has a Favorite Places heart (icon).

Return Value

None.

Example

The following VP Designer example specifies that the form has a preset global
ID:

atom$uni_start_stream_wait_on
atom$hfs_attr_field_mapping <1, 16>

ê atom$hfs_attr_flags <2>
atom$hfs_attr_variable_mapping <4, 20>
atom$hfs_attr_style_id <0-43-1234>
atom$hfs_attr_plus_group_number <34>
atom$hfs_attr_plus_group_type <2>
atom$hfs_attr_server_name <"Rainman">
atom$hfs_attr_start_pre_stream
atom$uni_void
atom$hfs_attr_end_pre_stream

 America Online, Inc. 1993-98 20-17 America Online Confidential




Chapter 20: Host Forms Server (HFS) Protocol February 1998

atom$hfs_attr_layer_name
39 ($27)

Description

atom$hfs_attr_layer_name defines the current object as a layer-defined
object within VP Designer. This atom also specifies the object name.

Syntax

atom$hfs_attr_layer_name <string>

<string> Specifies the layered object name.

Return Value

None.

Example

The following VP Designer example defines the current object as a layered
object called Foobar:

atom$uni_start_stream_wait_on
atom$hfs_attr_field_mapping <1, 16>
atom$hfs_attr_variable_mapping <4, 20>
atom$hfs_attr_style_id <0-43-1234>
atom$hfs_attr_server_name <"Rainman">
atom$hfs_attr_start_pre_stream
atom$uni_void
atom$hfs_attr_end_pre_stream
atom$man_start_object <org_group, "">

ê atom$hfs_attr_layered_name <”Foobar”>
atom$mat_orientation <vff>
atom$mat_precise_width <500>
atom$mat_precise_height <300>
atom$mat_bool_precise <yes>
atom$mat_bool_resize_vertical <no>
atom$mat_bool_resize_horizontal <no>
atom$mat_relative_tag <1>
atom$mat_dirty_query <yes>
atom$hfs_attr_start_in_stream
atom$uni_void
atom$hfs_attr_end_in_stream
atom$hfs_attr_object_comment <"The quick brown fox jumps

over the lazy dog.">
atom$hfs_attr_object_name <"Julius Caesar">
atom$man_end_object

America Online Confidential 20-18  America Online, Inc. 1993-98




February 1998 FDO91 Manual, Vol. 2

atom$hfs_attr_end_object
atom$hfs_attr_start_post_stream
atom$uni_void
atom$hfs_attr_end_post_stream

atom$uni_end_stream

 America Online, Inc. 1993-98 20-19 America Online Confidential




Chapter 20: Host Forms Server (HFS) Protocol February 1998

atom$hfs_attr_object_comment
34 ($22)

Description

atom$hfs_attr_object_comment specifies the comment text that describes
the current object in the stream.

Syntax

atom$hfs_attr_object_comment <string>

<string> Specifies the text of the comment.

Return Value

None.

Example

The following VP Designer example specifies the comment text that describes
the current object:

atom$uni_start_stream_wait_on
atom$hfs_attr_field_mapping <1, 16>
atom$hfs_attr_variable_mapping <4, 20>
atom$hfs_attr_style_id <0-43-1234>
atom$hfs_attr_server_name <"Rainman">
atom$hfs_attr_start_pre_stream
atom$uni_void
atom$hfs_attr_end_pre_stream
atom$man_start_object <ind_group, "Form">

atom$mat_orientation <vff>
atom$mat_precise_width <500>
atom$mat_precise_height <300>
atom$mat_bool_precise <yes>
atom$mat_bool_resize_vertical <no>
atom$mat_bool_resize_horizontal <no>
atom$mat_relative_tag <1>
atom$mat_dirty_query <yes>
atom$hfs_attr_start_in_stream
atom$uni_void
atom$hfs_attr_end_in_stream

ê atom$hfs_attr_object_comment <"The quick brown fox jumps
over the lazy dog.">

atom$hfs_attr_object_name <"Julius Caesar">
atom$hfs_attr_end_object
atom$hfs_attr_start_post_stream

America Online Confidential 20-20  America Online, Inc. 1993-98




February 1998 FDO91 Manual, Vol. 2

atom$uni_void
atom$hfs_attr_end_post_stream

atom$uni_end_stream

 America Online, Inc. 1993-98 20-21 America Online Confidential




Chapter 20: Host Forms Server (HFS) Protocol February 1998

atom$hfs_attr_object_flags
44 ($2C)

Description

atom$hfs_attr_object_flags sets flags to define various attributes on a form.

Syntax

atom$hfs_attr_object_flags <dword>

<dword> Specifies an object flag to be set.  Flag value is:

1 slideshow — Specifies that the object is a
graphic view.

Return Value

None.

Example

The following VP Designer example specifies that the current object is a
graphic-view object:

atom$uni_start_stream_wait_on
atom$hfs_attr_field_mapping <1, 16>
atom$hfs_attr_variable_mapping <4, 20>
atom$hfs_attr_style_id <0-43-1234>
atom$hfs_attr_server_name <"Rainman">
atom$hfs_attr_start_pre_stream
atom$uni_void
atom$hfs_attr_end_pre_stream
atom$man_start_object <ind_group, "Form">

atom$man_start_object <view, ””>
ê atom$hfs_attr_object_flags <1>

atom$mat_precise_width <500>
atom$mat_precise_height <300>
atom$mat_bool_precise <yes>
atom$mat_bool_resize_vertical <no>
atom$mat_bool_resize_horizontal <no>
atom$mat_relative_tag <1>
atom$hfs_attr_start_in_stream
atom$uni_void
atom$hfs_attr_end_in_stream
atom$hfs_attr_object_comment <"The quick brown fox jumps

over the lazy dog.">

America Online Confidential 20-22  America Online, Inc. 1993-98




February 1998 FDO91 Manual, Vol. 2

atom$hfs_attr_object_name <"Julius Caesar">
atom$hfs_attr_end_object
atom$hfs_attr_start_post_stream
atom$uni_void
atom$hfs_attr_end_post_stream

atom$uni_end_stream

 America Online, Inc. 1993-98 20-23 America Online Confidential




Chapter 20: Host Forms Server (HFS) Protocol February 1998

atom$hfs_attr_object_name
35 ($23)

Description

atom$hfs_attr_object_name specifies the name of the current object in the
form.

Syntax

atom$hfs_attr_object_name <string>

<string> Specifies the name of the current object.

Return Value

None.

Example

The following VP Designer example specifies the name (Julius Caesar) to the
current object:

atom$uni_start_stream_wait_on
atom$hfs_attr_field_mapping <1, 16>
atom$hfs_attr_variable_mapping <4, 20>
atom$hfs_attr_style_id <0-43-1234>
atom$hfs_attr_server_name <"Rainman">
atom$hfs_attr_start_pre_stream
atom$uni_void
atom$hfs_attr_end_pre_stream
atom$man_start_object <ind_group, "Form">

atom$mat_orientation <vff>
atom$mat_precise_width <500>
atom$mat_precise_height <300>
atom$mat_bool_precise <yes>
atom$mat_bool_resize_vertical <no>
atom$mat_bool_resize_horizontal <no>
atom$mat_relative_tag <1>
atom$mat_dirty_query <yes>
atom$hfs_attr_start_in_stream
atom$uni_void
atom$hfs_attr_end_in_stream
atom$hfs_attr_object_comment <"The quick brown fox jumps

over the lazy dog.">
ê atom$hfs_attr_object_name <"Julius Caesar">

atom$hfs_attr_end_object
atom$man_end_object

America Online Confidential 20-24  America Online, Inc. 1993-98




February 1998 FDO91 Manual, Vol. 2

atom$hfs_attr_start_post_stream
atom$uni_void
atom$hfs_attr_end_post_stream

atom$uni_end_stream

 America Online, Inc. 1993-98 20-25 America Online Confidential




Chapter 20: Host Forms Server (HFS) Protocol February 1998

atom$hfs_attr_plus_group_number
37 ($25)

Description

atom$hfs_attr_plus_group_number defines a plus group number for the
form.

Syntax

atom$hfs_attr_plus_group_number <dword>

<dword> Specifies the plus group number.  Values are 1 or
greater.

Return Value

None.

Example

The following VP Designer example specifies the plus group number 34 for
the form:

atom$uni_start_stream_wait_on
atom$hfs_attr_field_mapping <1, 16>
atom$hfs_attr_variable_mapping <4, 20>
atom$hfs_attr_style_id <0-43-1234>
atom$hfs_attr_server_name <"Rainman">
atom$hfs_attr_start_pre_stream
atom$uni_void
atom$hfs_attr_end_pre_stream
atom$man_start_object <ind_group, "Form">

ê atom$hfs_attr_plus_group_number <34>
atom$hfs_attr_plus_group_type <2>
atom$mat_orientation <vff>
atom$mat_precise_width <500>
atom$mat_precise_height <300>
atom$mat_bool_precise <yes>
atom$mat_bool_resize_vertical <no>
atom$mat_bool_resize_horizontal <no>
atom$mat_relative_tag <1>
atom$mat_dirty_query <yes>
atom$hfs_attr_start_in_stream
atom$uni_void
atom$hfs_attr_end_in_stream
atom$hfs_attr_object_comment <"The quick brown fox jumps

over the lazy dog.">

America Online Confidential 20-26  America Online, Inc. 1993-98




February 1998 FDO91 Manual, Vol. 2

atom$hfs_attr_object_name <"Julius Caesar">
atom$hfs_attr_end_object
atom$hfs_attr_start_post_stream
atom$uni_void
atom$hfs_attr_end_post_stream

atom$uni_end_stream

 America Online, Inc. 1993-98 20-27 America Online Confidential




Chapter 20: Host Forms Server (HFS) Protocol February 1998

atom$hfs_attr_plus_group_type
38 ($26)

Description

atom$hfs_attr_plus_group_type defines a plus group type for the form.

Syntax

atom$hfs_attr_plus_group_type <dword>

<dword> Specifies the plus group type.  Values are:

0 Same

1 Pay area

2 Free area

Return Value

None.

Example

The following VP Designer example specifies the plus group type (free) for
the form:

atom$uni_start_stream_wait_on
atom$hfs_attr_field_mapping <1, 16>
atom$hfs_attr_variable_mapping <4, 20>
atom$hfs_attr_style_id <0-43-1234>
atom$hfs_attr_server_name <"Rainman">
atom$hfs_attr_start_pre_stream
atom$uni_void
atom$hfs_attr_end_pre_stream
atom$man_start_object <ind_group, "Form">

atom$hfs_attr_plus_group_number <34>
ê atom$hfs_attr_plus_group_type <2>

atom$mat_orientation <vff>
atom$mat_precise_width <500>
atom$mat_precise_height <300>
atom$mat_bool_precise <yes>
atom$mat_bool_resize_vertical <no>
atom$mat_bool_resize_horizontal <no>
atom$mat_relative_tag <1>
atom$mat_dirty_query <yes>

America Online Confidential 20-28  America Online, Inc. 1993-98




February 1998 FDO91 Manual, Vol. 2

atom$hfs_attr_start_in_stream
atom$uni_void
atom$hfs_attr_end_in_stream
atom$hfs_attr_object_comment <"The quick brown fox jumps

over the lazy dog.">
atom$hfs_attr_object_name <"Julius Caesar">
atom$hfs_attr_end_object
atom$hfs_attr_start_post_stream
atom$uni_void
atom$hfs_attr_end_post_stream

atom$uni_end_stream

 America Online, Inc. 1993-98 20-29 America Online Confidential




Chapter 20: Host Forms Server (HFS) Protocol February 1998

atom$hfs_attr_preset_global_id
4 ($04)

Description

atom$hfs_attr_preset_global_id requests that the host assign a preset global
ID (GID) for the current form.

Syntax

atom$hfs_attr_preset_global_id <dword>

<dword> Specifies the GID of the current form.

Return Value

None.

Example

The following VP Designer example requests a preset GID (0-43-4535) for
the current form:

atom$uni_start_stream_wait_on
ê atom$hfs_attr_preset_global_id <0-43-4535>

atom$hfs_attr_field_mapping <1, 16>
atom$hfs_attr_variable_mapping <4, 20>
atom$hfs_attr_style_id <0-43-1234>
atom$hfs_attr_server_name <"Rainman">
atom$hfs_attr_start_pre_stream
atom$uni_void
atom$hfs_attr_end_pre_stream

America Online Confidential 20-30  America Online, Inc. 1993-98




February 1998 FDO91 Manual, Vol. 2

atom$hfs_attr_server_name
41 ($29)

Description

atom$hfs_attr_server_name specifies the name of the canned form server.

Syntax

atom$hfs_attr_server_name <string>

<string> Specifies the server name holding the canned forms.

Return Value

None.

Example

The following VP Designer example specifies the name of the server
(Rainman) that holds the canned forms:

atom$uni_start_stream_wait_on
ê atom$hfs_attr_server_name <”Rainman”>

atom$hfs_attr_field_mapping <1, 16>
atom$hfs_attr_variable_mapping <4, 20>
atom$hfs_attr_style_id <0-43-1234>
atom$hfs_attr_server_name <"Rainman">
atom$hfs_attr_start_pre_stream
atom$uni_void
atom$hfs_attr_end_pre_stream
atom$man_start_object <ind_group, "Form">

atom$hfs_attr_layered_object <”Foobar”>
atom$mat_orientation <vff>
atom$mat_precise_width <500>
atom$mat_precise_height <300>
atom$mat_bool_precise <yes>
atom$mat_bool_resize_vertical <no>
atom$mat_bool_resize_horizontal <no>
atom$mat_relative_tag <1>
atom$mat_dirty_query <yes>
atom$hfs_attr_start_in_stream
atom$uni_void
atom$hfs_attr_end_in_stream
atom$hfs_attr_object_comment <"The quick brown fox jumps

over the lazy dog.">
atom$hfs_attr_object_name <"Julius Caesar">
atom$hfs_attr_end_object

 America Online, Inc. 1993-98 20-31 America Online Confidential




Chapter 20: Host Forms Server (HFS) Protocol February 1998

atom$hfs_attr_start_post_stream
atom$uni_void
atom$hfs_attr_end_post_stream

atom$uni_end_stream

America Online Confidential 20-32  America Online, Inc. 1993-98




February 1998 FDO91 Manual, Vol. 2

atom$hfs_attr_start_in_stream
14 ($0E)

Description

atom$hfs_attr_start_in_stream marks the start of the in-stream segment of a
form definition.  Note that atom$hfs_attr_end_in_stream marks the end of
the in-stream.

Syntax

atom$hfs_attr_start_in_stream

Return Value

None.

Example

The following VP Designer example marks the start of the in-stream section of
the code:

atom$uni_start_stream_wait_on
atom$hfs_attr_field_mapping <1, 16>
atom$hfs_attr_variable_mapping <4, 20>
atom$hfs_attr_style_id <0-43-1234>
atom$hfs_attr_server_name <"Rainman">
atom$hfs_attr_start_pre_stream
atom$uni_void
atom$hfs_attr_end_pre_stream
atom$man_start_object <ind_group, "Form">

atom$mat_orientation <vff>
atom$mat_precise_width <500>
atom$mat_precise_height <300>
atom$mat_bool_precise <yes>
atom$mat_bool_resize_vertical <no>
atom$mat_bool_resize_horizontal <no>
atom$mat_relative_tag <1>
atom$mat_dirty_query <yes>

ê atom$hfs_attr_start_in_stream
.
.
.

atom$hfs_attr_end_in_stream
atom$hfs_attr_object_comment <"The quick brown fox jumps

over the lazy dog.">
atom$hfs_attr_object_name <"Julius Caesar">
atom$hfs_attr_end_object

 America Online, Inc. 1993-98 20-33 America Online Confidential




Chapter 20: Host Forms Server (HFS) Protocol February 1998

atom$hfs_attr_start_post_stream
atom$uni_void
atom$hfs_attr_end_post_stream

atom$uni_end_stream

America Online Confidential 20-34  America Online, Inc. 1993-98




February 1998 FDO91 Manual, Vol. 2

atom$hfs_attr_start_post_stream
16 ($10)

Description

atom$hfs_attr_start_post_stream marks the start of the post-stream segment
of a form definition.  Note that atom$hfs_attr_end_post_stream marks the
end of the post-stream.

Syntax

atom$hfs_attr_start_post_stream

Return Value

None.

Example

The following VP Designer example marks the start of the post-stream section
of the code:

atom$uni_start_stream_wait_on
atom$hfs_attr_field_mapping <1, 16>
atom$hfs_attr_variable_mapping <4, 20>
atom$hfs_attr_style_id <0-43-1234>
atom$hfs_attr_server_name <"Rainman">
atom$hfs_attr_start_pre_stream
atom$uni_void
atom$hfs_attr_end_pre_stream
atom$man_start_object <ind_group, "Form">

atom$mat_orientation <vff>
atom$mat_precise_width <500>
atom$mat_precise_height <300>
atom$mat_bool_precise <yes>
atom$mat_bool_resize_vertical <no>
atom$mat_bool_resize_horizontal <no>
atom$mat_relative_tag <1>
atom$mat_dirty_query <yes>
atom$hfs_attr_start_in_stream
atom$uni_void
atom$hfs_attr_end_in_stream
atom$hfs_attr_object_comment <"The quick brown fox jumps

over the lazy dog.">
atom$hfs_attr_object_name <"Julius Caesar">
atom$hfs_attr_end_object

ê atom$hfs_attr_start_post_stream
.

 America Online, Inc. 1993-98 20-35 America Online Confidential




Chapter 20: Host Forms Server (HFS) Protocol February 1998

.

.
atom$hfs_attr_end_post_stream

atom$uni_end_stream

America Online Confidential 20-36  America Online, Inc. 1993-98




February 1998 FDO91 Manual, Vol. 2

atom$hfs_attr_start_pre_stream
12 ($0C)

Description

atom$hfs_attr_start_pre_stream marks the start of the pre-stream segment
of a form definition.  Note that atom$hfs_attr_end_pre_stream marks the
end of the pre-stream.

Syntax

atom$hfs_attr_start_pre_stream

Return Value

None.

Example

The following VP Designer example marks the start of the pre-stream section
of the code:

atom$uni_start_stream_wait_on
atom$hfs_attr_field_mapping <1, 16>
atom$hfs_attr_variable_mapping <4, 20>
atom$hfs_attr_style_id <0-43-1234>
atom$hfs_attr_server_name <"Rainman">

ê atom$hfs_attr_start_pre_stream
.
.
.
atom$hfs_attr_end_pre_stream
atom$man_start_object <ind_group, "Form">

atom$mat_orientation <vff>
atom$mat_precise_width <500>
atom$mat_precise_height <300>
atom$mat_bool_precise <yes>
atom$mat_bool_resize_vertical <no>
atom$mat_bool_resize_horizontal <no>
atom$mat_relative_tag <1>
atom$mat_dirty_query <yes>
atom$hfs_attr_start_in_stream
atom$uni_void
atom$hfs_attr_end_in_stream
atom$hfs_attr_object_comment <"The quick brown fox jumps

over the lazy dog.">
atom$hfs_attr_object_name <"Julius Caesar">
atom$hfs_attr_end_object

 America Online, Inc. 1993-98 20-37 America Online Confidential




Chapter 20: Host Forms Server (HFS) Protocol February 1998

atom$hfs_attr_start_post_stream
atom$uni_void
atom$hfs_attr_end_post_stream

atom$uni_end_stream

America Online Confidential 20-38  America Online, Inc. 1993-98




February 1998 FDO91 Manual, Vol. 2

atom$hfs_attr_style_id
4 ($04)

Description

atom$hfs_attr_style_id defines the global ID (GID) of an existing form to
apply as the style ID for the window size and positioning of the new form.

Syntax

atom$hfs_attr_style_id <dword>

<dword> Specifies the GID to apply as the form style.

Return Value

None.

Example

The following VP Designer example specifies GID 0-43-1234 as the style of
the new form:

atom$uni_start_stream_wait_on
atom$hfs_attr_field_mapping <1, 16>
atom$hfs_attr_variable_mapping <4, 20>

ê atom$hfs_attr_style_id <0-43-1234>
atom$hfs_attr_server_name <"Rainman">
atom$hfs_attr_start_pre_stream
atom$uni_void
atom$hfs_attr_end_pre_stream
atom$man_start_object <ind_group, "Form">

atom$mat_orientation <vff>
atom$mat_precise_width <500>
atom$mat_precise_height <300>
atom$mat_bool_precise <yes>
atom$mat_bool_resize_vertical <no>
atom$mat_bool_resize_horizontal <no>
atom$mat_relative_tag <1>
atom$mat_dirty_query <yes>
atom$hfs_attr_start_in_stream
atom$uni_void
atom$hfs_attr_end_in_stream
atom$hfs_attr_object_comment <"The quick brown fox jumps

over the lazy dog.">
atom$hfs_attr_object_name <"Julius Caesar">
atom$hfs_attr_end_object
atom$hfs_attr_start_post_stream

 America Online, Inc. 1993-98 20-39 America Online Confidential




Chapter 20: Host Forms Server (HFS) Protocol February 1998

atom$uni_void
atom$hfs_attr_end_post_stream

atom$uni_end_stream

America Online Confidential 20-40  America Online, Inc. 1993-98




February 1998 FDO91 Manual, Vol. 2

atom$hfs_attr_variable_mapping
28 ($1C)

Description

atom$hfs_attr_variable_mapping maps a specified variable object to a data
value on the form for the host variables.

Syntax

atom$hfs_attr_variable_mapping <dword1, dword2>

<dword1> Specifies the variable object ID of the object to be
mapped.  The 4-byte value is 1 or greater.

<dword2> Specifies the variable value.  The 4-byte value is 1 or
greater.

Return Value

None.

Example

The following VP Designer example maps variable object 4 to a value of 20:

atom$uni_start_stream_wait_on
atom$hfs_attr_field_mapping <1, 16>

ê atom$hfs_attr_variable_mapping <4, 20>
atom$hfs_attr_style_id <0-43-1234>
atom$hfs_attr_server_name <"Rainman">
atom$hfs_attr_start_pre_stream
atom$uni_void
atom$hfs_attr_end_pre_stream
atom$man_start_object <ind_group, "Form">

atom$mat_orientation <vff>
atom$mat_precise_width <500>
atom$mat_precise_height <300>
atom$mat_bool_precise <yes>
atom$mat_bool_resize_vertical <no>
atom$mat_bool_resize_horizontal <no>
atom$mat_relative_tag <1>
atom$mat_dirty_query <yes>
atom$hfs_attr_start_in_stream
atom$uni_void
atom$hfs_attr_end_in_stream
atom$hfs_attr_object_comment <"The quick brown fox jumps

 America Online, Inc. 1993-98 20-41 America Online Confidential




Chapter 20: Host Forms Server (HFS) Protocol February 1998

over the lazy dog.">
atom$hfs_attr_object_name <"Julius Caesar">
atom$hfs_attr_end_object
atom$hfs_attr_start_post_stream
atom$uni_void
atom$hfs_attr_end_post_stream

atom$uni_end_stream

America Online Confidential 20-42  America Online, Inc. 1993-98




February 1998 FDO91 Manual, Vol. 2

atom$hfs_cmd_access_rights
42 ($2A)

Description

atom$hfs_cmd_access_rights is sent by HFS to the client so that VP
Designer can be run.

Note:  The access rights to protected areas of the service, such as VP
Designer, are granted by a Host Security System (HSS) server.  For more
information about HSS, see the Host Subsystems manual.

Syntax

atom$hfs_cmd_access_rights <dword1 dword2>

<dword1 dword2> The first 4 bytes (dword1) specifies a security rights
number.  The second 4 bytes (dword2) specifies a rights
value.

Return Value

None.

Example

The following HFS example grants the client access to VP Designer:

atom$uni_start_stream
ê atom$hfs_cmd_access_rights <8 bytes of encrypted values>

atom$uni_end_stream

 America Online, Inc. 1993-98 20-43 America Online Confidential




Chapter 20: Host Forms Server (HFS) Protocol February 1998

atom$hfs_cmd_end_form_data
19 ($13)

Description

atom$hfs_cmd_end_form_data is sent by HFS to indicate the end of a load
form sequence.  A load form sequence from HFS is a response to a VP
Designer request to load a form from the host.  The sequence contains a series
of hfs_cmd atoms and object definitions that send the form from the host to
the client.  Note that an atom$hfs_cmd_start_form_data is required at the
start of the load form atom sequence.

Syntax

atom$hfs_cmd_end_form_data

Return Value

None.

Example

The following HFS example marks the beginning of a load form sequence:

atom$uni_start_stream
atom$hfs_cmd_start_form_data
atom$hfs_cmd_form_gid <43-5931>
atom$hfs_cmd_form_name <tim_black2>
atom$hfs_cmd_template_name <”1”>
atom$hfs_cmd_read_only_form <no>
atom$hfs_fdo

<
atom$uni_start_stream

atom$man_start_object <ind_group, “Inky Blackness”>
atom$mat_orientation <vff>
atom$mat_precise_width <500>
atom$mat_precise_height <300>
atom$mat_bool_precise <yes>
atom$mat_bool_resize_vertical <no>
atom$mat_bool_resize_horizontal <no>
atom$mat_color_face <1, 0, 0>
atom$mat_bool_background_flood <yes>
atom$mat_start_object <ornament, “The color Black”>

atom$mat_precise_x <228>
atom$mat_precise_y <130>
atom$mat_orientation <hlf>
atom$mat_font_sis <arial, 9, normal>
atom$mat_color_text <225, 255, 255>

America Online Confidential 20-44  America Online, Inc. 1993-98




February 1998 FDO91 Manual, Vol. 2

atom$man_end_object
atom$man_update_display

atom$man_update_woff_end_stream
>

ê atom$hfs_cmd_end_form_data
atom$uni_end_stream

 America Online, Inc. 1993-98 20-45 America Online Confidential




Chapter 20: Host Forms Server (HFS) Protocol February 1998

atom$hfs_cmd_end_get_fdo
23 ($17)

Description

atom$hfs_cmd_end_get_fdo is sent by HFS to mark the end of a form
definition request sequence.  Note that atom$hfs_cmd_start_get_fdo is
required at the start of the request sequence.

Syntax

atom$hfs_cmd_end_get_fdo

Return Value

None.

Example

The following HFS example marks the end of a form display object definition
request sequence:

atom$uni_start_stream
atom$hfs_cmd_start_get_fdo
atom$hfs_cmd_tag <138366636>
atom$hfs_cmd_form_gid <0>
atom$hfs_cmd_form_name <tim_black2>
atom$hfs_cmd_template_name <”default”>
atom$hfs_cmd_response_id <28>
atom$hfs_cmd_reference_id <2>

ê atom$hfs_cmd_end_get_fdo
atom$uni_end_stream

America Online Confidential 20-46  America Online, Inc. 1993-98




February 1998 FDO91 Manual, Vol. 2

atom$hfs_cmd_end_save_result
21 ($15)

Description

atom$hfs_cmd_end_save_result is sent by HFS to indicate the end of a save
form sequence.  A save form sequence from HFS is a response to a VP
Designer token (he) request, which contains a series of hfs_cmd atoms that
save a form.  Note that atom$hfs_cmd_start_save_result is required at the
beginning of the save form sequence.

Syntax

atom$hfs_cmd_end_save_result

Return Value

None.

Example

The following HFS to VP Designer example marks the end of a save form
sequence:

atom$uni_start_stream
atom$hfs_cmd_start_save_result
atom$hfs_cmd_tag <138366636>
atom$hfs_cmd_form_gid <0>
atom$hfs_cmd_form_name <tim_black2>
atom$hfs_cmd_template_name <”default”>
atom$hfs_cmd_result_code <0>

ê atom$hfs_cmd_end_save_result
atom$uni_end_stream

 America Online, Inc. 1993-98 20-47 America Online Confidential




Chapter 20: Host Forms Server (HFS) Protocol February 1998

atom$hfs_cmd_fdo
7 ($07)

Description

atom$hfs_cmd_fdo is sent by HFS to send a specific atom stream that defines
the form.

Syntax

atom$hfs_cmd_fdo <stream>

<stream> Contains an atom stream that defines the form.

Return Value

None.

Example

The following HFS to VP Designer example contains the stream that defines
the form:

atom$uni_start_stream
atom$hfs_cmd_start_form_data
atom$hfs_cmd_form_gid <43-5931>
atom$hfs_cmd_form_name <tim_black2>
atom$hfs_cmd_template_name <”1”>
atom$hfs_cmd_read_only_form <no>

ê atom$hfs_cmd_fdo
<
atom$uni_start_stream

atom$man_start_object <ind_group, “Inky Blackness”>
atom$mat_orientation <vff>
atom$mat_precise_width <500>
atom$mat_precise_height <300>
atom$mat_bool_precise <yes>
atom$mat_bool_resize_vertical <no>
atom$mat_bool_resize_horizontal <no>
atom$mat_color_face <1, 0, 0>
atom$mat_bool_background_flood <yes>
atom$mat_start_object <ornament, “The color Black”>

atom$mat_precise_x <228>
atom$mat_precise_y <130>
atom$mat_orientation <hlf>
atom$mat_font_sis <arial, 9, normal>
atom$mat_color_text <225, 255, 255>

atom$man_end_object

America Online Confidential 20-48  America Online, Inc. 1993-98




February 1998 FDO91 Manual, Vol. 2

atom$man_update_display
atom$man_update_woff_end_stream
>

atom$hfs_cmd_end_form_data
atom$uni_end_stream

 America Online, Inc. 1993-98 20-49 America Online Confidential




Chapter 20: Host Forms Server (HFS) Protocol February 1998

atom$hfs_cmd_form_gid
1 ($01)

Description

atom$hfs_cmd_form_gid is sent by VP Designer to specify a global ID
(GID) of the form to open.

Syntax

atom$hfs_cmd_form_gid <dword>

<dword> Specifies the GID of the form.

Return Value

None.

Example

The following VP Designer to HFS example specifies GID 0-43-4535 of a
form to open:

atom$uni_start_stream
ê atom$hfs_cmd_form_gid <0-43-4535>

atom$hfs_cmd_form_name <tim_black2>
atom$hfs_cmd_template_name <”default”>
atom$hfs_cmd_tag <9688552>

atom$uni_end_stream

America Online Confidential 20-50  America Online, Inc. 1993-98




February 1998 FDO91 Manual, Vol. 2

atom$hfs_cmd_form_name
2 ($02)

Description

atom$hfs_cmd_form_name is sent by VP Designer to assign a name to a
form, or it is sent by HFS to define the name of the form as the target context
of other command streams.

Syntax

atom$hfs_cmd_form_name <string>

<string> Specifies the name of the form.

Return Value

None.

Example

The following VP Designer to HFS example assigns the name tim_black2 to a
form:

atom$uni_start_stream
atom$hfs_cmd_form_gid <0-0-0>

ê atom$hfs_cmd_form_name <tim_black2>
atom$hfs_cmd_template_name <”default”>
atom$hfs_cmd_tag <9688552>

atom$uni_end_stream

 America Online, Inc. 1993-98 20-51 America Online Confidential




Chapter 20: Host Forms Server (HFS) Protocol February 1998

atom$hfs_cmd_read_only_form
40 ($28)

Description

atom$hfs_cmd_read_only_form determines whether the form is opened in a
read-only state.

Syntax

atom$hfs_cmd_read_only_form <boolean>

<boolean> Specifies whether the form is opened in a read-only
state.  Values are:

Yes The form is read-only.

No The form is editable.  (Default)

Return Value

None.

Example

The following VP Designer example specifies that the form is read-only:

atom$uni_start_stream
atom$hfs_cmd_start_form_data

ê atom$hfs_cmd_read_only_form <yes>
atom$hfs_cmd_form_gid <43-5931>
atom$hfs_cmd_form_name <tim_black2>
atom$hfs_cmd_template_name <”1”>
atom$hfs_cmd_read_only_form <no>
atom$hfs_fdo

<
atom$uni_start_stream

atom$man_start_object <ind_group, “Inky Blackness”>
atom$mat_orientation <vff>
atom$mat_precise_width <500>
atom$mat_precise_height <300>
atom$mat_bool_precise <yes>
atom$mat_bool_resize_vertical <no>
atom$mat_bool_resize_horizontal <no>
atom$mat_color_face <1, 0, 0>
atom$mat_bool_background_flood <yes>
atom$mat_start_object <ornament, “The color Black”>

America Online Confidential 20-52  America Online, Inc. 1993-98




February 1998 FDO91 Manual, Vol. 2

atom$mat_precise_x <228>
atom$mat_precise_y <130>
atom$mat_orientation <hlf>
atom$mat_font_sis <arial, 9, normal>
atom$mat_color_text <225, 255, 255>

atom$man_end_object
atom$man_update_display

atom$man_update_woff_end_stream
>

atom$hfs_cmd_end_form_data
atom$uni_end_stream

 America Online, Inc. 1993-98 20-53 America Online Confidential




Chapter 20: Host Forms Server (HFS) Protocol February 1998

atom$hfs_cmd_reference_id
32 ($20)

Description

atom$hfs_cmd_reference_id is sent by HFS and VP Designer to track
commands in the form-building sequences.

Syntax

atom$hfs_cmd_reference_id <dword>

<dword> Specifies the reference ID in the form-building
sequence.  Integer values are 0 or greater.

Return Value

None.

Example

The following HFS example identifies the reference ID (2) in an object
definition request to VP Designer:

atom$uni_start_stream
atom$hfs_cmd_start_get_fdo
atom$hfs_cmd_tag <138366636>
atom$hfs_cmd_form_gid <0>
atom$hfs_cmd_form_name <tim_black2>
atom$hfs_cmd_template_name <”default”>
atom$hfs_cmd_response_id <28>

ê atom$hfs_cmd_reference_id <2>
atom$hfs_cmd_end_get_fdo

atom$uni_end_stream

America Online Confidential 20-54  America Online, Inc. 1993-98




February 1998 FDO91 Manual, Vol. 2

atom$hfs_cmd_response_id
27 ($1B)

Description

atom$hfs_cmd_response_id is sent by HFS and VP Designer to track
commands in the form-building sequences.

Syntax

atom$hfs_cmd_response_id <dword>

<dword> Specifies the response ID in the form-building
sequence.  Integer values are 0 or greater.

Return Value

None.

Example

The following HFS example identifies the response ID (28) in an object
definition request to VP Designer:

atom$uni_start_stream
atom$hfs_cmd_start_get_fdo
atom$hfs_cmd_tag <138366636>
atom$hfs_cmd_form_gid <0>
atom$hfs_cmd_form_name <tim_black2>
atom$hfs_cmd_template_name <”default”>

ê atom$hfs_cmd_response_id <28>
atom$hfs_cmd_reference_id <2>
atom$hfs_cmd_end_get_fdo

atom$uni_end_stream

 America Online, Inc. 1993-98 20-55 America Online Confidential




Chapter 20: Host Forms Server (HFS) Protocol February 1998

atom$hfs_cmd_result_code
10 ($0A)

Description

atom$hfs_cmd_result_code is sent by HFS to reply to VP Designer with the
results of the operation.

Syntax

atom$hfs_cmd_result_code <dword>

<dword> Specifies the result code.  A zero indicates a successful
operation.  Values 1 or greater are error codes.

Return Value

None.

Example

The following HFS example replies to VP Designer with a zero indicating a
successful save operation:

atom$uni_start_stream
atom$hfs_cmd_start_save_result
atom$hfs_cmd_tag <9688552>
atom$hfs_cmd_form_gid <0-0-0>
atom$hfs_cmd_template_name <”default”>
atom$hfs_cmd_form_name <tim_black2>

ê atom$hfs_cmd_result_code <0>
atom$hfs_cmd_end_save_result

atom$uni_end_stream

America Online Confidential 20-56  America Online, Inc. 1993-98




February 1998 FDO91 Manual, Vol. 2

atom$hfs_cmd_save_as
11 ($0B)

Description

atom$hfs_cmd_save_as is sent by VP Designer to request a save operation.
Note that the host responds to this request with a prompt for a form name.

Syntax

atom$hfs_cmd_save_as

Return Value

None.

Example

The following VP Designer example requests HFS to save a form:

atom$uni_start_stream
atom$hfs_cmd_form_gid <0-0-0>
atom$hfs_cmd_form_name <tim_black2>
atom$hfs_cmd_template_name <”default”>
atom$hfs_cmd_tag <9688552>

ê atom$hfs_cmd_save_as
atom$uni_end_stream

 America Online, Inc. 1993-98 20-57 America Online Confidential




Chapter 20: Host Forms Server (HFS) Protocol February 1998

atom$hfs_cmd_start_form_data
18 ($12)

Description

atom$hfs_cmd_start_form_data is sent by HFS to indicate the start of a load
form sequence.  A load form sequence from HFS is a response to a VP
Designer request to load a form from the host.  The sequence contains a series
of hfs_cmd atoms and object definitions that send the form from the host to
the client.  Note that atom$hfs_cmd_end_form_data is required at the end of
the load form atom sequence.

Syntax

atom$hfs_cmd_start_form_data

Return Value

None.

Example

The following HFS to VP Designer example marks the beginning of a load
form sequence:

atom$uni_start_stream
ê atom$hfs_cmd_start_form_data

atom$hfs_cmd_form_gid <43-5931>
atom$hfs_cmd_form_name <tim_black2>
atom$hfs_cmd_template_name <”1”>
atom$hfs_cmd_read_only_form <no>
atom$hfs_fdo

<
atom$uni_start_stream

atom$man_start_object <ind_group, “Inky Blackness”>
atom$mat_orientation <vff>
atom$mat_precise_width <500>
atom$mat_precise_height <300>
atom$mat_bool_precise <yes>
atom$mat_bool_resize_vertical <no>
atom$mat_bool_resize_horizontal <no>
atom$mat_color_face <1, 0, 0>
atom$mat_bool_background_flood <yes>
atom$mat_start_object <ornament, “The color Black”>

atom$mat_precise_x <228>
atom$mat_precise_y <130>
atom$mat_orientation <hlf>

America Online Confidential 20-58  America Online, Inc. 1993-98




February 1998 FDO91 Manual, Vol. 2

atom$mat_font_sis <arial, 9, normal>
atom$mat_color_text <225, 255, 255>

atom$man_end_object
atom$man_update_display

atom$man_update_woff_end_stream
>

atom$hfs_cmd_end_form_data
atom$uni_end_stream

 America Online, Inc. 1993-98 20-59 America Online Confidential




Chapter 20: Host Forms Server (HFS) Protocol February 1998

atom$hfs_cmd_start_get_fdo
22 ($16)

Description

atom$hfs_cmd_start_get_fdo is sent by HFS to mark the beginning of the
request for the form definitions.  Note that atom$hfs_cmd_end_get_fdo is
required at the end of the request sequence.

Syntax

atom$hfs_cmd_start_get_fdo

Return Value

None.

Example

The following HFS to VP Designer example marks the beginning of a form
display object definition request sequence:

atom$uni_start_stream
ê atom$hfs_cmd_start_get_fdo

atom$hfs_cmd_tag <138366636>
atom$hfs_cmd_form_gid <0>
atom$hfs_cmd_form_name <tim_black2>
atom$hfs_cmd_template_name <”default”>
atom$hfs_cmd_response_id <28>
atom$hfs_cmd_reference_id <2>
atom$hfs_cmd_end_get_fdo

atom$uni_end_stream

America Online Confidential 20-60  America Online, Inc. 1993-98




February 1998 FDO91 Manual, Vol. 2

atom$hfs_cmd_start_save_result
20 ($14)

Description

atom$hfs_cmd_start_save_result is sent by HFS to indicate the start of a
save form sequence.  A save sequence from HFS is a response to a VP
Designer token (he) request, which contains a series of hfs_cmd atoms that
save a form.  Note that atom$hfs_cmd_end_save_result is required at the
end of the save form sequence.

Syntax

atom$hfs_cmd_start_save_result

Return Value

None.

Example

The following HFS to VP Designer example marks the beginning of a save
form sequence:

atom$uni_start_stream
ê atom$hfs_cmd_start_save_result

atom$hfs_cmd_tag <138366636>
atom$hfs_cmd_form_gid <0>
atom$hfs_cmd_form_name <tim_black2>
atom$hfs_cmd_template_name <”default”>
atom$hfs_cmd_result_code <0>
atom$hfs_cmd_end_save_result

atom$uni_end_stream

 America Online, Inc. 1993-98 20-61 America Online Confidential




Chapter 20: Host Forms Server (HFS) Protocol February 1998

atom$hfs_cmd_tag
8 ($08)

Description

atom$hfs_cmd_tag is sent by VP Designer to assign an ID to track
commands being sent.

Syntax

atom$hfs_cmd_tag <dword>

<dword> Specifies the ID of the command set.

Return Value

None.

Example

The following VP Designer to HFS example assigns an ID to the command
set:

atom$uni_start_stream
atom$hfs_cmd_form_gid <0-0-0>
atom$hfs_cmd_form_name <tim_black2>
atom$hfs_cmd_template_name <”default”>

ê atom$hfs_cmd_tag <9688552>
atom$uni_end_stream

America Online Confidential 20-62  America Online, Inc. 1993-98




February 1998 FDO91 Manual, Vol. 2

atom$hfs_cmd_template_name
2 ($02)

Description

atom$hfs_cmd_template_name is sent by VP Designer to assign a template
name to a form, or it is sent by HFS to define the template name of the form as
the target context of other command streams.

Syntax

atom$hfs_cmd_template_name <string>

<string> Specifies the template name of the form.

Return Value

None.

Example

The following VP Designer to HFS example assigns a template name (default)
to the form:

atom$uni_start_stream
atom$hfs_cmd_form_gid <0-0-0>
atom$hfs_cmd_form_name <tim_black2>

ê atom$hfs_cmd_template_name <”default”>
atom$hfs_cmd_tag <9688552>

atom$uni_end_stream

 America Online, Inc. 1993-98 20-63 America Online Confidential



===== END PDF: ch20-hfs.pdf =====

===== BEGIN PDF: ch22-imgxfer.pdf =====



Manual: FDO91 Manual
Chapter 22: Image Transfer Protocol defines image transfer protocol atoms and provides information 
for handling image display.
Last updated: November 1995




C H A P T E R  2 2

Image Transfer Protocol

The Image Transfer protocol (protocol ID 21) consists of atoms that provide
the capability to download an image from the host computer to a field or form
called by the client application.  The Image Transfer protocol provides the
interface between the Image Transfer tool and the display engine by linking the
file ID of an image file to the form ID or field ID (relative ID) to which it is
associated.  When an image is downloaded, a spoolfile is created; a spoolfile is
a temporary file created to store an image during download.  The spoolfile is
erased when the member closes the form containing the image.

Image Transfer Protocol Atoms

The Image Transfer protocol atoms are described in alphabetical order in the
rest of this chapter.

America Online Confidential 22-1  America Online, Inc. 1993-95




Chapter 22: Image Transfer Protocol November 1995

atom$imgxfer_attr_wait_active
4 ($04)

Description

atom$imgxfer_attr_wait_active determines if a modal wait cursor is
displayed or not.  If a modal wait cursor is displayed, any other transfer gauges
associated with the image transfer are overridden.

Syntax

atom$imgxfer_attr_wait_active (<yes>|<no>)

<yes> Indicates that a modal wait cursor is displayed.

<no> Indicates that a modal wait cursor is not displayed.

Return Value

Unchanged.

Example

The following is an example of how to display a modal wait cursor:

atom$imgxfer_set_context <127>
.
.
.
atom$imgxfer_set_gid <40-2517>
atom$imgxfer_set_rid <3>

ê atom$imgxfer_attr_wait_active <yes>
.
.
.
atom$imgxfer_end_context

America Online Confidential 22-2 America Online, Inc. 1993-95




November 1995 FDO91 Manual, Vol. 2

atom$imgxfer_end_context
1 ($01)

Description

atom$imgxfer_end_context ends the current context to a file ID.

Syntax

atom$imgxfer_end_context

Return Value

Unchanged.

Example

The following is an example of how to end the current context:

atom$imgxfer_set_context <127>
.
.
.

ê atom$imgxfer_end_context

 America Online, Inc. 1993-95 22-3 America Online Confidential




Chapter 22: Image Transfer Protocol November 1995

atom$imgxfer_get_spoolfile_name
7 ($07)

Description

atom$imgxfer_get_spoolfile_name retrieves the name of the spoolfile.  A
spoolfile is a temporary file created to store an image during download.  The
spoolfile is erased when the member closes the form containing the image.

Syntax

atom$imgxfer_get_spoolfile_name

Return Value

The name of the spoolfile.

Example

The following is an example of how to retrieve the name of the spoolfile and
delete it:

atom$imgxfer_set_context <127>
.
.
.

ê atom$imgxfer_get_spoolfile_name
atom$uni_use_last_atom_value <prot$file> <atom$fm_delete_file>
.
.
.
atom$imgxfer_end_context

America Online Confidential 22-4 America Online, Inc. 1993-95




November 1995 FDO91 Manual, Vol. 2

atom$imgxfer_is_spoolfile
7 ($07)

Description

atom$imgxfer_is_spoolfile checks the type of file to which the image to be
downloaded is being saved.  If the file type is a spoolfile, this expression
evaluates to true.  A spoolfile is a temporary file created to store an image
during download.  The spoolfile is erased when the member closes the form
containing the image.

Syntax

atom$imgxfer_is_spoolfile

Return Value

True or false depending on the result of the expression.

Example

The following is an example of how to check the type of file to which the
image is being saved and preset the title of the window if a spoolfile is being
used:

atom$imgxfer_set_context <127>
.
.
.

ê atom$imgxfer_is_spoolfile
atom$if_last_return_true_then <1>
atom$man_preset_title “US WEATHER”
atom$uni_sync_skip <1>
.
.
.
atom$imgxfer_end_context

 America Online, Inc. 1993-95 22-5 America Online Confidential




Chapter 22: Image Transfer Protocol November 1995

atom$imgxfer_set_context
0 ($00)

Description

atom$imgxfer_set_context sets the context to a file ID.  Context is a term
used to indicate on which file ID processing will occur.  All processing acts on
the file ID in context.

Syntax

atom$imgxfer_set_context <file_ID>

<file_ID> A file ID.

Return Value

Unchanged.

Example

The following is an example of how to set the context to a file ID with a value
of 127:

ê atom$imgxfer_set_context <127>
.
.
.
atom$imgxfer_end_context

America Online Confidential 22-6 America Online, Inc. 1993-95




November 1995 FDO91 Manual, Vol. 2

atom$imgxfer_set_gid
3 ($03)

Description

atom$imgxfer_set_gid specifies the global ID of the form that is used to
display an image during download.

Syntax

atom$imgxfer_set_gid <global_ID>

<global_ID> A global ID.

Return Value

Unchanged.

Example

The following is an example of how to specify a global ID with a value of 40-
2517:

atom$imgxfer_set_context <127>
.
.
.

ê atom$imgxfer_set_gid <40-2517>
.
.
.
atom$imgxfer_end_context

 America Online, Inc. 1993-95 22-7 America Online Confidential




Chapter 22: Image Transfer Protocol November 1995

atom$imgxfer_set_rid
2 ($02)

Description

atom$imgxfer_set_rid specifies the relative ID of a field on a form that is
used to display an image during downloading.

If no value is specified for the relative ID, the default is 1.

Syntax

atom$imgxfer_set_rid [<relative_ID>]

[<relative_ID>] A relative ID.

Return Value

Unchanged.

Example

The following is an example of how to specify a relative ID with a value of 3:

atom$imgxfer_set_context <127>
.
.
.
atom$imgxfer_set_gid <40-2517>

ê atom$imgxfer_set_rid <3>
.
.
.
atom$imgxfer_end_context

America Online Confidential 22-8 America Online, Inc. 1993-95



===== END PDF: ch22-imgxfer.pdf =====

===== BEGIN PDF: ch23-lm.pdf =====



Manual: FDO91 Manual
Chapter 23: List Manager Protocol defines list manager protocol atoms and provides information for
managing lists such as lists of e-mail messages.
Last updated: March 1996




C H A P T E R  2 3

List Manager Protocol

The List Manager protocol (protocol ID 9) consists of atoms that provide a
generic way to transport lists of items, such as e-mail messages, between the
host and the client.  The List Manager protocol operates independently of
other protocols depending upon the platform being used and the type of list
function being performed.

The Magic Cap client of the online service, which is not form-driven, relies
heavily on the List Manager protocol.  The Magic Cap client uses the List
Manager protocol independently to provide screen name updating and local
access number lookup.

The Magic Cap client  also uses the List Manager protocol in conjunction with
the Message Interchange Protocol (MIP) to provide e-mail and news article
functionality.  The Windows client of the online service uses these two
protocols to provide FlashSession functionality, which lets members read e-
mail messages offline.

On platforms that are form-driven, the List Manager protocol provides an
interface between the Database Manager protocol, which handles data
extraction, and the Display Manager protocol, which handles form display.

Message Interchange Protocol Interface

The List Manager protocol is tightly coupled with MIP.  List Manager
produces lists of items (e-mail or news articles) based on member requests.
Once a member selects an item from its list, MIP transports the associated
message (e-mail or news article).

America Online Confidential 23-1  America Online, Inc. 1993-96




Chapter 23: List Manager Protocol March 1996

List Construction

The most important construct of the List Manager protocol is a list.  Lists are
constructed from zero or more list entries.  A list entry is an atomic item of the
list, which means it is defined by a series of atoms.  A list entry has two parts:
its title, which is a text string, and its ID, which has a 32-bit integer value.

Both the list entry title and ID are optional elements.  The exact meaning of
these elements is dependent upon the context of the list.  Typically, the title
contains either a description of the list entry or the actual data of the list entry.
Similarly, the ID contains either a reference to the location of the actual list
data or the data itself.

The following example shows a typical atom stream received from the host
when a New Mail list is requested:

atom$uni_start_stream
atom$lm_start_list
atom$lm_attr_list_type <0>
atom$lm_start_list_entry "Subject of Message 1"
atom$lm_attr_list_entry_id <2233444>
atom$lm_end_list_entry
atom$lm_start_list_entry "Subject of Message 2"
atom$lm_attr_list_entry_id <2233450>
atom$lm_end_list_entry
atom$lm_start_list_entry "Subject of Message 3"
atom$lm_attr_list_entry_id <2233460>
atom$lm_end_list_entry
.
.
More list entries appear here...
.
.
atom$lm_end_list
atom$uni_end_stream

Database Manager and Display Manager Interface

On form-driven clients, such as the Windows client, the List Manager protocol
provides an interface between the Database Manager protocol and the Display
Manager protocol.  In this environment, the List Manager protocol is primarily
accessed through code-level API calls, or protocol messages.

When other protocols want to use List Manager atoms, they use API calls at
startup time to register the lists they will be using  This associates a database
file with a form or forms.  Thereafter, the List Manager protocol issues
callbacks to modules, as appropriate, to handle additions, deletions, etc. to the

America Online Confidential 23-2  America Online, Inc. 1993-96




March 1996 FDO91 Manual, Vol. 2

list.  For more information on API calls, see the America Online Windows
Client Manual.

In addition to the tool calls the List Manager protocol provides, there are three
atoms for use within forms: atom$lm_close_window, atom$lm_open_
window, and atom$lm_user_delete_item.  These atoms are used to actually
open and close forms that are managed by List Manager, as well as to request
deletion of items in lists.

List Manager Protocol Atoms

The List Manager atoms are described in alphabetical order in the rest of this
chapter.  For more information on List Manager atoms, see Appendix A,
"Examples."

 America Online, Inc. 1993-96 23-3 America Online Confidential




Chapter 23: List Manager Protocol March 1996

atom$lm_attr_list_entry_id
10 ($0A)

Description

atom$lm_attr_list_entry_id defines a list entry ID.  This atom is optional
and, if used, follows atom$lm_start_list_entry and precedes
atom$lm_end_list_entry.

Syntax

atom$lm_attr_list_entry_id <ID>

<ID> A 32-bit integer associated with the current list entry.

Return Value

A 32-bit integer.

Example

The following is an example of an atom stream that is sent when a member
requests a list of new messages:

atom$lm_start_list
atom$lm_attr_list_type <0>
atom$lm_start_list_entry "Time Sheets"

ê atom$lm_attr_list_entry_ID <2233440>
atom$lm_end_list_entry
atom$lm_start_list_entry "Lunch next Tuesday?"

ê atom$lm_attr_list_entry_ID <2233441>
atom$lm_end_list_entry
.
.
.
atom$lm_end_list

America Online Confidential 23-4  America Online, Inc. 1993-96




March 1996 FDO91 Manual, Vol. 2

atom$lm_attr_list_entry_type
29 ($1D)

Description

atom$lm_attr_list_entry_type indicates that the list entry has an attached file.
If a value of 1 is specified as the argument to this atom, the list entry has an
attached file; no other values are defined.

Syntax

atom$lm_attr_list_entry_type <1>

<1> The list entry has an attached file.

Return Value

Unchanged.

Example

The following is an example of an atom stream indicating that the list entry has
an attached file:

atom$lm_start_list
.
.
.
atom$lm_start_list_entry "Reston Phone List"
atom$lm_attr_list_entry_ID <2233445>

ê atom$lm_attr_list_entry_type <1>
atom$lm_end_list_entry
.
.
.
atom$lm_end_list

 America Online, Inc. 1993-96 23-5 America Online Confidential




Chapter 23: List Manager Protocol March 1996

atom$lm_attr_list_form
8 ($08)

Description

atom$lm_attr_list_form defines a form to display.  This atom must follow
atom$lm_start_list and precede atom$lm_end_list.

Syntax

atom$lm_attr_list_form <form_ID>

<form_ID> A 32-bit integer that indicates the host database record
of the form to display.

Return Value

Unchanged.

Example

The following is an example of how to define a form to display:

atom$lm_start_list
ê atom$lm_attr_list_form <32-123>

atom$lm_end_list

America Online Confidential 23-6  America Online, Inc. 1993-96




March 1996 FDO91 Manual, Vol. 2

atom$lm_attr_list_type
7 ($07)

Description

atom$lm_attr_list_type defines a list type.  There can only be one list type
per list.  This atom must follow atom$lm_start_list and precede
atom$lm_end_list.

Syntax

atom$lm_attr_list_type <type>

<type> A 32-bit integer that indicates the current list type.
Values are as follows:

0 In mailbox (e-mail that has not been read)

1 Out mailbox (e-mail that has been sent)

2 Old mailbox (e-mail that has been read)

3 Local access number

4 Screen names

5 Collection of articles, such as news

Return Value

Unchanged.

Example

The following is an example of how to set the list type:

atom$lm_start_list
ê atom$lm_attr_list_type <0>

.

.

.
atom$lm_end_list

 America Online, Inc. 1993-96 23-7 America Online Confidential




Chapter 23: List Manager Protocol March 1996

atom$lm_close_window
1 ($01)

Description

atom$lm_close_window is used to close a currently displayed form that is
being managed by List Manager.  The form must have been previously opened
with atom$lm_open_window.  Execution of this atom sends a close message
to the tool that owns the list, allowing the owner to respond to (or, perhaps,
block) the request to close the window.

This atom is used by form-driven platforms only.

Syntax

atom$lm_close_window <global_ID>

<global_ID> The global ID of the window to close.

Return Value

Unchanged.

Example

The following is an example of how to close a form that was previously
opened:

atom$lm_open_window <32-2528>
.
.
.

ê atom$lm_close_window <32-2528>

America Online Confidential 23-8  America Online, Inc. 1993-96




March 1996 FDO91 Manual, Vol. 2

atom$lm_display_list
9 ($09)

Description

atom$lm_display_list defines the list type to display.

Syntax

atom$lm_display_list <type>

<type> A 32-bit integer that indicates the list type to display.
Values are as follows:

0 In mailbox (e-mail that has not been read)

1 Out mailbox (e-mail that has been sent)

2 Old mailbox (e-mail that has been read)

3 Local access number

4 Screen names

5 Collection of articles, such as news

Return Value

Unchanged.

Example

The following is an example of how to display a list:

atom$uni_start_stream
ê atom$lm_display_list <4>

atom$uni_end_stream

 America Online, Inc. 1993-96 23-9 America Online Confidential




Chapter 23: List Manager Protocol March 1996

atom$lm_end_list
4 ($04)

Description

atom$lm_end_list delimits the end of a complete list structure which contains
zero or more list entries.  List entries are defined using atom$lm_start_list_
entry and atom$lm_end_list_entry.

Syntax

atom$lm_end_list

Return Value

Unchanged.

Example

The following is an example of how to end a list:

atom$lm_start_list
.
.
.

ê atom$lm_end_list

America Online Confidential 23-10  America Online, Inc. 1993-96




March 1996 FDO91 Manual, Vol. 2

atom$lm_end_list_entry
6 ($06)

Description

atom$lm_end_list_entry delimits the end of a list entry.  A corresponding
atom$lm_start_list_entry must have preceded this atom.

Syntax

atom$lm_end_list_entry

Return Value

Unchanged.

Example

The following is an example of how to create a list of news articles:

atom$lm_start_list
atom$lm_attr_list_type <5>
atom$lm_start_list_entry "Clinton trapped by Whitewater
  scandal"
atom$lm_attr_list_entry_ID <123-1>

ê atom$lm_end_list_entry
atom$lm_start_list_entry "Baseball fans go into mourning"
atom$lm_attr_list_entry_ID <123-2>

ê atom$lm_end_list_entry
.
.
.
atom$lm_end_list

 America Online, Inc. 1993-96 23-11 America Online Confidential




Chapter 23: List Manager Protocol March 1996

atom$lm_get_list_entry_id
12 ($0C)

Description

atom$lm_get_list_entry_id gets the ID, which is typically a database record
number, of a requested list entry.  This atom must follow atom$lm_start_list
and precede atom$lm_end_list.

Syntax

atom$lm_get_list_entry_id <index_#>

<index_#> The indexed number of the list entry whose ID is being
requested.  For example, if you want the ID of the third
list entry, use 3 for the argument.

Return Value

A 32-bit integer that is the ID of the list entry.

Example

The following is an example of how to get the list entry's ID using the indexed
number of the list entry:

atom$lm_start_list
atom$lm_attr_list_type <0>

ê atom$lm_get_list_entry_ID <2>
.
.
.
atom$lm_end_list

America Online Confidential 23-12  America Online, Inc. 1993-96




March 1996 FDO91 Manual, Vol. 2

atom$lm_get_list_entry_title
11 ($0B)

Description

atom$lm_get_list_entry_title gets the title of a requested list entry.  This
atom must follow atom$lm_start_list and precede atom$lm_end_list.

Syntax

atom$lm_get_list_entry_title <index_#>

<index_#> The indexed number of the list entry whose title is being
requested.  For example, if you want the title of the third
list entry, use 3 for the argument.

Return Value

Pointer to the string that is the title of the list entry.

Example

The following is an example of how to get the list entry's title using the indexed
number of the list entry:

atom$lm_start_list
atom$lm_attr_list_type <0>

ê atom$lm_get_list_entry_title <5>
.
.
.
atom$lm_end_list

 America Online, Inc. 1993-96 23-13 America Online Confidential




Chapter 23: List Manager Protocol March 1996

atom$lm_get_selected_item
25 ($19)

Description

atom$lm_get_selected_item retrieves the value of the currently selected item
in a list.

Syntax

atom$lm_get_selected_item <global_ID>

<global_ID> The global ID of the window containing the affected list.

Return Values

ID of the item in the list.

Example

The following is an example of a partial atom stream that retrieves an item with
a GID of 32-2534.

atom$lm_close_window <32-2534>
.
.
.

ê atom$lm_user_selected_item <32-2534>

America Online Confidential 23-14  America Online, Inc. 1993-96




March 1996 FDO91 Manual, Vol. 2

atom$lm_open_window
0 ($00)

Description

atom$lm_open_window is used to open a window that has been registered
with the List Manager protocol.  Execution of this atom sends an open
message to the protocol that owns the list prior to opening the window.  If the
open succeeds, an opened message is also sent to the list's owner.  These
messages allow the owner to respond to the request to open the window.

This atom is used by form-driven platforms only.

Syntax

atom$lm_open_window <global_ID>

<global_ID> The global ID of the window to open.

Return Value

Unchanged

Example

The following is an example of how to open a form by specifying its global ID:

ê atom$lm_open_window <32-2528>
.
.
.
atom$lm_close_window <32-2528>

 America Online, Inc. 1993-96 23-15 America Online Confidential




Chapter 23: List Manager Protocol March 1996

atom$lm_render_item
15 ($0F)

Description

atom$lm_render_item gets and displays information associated with the
requested list entry based on the current list type.

This atom is specific to the Windows client of the online service platform and
is not used by the Magic Cap platform.

Syntax

atom$lm_render_item <index_#>

<index_#> The indexed number of the list entry whose information
is being requested.  For example, if you want the
database record of the third list entry, use 3 for the
argument.

Return Value

The database record of the FlashSession e-mail for the following list types:

In mailbox (e-mail that has not been read)

Out mailbox (e-mail that has been sent)

Old mailbox (e-mail that has been read)

Unchanged for the following list types:

Local access number

Screen names

Collection of articles, such as news

Example

The following is an example of how to display information associated with a
list entry using the indexed number of the list entry:

America Online Confidential 23-16  America Online, Inc. 1993-96




March 1996 FDO91 Manual, Vol. 2

atom$lm_start_list
atom$lm_attr_list_type <0>

ê atom$lm_render_item <2>
atom$lm_end_list

 America Online, Inc. 1993-96 23-17 America Online Confidential




Chapter 23: List Manager Protocol March 1996

atom$lm_retrieve_item
14 ($0E)

Description

atom$lm_retrieve_item assumes the list entry's ID is a database record
number and, based on that number, gets the record.

This atom is specific to the Windows client of the online service platform and
is not used by the Magic Cap platform.

Syntax

atom$lm_retrieve_item <index_#>

<index_#> The indexed number of the list entry whose database
record is being requested.  For example, if you want the
database record of the third list entry, use 3 for the
argument.

Return Value

A pointer to the database record.

Example

The following is an example of how to return a pointer to the entry's database
record for the indexed number of the list entry:

atom$lm_start_list
atom$lm_attr_list_type <0>

ê atom$lm_retrieve_item <1>
atom$lm_end_list

America Online Confidential 23-18  America Online, Inc. 1993-96




March 1996 FDO91 Manual, Vol. 2

atom$lm_start_list
3 ($03)

Description

atom$lm_start_list delimits the start of a complete list structure which
contains zero or more list entries.  List entries are defined using
atom$lm_start_list_entry and atom$lm_end_list_entry.

Syntax

atom$lm_start_list

Return Value

Unchanged.

Example

The following is an example of how to initiate a list:

ê atom$lm_start_list
.
.
.
atom$lm_end_list

 America Online, Inc. 1993-96 23-19 America Online Confidential




Chapter 23: List Manager Protocol March 1996

atom$lm_start_list_entry
5 ($05)

Description

atom$lm_start_list_entry delimits the start of a list entry.  This atom is used
to add a list entry to the current list.

Syntax

atom$lm_start_list_entry |<title>|

<title> An optional text string that is the title of the list entry.
The title may be a description of the entry or the
complete entry.  Complete list entries might include a
list that displays current screen names.

Return Value

Unchanged.

Example

The following is an example of how a list of e-mail messages is created:

atom$lm_start_list
atom$lm_attr_list_type <0>

ê atom$lm_start_list_entry "What's New?"
atom$lm_attr_list_entry_ID <2233448>
atom$lm_end_list_entry

ê atom$lm_start_list_entry "Meeting at 4pm"
atom$lm_attr_list_entry_ID <2233600>
atom$lm_end_list_entry
.
.
.
atom$lm_end_list

America Online Confidential 23-20  America Online, Inc. 1993-96




March 1996 FDO91 Manual, Vol. 2

atom$lm_table_clear
16 ($10)

Description

atom$lm_table_clear clears the entries in the table.  If a global ID is not
specified, the action is performed on the current table.

Syntax

atom$lm_table_clear [<global_ID>]

[<global_ID>] The global ID of the database record containing the
table.

Return Values

Unchanged.

Example

The following is an example of how to clear the entries in the table contained
in database record 20-0-1234:

atom$lm_table_clear <20-0-1234>

 America Online, Inc. 1993-96 23-21 America Online Confidential




Chapter 23: List Manager Protocol March 1996

atom$lm_table_delete_item
22 ($16)

Description

atom$lm_table_delete_item deletes the value of the table entry associated
with the current key.  If no key is specified, the current key is used.  The
database record containing the table is updated immediately.

Syntax

atom$lm_table_delete_item [<key>]

[<key>] A string to use for the current key.

Return Values

Unchanged.

Example

The following is an example of how to delete the value in the table entry
associated with the current key:

atom$lm_table_use_table <20-0-1234>
atom$lm_table_use_key <UBAmember>

ê atom$lm_table_delete_item

America Online Confidential 23-22  America Online, Inc. 1993-96




March 1996 FDO91 Manual, Vol. 2

atom$lm_table_get_item
20 ($14)

Description

atom$lm_table_get_item retrieves the value of the entry associated with the
specified key from the table.  If no key is specified, the current key is used.

Syntax

atom$lm_table_get_item [<key>]

[<key>] A string to use for the current key.

Return Values

Value of the entry, or false if the key string is not found.

Example

The following is an example of how to retrieve the table entry associated with
the key "UBAmember":

atom$lm_table_use_table <20-0-1234>
ê atom$lm_table_get_item <UBAmember>

 America Online, Inc. 1993-96 23-23 America Online Confidential




Chapter 23: List Manager Protocol March 1996

atom$lm_table_set_item
21 ($15)

Description

atom$lm_table_set_item stores a value in the table entry associated with the
current key.  The previous value of the entry is overwritten.  The database
record containing the table is updated immediately.

Syntax

atom$lm_table_set_item <item>

<item> A value to be stored in the table entry.  The value can be
a text string with a maximum size of 32K.

Return Values

Unchanged

Example

The following is an example of how to store the value "birthday" in the table
entry associated with the current key:

atom$lm_table_use_table <20-0-1234>
atom$lm_table_use_key <IMAmember>

ê atom$lm_table_set_item <birthday>

America Online Confidential 23-24  America Online, Inc. 1993-96




March 1996 FDO91 Manual, Vol. 2

atom$lm_table_use_key
19 ($13)

Description

atom$lm_table_use_key defines the current key.  The current key is used to
manipulate entries in a table.

Syntax

atom$lm_table_use_key <key>

<key> A string to use for the current key.

Return Values

Unchanged.

Example

The following is an example of how to specify the string "IMAmember" as the
current key:

atom$lm_table_use_table <20-0-1234>
atom$lm_table_use_key <IMAmember>

 America Online, Inc. 1993-96 23-25 America Online Confidential




Chapter 23: List Manager Protocol March 1996

atom$lm_table_use_table
17 ($11)

Description

atom$lm_table_use_table defines the table associated with the specified
global ID as the current table.

Syntax

atom$lm_table_use_table <global_ID>

<global_ID> The global ID of the database record containing the
table.

Return Values

Unchanged.

Example

The following is an example of how to define the table contained in database
record 20-0-1234 as the current table:

atom$lm_table_use_table <20-0-1234>

America Online Confidential 23-26  America Online, Inc. 1993-96




March 1996 FDO91 Manual, Vol. 2

atom$lm_user_delete_item
2 ($02)

Description

atom$lm_user_delete_item is used to signal a member request to delete the
currently selected item in a list that is managed by the List Manager protocol.
It is the calling protocol's responsibility to make sure that there actually is a
selected item in the appropriate list at the time this atom is executed.  The
specified form must have been previously opened with
atom$lm_open_window.

This atom is used by form-driven platforms only.

Syntax

atom$lm_user_delete_item  <global_ID>

<global_ID> The global ID of the window containing the affected list.

Return Values

Unchanged

Example

The following is an example of how the currently selected item in a list is
deleted:

atom$lm_open window <32-2541>
.
.
.

ê atom$lm_user_delete_item <32-2541>

 America Online, Inc. 1993-96 23-27 America Online Confidential



===== END PDF: ch23-lm.pdf =====

===== BEGIN PDF: ch24-mip.pdf =====



Manual: FDO91 Manual
Chapter 24: Message Interchange Protocol defines message interchange protocol atoms and provides
information for handling message data transport.
Last updated: March 1996




C H A P T E R  2 4

Message Interchange Protocol
(MIP)

The FDO91 Message Interchange protocol (protocol ID 17) consists of atoms
that provide a generic way to transport messages, in the form of raw data,
between the host system and the client application.  Any application that is
being developed to use message interchange protocol (MIP) services must also
support the List Manager protocol to provide a generic way to transport lists
of items.

The following services are available using both the MIP and List Manager
protocols:

• E-mail

• Stock quote retrieval

• News story retrieval

Clients that are not form-based, such as Magic Cap client, are currently using
these services.  The Windows client of the online service uses the MIP and List
Manager protocols for FlashSession capability.

Message Construction

The most important construct of MIP is a message.  Messages are comprised
of several header fields, followed by zero or more data blocks.  The header
fields describe the global context of the message, including but not limited to:
its source (author), its destinations (recipients), when it was created, and its
summary (subject).  Data blocks are streams of raw data that are typed; the
data block's type determines its meaning.  The host may choose to send or not
send certain types of data to a client based on that client's ability to interpret
the data.

America Online Confidential 24-1  America Online, Inc. 1993-96




Chapter 24: Message Interchange Protocol (MIP) March 1996

The following example is a typical atom stream received from the host when a
news article is displayed:

atom$uni_start_stream
atom$mip_start_message
atom$mip_attr_message_type <4>
atom$mip_message_datestr "94-08-10 14:05:09 EDT"
atom$mip_author "America Online"
atom$mip_subject "Countdown for health-care bill begins in

    Senate"
atom$mip_text "Edgy lawmakers weighed the election-year..."
.
.
More data appears here...
.
.
atom$mip_end_message
atom$uni_end_stream

MIP Atoms

The MIP atoms are described in alphabetical order in the rest of this chapter.
For more information on MIP atoms, see Appendix A, "Examples."

America Online Confidential 24-2  America Online, Inc. 1993-96




March 1996 FDO91 Manual, Vol. 2

atom$mip_abort
6 ($06)

Description

atom$mip_abort terminates processing of a current FlashSession action as a
result of an error.  This atom is always sent from the host to the client.

Syntax

atom$mip_abort

Return Value

Unchanged.

Example

The following is an example that shows that a MIP error has occurred:

atom$uni_start_stream
atom$mip_error <07> "You must specify at least one recipient."

ê atom$mip_abort
atom$uni_end_stream

 America Online, Inc. 1993-96 24-3 America Online Confidential




Chapter 24: Message Interchange Protocol (MIP) March 1996

atom$mip_addressee
9 ($09)

Description

atom$mip_addressee specifies to whom the message is being sent.  This atom
is sent by both the host and the client.

atom$mip_attr_addressee_type, which indicates whether the addressee is a
TO, CC, or BCC recipient, must precede atom$mip_addressee or a group of
atom$mip_addressee atoms.

For addressee types 0, 1 and 2, there must be one atom$mip_addressee atom
for each mail recipient.  For addressee types 3 and 4, one
atom$mip_addressee atom can define multiple recipients using a comma-
separated list of names as the parameter.  For a list of addressee types, see
atom$ mip_attr_addressee_type.

Syntax

atom$mip_addressee <screen_name>

<screen_name> The screen name of the member to whom the message is
being sent.

Return Value

Unchanged.

Example 1

The following is an example that shows multiple addressees of different types:

America Online Confidential 24-4  America Online, Inc. 1993-96




March 1996 FDO91 Manual, Vol. 2

atom$mip_start_message
atom$mip_attr_addressee_type <0>

ê atom$mip_addressee <John Doe>
atom$mip_attr_addressee_type <1>

ê atom$mip_addressee <Jim Smith>
ê atom$mip_addressee <MaryAnn>
ê atom$mip_addressee <DebbieD>

atom$mip_attr_addressee_type <2>
ê atom$mip_addressee <RobinHood>

Example 2

The following is an example that shows multiple addressees, using a comma-
separated list of names:

atom$mip_start_message
atom$mip_attr_addressee_type <3>

ê atom$mip_addressee <John Doe, Jim Smith>
atom$mip_attr_addressee_type <4>

ê atom$mip_addressee <MaryAnn, DebbieD, RobinHood>

 America Online, Inc. 1993-96 24-5 America Online Confidential




Chapter 24: Message Interchange Protocol (MIP) March 1996

atom$mip_addressee_comment
28 ($1C)

Description

atom$mip_addressee_comment defines a comment, such as a member's last
name, to be displayed along with the addressee's name.

Syntax

atom$mip_addressee_comment <text>

<text> The text that appears next to the addressee name.

Return Value

Unchanged.

Example

The following is an example that shows the use of an addressee comment:

atom$mip_start_message
atom$mip_attr_addressee_type <0>
atom$mip_addressee <Jim Smith>
atom$mip_addressee <MaryAnn>

ê atom$mip_addressee_comment <Mathews>

America Online Confidential 24-6  America Online, Inc. 1993-96




March 1996 FDO91 Manual, Vol. 2

atom$mip_attr_addressee_type
19 ($13)

Description

atom$mip_attr_addressee_type defines the type of addressee to whom the e-
mail message is being sent.  There are five addressee types:  the main
recipient(s), the carbon copy recipient(s), the blind carbon copy recipient(s),
the main recipient(s) (unparsed), and the carbon copy recipient(s) (unparsed).
Unparsed types allow multiple recipients to be specified using a comma-
separated list of names.  For more information, see atom$mip_addressee.

atom$mip_attr_addressee_type is followed by one or more
atom$mip_addressee atoms, each of which specifies a screen name of an e-
mail recipient.  This atom can be sent by the host or the client.

Syntax

atom$mip_attr_addressee_type <type>

<type> The addressee type to which e-mail is being sent.
Values are as follows:

0 TO — indicates main recipients

1 CC — indicates carbon copy recipients

2 BCC — indicates blind carbon copy recipients

3 TO (unparsed) — indicates main recipients

4 CC (unparsed) — indicates carbon copy 
recipients

Return Value

Unchanged.

Example

The following is an example that shows multiple addressees of different types:

atom$mip_start_message
ê atom$mip_attr_addressee_type <0>

atom$mip_addressee <John Doe>

 America Online, Inc. 1993-96 24-7 America Online Confidential




Chapter 24: Message Interchange Protocol (MIP) March 1996

ê atom$mip_attr_addressee_type <1>
atom$mip_addressee <Jim Smith>
atom$mip_addressee <MaryAnn>
atom$mip_addressee <DebbieD>

ê atom$mip_attr_addressee_type <2>
atom$mip_addressee <RobinHood>

America Online Confidential 24-8  America Online, Inc. 1993-96




March 1996 FDO91 Manual, Vol. 2

atom$mip_attr_data_type
20 ($14)

Description

atom$mip_attr_data_type defines the type of data in the current block.
Most e-mail messages are made up of text blocks, but a message can be a
collection of data blocks that are of different types. These blocks of data are
used to identify different types of data within the same message (such as
graphics within a message).

Each block of data must begin with atom$mip_start_block, end with
atom$mip_end_block, and contain atom$mip_attr_data_type which
specifies the type of data within the current block.

Syntax

atom$mip_attr_data_type <type>

<type> The data type.  Values are as follows:

0 Text

1 Attached file

2 Atom stream

259 Magic Cap object data

Return Value

Unchanged.

Example

The following is an example of a message that has data blocks of different
types:

atom$mip_start_block
ê atom$mip_attr_data_type <0>

atom$mip_data "Here is some text."
.
.
.
atom$mip_end_block
atom$mip_start_block

 America Online, Inc. 1993-96 24-9 America Online Confidential




Chapter 24: Message Interchange Protocol (MIP) March 1996

ê atom$mip_attr_data_type <1>
atom$mip_attr_file_name "DEMO.TXT"
.
.
.
atom$mip_end_block

America Online Confidential 24-10  America Online, Inc. 1993-96




March 1996 FDO91 Manual, Vol. 2

atom$mip_attr_file_create_date
24 ($18)

Description

atom$mip_attr_file_create_date indicates the creation time of a file attached
to a message.  Later when a member receiving the message attempts to
download the attached file, the Stratus time stamp is required by the host for
access to the file.

Syntax

atom$mip_attr_file_create_date <create_date>

<create_date> A 32-bit integer indicating the creation date of a file
attached to a message in number of seconds since
midnight January 1, 1980 GMT.

Return Value

Unchanged.

Example

The following is an example of how the creation date of an attached file is sent
with its associated message:

atom$mip_start_block
atom$mip_attr_data_type <1>
atom$mip_attr_file_name "MEMO.DOC"
atom$mip_attr_file_type <0x54455854>

ê atom$mip_attr_file_create_date <461792773>
atom$mip_end_block

 America Online, Inc. 1993-96 24-11 America Online Confidential




Chapter 24: Message Interchange Protocol (MIP) March 1996

atom$mip_attr_file_name
21 ($15)

Description

atom$mip_attr_file_name associates a filename with a file that is attached to
a message.

Syntax

atom$mip_attr_file_name <name>

<name> The name of the file attached to the message.

Return Value

Unchanged.

Example

The following is an example of how to associate the name of an attached file
with a message:

atom$mip_start_block
atom$mip_attr_data_type <1>

ê atom$mip_attr_file_name "MEMO.DOC"
atom$mip_attr_file_type <0x54455854>
atom$mip_attr_file_create_date <461792773>
atom$mip_end_block

America Online Confidential 24-12  America Online, Inc. 1993-96




March 1996 FDO91 Manual, Vol. 2

atom$mip_attr_file_size
22 ($16)

Description

atom$mip_attr_file_size indicates the number of bytes in the file that is
attached to a message.

Syntax

atom$mip_attr_file_size <bytes>

<bytes> The size of a file attached to a message.

Return Value

Unchanged.

Example

The following is an example of how to associate the size of an attached file
with a message:

atom$mip_start_block
atom$mip_attr_data_type <1>
atom$mip_attr_file_name "MEMO.DOC"
atom$mip_attr_file_type <0x54455854>

ê atom$mip_attr_file_size <456876>
atom$mip_end_block

 America Online, Inc. 1993-96 24-13 America Online Confidential




Chapter 24: Message Interchange Protocol (MIP) March 1996

atom$mip_attr_file_type
23 ($17)

Description

atom$mip_attr_file_type indicates the file type for an attached file that is sent
with a message.

Syntax

atom$mip_attr_file_type <type>

<type> The file type of the attached file.

Return Value

Unchanged.

Example

The following is an example of how to associate the type of an attached file
with a message:

atom$mip_start_block
atom$mip_attr_data_type <1>
atom$mip_attr_file_name "Memorandum"

ê atom$mip_attr_file_type <0x54455854>
atom$mip_attr_file_size <456876>
atom$mip_end_block

America Online Confidential 24-14  America Online, Inc. 1993-96




March 1996 FDO91 Manual, Vol. 2

atom$mip_attr_list_type
27 ($1B)

Description

atom$mip_attr_list_type determines what message list is accessed.  There are
three message lists: an in mailbox that contains messages that the member has
received but not yet read; an out mailbox that contains messages the member
has sent, and an old mailbox containing messages the member has read.

Syntax

atom$mip_attr_list_type <type>

<type> A 32-bit integer that indicates the message list type that
is accessed.  Values are as follows:

0 In mailbox (e-mail that has not been read)

1 Out mailbox (e-mail that has been sent)

2 Old mailbox (e-mail that has been read)

Return Value

Unchanged.

Example

The following is an example that shows a message being requested from the
member's inbox of new messages:

atom$mip_start_message
atom$mip_attr_message_type <0>

ê atom$mip_attr_list_type <0>
atom$mip_message_id <2233447>
.
.
.
atom$mip_end_message

 America Online, Inc. 1993-96 24-15 America Online Confidential




Chapter 24: Message Interchange Protocol (MIP) March 1996

atom$mip_attr_message_type
25 ($19)

Description

atom$mip_attr_message_type defines the kind of message is being sent.
Currently, this atom is used by the Magic Cap client but is not used by the
Windows client of the online service.

Syntax

atom$mip_attr_message_type <type>

<type> The message type.  Values are as follows:

0 E-mail

1 Post-it note (not currently used)

2 Stock quote (non-compressed)

3 Stock quote (compressed)

4 News article

Return Value

Unchanged.

Example

The following is an example that shows the assignment of a message type:

atom$mip_start_message
ê atom$mip_attr_message_type <3>

atom$mip_message_datestr "94-08-04 13:31:46 EDT"
atom$mip_author "AOL Stock Service"
.
.
.
atom$mip_end_message

America Online Confidential 24-16  America Online, Inc. 1993-96




March 1996 FDO91 Manual, Vol. 2

atom$mip_author
15 ($0F)

Description

atom$mip_author indicates who is sending the message.

Syntax

atom$mip_attr_author <name>

<name> The name of the sender of the message.

Return Value

Unchanged.

Example

The following is an example of how to define the author of the message:

atom$mip_start_message
.
.
.
atom$mip_message_id <2233556>
atom$mip_message_datestr "94-08-04 13:31:46 EDT"

ê atom$mip_author "AOL Stock Service"
.
.
.
atom$mip_end_message

 America Online, Inc. 1993-96 24-17 America Online Confidential




Chapter 24: Message Interchange Protocol (MIP) March 1996

atom$mip_bool_everyone_invisible
46 ($2E)

Description

atom$mip_bool_everyone_invisible is sent by the host to specify that the
client will not display any values in the "from" and "to" fields during the display
of a message.  This information will be displayed in the header block.  The
information in the header block is a subset of the information contained within
the Internet mail header.

Syntax

atom$mip_bool_everyone_invisible <yes>

<yes> Values in the "from" and "to" fields will not be
displayed.

Return Value

Unchanged.

Example

The following is an example that specifies that "from" and "to" values will not
be displayed:

atom$mip_start_message
atom$mip_attr_message_type <1>
atom&mip_attr_list_type <0>
atom$mip_message_id <5566778>
atom$mip_message_datestr <96-02-22 20:51:57>
atom$mip_subject <Reston Move Info>

ê atom$mip_bool_everyone_invisible <yes>
atom$mip_author <akoontz@aol.com>
atom$mip_reply_to <bowser@aol.com>
.
.
.
atom$mip_end_message

America Online Confidential 24-18  America Online, Inc. 1993-96




March 1996 FDO91 Manual, Vol. 2

atom$mip_bool_inet_quoting
51 ($33)

Description

atom$mip_bool_inet_quoting is sent from the host to the client inside a reply
message to specify that Internet-style quoting will be used, not online service-
style quoting, if quoting is supported.

For example, on the Windows client of the online service, Internet-style mail
has a hard return after each line and is quoted one line at a time with a greater-
than ">" character at the beginning of each line.  Online service-style mail,
which is paragraph-oriented, is quoted in full with "<<" and ">>" at the
beginning and end of the text, respectively.  If this atom is not specified, the
default value of "no" is presumed.

Syntax

atom$mip_bool_inet_quoting <yes>|<no>

<yes> Internet-style quoting will be used.

<no> Internet-style quoting will not be used.

Return Value

Unchanged.

Example

The following example specifies that Internet-style quoting will be used, if
supported:

atom$mip_start_message
atom$mip_attr_message_type <1>
atom&mip_attr_list_type <0>
atom$mip_message_id <5566778>
atom$mip_message_datestr <95-01-18>
atom$mip_subject <"Subject">
atom$mip_bool_everyone_invisible <yes>
atom$mip_author <AKoontz@aol.com>
atom$mip_reply_to <"OnlineHost">
atom$mip_attr_addressee_type <0>
atom$mip_attr_addressee <Bowser@aol.com>
atom$mip_attr_addressee_type
atom$mip_attr_addressee
atom$mip_attr_do_not_reply_to

ê atom$mip_bool_inet_quoting

 America Online, Inc. 1993-96 24-19 America Online Confidential




Chapter 24: Message Interchange Protocol (MIP) March 1996

atom$mip_start_block
.
.
.
atom$mip_end_message

America Online Confidential 24-20  America Online, Inc. 1993-96




March 1996 FDO91 Manual, Vol. 2

atom$mip_bool_return_receipt
26 ($1A)

Description

atom$mip_bool_return_receipt is sent from the client to the host at the time
the message is sent and indicates whether the member wants a return receipt
for the message.  A return receipt notifies the author when the message is read.

Syntax

atom$mip_bool_return_receipt (<yes>|<no>)

<yes> Specifies true to indicate that a return receipt is
requested.

<no> Specifies false to indicate that a return receipt is not
requested.

Return Value

Unchanged.

Example

The following is an example of how to request a return receipt:

atom$mip_start_message
.
.
.

ê atom$mip_bool_return_receipt <yes>
.
.
.
atom$mip_end_message

 America Online, Inc. 1993-96 24-21 America Online Confidential




Chapter 24: Message Interchange Protocol (MIP) March 1996

atom$mip_bool_will_ack
50 ($32)

Description

atom$mip_bool_will_ack is sent from the client to inform the host that the
client will send atom$mip_message_accepted to acknowledge receipt of the
message when it is successfully received.  Otherwise, the host will not expect
atom$mip_message_accepted.  The default argument is yes.

Syntax

atom$mip_bool_will_ack (<yes>|<no>)

<yes> The client will acknowledge receipt of the message.

<no> The client will not acknowledge receipt of the message.

Return Value

Unchanged.

Example

The following is an example that informs the host that the client will
acknowledge receipt of the message when it is successfully received:

atom$uni_start_stream
atom$mip_preset_message_id <3456341>

ê atom$mip_bool_will_ack <yes>
atom$mip_read_message
.
.
.
atom$mip_message_accepted
.
.
.
atom$uni_end_stream

America Online Confidential 24-22  America Online, Inc. 1993-96




March 1996 FDO91 Manual, Vol. 2

atom$mip_change_message_status
44 ($2C)

Description

atom$mip_change_message_status is sent by the client and follows
atom$mip_preset_message_id.  This atom is used by the client to mark a
message read, unread, ignored, or deleted.  The Windows client of the online
service also uses it to mark a message read when it displays the message from
local cache instead of requesting it from the host.

Syntax

atom$mip_change_message_status <status>

<status> The status of the message.  Valid values are:

<7> MS$IGNORED — Message ignored.

<2> MS$UNREAD — Message has not been read.

<3> MS$READ — Message has been read.

<4> MS$DELETED — Message has been deleted.

<6> MS$OUTBOUND_DELETED — Outbound message
has been deleted.

Return Value

Unchanged.

Example

The following is an example that specifies that a message has been read:

atom$uni_start_stream
atom$mip_preset_message_id <3456341>

ê atom$mip_change_message_status <3>
atom$mip_read_message
.
.
.
atom$mip_message_accepted
.
.

 America Online, Inc. 1993-96 24-23 America Online Confidential




Chapter 24: Message Interchange Protocol (MIP) March 1996

.
atom$uni_end_stream

America Online Confidential 24-24  America Online, Inc. 1993-96




March 1996 FDO91 Manual, Vol. 2

atom$mip_data
12 ($0C)

Description

atom$mip_data appends data to the current block.  The data sent depends on
the type of data specified by atom$mip_attr_data_type.  This atom allows
binary data to be sent in messages. Text with attached font information and
pictures within an e-mail message are examples of binary data.

Currently, this atom is only intended for use with the Magic Cap client.

Syntax

atom$mip_data <data>

<data> The data to be sent.

Return Value

Unchanged.

Example

The following is an example of how to send Magic Cap object data:

atom$mip_start_block
atom$mip_attr_data_type <259>

ê atom$mip_data <Magic Cap object data goes here...>
.
.
.
atom$mip_end_block

 America Online, Inc. 1993-96 24-25 America Online Confidential




Chapter 24: Message Interchange Protocol (MIP) March 1996

atom$mip_do_not_reply_to
48 ($30)

Description

atom$mip_do_not_reply_to is sent from the host and specifies that an
addressee name should be removed from the "To" and/or "CC" list (reply list),
when "Reply to All" is selected (such as the sender's address, for example).
The compressed version of this string (no spaces, all lower case) is compared
with a compressed copy of each addressee in the "To" and "CC" list by the
client.

Syntax

atom$mip_do_not_reply_to <string>

<string> A compressed ASCII string version of the "To" or "CC"
list.

Return Value

Unchanged.

Example

The following example specifies that an addressee name should be removed
from the reply list:

atom$mip_start_message
atom$mip_attr_message_type <1>
atom&mip_attr_list_type <0>
atom$mip_message_id <5566778>
atom$mip_message_datestr <96-02-22 20:51:57>
atom$mip_subject <Reston Move Info>
atom$mip_bool_everyone_invisible <yes>
atom$mip_author <akoontz@aol.com>
atom$mip_reply_to <bowser@aol.com>

ê atom$mip_do_not_reply_to <ascii_string>
.
.
.
atom$mip_end_message

America Online Confidential 24-26  America Online, Inc. 1993-96




March 1996 FDO91 Manual, Vol. 2

atom$mip_end_block
8 ($08)

Description

atom$mip_end_block ends the current block of data.  Blocks of data are used
to identify different types of data within the same message (such as graphics
within a message).

Each block of data must begin with atom$mip_start_block, end with
atom$mip_end_block, and contain atom$mip_attr_data_type, which
specifies the type of data for the current block.

Syntax

atom$mip_end_block

Return Value

Unchanged.

Example

The following is an example of how to end the current data block:

atom$mip_start_block
.
.
.

ê atom$mip_end_block

 America Online, Inc. 1993-96 24-27 America Online Confidential




Chapter 24: Message Interchange Protocol (MIP) March 1996

atom$mip_end_message
2 ($02)

Description

atom$mip_end_message ends all processing for the current message.

Syntax

atom$mip_end_message

Return Value

Unchanged.

Example

The following is an example of how to end a message:

atom$mip_start_message
atom$mip_message_id <3344550>
atom$mip_author <Jack>
.
.
.

ê atom$mip_end_message

America Online Confidential 24-28  America Online, Inc. 1993-96




March 1996 FDO91 Manual, Vol. 2

atom$mip_error
5 ($05)

Description

atom$mip_error causes an error message to be sent from the host to the
client.  The Windows client of the online service uses atom$mip_error to
write to the FlashSession log.  The Magic Cap client uses atom$mip_error to
display the error message in a window.

Syntax

atom$mip_error <flag> <text>

<flag> The error type.  Values are as follows:

0 Generic

1 Unknown addressee

2 Invalid ID

3 Too many addressees

4 Message too large

5 Invalid opcode

6 Invalid arguments

7 No addressee

8 No messages waiting

<text> Specifies a description of the error.

Return Value

Unchanged.

Example

The following is an example that shows a MIP error has occurred:

 America Online, Inc. 1993-96 24-29 America Online Confidential




Chapter 24: Message Interchange Protocol (MIP) March 1996

atom$uni_start_stream
ê atom$mip_error <1> "Unable to send to screen name: This is not

  a known user."
atom$mip_abort
atom$uni_end_stream

America Online Confidential 24-30  America Online, Inc. 1993-96




March 1996 FDO91 Manual, Vol. 2

atom$mip_forward
18 ($12)

Description

atom$mip_forward is sent from the client to the host when a member sends a
forwarded message.  This lets the host know the record number of the
forwarded message.  Later, when the recipient of the forwarded message
makes a request to read the message, the host sends the content of the
forwarded message to the client.

A forwarded message always appears as a nested message within a larger
message.  For an example of a nested message, see atom$mip_start_
message.

Syntax

atom$mip_forward <mail_id>

<mail_id> The database record number of the forwarded message.

Return Value

Unchanged.

Example

The following is an example that shows a member sending a forwarded
message:

atom$mip_start_message
atom$mip_text "FYI"

ê atom$mip_forward <8797650>
atom$mip_end_message

 America Online, Inc. 1993-96 24-31 America Online Confidential




Chapter 24: Message Interchange Protocol (MIP) March 1996

atom$mip_header_accepted
3 ($03)

Description

atom$mip_header_accepted is sent from the host to the client and indicates
that the header information of the message (the TO, BC, CC, and Subject
fields) was validated by the host.  Once this atom is received by the client, the
body of the message is sent to the host.

An atom stream containing atom$mip_header_accepted is always preceded
by a client-to-host atom stream that contains header information and an
atom$mip_header_complete atom.

Syntax

atom$mip_header_accepted

Return Value

Unchanged.

Example

The following is an example showing that the header information of the
message was accepted:

atom$uni_start_stream
ê atom$mip_header_accepted

atom$uni_end_stream

America Online Confidential 24-32  America Online, Inc. 1993-96




March 1996 FDO91 Manual, Vol. 2

atom$mip_header_complete
1 ($01)

Description

atom$mip_header_complete is sent from the client to the host once the client
finishes sending the header information (the TO, BC, CC, and Subject fields) of
a message.  Once the host determines that the header information is valid, the
host sends atom$mip_header_accepted to the client.

Syntax

atom$mip_header_complete

Return Value

Unchanged.

Example

The following is an example showing that the header information was sent:

atom$uni_start_stream
atom$mip_start_message
atom$mip_attr_addressee_type <0>
atom$mip_addressee "Jane Doe"
atom$mip_attr_addressee_type <1>
atom$mip_addressee "Boss Man"
atom$mip_subject "Today's Meeting"

ê atom$mip_header_complete
atom$uni_end_stream

 America Online, Inc. 1993-96 24-33 America Online Confidential




Chapter 24: Message Interchange Protocol (MIP) March 1996

atom$mip_message_accepted
4 ($04)

Description

atom$mip_message_accepted is sent from the host to the client after the host
successfully receives the body of the message.

Syntax

atom$mip_message_accepted

Return Value

Unchanged.

Example

The following is an example of an atom stream sent from the host to the client
indicating that the message was received successfully:

atom$uni_start_stream
ê atom$mip_message_accepted

atom$uni_end_stream

America Online Confidential 24-34  America Online, Inc. 1993-96




March 1996 FDO91 Manual, Vol. 2

atom$mip_message_date
16 ($10)

Description

atom$mip_message_date is sent from the host to the client and indicates the
creation date of a message.  This allows the creation date of the message to be
a part of the message.

Syntax

atom$mip_message_date <create_date>

<create_date> A 32-bit integer indicating the creation date of the
message in number of seconds since midnight January 1,
1980 GMT.

Return Value

Unchanged.

Example

The following is an example of how to add the message creation date to the
message:

atom$mip_start_message
atom$mip_message_type <3>

ê atom$mip_message_date <849759487>
atom$mip_author "AOL Stock Service"
.
.
.
atom$mip_end_message

 America Online, Inc. 1993-96 24-35 America Online Confidential




Chapter 24: Message Interchange Protocol (MIP) March 1996

atom$mip_message_datestr
17 ($11)

Description

atom$mip_message_datestr is sent from the host to the client and indicates
the creation date of a message.  This allows the creation date of the message to
be a part of the message.

Syntax

atom$mip_message_datestr <create_date>

<create_date> A 32-bit integer indicating the creation date of the
message in the following format:  YY-MM-DD H:M:S
Time zone.

Return Value

Unchanged.

Example

The following is an example of how to add the message creation date to the
message:

atom$mip_start_message
atom$mip_message_type <3>

ê atom$mip_message_datestr "94-08-04 13:31:46 EDT"
atom$mip_author "AOL Stock Service"
.
.
.
atom$mip_end_message

America Online Confidential 24-36  America Online, Inc. 1993-96




March 1996 FDO91 Manual, Vol. 2

atom$mip_message_id
14 ($0E)

Description

atom$mip_message_id sends the message ID from the client to the host when
a member selects a message to be read, and sends the message ID from the
host to the client when the message is actually read.

Syntax

atom$mip_message_id <message_ID>

<message_ID> A 32-bit integer message ID.

Return Value

Unchanged.

Example

The following is an example that shows how a specific message is selected
from a list by a member:

atom$uni_start_stream
ê atom$mip_message_id <3456341>

atom$uni_end_stream

 America Online, Inc. 1993-96 24-37 America Online Confidential




Chapter 24: Message Interchange Protocol (MIP) March 1996

atom$mip_preset_message_id
43 ($2B)

Description

atom$mip_preset_message_id sends the message ID from the client to the
host when a member selects a message to be read, and sends the message ID
from the host to the client when the message is actually read.  This atom is
used in conjunction with atom$mip_change_message_status and
atom$mip_read_message.

Syntax

atom$mip_preset_message_id <message_ID>

<message_ID> A 32-bit integer message ID.

Return Value

Unchanged.

Example

The following example shows how a specific message ID is preset:

atom$uni_start_stream
ê atom$mip_preset_message_id <3456341>

atom$mip_bool_will_ack <yes>
atom$mip_read_message
.
.
.
atom$mip_message_accepted
.
.
.
atom$uni_end_stream

America Online Confidential 24-38  America Online, Inc. 1993-96




March 1996 FDO91 Manual, Vol. 2

atom$mip_read_message
49 ($31)

Description

atom$mip_read_message is sent from client to host to request that the host
send a specified message.  This atom follows an atom$mip_preset_
message_id atom.  If yes is specified, the host typically updates the message
status to MS$READ (in most cases).

Syntax

atom$mip_read_message

Return Value

Unchanged.

Example

The following example requests that a specified message be sent from the host:

atom$uni_start_stream
atom$mip_preset_message_id <3456341>

ê atom$mip_read_message
atom$uni_end_stream

 America Online, Inc. 1993-96 24-39 America Online Confidential




Chapter 24: Message Interchange Protocol (MIP) March 1996

atom$mip_reply_to
47 ($2F)

Description

atom$mip_reply_to is sent from the host to the client to indicate the Internet
address to which replies should be sent.

Syntax

atom$mip_reply_to <address>

<address> The Internet address to which replies should be sent.

Return Value

Unchanged.

Example

The following example indicates the Internet address to which replies should
be sent:

atom$mip_start_message
atom$mip_attr_message_type <1>
atom&mip_attr_list_type <0>
atom$mip_message_id <5566778>
atom$mip_message_datestr <96-02-22 20:51:57>
atom$mip_subject <Reston Move Info>
atom$mip_bool_everyone_invisible <yes>
atom$mip_author <akoontz@aol.com>

ê atom$mip_reply_to <bowser@aol.com>
.
.
.
atom$mip_end_message

America Online Confidential 24-40  America Online, Inc. 1993-96




March 1996 FDO91 Manual, Vol. 2

atom$mip_start_block
7 ($07)

Description

atom$mip_start_block begins a new block of data for a message.  Blocks of
data are used to identify different types of data within the same message (such
as graphics within a message).

Each block of data must begin with atom$mip_start_block, end with
atom$mip_end_block, and contain atom$mip_attr_data_type, which
specifies the type of data within the current block.

Syntax

atom$mip_start_block

Return Value

Unchanged.

Example

The following is an example of how a data block is contained in a message:

atom$mip_start_message
atom$mip_message_id <7743852>
.
.
.

ê atom$mip_start_block
atom$mip_attr_data_type <259>
.
.
.
atom$mip_end_block
atom$mip_end_message

 America Online, Inc. 1993-96 24-41 America Online Confidential




Chapter 24: Message Interchange Protocol (MIP) March 1996

atom$mip_start_message
0 ($0)

Description

atom$mip_start_message begins processing for the current message.

Syntax

atom$mip_start_message

Return Value

Unchanged.

Example

The following is an example that shows a nested message, which appears when
a member is reading a forwarded piece of e-mail:

ê atom$mip_start_message
atom$mip_message_id <3344550>
atom$mip_author <Jack>
.
.
.

ê atom$mip_start_message <>
atom$mip_message_id <2223321>
atom$mip_author <Jill>
.
.
.
atom$mip_end_message
atom$mip_end_message

America Online Confidential 24-42  America Online, Inc. 1993-96




March 1996 FDO91 Manual, Vol. 2

atom$mip_subject
10 ($0A)

Description

atom$mip_subject specifies the subject for an e-mail message.  This atom also
handles summary information for Top News or Stock Quotes on the Magic
Cap client.

Syntax

atom$mip_subject <string>

<string> An ASCII string indicating the subject or summary
information.

Return Value

Unchanged.

Example

The following is an example of how to define the subject of a message:

atom$uni_start_stream
atom$mip_start_message
atom$mip_attr_addressee_type <0>
atom$mip_addressee "Bob555"

ê atom$mip_subject "Great News!"
atom$mip_header_complete
atom$uni_end_stream

 America Online, Inc. 1993-96 24-43 America Online Confidential




Chapter 24: Message Interchange Protocol (MIP) March 1996

atom$mip_text
11 ($0B)

Description

atom$mip_text sends text blocks in a message.  This atom is the equivalent of
sending the following atoms: atom$mip_start_block, atom$mip_attr_
data_type <0>, atom$mip_data <text goes here...> and atom$mip_end_
block.

Syntax

atom$mip_text <string>

<string> An ASCII string indicating the text of the e-mail
message.

Return Value

Unchanged.

Example

The following is an example of how to send text in a message:

atom$mip_start_message
atom$mip_attr_message_type <3>
atom$mip_message_datestr "94-08-16 11:59:46 EDT"
.
.
.

ê atom$mip_text "AMER - AMERICA ONLINE INC\n"
ê atom$mip_text "pr: 69 7/8 at 11:58\n"
ê atom$mip_text "ch: Up 3/8\n"

.

.

.
atom$mip_end_message

America Online Confidential 24-44  America Online, Inc. 1993-96



===== END PDF: ch24-mip.pdf =====

===== BEGIN PDF: ch25-morg.pdf =====



Manual: FDO91 Manual
Chapter 25: MORG Protocol defines the MORG (multimedia organizer) protocol atoms and provides
information for maintaining personal filing cabinets.
Last updated: November 1995




C H A P T E R  2 5

MORG Protocol

The MORG (multimedia organizer) protocol (protocol ID 24) consists of
atoms that manage the personal filing cabinet (PFC) of the online service.  The
PFC is used to organize and maintain objects such as mail documents,
download files, and favorite places (bookmarks).  Each screen name has its
own client-based PFC database consisting of folders and objects that make up
the PFC tree.  Folders can be deeply nested within the PFC tree and contain an
unlimited number of objects of varying classes.  Any changes to an object
(moving, deletion, renaming) are reflected instantly in all views that display the
given object.

A PFC view is a display manager view that has been marked with the
atom$morg_manage atom.  The MORG protocol allows for an unlimited
number of views (hierarchical list boxes) to be open on any portion of the PFC
tree.  All MORG atoms are designed to operate on the current PFC view.
Therefore the context of the display manager must be set to the appropriate
view before you use any of these atoms.  The display manager is used only as a
means of embedding PFC content in forms.

The MORG protocol consists of the following:

• Action Criteria — Arguments used to define specific actions, such as
updating or closing a MORG protocol view.

• Object Classes — Groups of objects that can be stored in the PFC,
including mail documents, download files, and favorite places.

• View Attribute Atoms — Atoms that control the functions of a particular
PFC view.

• Canned Atoms — Atoms that are used to simplify the actions for common
buttons on forms that contain PFC views.

• Object Atoms — Atoms that are responsible for handling PFC objects in
context.

America Online Confidential 25-1  America Online, Inc. 1993-95




Chapter 25: MORG Protocol November 1995

• Utility Atoms — Atoms that are tied to specific forms and have various
uses, such as managing bookmarks and compressing the PFC database.

Action Criteria

The MORG Protocol action criteria are used to define action streams, which
are streams of atoms that implement specific actions, such as updating or
closing a MORG protocol view.  Action criteria are used in conjunction with
the MORG protocol view attribute atoms and are specified with the
atom$act_set_criterion atom, described in Chapter 2, "Action Protocol."

Table 25.1 lists the title, action ID, the hexadecimal equivalent of the action
ID, and a description for each action criterion:

Table 25.1 – MORG Protocol Action Criteria

Action Criterion/ Description
Action ID

ACTION_VIEW_UPDATED Invoked when the current view is visually
128 ($80) updated, i.e., items added or deleted,

folders opened or closed.

ACTION_VIEW_CLOSE Invoked when the current view needs to
129 ($81) be closed because its root object (or an

ancestor of that root object) was deleted.
The handler for this action is responsible
for closing the form that contains the view.

ACTION_VIEW_SETSEL Invoked when the selection for the current
130 ($82) view changes.  A typical handler updates

buttons on the form to reflect whether the
new object(s) can be renamed, deleted,
modified, etc.

America Online Confidential 25-2  America Online, Inc. 1993-95




November 1995 FDO91 Manual, Vol. 2

Object Classes

Table 25.2 lists the object classes that can be stored in the PFC and includes
the ID, title, and a description for each object class:

Table 25.2 – MORG Protocol Object Classes

No. Object Class Description

1 MOC_FOLDER A folder

2 MOC_URL A bookmark (favorite place entry)

3 MOC_PENDING_LIST Files to download

4 MOC_ARCHIVE_LIST Files already downloaded

5 MOC_PENDING_FILE A file in the "files to download" list

6 MOC_ARCHIVE_FILE A file in the "files already
downloaded" list

7 MOC_INCOMING_MAIL Incoming FlashMail message

8 MOC_OUTGOING_MAIL Outgoing FlashMail message

9 MOC_MAIL_INBOX Incoming FlashMail folder

10 MOC_MAIL_OUTBOX Outgoing FlashMail folder

11 MOC_TEMP_MAILBOX A temporary (online) mailbox

12 MOC_MAIL_REFERENCE A temporary (online) mail message

14 MOC_INCOMING_NEWS Incoming newsgroup message

15 MOC_OUTGOING_NEWS Outgoing newsgroup message

16 MOC_NEWS_OUTBOX Outgoing newsgroup folder

 America Online, Inc. 1993-95 25-3 America Online Confidential




Chapter 25: MORG Protocol November 1995

View Attribute Atoms

The MORG protocol view attribute atoms, which are used to control the
functions of a specified PFC view, are described in alphabetical order in this
section.

America Online Confidential 25-4  America Online, Inc. 1993-95




November 1995 FDO91 Manual, Vol. 2

atom$morg_manage
11 ($0B)

Description

atom$morg_manage marks the current view as a MORG (PFC) view.

Syntax

atom$morg_manage

Return Value

Unchanged.

Example

The following is an example of how to mark the current view object as a
MORG view:

atom$man_start_object <view> “”
atom$mat_size 46x 10x
atom$mat_relative_tag <1>
atom$mat_bool_writeable_yes

ê atom$morg_manage
atom$mat_font_sis_00x_09x_00x
atom$act_set_criterion <128>
atom$act_replace_action
atom$uni_start_stream

 America Online, Inc. 1993-95 25-5 America Online Confidential




Chapter 25: MORG Protocol November 1995

atom$morg_view_allow_delete_key
38 ($26)

Description

atom$morg_view_allow_delete_key allows the use of the delete key to delete
object(s) when the view has input focus (is highlighted).  The default is to
allow the delete key to be used.

Syntax

atom$morg_view_allow_delete_key <yes>

<yes> Allows multiple items to be selected at once.

Return Value

Unchanged.

Example

The following is an example of how to allow the use of the delete key to delete
object(s) when the view has input focus:

atom$morg_manage
atom$mat_font_sis_00x_09x_00x
atom$act_set_criterion <128>
atom$act_replace_action
atom$uni_start_stream

.

.

.
atom$mat_relative_tag <1>

ê atom$morg_view_allow_delete_key
.
.
.

atom$uni_end_stream

America Online Confidential 25-6  America Online, Inc. 1993-95




November 1995 FDO91 Manual, Vol. 2

atom$morg_view_allow_multi_select
14 ($0E)

Description

atom$morg_view_allow_multi_select allows multiple items to be selected at
once within the current view if the argument specified is yes.  The default is to
allow multiple selection.

Syntax

atom$morg_view_allow_multi_select <yes>

<yes> Allows multiple items to be selected at once.

Return Value

Unchanged.

Example

The following is an example of how to allow multiple items to be selected at
once within the current view:

atom$morg_manage
atom$mat_font_sis_00x_09x_00x
atom$act_set_criterion <128>
atom$act_replace_action
atom$uni_start_stream

.

.

.
atom$mat_relative_tag <1>

ê atom$morg_allow_multi_select <yes>
.
.
.

atom$uni_end_stream

 America Online, Inc. 1993-95 25-7 America Online Confidential




Chapter 25: MORG Protocol November 1995

atom$morg_view_highlight_full_line
12 ($0C)

Description

atom$morg_view_highlight_full_line highlights the currently selected item(s)
in a specified view.  If the argument specified is yes, the highlight extends
across the entire width of the view; otherwise only the text and icon associated
with each item will be highlighted.  The default is to not highlight full lines.

Syntax

atom$morg_view_highlight_full_line <yes>

<yes> Highlights the currently selected item(s) in a specified
view.

Return Value

Unchanged.

Example

The following is an example of how to highlight the currently selected item(s)
within the specified view:

atom$morg_manage
atom$mat_font_sis_00x_09x_00x
atom$act_set_criterion <128>
atom$act_replace_action
atom$uni_start_stream

.

.

.
atom$mat_relative_tag <1>

ê atom$morg_view_highlight_full_line <yes>
.
.
.

atom$uni_end_stream

America Online Confidential 25-8  America Online, Inc. 1993-95




November 1995 FDO91 Manual, Vol. 2

atom$morg_view_include_root
6 ($06)

Description

atom$morg_view_include_root displays the root object for the current view
if the argument specified is yes.  The default is to display only those objects
contained within the current view and not to display the root object.

Syntax

atom$morg_view_include_root <yes>

<yes> Displays the root object for the current view.

Return Value

Unchanged.

Example

The following is an example of how to display the root object for the current
view:

atom$morg_view_path “Favorite Places”
ê atom$morg_view_include_root

 America Online, Inc. 1993-95 25-9 America Online Confidential




Chapter 25: MORG Protocol November 1995

atom$morg_view_path
2 ($02)

Description

atom$morg_view_path designates the root object for the current view.  Only
objects contained within the root object will be displayed by this view.  Forms
such as "Favorite Places" use this atom to restrict the display to a particular
section of the PFC.  The argument to this atom is the object path.  By default,
the entire PFC will be displayed in the view.

Syntax

atom$morg_view_path <pathname>

<pathname> The path of the root object for the current view.

Return Value

Unchanged.

Example

The following is an example of how to designate the root object for the current
view:

ê atom$morg_view_path “Favorite Places”
atom$morg_view_include_root

America Online Confidential 25-10  America Online, Inc. 1993-95




November 1995 FDO91 Manual, Vol. 2

Canned Atoms

The MORG protocol canned atoms, which are used to simplify the actions for
common buttons on forms that contain PFC views, are described in
alphabetical order in this section.

 America Online, Inc. 1993-95 25-11 America Online Confidential




Chapter 25: MORG Protocol November 1995

atom$morg_delete_current_object
1 ($01)

Description

atom$morg_delete_current_object deletes the selected object(s) in the
current view and handles all confirmation prompts (if enabled within the
preferences file) and associated dialog boxes.

Syntax

atom$morg_delete_current_object

Return Value

Unchanged.

Example

The following is an example of how to delete the selected object(s) in the
current view:

atom$mat_bool_disabled_yes
atom$act_replace_select_action
atom$uni_start_stream

atom$man_set_context_relative <1>
ê atom$morg_delete_current_object

atom$man_end_context
atom$uni_end_stream

America Online Confidential 25-12  America Online, Inc. 1993-95




November 1995 FDO91 Manual, Vol. 2

atom$morg_edit_bookmark
35 ($23)

Description

atom$morg_edit_bookmark allows the selected bookmark to be edited.  This
atom handles the dialog box required for editing a bookmark.

Syntax

atom$morg_edit_bookmark

Return Value

Unchanged.

Example

The following is an example of how to edit a selected bookmark:

atom$uni_start_stream
atom$man_set_context_relative <1>
atom$morg_obj_set_context_select
atom$morg_obj_get_class
atom$var_number_set_from_atom 00x
atom$var_number_set 01x 02x
atom$if_numa_eq_numb_then 11x 12x

ê atom$morg_edit_bookmark
atom$uni_sync_skip
atom$man_end_context
atom$uni_end_stream

 America Online, Inc. 1993-95 25-13 America Online Confidential




Chapter 25: MORG Protocol November 1995

atom$morg_jump_bookmark
31 ($1F)

Description

atom$morg_jump_bookmark jumps to a selected bookmark.  A dialog box is
displayed if no object is selected or if the selected object is not a bookmark.

Syntax

atom$morg_jump_bookmark

Return Value

Unchanged.

Example

The following is an example of how to jump to a selected bookmark:

atom$uni_start_stream
atom$man_set_context_relative <1>

ê atom$morg_jump_bookmark
atom$man_end_context

atom$uni_end_stream

America Online Confidential 25-14  America Online, Inc. 1993-95




November 1995 FDO91 Manual, Vol. 2

atom$morg_prompt_create_folder
0 ($0)

Description

atom$morg_prompt_create_folder prompts the member to create a new
folder relative to the selected item in the current view.  If the item is a folder,
the new folder is created as a child of the current folder.  If the item is not a
folder, a new folder is created as a sibling of the current item.  This atom
handles parent and child dialog boxes for folder creation and naming conflict
resolution.

Syntax

atom$morg_prompt_create_folder

Return Value

Unchanged

Example

The following is an example of how to create a new folder relative to the
selected item in the current view:

atom$uni_start_stream
atom$man_set_context_relative <1>

ê atom$morg_prompt_create_folder
atom$man_end_context

atom$uni_end_stream

 America Online, Inc. 1993-95 25-15 America Online Confidential




Chapter 25: MORG Protocol November 1995

atom$morg_prompt_rename_object
7 ($07)

Description

atom$morg_prompt_rename_object prompts the folder to rename the
currently selected item in the current view.  This atom handles parent and child
dialog boxes for object renaming and naming conflict resolution.

Syntax

atom$morg_prompt_rename_object

Return Value

Unchanged.

Example

The following is an example of how to rename the currently selected item in
the current view:

atom$uni_start_stream
atom$man_set_context_relative <1>

ê atom$morg_prompt_rename_object
atom$man_end_context

atom$uni_end_stream

America Online Confidential 25-16  America Online, Inc. 1993-95




November 1995 FDO91 Manual, Vol. 2

atom$morg_view_search
15 ($0F)

Description

atom$morg_view_search invokes the search dialog box for the standard PFC
view.

Syntax

atom$morg_view_search

Return Value

Unchanged.

Example

The following is an example of how to invoke the PFC search dialog box:

atom$uni_start_stream
atom$man_set_context_relative <1>

ê atom$morg_view_search
atom$man_end_context

atom$uni_end_stream

 America Online, Inc. 1993-95 25-17 America Online Confidential




Chapter 25: MORG Protocol November 1995

atom$morg_view_select_object
8 ($08)

Description

atom$morg_view_select_object invokes a specified object, such as the
"open" button on a form that contains MORG views.  The functionality of this
atom is equivalent to double-clicking on the currently selected item.

Syntax

atom$morg_view_select_object

Return Value

Unchanged.

Example

The following is an example of how to invoke a specified object, such as the
"open" button on a form that contains MORG views:

atom$uni_start_stream
atom$man_set_context_relative <1>

ê atom$morg_view_select_object
atom$man_end_context

atom$uni_end_stream

America Online Confidential 25-18  America Online, Inc. 1993-95




November 1995 FDO91 Manual, Vol. 2

Object Atoms

The MORG object atoms are used handle PFC objects in context.  Objects in
context should not be confused with the selected (member-highlighted)
object(s).  The object atoms are conceptually similar to the Display Manager
atoms defined in Chapter 12, "Display Manager Protocols."

The MORG protocol object atoms are described in alphabetical order in this
section.

 America Online, Inc. 1993-95 25-19 America Online Confidential




Chapter 25: MORG Protocol November 1995

atom$morg_atr_title
21 ($15)

Description

atom$morg_atr_title specifies the title for the current object.

Syntax

atom$morg_atr_title <title>

<title> The title for the current object.

Return Value

Unchanged.

Example

The following is an example of how to specify the title for the current object:

atom$morg_obj_set_context “Favorite Places”
atom$morg_obj_start_obj “Online Sites”

ê atom$morg_atr_title “AOL Web Site”
atom$morg_obj_end_context

America Online Confidential 25-20  America Online, Inc. 1993-95




November 1995 FDO91 Manual, Vol. 2

atom$morg_atr_url
22 ($16)

Description

atom$morg_atr_url specifies the URL associated with the current bookmark
object.

Syntax

atom$morg_atr_url <url>

<url> The URL associated with the current bookmark.

Return Value

Unchanged.

Example

The following is an example of how to specify the URL associated with the
current object:

atom$morg_obj_set_context “Favorite Places”
atom$morg_start_bookmark “AOL Web Site”

ê atom$morg_atr_url “http://www.aol.com”

 America Online, Inc. 1993-95 25-21 America Online Confidential




Chapter 25: MORG Protocol November 1995

atom$morg_flag_open
23 ($17)

Description

atom$morg_flag_open sets the state of the current folder.  If the argument
specified is yes, the folder will be opened; otherwise, the folder will be closed.

Syntax

atom$morg_flag_open <yes>

<yes> Sets the state of the current folder to "open."

Return Value

Unchanged.

Example

The following is an example of how to set the state of the current folder to
"open":

atom$uni_start_stream
atom$man_set_context_relative <1>

ê atom$morg_flag_open
atom$man_end_context

atom$uni_end_stream

America Online Confidential 25-22  America Online, Inc. 1993-95




November 1995 FDO91 Manual, Vol. 2

atom$morg_obj_can_delete
28 ($1C)

Description

atom$morg_obj_can_delete returns true if the object in context can be
deleted.

Syntax

atom$morg_obj_can_delete

Return Value

True or false depending on the result of the expression.

Example

The following is an example of how to specify that the object in context can be
deleted:

atom$uni_start_stream
.
.
.

atom$man_set_context_relative <11>
ê atom$morg_can_delete

.

.

.
atom$uni_end_stream

 America Online, Inc. 1993-95 25-23 America Online Confidential




Chapter 25: MORG Protocol November 1995

atom$morg_obj_can_rename
29 ($1D)

Description

atom$morg_obj_can_rename returns true if the object in context can be
renamed.

Syntax

atom$morg_obj_can_rename

Return Value

True or false depending on the result of the expression.

Example

The following is an example of how to specify that the object in context can be
renamed:

atom$uni_start_stream
.
.
.

atom$man_set_context_relative <18>
ê atom$morg_can_rename

.

.

.
atom$uni_end_stream

America Online Confidential 25-24  America Online, Inc. 1993-95




November 1995 FDO91 Manual, Vol. 2

atom$morg_obj_count_children
4 ($04)

Description

atom$morg_count_chilren counts the number of children for the current
object.

Syntax

atom$morg_count_children

Return Value

The number of children for the current object.

Example

The following is an example of how to count the number of children for the
current object:

atom$uni_start_stream
atom$man_set_context_relative <1>

ê atom$morg_obj_count_children
atom$if_last_return_false_then 0Ax 14x
atom$man_change_context_relative <10>
atom$mat_bool_disabled <yes>
atom$man_change_context_relative <11>
atom$mat_bool_disabled <yes>
atom$man_change_context_relative <12>
atom$mat_bool_disabled <yes>
atom$man_change_context_relative <13>
atom$mat_bool_disabled <no>
atom$man_set_context_relative <14>
atom$mat_bool_disabled <yes>
atom$man_end_context
.
.
.

atom$uni_end_stream

 America Online, Inc. 1993-95 25-25 America Online Confidential




Chapter 25: MORG Protocol November 1995

atom$morg_obj_destroy
10 ($0A)

Description

atom$morg_ obj_destroy deletes the object in context.  If a path is given, the
object specified by that path is deleted.  Deletion is unconditional; no
confirmation dialog boxes are displayed in conjunction with this atom.

Syntax

atom$morg_obj_destroy <path>

<path> The path of the object to delete.

Return Value

Unchanged.

Example

The following is an example of how to delete the object in context:

atom$man_set_context
.
.
.
atom$morg_obj_set_context “Favorite Places”

ê atom$morg_obj_destroy “MS Web Site”
.
.
.

atom$man_end_context

America Online Confidential 25-26  America Online, Inc. 1993-95




November 1995 FDO91 Manual, Vol. 2

atom$morg_obj_destroy_children
16 ($10)

Description

atom$morg_obj_destroy_children deletes all children of a PFC object
specified by a path.  If a path is not given, all children and descendants of the
object in context are deleted.  Deletion is unconditional; no confirmation dialog
boxes are displayed in conjunction with this atom.

Syntax

atom$morg_obj_destroy_children <path>

<path> The path of the object whose children are to be deleted.

Return Value

Unchanged.

Example

The following is an example of how to delete the object in context:

atom$uni_start_stream
atom$man_set_context_relative <1>

ê atom$morg_obj_destroy_children “favorite places”
atom$man_end_context
.
.
.

atom$uni_end_stream

 America Online, Inc. 1993-95 25-27 America Online Confidential




Chapter 25: MORG Protocol November 1995

atom$morg_obj_end_context
18 ($12)

Description

atom$morg_obj_end_context resets context to the object that was in context
before the last context-setting atom was used in the atom stream.  Context-
setting atoms include: atom$morg_obj_set_context and atom$morg_obj_
set_context_selection.

Syntax

atom$morg_obj_end_context

Return Value

Unchanged.

Example

The following is an example of how to reset context to the object that was
previously in context:

atom$morg_obj_set_context “Favorite Places/AOL Web Site”
atom$morg_atr_url “http://www.aol.com”

ê atom$morg_obj_end_context

America Online Confidential 25-28  America Online, Inc. 1993-95




November 1995 FDO91 Manual, Vol. 2

atom$morg_obj_end_obj
20 ($14)

Description

atom$morg_obj_end_obj ends the definition of the current object and returns
context to the object that was in context before the preceding
atom$morg_obj_start_obj atom.

Syntax

atom$morg_obj_end_obj

Return Value

Unchanged.

Example

The following is an example of how to end the definition of the current object
and return context to the preceding object:

atom$morg_obj_start bookmark “AOL Web Site”
atom$morg_atr_url “http://www.aol.com”

ê atom$morg_obj_end_obj

 America Online, Inc. 1993-95 25-29 America Online Confidential




Chapter 25: MORG Protocol November 1995

atom$morg_obj_get_class
30 ($1E)

Description

atom$morg_obj_get_class returns the object class of the object in context.
For information on applicable object classes, see the section "Object Classes"
on page 22-2

Syntax

atom$morg_obj_get_class

Return Value

The class of the object in context.

Example

The following is an example of how to return the class of the object in context:

atom$uni_start_stream
atom$man_set_context_relative <1>
atom$morg_obj_set_context_select

ê atom$morg_obj_get_class
atom$var_number_set_from_atom 00x
atom$var_number_set 01x 02x
atom$if_numa_eq_numb_then 11x 12x
atom$morg_edit_bookmark
atom$uni_sync_skip
atom$man_end_context
atom$uni_end_stream

America Online Confidential 25-30  America Online, Inc. 1993-95




November 1995 FDO91 Manual, Vol. 2

atom$morg_obj_set_context
17 ($11)

Description

atom$morg_obj_set_context sets context to the object specified by a path.

Syntax

atom$morg_obj_set_context <path>

<path> The path of the object whose context is to be set.

Return Value

Unchanged.

Example

The following is an example of how to set context to the "AOL Web Site"
object:

ê atom$morg_obj_set_context “Favorite Places”
atom$morg_obj_start_bookmark “AOL Web Site”
atom$morg_atr_url “http://www.aol.com”

atom$morg_obj_end_context

 America Online, Inc. 1993-95 25-31 America Online Confidential




Chapter 25: MORG Protocol November 1995

atom$morg_obj_set_context_selection
27 ($1B)

Description

atom$morg_obj_set_context_selection sets context to the selected
(highlighted) object in the current view.  It returns true if successful, or false if
there was no selected object.

Syntax

atom$morg_obj_set_context_selection

Return Value

True or false depending on the result of the expression.

Example

The following is an example of how to set context to the selected (highlighted)
object in the current view:

atom$uni_start_stream
atom$man_set_context_relative <1>

ê atom$morg_obj_set_context_select
atom$morg_obj_get_class
atom$var_number_set_from_atom 00x
atom$var_number_set 01x 02x
atom$if_numa_eq_numb_then 11x 12x
atom$morg_edit_bookmark
atom$uni_sync_skip
atom$man_end_context
atom$uni_end_stream

America Online Confidential 25-32  America Online, Inc. 1993-95




November 1995 FDO91 Manual, Vol. 2

atom$morg_obj_start_bookmark
25 ($19)

Description

atom$morg_obj_start_bookmark specifies a shorthand atom title to create a
bookmark (Favorite Place) object.  This atom behaves like atom$morg_obj_
start_object in all other respects.

Syntax

atom$morg_obj_start_bookmark <title>

<title> The title of a bookmark.

Return Value

Unchanged.

Example

The following is an example of how to specify a shorthand atom title to create
a bookmark (Favorite Place) object:

atom$morg_obj_set_context “Favorite Places”
ê atom$morg_obj_start_bookmark “AOL Web Site”

atom$morg_atr_url “http://www.aol.com”
atom$morg_obj_end_context

 America Online, Inc. 1993-95 25-33 America Online Confidential




Chapter 25: MORG Protocol November 1995

atom$morg_obj_start_folder
24 ($18)

Description

atom$morg_obj_start_folder specifies a shorthand atom title to create a
folder object.  This atom behaves like atom$morg_obj_start_object in all
other respects.

Syntax

atom$morg_obj_start_folder <title>

<title> The title of a folder.

Return Value

Unchanged.

Example

The following is an example of how to specify a shorthand atom title to create
a folder object:

atom$morg_obj_set_context “Favorite Places”
ê atom$morg_obj_start_folder “Online Sites”

atom$morg_atr_url
atom$morg_obj_end_obj

atom$morg_obj_end_context

America Online Confidential 25-34  America Online, Inc. 1993-95




November 1995 FDO91 Manual, Vol. 2

atom$morg_obj_start_obj
19 ($13)

Description

atom$morg_obj_start_obj creates a new object as a child of the current
object.  The argument to this atom is the class of the object to create.  Context
is set to the new object, so subsequent attribute atoms will apply to that object
until atom$morg_obj_end_obj is used.

Syntax

atom$morg_ obj_start_obj <class>

<class> The class of an object.

Return Value

Unchanged.

Example

The following is an example of how to create a new object as a child of the
current object:

atom$morg_obj_set_context “Favorite Places”
ê atom$morg_obj_start_obj “url”

atom$morg_atr_url “http://www.aol.com”
atom$morg_obj_end_context

 America Online, Inc. 1993-95 25-35 America Online Confidential




Chapter 25: MORG Protocol November 1995

Utility Atoms

The MORG utility atoms are tied to specific forms and have various uses, such
as managing bookmarks and compressing the PFC database.  These atoms are
described in alphabetical order in this section.

America Online Confidential 25-36  America Online, Inc. 1993-95




November 1995 FDO91 Manual, Vol. 2

atom$morg_add_bookmark
32 ($20)

Description

atom$morg_add_bookmark creates a bookmark object as a child or previous
sibling of the selected object in the current view.  The URL must have been
specified by a preceding atom$morg_set_bookmark_url atom, and the title is
specified as the argument to this atom.

Syntax

atom$morg_add_bookmark <title>

<title> The title of a bookmark object.

Return Value

Unchanged.

Example

The following is an example of how to specify the title of a bookmark object:

atom$uni_start_stream
.
.
.
atom$morg_set_bookmark_url “http://www.aol.com”

ê atom$morg__add_bookmark_title “AOL Web Site”
.
.
.
atom$uni_end_stream

 America Online, Inc. 1993-95 25-37 America Online Confidential




Chapter 25: MORG Protocol November 1995

atom$morg_modify_bookmark
34 ($18)

Description

atom$morg_modify_bookmark updates the bookmark represented to reflect
the title specified by this atom and the URL specified by the preceding
atom$morg_set_bookmark_url atom.  This atom handles the dialog box that
allows bookmarks to be edited.

Syntax

atom$morg_modify_bookmark <title>

<title> The title of a bookmark object.

Return Value

Unchanged.

Example

The following is an example of how to modify a bookmark:

atom$uni_start_stream
.
.
.
atom$morg_set_bookmark_url “http://www.aol.com”

ê atom$morg__modify_bookmark_title “AOL Home Page”
.
.
.
atom$uni_end_stream

America Online Confidential 25-38  America Online, Inc. 1993-95




November 1995 FDO91 Manual, Vol. 2

atom$morg_pfc_compress_database
34 ($22)

Description

atom$morg_pfc_compress_database compresses the PFC database and
removes unused space freed up by deleted records.

Syntax

atom$morg_pfc_compress_database

Return Value

Unchanged.

Example

The following is an example of how to compress the PFC database:

ê atom$morg_pfc_compress_database

 America Online, Inc. 1993-95 25-39 America Online Confidential




Chapter 25: MORG Protocol November 1995

atom$morg_set_bookmark_url
33 ($21)

Description

atom$morg_set_bookmark_url specifies the URL to be used by a succeeding
atom$morg_add_bookmark or atom$morg_modify_
bookmark atom.

Syntax

atom$morg_set_bookmark_url <url>

<url> The URL associated with the current bookmark.

Return Value

Unchanged.

Example

The following is an example of how to specify the URL for the AOL web site
to be used by an atom$morg_modify_bookmark atom.

atom$uni_start_stream
.
.
.

ê atom$morg_set_bookmark_url “http://www.aol.com”
atom$morg__modify_bookmark_title “AOL Web Site”
.
.
.
atom$uni_end_stream

America Online Confidential 25-40  America Online, Inc. 1993-95




November 1995 FDO91 Manual, Vol. 2

atom$morg_view_has_mult_selections
26 ($1A)

Description

atom$morg_view_has_mult_selections returns true if the current view has
more than one selected (highlighted) item.

Syntax

atom$morg_view_has_mult_selections

Return Value

Unchanged.

Example

The following is an example of the atom stream that results if the current view
has more than one selected item:

atom$uni_start_stream
.
.
.
atom$man_set_context_relative <1>

ê atom$morg_view_has_mult_selections
atom$if_last_return_true_then <1,7>
.
.
.
atom$uni_sync_skip <1>
.
.
.
atom$uni_sync_skip <7>
.
.
.
atom$uni_end_stream

 America Online, Inc. 1993-95 25-41 America Online Confidential




Chapter 25: MORG Protocol November 1995

atom$morg_view_set_to_spawn_path
9 ($09)

Description

atom$morg_view_set_to_spawn_path sets the root of the current view to
the path that resulted from the previous "new window" operation. "New
window" is a right mouse button action available for folders that opens a new
window and displays the contents of the folder.

Syntax

atom$morg_view_set_to_spawn_path <pathname>

Return Value

Unchanged.

Example

The following is an example of how to set the root of the current view to the
path that resulted from the previous "new window" operation:

atom$morg_manage
ê atom$morg_view_set_to_spawn_path

atom$act_set_criterion <128>
atom$act_replace_action
atom$uni_start_stream

America Online Confidential 25-42  America Online, Inc. 1993-95



===== END PDF: ch25-morg.pdf =====

===== BEGIN PDF: ch26-mmi.pdf =====



Manual: FDO91 Manual
Chapter 26: Multimedia Interface (MMI) Protocol defines the multimedia interface protocol atoms
and provides information for handling and playing multimedia files.
Last updated: April 1997




C H A P T E R  2 6

Multimedia Interface (MMI) Protocol

The Multimedia Interface (MMI) protocol (protocol ID 20) consists of atoms
that open and play multimedia files, such as .wav and .mid audio files or .avi
and .mov video files.  The protocol supports a multimedia viewing form with
control buttons (pause, play, rewind and stop) on a player toolbar that lets
members play files downloaded from the service or from other local directory
paths.

Atom streams using this protocol for video files must set context to a form
display object called view, which displays the multimedia event.  For more
information about form display objects, see Chapter 3, Attribute Manager
Protocol.

America Online Confidential 26-1  America Online, Inc. 1993-97




Chapter 26: Multimedia Interface (MMI) Protocol April 1997

Multimedia Interface Protocol Atoms

The Multimedia Interface (MMI) protocol functions and their associated atoms
follow:

Function Atoms

Setting up the player form atom$mmi_manage
attributes

atom$mmi_atr_loop

atom$mmi_atr_rid_digit_counter

atom$mmi_atr_rid_pause

atom$mmi_atr_rid_play

atom$mmi_atr_rid_rewind

atom$mmi_atr_rid_stop

atom$mmi_atr_toolbar

atom$mmi_atr_type

Setting actions to objects atom$mmi_pause

atom$mmi_play

atom$mmi_rewind

atom$mmi_stop

Selecting multimedia data atom$mmi_atr_type
for play

atom$mmi_db_id

atom$mmi_open_file

atom$mmi_open_file_relative

atom$mmi_start_data

atom$mmi_append_data

atom$mmi_end_data

The MMI protocol atoms are described in alphabetical order in the rest of this
chapter.

America Online Confidential 26-2  America Online, Inc. 1993-97




April 1997 FDO91 Manual, Vol. 2

atom$mmi_append_data
11 ($0B)

Description

atom$mmi_append_data appends Musical Instrument Digital Interface
(MIDI) data to the binary stream of data being sent to the player.

Syntax

atom$mmi_append_data <stream>

<stream> The binary stream of data for the player.

Return Value

None.

Example

The following example appends MIDI data to the stream being sent to the
player:

atom$uni_start_stream
.
.
.
atom$mmi_start_data

ê atom$mmi_append_data <2Ax 2Ax 2Ax E0x E0x 77x 77x 33x 33x 33x>
ê atom$mmi_append_data <22x 22x 22x E6x E6x 87x 87x 02x 02x 02x>

.

.

.
atom$mmi_end_data
atom$man_set_context_relative <1>
atom$mmi_play
atom$man_end_context
atom$uni_end_stream

 America Online, Inc. 1993-97 26-3 America Online Confidential




Chapter 26: Multimedia Interface (MMI) Protocol April 1997

atom$mmi_atr_loop
18 ($12)

Description

atom$mmi_atr_loop specifies the number of times to replay a sound.

Syntax

atom$mmi_atr_loop <dword>

<dword> Specifies the number of times to replay a sound.

Return Value

None.

Example

The following example replays a sound three times:

atom$uni_start_stream
.
.
.
atom$mmi_manage
atom$mmi_atr_rid_play <1>
atom$mmi_atr_rid_pause <2>
atom$mmi_atr_rid_stop <3>
atom$mmi_atr_rid_digit_counter <25>
atom$mmi_atr_type <1>

ê atom$mmi_atr_loop <3>
.
.
.
atom$uni_end_stream

America Online Confidential 26-4  America Online, Inc. 1993-97




April 1997 FDO91 Manual, Vol. 2

atom$mmi_atr_rid_digit_counter
17 ($11)

Description

atom$mmi_atr_rid_digit_counter assigns a relative ID to a digit counter
object.  The counter can be used to time the play period of a .mid file.

Syntax

atom$mmi_atr_rid_digit_counter <dword>

<dword> Specifies the relative ID of the digit counter.

Return Value

None.

Example

The following example assigns a relative ID of 25 to a digit counter on a
Musical Instrument Digital Interface (MIDI) player form:

atom$uni_start_stream
.
.
.
atom$mmi_manage
atom$mmi_atr_rid_play <1>
atom$mmi_atr_rid_pause <2>
atom$mmi_atr_rid_stop <3>

ê atom$mmi_atr_rid_digit_counter <25>
atom$mmi_atr_type <1>
.
.
.
atom$uni_end_stream

 America Online, Inc. 1993-97 26-5 America Online Confidential




Chapter 26: Multimedia Interface (MMI) Protocol April 1997

atom$mmi_atr_rid_pause
03 ($03)

Description

atom$mmi_atr_rid_pause assigns a relative ID to the pause button object of
the player form.  This atom supports custom buttons that are not associated
with the standard player toolbar.

Syntax

atom$mmi_atr_rid_pause <dword>

<dword> Specifies the relative ID of the pause button.

Return Value

None.

Example

The following example assigns a relative ID of 3 to a pause button object:

atom$uni_start_stream
.
.
.
atom$man_start_object <view, “”>
atom$man_relative_tag <1>
atom$mat_bool_vertical_scroll <no>
atom$mat_bool_writeable <yes>
atom$mmi_manage
atom$mmi_atr_rid_play <2>

ê atom$mmi_atr_rid_pause <3>
atom$mmi_atr_rid_stop <4>
atom$mmi_atr_rid_rewind <5>
atom$mmi_atr_toolbar <no>
atom$mat_frame_style <single_line_pop_out>
.
.
.
atom$man_end_context
atom$uni_end_stream

America Online Confidential 26-6  America Online, Inc. 1993-97




April 1997 FDO91 Manual, Vol. 2

atom$mmi_atr_rid_play
02 ($02)

Description

atom$mmi_atr_rid_play assigns a relative ID to the play button object of the
player form.  This atom supports custom buttons that are not associated with
the standard player toolbar.

Syntax

atom$mmi_atr_rid_play <dword>

<dword> Specifies the relative ID of the play button.

Return Value

None.

Example

The following example assigns a relative ID of 2 to a play button object:

atom$uni_start_stream
.
.
.
atom$man_start_object <view, “”>
atom$man_relative_tag <1>
atom$mat_bool_vertical_scroll <no>
atom$mat_bool_writeable <yes>
atom$mmi_manage

ê atom$mmi_atr_rid_play <2>
atom$mmi_atr_rid_pause <3>
atom$mmi_atr_rid_stop <4>
atom$mmi_atr_rid_rewind <5>
atom$mmi_atr_toolbar <no>
atom$mat_frame_style <single_line_pop_out>
.
.
.
atom$man_end_context
atom$uni_end_stream

 America Online, Inc. 1993-97 26-7 America Online Confidential




Chapter 26: Multimedia Interface (MMI) Protocol April 1997

atom$mmi_atr_rid_rewind
05 ($05)

Description

atom$mmi_atr_rid_rewind assigns a relative ID to the rewind button object
of the player form.  This atom supports custom buttons that are not associated
with the standard player toolbar.

Syntax

atom$mmi_atr_rid_rewind <dword>

<dword> Specifies the relative ID of the rewind button.

Return Value

None.

Example

The following example assigns a relative ID of 5 to the rewind button object:

atom$uni_start_stream
.
.
.
atom$man_start_object <view, “”>
atom$man_relative_tag <1>
atom$mat_bool_vertical_scroll <no>
atom$mat_bool_writeable <yes>
atom$mmi_manage
atom$mmi_atr_rid_play <2>
atom$mmi_atr_rid_pause <3>
atom$mmi_atr_rid_stop <4>

ê atom$mmi_atr_rid_rewind <5>
atom$mmi_atr_toolbar <no>
atom$mat_frame_style <single_line_pop_out>
.
.
.
atom$man_end_context
atom$uni_end_stream

America Online Confidential 26-8  America Online, Inc. 1993-97




April 1997 FDO91 Manual, Vol. 2

atom$mmi_atr_rid_stop
04 ($04)

Description

atom$mmi_atr_rid_stop assigns a relative ID to the stop button object of the
player form.  This atom supports custom buttons that are not associated with
the standard player toolbar.

Syntax

atom$mmi_atr_rid_stop <dword>

<dword> Specifies the relative ID of the stop button.

Return Value

None.

Example

The following example assigns a relative ID of 4 to the stop button object:

atom$uni_start_stream
.
.
.
atom$man_start_object <view, “”>
atom$man_relative_tag <1>
atom$mat_bool_vertical_scroll <no>
atom$mat_bool_writeable <yes>
atom$mmi_manage
atom$mmi_atr_rid_play <2>
atom$mmi_atr_rid_pause <3>

ê atom$mmi_atr_rid_stop <4>
atom$mmi_atr_rid_rewind <5>
atom$mmi_atr_toolbar <no>
atom$mat_frame_style <single_line_pop_out>
.
.
.
atom$man_end_context
atom$uni_end_stream

 America Online, Inc. 1993-97 26-9 America Online Confidential




Chapter 26: Multimedia Interface (MMI) Protocol April 1997

atom$mmi_atr_toolbar
1 ($01)

Description

atom$mmi_atr_toolbar sets a flag that signals the MMI tool to draw a
standard toolbar in the player form.  The standard toolbar is optional since you
can create your own player toolbar.  The standard toolbar includes the play,
pause, stop and rewind buttons.

Syntax

atom$mmi_atr_toolbar <boolean>

<boolean> Specifies the state of the toolbar flag.  The values are:

Yes Create a standard player toolbar
(default).

No Do not create a standard player toolbar.

Return Value

None.

Example

The following example rejects the use of the standard player toolbar in the
player form:

atom$uni_start_stream
.
.
.
atom$man_start_object <view, “”>
atom$man_relative_tag <1>
atom$mat_bool_vertical_scroll <no>
atom$mat_bool_writeable <yes>
atom$mmi_manage
atom$mmi_atr_rid_play <2>
atom$mmi_atr_rid_pause <3>
atom$mmi_atr_rid_stop <4>
atom$mmi_atr_rid_rewind <5>

ê atom$mmi_atr_toolbar <no>
atom$mat_frame_style <single_line_pop_out>

America Online Confidential 26-10  America Online, Inc. 1993-97




April 1997 FDO91 Manual, Vol. 2

.

.

.
atom$man_end_context
atom$uni_end_stream

 America Online, Inc. 1993-97 26-11 America Online Confidential




Chapter 26: Multimedia Interface (MMI) Protocol April 1997

atom$mmi_atr_type
14 ($0E)

Description

atom$mmi_atr_type specifies the multimedia file type of the player form.

Syntax

atom$mmi_atr_type <dword>

<dword> Specifies the file type of the player.  The values are
defined as follows:

0 MMI_VIDEO — .avi and .mov files

1 MMI_MIDI — .mid files

2 MMI_WAVE — .wav files

Return Value

None.

Example

The following example specifies that the player supports Musical Instrument
Digital Interface (MIDI) files:

atom$uni_start_stream
.
.
.
atom$mmi_manage
atom$mmi_atr_rid_play <1>
atom$mmi_atr_rid_pause <2>
atom$mmi_atr_rid_stop <3>
atom$mmi_atr_rid_digit_counter <25>

ê atom$mmi_atr_type <1>
.
.
.
atom$uni_end_stream

America Online Confidential 26-12  America Online, Inc. 1993-97




April 1997 FDO91 Manual, Vol. 2

atom$mmi_db_id
15 ($0F)

Description

atom$mmi_db_id requests a specified Musical Instrument Digital Interface
(MIDI) or WAV database record to be played.  If no record is found, a data on
demand (DOD) operation for the record data is performed, which retrieves the
sound data from the object database on the host.

Syntax

atom$mmi_db_id <dword>

<dword> Specifies the global ID of a database record of
MIDI or WAV data.

Return Value

None.

Example

The following example specifies that database record 1-0-1044 be played:

atom$uni_start_stream
.
.
.

ê atom$mmi_db_id <1-0-1044>
.
.
.
atom$uni_end_stream

 America Online, Inc. 1993-97 26-13 America Online Confidential




Chapter 26: Multimedia Interface (MMI) Protocol April 1997

atom$mmi_end_data
12 ($0C)

Description

atom$mmi_end_data ends the binary stream of data to the player, which was
started with atom$mmi_start_data.

Syntax

atom$mmi_end_data

Return Value

None.

Example

The following example ends the binary stream to the player:

atom$uni_start_stream
.
.
.
atom$mmi_start_data
atom$mmi_append_data <2Ax 2Ax 2Ax E0x E0x 77x 77x 33x 33x 33x>
atom$mmi_append_data <22x 22x 22x E6x E6x 87x 87x 02x 02x 02x>
.
.
.

ê atom$mmi_end_data
atom$man_set_context_relative <1>
atom$mmi_play
atom$man_end_context .
atom$uni_end_stream

America Online Confidential 26-14  America Online, Inc. 1993-97




April 1997 FDO91 Manual, Vol. 2

atom$mmi_manage
19 ($13)

Description

atom$mmi_manage marks the beginning of a multimedia player definition and
associates the MMI tool ID with an object in context.

Syntax

atom$mmi_manage

Return Value

None.

Example

The following example establishes the MMI tool ID as the view object in
context:

atom$uni_start_stream
.
.
.
atom$man_start_object <view, “”>
atom$man_relative_tag <1>
atom$mat_bool_vertical_scroll <no>
atom$mat_bool_writeable <yes>

ê atom$mmi_manage
atom$mmi_atr_rid_play <2>
atom$mmi_atr_rid_pause <3>
atom$mmi_atr_rid_stop <4>
atom$mmi_atr_rid_rewind <5>
atom$mmi_atr_toolbar <no>
atom$mat_frame_style <single_line_pop_out>
.
.
.
atom$man_end_context
atom$uni_end_stream

 America Online, Inc. 1993-97 26-15 America Online Confidential




Chapter 26: Multimedia Interface (MMI) Protocol April 1997

atom$mmi_open_file
0 ($00)

Description

atom$mmi_open_file opens a multimedia file for the player.

Syntax

atom$mmi_open_file <string>

<string> Specifies the file name holding the multimedia data.

Return Value

None.

Example

The following example opens the stick.avi file for the player.

atom$uni_start_stream
.
.
.
atom$uni_use_last_atom_stream <mmi_open_file>

ê atom$mmi_open_file <”C:\\AOL30\\download\\stick.avi”>
.
.
.
atom$uni_end_stream

America Online Confidential 26-16  America Online, Inc. 1993-97




April 1997 FDO91 Manual, Vol. 2

atom$mmi_open_file_relative
16 ($10)

Description

atom$mmi_open_file_relative specifies a partial path and file name of a
multimedia file and opens that file.  This path is relative to a specific drive
and/or subdirectory you have already defined.  Typically, the relative path is
defined in the waol.ini file.

Syntax

atom$mmi_open_file_relative <string>

<string> Specifies a partial path and file name of the multimedia
file.

Return Value

None.

Example

The following example opens the bass.mid file in subdirectory sounds_3, which
is a relative path to the drive for a CD sound source:

atom$uni_start_stream
.
.
.

ê atom$mmi_open_file_relative <”\\sounds_3\\bass.mid”>
.
.
.
atom$uni_end_stream

 America Online, Inc. 1993-97 26-17 America Online Confidential




Chapter 26: Multimedia Interface (MMI) Protocol April 1997

atom$mmi_pause
7 ($07)

Description

atom$mmi_pause performs the action of the pause button object on the form.

Syntax

atom$mmi_pause

Return Value

None.

Example

The following example performs the action on the pause button object:

atom$uni_start_stream
atom$man_set_context_relative <1>

ê atom$mmi_pause
atom$man_end_context
atom$uni_end_stream

America Online Confidential 26-18  America Online, Inc. 1993-97




April 1997 FDO91 Manual, Vol. 2

atom$mmi_play
6 ($06)

Description

atom$mmi_play performs the action of the play button object on the form.  It
plays .wav, .mid, .avi, or .mov files.

Syntax

atom$mmi_play

Return Value

None.

Example

The following example performs the action on the play button object:

atom$uni_start_stream
atom$man_set_context_relative <1>

ê atom$mmi_play
atom$man_end_context
atom$uni_end_stream

 America Online, Inc. 1993-97 26-19 America Online Confidential




Chapter 26: Multimedia Interface (MMI) Protocol April 1997

atom$mmi_rewind
9 ($09)

Description

atom$mmi_rewind performs the action of the rewind button object on the
form.

Syntax

atom$mmi_rewind

Return Value

None.

Example

The following example performs the action on the rewind button object:

atom$uni_start_stream
atom$man_set_context_relative <1>

ê atom$mmi_rewind
atom$man_end_context
atom$uni_end_stream

America Online Confidential 26-20  America Online, Inc. 1993-97




April 1997 FDO91 Manual, Vol. 2

atom$mmi_start_data
10 ($0A)

Description

atom$mmi_start_data starts sending a binary stream of Musical Instrument
Digital Interface (MIDI) data to the player.

Syntax

atom$mmi_start_data

Return Value

None.

Example

The following example starts a MIDI stream of data to the player:

atom$uni_start_stream
.
.
.

ê atom$mmi_start_data
atom$mmi_append_data <2Ax 2Ax 2Ax E0x E0x 77x 77x 33x 33x 33x>
atom$mmi_append_data <22x 22x 22x E6x E6x 87x 87x 02x 02x 02x>
.
.
.
atom$mmi_end_data
.
.
.
atom$uni_end_stream

 America Online, Inc. 1993-97 26-21 America Online Confidential




Chapter 26: Multimedia Interface (MMI) Protocol April 1997

atom$mmi_stop
8 ($08)

Description

atom$mmi_stop performs the action of the stop button object on the form.

Syntax

atom$mmi_stop

Return Value

None.

Example

The following example performs the action on the stop button object:

atom$uni_start_stream
atom$man_set_context_relative <1>

ê atom$mmi_stop
atom$man_end_context
atom$uni_end_stream

America Online Confidential 26-22  America Online, Inc. 1993-97



===== END PDF: ch26-mmi.pdf =====

===== BEGIN PDF: ch27-p3.pdf =====



Manual: FDO91 Manual
Chapter 27: P3 Protocol defines P3 protocol atoms and provides information for handling
P3 communication.
Last updated: January 1994




C H A P T E R  2 7

P3 Protocol

The P3 communications protocol (protocol ID 35) consists of atoms that are
to ensure error-free transmission between the host and the client computer.
The data is formed into packets with an 8-byte header and a terminating
carriage return.  The minimum length of a packet is the header plus the
carriage return, the nominal length is 128 bytes, and the current maximum
length is 1024 bytes.

There are two classes of packets - numbered and unnumbered.  Data packets
are numbered; all other packets are not.  The data packets are numbered
consecutively and must be delivered in order.

A packet is considered invalid if it is received out of order, with an incorrect
length, or a bad cyclic redundancy check (CRC).  If a data packet is detected
as invalid by the P3 Tool, a retransmission of all data packets, beginning with
the number of the bad packet, is requested.  This ensures that the sequence of
the packets is maintained.

P3 Protocol Atoms

The P3 protocol atoms are described in alphabetical order in the rest of this
chapter.

America Online Confidential 27-1  America Online, Inc. 1993-94




Chapter 27: P3 Protocol January 1994

atom$p3_interleaved_mode
4 ($04)

Description

atom$p3_interleaved_mode allows the processing of Windows messages
between packets of data incoming from the host.  Normally, incoming data is
processed before any pending Windows messages.  This atom is necessary in
situations like a chat room, where incoming data is almost continuous and
would cause delays in the processing of Windows messages.

Syntax

atom$p3_interleaved_mode <boolean_arg>

<boolean_arg> Specifies True to enable interleaved mode, False to
disable it.

Return Value

Unchanged

Example

atom$p3_interleaved_mode true

America Online Confidential 27-2  America Online, Inc. 1993-94




January 1994 FDO91 Manual, Vol. 2

atom$p3_start
1 ($01)

Description

atom$p3_start activates the p3 protocol.  Upon activation, the P3 Tool
retrieves the init packet from the database and sends it to the host.  Once the
init packet is acknowledged, the P3 Tool notifies the application that
connection has been established with the host.

Syntax

atom$p3_start

Return Value

Unchanged

Example

atom$p3_start

 America Online, Inc. 1993-94 27-3 America Online Confidential




Chapter 27: P3 Protocol January 1994

atom$p3_stop
3 ($03)

Description

atom$p3_stop shuts down the P3 protocol.

Syntax

atom$p3_stop

Return Value

Unchanged

Example

atom$p3_stop

America Online Confidential 27-4  America Online, Inc. 1993-94




January 1994 FDO91 Manual, Vol. 2

atom$p3_write
2 ($02)

Description

atom$p3_write sends data to the host.  The data must fit into one packet or it
is not sent.

Syntax

atom$p3_write <data>

<data> Specifies binary or string data.

Return Value

Unchanged

Example

atom$p3_write "This is some data to send to the host"

 America Online, Inc. 1993-94 27-5 America Online Confidential



===== END PDF: ch27-p3.pdf =====

===== BEGIN PDF: ch28-dod.pdf =====



Manual: FDO91 Manual
Chapter 28: Progressive Rendering Protocol defines progressive rendering  protocol atoms and provides
information for rendering forms progressively.
Last updated: March 1996




C H A P T E R  2 8

Progressive Rendering Protocol

The Progressive Rendering protocol (protocol ID 27) consists of atoms that
enable the incremental transfer, or progressive rendering, of artwork data
transferred from the host system to the client application.  When new artwork
is sent from the host to the client, also known as download on demand (DOD),
the new form is initially displayed as a skeleton.  The skeleton form has buttons
and is fully functional, but the artwork is incomplete and may not be readable,
depending on the complexity of the artwork.

If the member selects one of the buttons on the form before the artwork is
complete, a new form is called.  The new form will have priority and the image
from the previous form will stop updating.  The artwork for the incomplete
forms will be stored within the member's local database.  If the member-
selected form disappears before the download is complete, the artwork will
finish downloading to the local database while allowing the member to move
on.

When the artwork for multiple forms is being transferred, the top-most form
(form in focus) has the highest priority.  Once the form in focus finishes the art
download, the remaining forms on the screen will receive their art in priority, in
the background.  A form that has lost focus will receive data at a slower rate
so as not to impede the speed of interaction with the forms in focus.

Progressive Rendering Protocol Atoms

The Progressive Rendering protocol atoms are described in alphabetical order
in the rest of this chapter.

America Online Confidential 28-1  America Online, Inc. 1993-96




Chapter 28: Progressive Rendering Protocol March 1996

atom$dod_close_form
7 ($07)

Description

atom$dod_close_form closes the form specified by the atom$_dod_form_id
atom.  This atom is sent by the client.

Syntax

atom$dod_close_form

Return Value

Unchanged.

Example

The following is an example that closes the form specified by the atom$_dod
_form_id atom:

atom$uni_start_stream
.
.
.
atom$dod_start
atom$dod_form_id <32-1234>

ê atom$dod_close_form
atom$dod_end
.
.
.
atom$uni_end_stream

America Online Confidential 28-2  America Online, Inc. 1993-96




March 1996 FDO91 Manual, Vol. 2

atom$dod_data
5 ($05)

Description

atom$dod_data specifies the data to be downloaded from the host.  Multiple
atom$dod_data atoms can used for large DOD objects.  This atom is sent by
the host.

Syntax

atom$dod_data <...>

<...> Random binary data in hexadecimal format.

Return Value

Unchanged.

Example

The following is an example of how to transport data to be downloaded from
the host:

atom$uni_start_stream
.
.
.
atom$dod_start
atom$uni_transaction_id <1>
atom$dod_type <dod_art>

ê atom$dod_data <...>
ê atom$dod_data <...>

atom$dod_end
.
.
.
atom$uni_end_stream

 America Online, Inc. 1993-96 28-3 America Online Confidential




Chapter 28: Progressive Rendering Protocol March 1996

atom$dod_end
4 ($04)

Description

atom$dod_end specifies the end of the current DOD transaction.  This atom is
sent by both the client and the host.

Syntax

atom$dod_end

Return Value

Unchanged.

Example

The following is an example of how to specify the end of the current DOD
transaction:

atom$uni_start_stream
.
.
.
atom$dod_start
atom$dod_form_id <32-1234>
atom$uni_transaction_id <1>
atom$dod_gid <1-0-1234>
atom$uni_transaction_id <2>
atom$dod_gid <1-0-1235>
atom$uni_transaction_id <3>
atom$dod_gid <1-0-1236>

ê atom$dod_end
.
.
.
atom$uni_end_stream

America Online Confidential 28-4  America Online, Inc. 1993-96




March 1996 FDO91 Manual, Vol. 2

atom$dod_end_data
13 ($0D)

Description

atom$dod_end_data informs the client that all DOD data has been sent for
the current transaction.  This atom is sent by the host.

Syntax

atom$dod_end_data

Return Value

Unchanged.

Example

The following is an example of how the host informs the client that all DOD
data has been sent:

atom$uni_start_stream
.
.
.
atom$dod_start
atom$dod_form_id
atom$uni_transaction_id <1>
.
.
.

ê atom$dod_end_data
.
.
.
atom$uni_end_stream

 America Online, Inc. 1993-96 28-5 America Online Confidential




Chapter 28: Progressive Rendering Protocol March 1996

atom$dod_end_form
12 ($0C)

Description

atom$dod_end_form informs the host that the client has enough hinting
(placeholder) artwork to build the form, no additional hint data is required, and
artwork data transfer may begin.  This atom is sent by the client.

Syntax

atom$dod_end_form

Return Value

Unchanged.

Example

The following is an example of how the client informs the host that no
additional hint data is required:

atom$uni_start_stream
.
.
.
atom$dod_start
atom$dod_form_id

ê atom$dod_end_form
atom$dod_end
.
.
.
atom$uni_end_stream

America Online Confidential 28-6  America Online, Inc. 1993-96




March 1996 FDO91 Manual, Vol. 2

atom$dod_form_id
3 ($03)

Description

atom$dod_form_id specifies the global ID (GID) of the form that contains
the artwork to send.  This atom is sent by the client.

Syntax

atom$dod_form_id <gid>

<gid> The GID of the form that contains the artwork.

Return Value

Unchanged.

Example

The following is an example of how to specify the GID of the form that
contains the artwork to send:

atom$uni_start_stream
.
.
.
atom$dod_start

ê atom$dod_form_id <32-1234>
atom$uni_transaction_id <1>
atom$dod_gid <1-0-1234>
atom$unitransaction_id <2>
atom$dod_gid <1-0-1235>
atom$uni_transaction_id <3>
atom$dod_gid <1-0-1236>
atom$dod_end
.
.
.
atom$uni_end_stream

 America Online, Inc. 1993-96 28-7 America Online Confidential




Chapter 28: Progressive Rendering Protocol March 1996

atom$dod_gain_focus
6 ($06)

Description

atom$dod_gain_focus informs the host that the current form, as specified by
the atom$_dod_form_id atom, is gaining focus (is becoming the highlighted
or front-most form).  This atom is sent by the client.

Syntax

atom$dod_gain_focus

Return Value

Unchanged.

Example

The following is an example of how to inform the host that the specified form
is gaining focus:

atom$uni_start_stream
.
.
.
atom$dod_start
atom$dod_form_id <32-1234>

ê atom$dod_gain_focus
atom$dod_end
.
.
.
atom$uni_end_stream

America Online Confidential 28-8  America Online, Inc. 1993-96




March 1996 FDO91 Manual, Vol. 2

atom$dod_gid
2 ($02)

Description

atom$dod_gid specifies the global ID (GID) of the DOD.  Multiple
atom$dod_gid atoms can be sent in the same stream. This atom is sent by
both the client and the host.

Syntax

atom$dod_gid <gid>

<gid> The GID of the artwork to be downloaded.

Return Value

Unchanged.

Example

The following is an example of how to specify the GIDs for multiple pieces of
DOD artwork:

atom$uni_start_stream
.
.
.
atom$dod_start
atom$dod_form_id <32-1234>
atom$uni_transaction_id <1>

ê atom$dod_gid <1-0-1234>
atom$uni_transaction_id <2>

ê atom$dod_gid <1-0-1235>
atom$uni_transaction_id <3>

ê atom$dod_gid <1-0-1236>
atom$dod_end
.
.
.
atom$uni_end_stream

 America Online, Inc. 1993-96 28-9 America Online Confidential




Chapter 28: Progressive Rendering Protocol March 1996

atom$dod_hints
9 ($09)

Description

atom$dod_hints sends the width, then height of the hinting artwork to be
transferred to the client.  Hinting (or placeholder) artwork displays during the
progressive rendering of download on demand (DOD) artwork.

This atom is sent by the host either independently or in response to the client's
request.  The atom is used when atom$mat_art_hint_width and
atom$mat_art_hint_height are not required.  See Chapter 3, "Display
Manager Protocol," for more information on these atoms.

Syntax

atom$dod_hints <x> <y>

<x> The 16-bit value for the width of the artwork to be
downloaded.

<y> The 16-bit value of the height of the artwork to be
downloaded.

Return Value

Unchanged.

Example

The following is an example of the host sending the dimensions of artwork (in
hexadecimal format) that is 32 pixels wide by 20 pixels high:

atom$uni_start_stream
.
.
.
atom$dod_start
atom$uni_transaction_id <1>
atom$dod_hints 00x 20x 00x 14x
.
.
.
atom$uni_end_stream

America Online Confidential 28-10  America Online, Inc. 1993-96




March 1996 FDO91 Manual, Vol. 2

atom$dod_hints_mismatch
16 ($10)

Description

atom$dod_hints_mismatch is sent by the client to indicate that the
dimensions of the artwork received (width by height) do not match the
dimensions specified by the hinting atom(s) received from the host.  Hinting (or
placeholder) artwork displays during the progressive rendering of download on
demand (DOD) artwork.

Syntax

atom$dod_hints_mismatch <tag>

<tag> The unique identifier of the server that contains the form
to transfer to the client.

Return Value

Unchanged.

Example

The following is an example of how the client indicates that the dimensions of
the DOD artwork do not match the dimensions specified by the hinting atoms:

atom$uni_start_stream
.
.
.
atom$dod_start
atom$dod_form_id
atom$dod_tag <tag>

ê atom$dod_hints_mismatch
.
.
.
atom$uni_end_stream

 America Online, Inc. 1993-96 28-11 America Online Confidential




Chapter 28: Progressive Rendering Protocol March 1996

atom$dod_hints_no_action
14 ($0E)

Description

atom$dod_hints_no_action indicates that no immediate action should be
taken by the client when it receives the hinting atoms that follow this atom –
i.e., the hinting artwork is reserved for later use.  Hinting (or placeholder)
artwork displays during the progressive rendering of download on demand
(DOD) artwork.  This atom is sent by the host.

Syntax

atom$dod_hints_no_action

Return Value

Unchanged.

Example

The following is an example of how the host indicates that no immediate action
should be taken by the client when it receives the subsequent hinting atoms:

atom$uni_start_stream
.
.
.
atom$dod_start
atom$uni_transaction_id <1>
atom$dod_hints_no_action
.
.
.
atom$uni_end_stream

America Online Confidential 28-12  America Online, Inc. 1993-96




March 1996 FDO91 Manual, Vol. 2

atom$dod_lose_focus
10 ($0A)

Description

atom$dod_lose_focus informs the host that the current form, as specified by
the atom$dod_form_id atom, is losing focus (another form is brought to the
front of the current form).  This atom is sent by the client.

Syntax

atom$dod_lose_focus

Return Value

Unchanged.

Example

The following is an example of how to inform the host that the specified form
is losing focus:

atom$uni_start_stream
.
.
.
atom$dod_start
atom$dod_form_id <32-1234>

ê atom$dod_lose_focus
atom$dod_end
.
.
.
atom$uni_end_stream

 America Online, Inc. 1993-96 28-13 America Online Confidential




Chapter 28: Progressive Rendering Protocol March 1996

atom$dod_no_hints
11 ($0B)

Description

atom$dod_no_hints is sent by the host to inform the client that there is no
hinting artwork for the current DOD transaction.  This atom is sent by the
client to inform the host that it needs artwork, but not hinting artwork.
Hinting (or placeholder) artwork displays during the progressive rendering of
download on demand (DOD) artwork.

Syntax

atom$dod_no_hints

Return Value

Unchanged.

Example

The following is an example of how the host informs the client that there is no
hint data for the current DOD transaction:

atom$uni_start_stream
.
.
.
atom$dod_start
atom$uni_transaction_start
atom$uni_transaction_id <1>

ê atom$dod_no_hints
.
.
.
atom$uni_end_stream

America Online Confidential 28-14  America Online, Inc. 1993-96




March 1996 FDO91 Manual, Vol. 2

atom$dod_not_available
8 ($08)

Description

atom$dod_not_available indicates that the requested DOD is not available on
the host system.  This atom is sent by the host when the host cannot satisfy a
DOD request.

Syntax

atom$dod_form_not_available

Return Value

Unchanged.

Example

The following is an example of how to inform the host that the specified form
is not available:

atom$uni_start_stream
.
.
.
atom$dod_start
atom$uni_transaction_id <1>

ê atom$dod_not_available
atom$dod_end
.
.
.
atom$uni_end_stream

 America Online, Inc. 1993-96 28-15 America Online Confidential




Chapter 28: Progressive Rendering Protocol March 1996

atom$dod_start
0 ($0)

Description

atom$dod_start starts a DOD transaction.  The client sends this atom to
request a DOD; the host sends this atom in response to a DOD request.

Syntax

atom$dod_start

Return Value

Unchanged.

Example

The following is an example of how to start a DOD transaction:

atom$uni_start_stream
.
.
.
atom$imgxfer_set_gid <40-2517>

ê atom$dod_start
atom$dod_form_id <32-1234>
atom$uni_transaction_id <1>
atom$dod_gid <1-0-1234>
atom$uni_transaction_id <2>
atom$dod_gid <1-0-1235>
atom$uni_transaction_id <3>
atom$dod_gid <1-0-1236>
atom$dod_end
.
.
.
atom$uni_end_stream

America Online Confidential 28-16  America Online, Inc. 1993-96




March 1996 FDO91 Manual, Vol. 2

atom$dod_tag
15 ($0F)

Description

atom$dod_tag specifies the unique identifier of the server that contains the
form to transfer to the client.  This atom is typically sent with the atom$dod_
form_id atom.  This atom is sent by the host.

Syntax

atom$dod_tag <tag>

<tag> The unique identifier of the server that contains the form
to transfer to the client.

Return Value

Unchanged.

Example

The following is an example of how the host specifies the GID of the server
that contains the form to be sent to the client:

atom$uni_start_stream
.
.
.
atom$dod_start
atom$dod_form_id

ê atom$dod_tag <tag>
atom$dod_end_form
atom$dod_end
.
.
.
atom$uni_end_stream

 America Online, Inc. 1993-96 28-17 America Online Confidential




Chapter 28: Progressive Rendering Protocol March 1996

atom$dod_type
1 ($01)

Description

atom$dod_type specifies the type of data to be downloaded to the client.
This atom is sent by the host and is not currently used by the client.

Syntax

atom$dod_type <type>

<type> The type of data to be downloaded.  Valid values are:

<0> Binary raw data

<1> Artwork data

<2> Form art data

<3> Sound data

Return Value

Unchanged.

Example

The following is an example of how to specify that the type of data to send is
DOD artwork:

atom$uni_start_stream
.
.
.
atom$dod_start
atom$uni_transaction_id <1>

ê atom$dod_type <1>
atom$dod_data “...”
atom$dod_data “...”
.
.
.
atom$dod_end
atom$uni_end_stream

America Online Confidential 28-18  America Online, Inc. 1993-96



===== END PDF: ch28-dod.pdf =====

===== BEGIN PDF: ch29-rich.pdf =====



Manual: FDO91 Manual
Chapter 29: Rich Protocol defines rich protocol atoms and provides information for rendering
text with hypertext markup language (HTML) tags.
Last updated: July 1997




C H A P T E R  2 9

Rich Protocol

The Rich protocol (protocol ID 25) consists of atoms that control the
rendering of text with HTML (hypertext markup language) tags within FDO91
form display objects.  HTML tags enable specific attributes such as text color,
background color, font size, text alignment, bold, italic, and underlining.

Form display objects that can contain HTML tags include views (rich-text
views) and ornaments (rich-text ornaments).  Examples of rich-text views
include the Compose Mail form and the Send Instant Message™ form of the
Windows client of the online service.  Rich-text ornaments include any non-
editable static text field that contains HTML tags.  Examples of rich-text
ornaments are the static promotional text areas adjacent to or near their
associated buttons on the Welcome Screen.

Rich Protocol Atoms

The Rich protocol functions and their associated atoms follow:

Function Atoms

Setting up a rich-text view atom$rich_get_font

atom$rich_get_text_alignment

atom$rich_get_text_font_size

atom$rich_get_text_style

atom$rich_ignore_tabs

atom$rich_manage

America Online Confidential 29-1  America Online, Inc. 1993-97




Chapter 29: Rich Protocol July 1997

Restricting parameters of a atom$rich_bool_read_only
rich-text view

atom$rich_ignore_tabs

atom$rich_image_max

atom$rich_set_static

Blocking different HTML atom$rich_allow_attribute
text attributes for insertion
into the current view.  Also atom$rich_allow_backcolor

for blocking or including atom$rich_allow_embeds
options offered in the right-
click-activated pop-up atom$rich_allow_fontsize
menu.

atom$rich_allow_fontwindow

atom$rich_allow_justify

atom$rich_allow_textfile

Triggering rich-text view atom$rich_background_color
actions from a toolbar
button atom$rich_font_attribute

atom$rich_font_justify

atom$rich_font_size

atom$rich_text_color

atom$rich_window_color

Triggering rich-text view atom$rich_color_dialog
actions from a pop-up item

atom$rich_drop_link

atom$rich_drop_picture

atom$rich_font_select_face

atom$rich_font_select_size

atom$rich_view_background_color

atom$rich_view_text_background_color

atom$rich_view_text_color

America Online Confidential 29-2  America Online, Inc. 1993-97




July 1997 FDO91 Manual, Vol. 2

The Rich protocol atoms are described in alphabetical order in the rest of this
chapter.

 America Online, Inc. 1993-97 29-3 America Online Confidential




Chapter 29: Rich Protocol July 1997

atom$rich_allow_attribute
33 ($21)

Description

atom$rich_allow_attribute blocks a specified menu item offered in a text
attribute pop-up menu and/or blocks specified external HTML text attributes
from insertion into the current view.  The pop-up menu is right-click-activated
within a rich-text view and normally has all menu items (options) available.

Syntax

atom$rich_allow_attribute <dword>

<dword> Specifies the attributes to block.  Values are:

rich_disable_font_size Blocks font sizing.

rich_disable_font_window Blocks font control
options offered in the
right-click-activated pop-
up menu.

rich_disable_justify Blocks the text
justification options.

rich_disable_backcolor Blocks the background
color option for the rich-
text view.

rich_disable_embeds Blocks the image or
object embed options.

rich_disable_textfile Blocks the open a text file
option.

rich_disable_tabs Blocks the tab function
for edit views.

rich_disable_newline Blocks the newline
commands (HTML tags)
function that create a new
line such as the <BR> tag

America Online Confidential 29-4  America Online, Inc. 1993-97




July 1997 FDO91 Manual, Vol. 2

that would break to a new
line in the edit view.

rich_disable_hyperlinks Blocks the hyperlink
option for edit views.

rich_disable_text_back Blocks the background
ground_color

color option for selected
text.

Return Value

None.

Example

The following example blocks the image embed option so that images cannot
be inserted into the current text view (e.g., message field for chat) by a
member:

atom$man_start_sibling_ <view, " ">
atom$mat_size <59, 17>
atom$mat_relative_tag <2>
atom$rich_manage

ê atom$rich_allow_attribute <rich_disable_embeds>

 America Online, Inc. 1993-97 29-5 America Online Confidential




Chapter 29: Rich Protocol July 1997

atom$rich_allow_backcolor
28 ($1C)

Description

atom$rich_allow_backcolor determines the availability of the background
color option within the pop-up menu for the currently selected text.  If this
atom is called with a no value, the insertion of any external background color
into the current view is blocked.

Syntax

atom$rich_allow_backcolor <boolean>

<boolean> Specifies the availability of the background color option.
Values are:

Yes The background color option is available.
(Default)

No The background color option is not
available.

Return Value

None.

Example

The following example blocks the text field background color option so that
the background color cannot be changed in the current text view (e.g.,
message field for chat):

atom$man_start_sibling_ <view, " ">
atom$mat_size <59, 17>
atom$mat_relative_tag <2>
atom$rich_manage

ê atom$rich_allow_backcolor <no>

America Online Confidential 29-6  America Online, Inc. 1993-97




July 1997 FDO91 Manual, Vol. 2

atom$rich_allow_embeds
30 ($1E)

Description

atom$rich_allow_embeds determines the availability of the image option in
the right-click-activated pop-up menu.  The image option lets a member embed
an image or object within the current view or edit field.  If this atom is called
with a no value, the insertion of any images into the current view is blocked.

Syntax

atom$rich_allow_embeds <boolean>

<boolean> Specifies the availability of the image option in the pop-
up menu.  Values are:

Yes The insert images or objects option is
available.  For multi-line edit fields, this
is the default.

No The insert images or objects option is not
available.  For single-line edit fields, this
is the default.

Return Value

None.

Example

The following example blocks the image embed option so that images or
objects cannot be inserted in the current text view (e.g., message field for
chat):

atom$man_start_sibling_ <view, " ">
atom$mat_size <59, 17>
atom$mat_relative_tag <2>
atom$rich_manage

ê atom$rich_allow_embeds <no>

 America Online, Inc. 1993-97 29-7 America Online Confidential




Chapter 29: Rich Protocol July 1997

atom$rich_allow_fontsize
27 ($1B)

Description

atom$rich_allow_fontsize determines whether font size control for the text
via the font control option within the pop-up menu is offered.  If this atom is
called with a no value, the insertion of any different font size into the current
view is blocked.

Syntax

atom$rich_allow_fontsize <boolean>

<boolean> Specifies the availability of font size control.  Values
are:

Yes Font size control is available.  (Default)

No Font size control is not available.

Return Value

None.

Example

The following example blocks the font size control option so that changes to
the font size cannot be made in the current text view (e.g., message field for
chat):

atom$man_start_sibling_ <view, " ">
atom$mat_size <59, 17>
atom$mat_relative_tag <2>
atom$rich_manage

ê atom$rich_allow_fontsize <no>

America Online Confidential 29-8  America Online, Inc. 1993-97




July 1997 FDO91 Manual, Vol. 2

atom$rich_allow_fontwindow
29 ($1D)

Description

atom$rich_allow_fontwindow determines the availability of the font control
option in the right-click-activated pop-up menu.  If this atom is called with a
no value, the insertion of any different fonts into the current view is blocked.

Syntax

atom$rich_allow_fontwindow <boolean>

<boolean> Specifies the availability of the font control option in the
pop-up menu.  Values are:

Yes The font control option is available.
(Default)

No The font control option is not available.

Return Value

None.

Example

The following example blocks the font control option offered in the right-click-
activated pop-up menu:

atom$man_start_sibling_ <view, " ">
atom$mat_size <59, 17>
atom$mat_relative_tag <2>
atom$rich_manage

ê atom$rich_allow_fontwindow <no>

 America Online, Inc. 1993-97 29-9 America Online Confidential




Chapter 29: Rich Protocol July 1997

atom$rich_allow_justify
26 ($1A)

Description

atom$rich_allow_justify determines whether text justification options within
the current view are offered in the right-click-activated pop-up menu.  If this
atom is called with a no value, the insertion of any different text justification
into the current view is blocked.

Syntax

atom$rich_allow_justify <boolean>

<boolean> Specifies the availability of the text justification option
in the pop-up menu.  Values are:

Yes The text justification option is available.
(Default)

No The text justification option is not
available.

Return Value

None.

Example

The following example blocks the text justification option so that the text
justification cannot be changed in the current text view (e.g., message field for
chat):

atom$man_start_sibling_ <view, " ">
atom$mat_size <59, 17>
atom$mat_relative_tag <2>
atom$rich_manage

ê atom$rich_allow_justify <no>

America Online Confidential 29-10  America Online, Inc. 1993-97




July 1997 FDO91 Manual, Vol. 2

atom$rich_allow_textfile
31 ($1F)

Description

atom$rich_allow_textfile determines the availability of the open text file
option in the right-click-activated pop-up menu.  If this atom is called with a
no value, the insertion of any text into the current view from another file is
blocked.

Syntax

atom$rich_allow_textfile <boolean>

<boolean> Specifies the availability of the open text file option in
the pop-up menu.  Values are:

Yes The open text file option is available.
(Default)

No The open text file option is not available.

Return Value

None.

Example

The following example blocks the open text file option so that a file cannot be
inserted in the current text view (e.g., message field for chat):

atom$man_start_sibling_ <view, " ">
atom$mat_size <59, 17>
atom$mat_relative_tag <2>
atom$rich_manage

ê atom$rich_allow_textfile <no>

 America Online, Inc. 1993-97 29-11 America Online Confidential




Chapter 29: Rich Protocol July 1997

atom$rich_background_color
8 ($08)

Description

atom$rich_background_color invokes a color dialog box that lets the
member choose a color or define a custom color for the background of the
current text.  The color dialog box is invoked with the text background color
button on the text toolbar.

Syntax

atom$rich_background_color

Return Value

The selected color.  (dword)

Example

The following example invokes the color dialog box and returns the selected
color for the text background:

atom$uni_start_stream
ê atom$rich_background_color

atom$uni_end_stream

America Online Confidential 29-12  America Online, Inc. 1993-97




July 1997 FDO91 Manual, Vol. 2

atom$rich_bool_read_only
4 ($04)

Description

atom$rich_bool_read_only defines the text within the current view or
ornament as non-editable, read-only text for objects such as frames, borders,
and scroll bars.

Syntax

atom$rich_bool_read_only  <boolean>

<boolean> Specifies whether the text is read-only.  Values are:

Yes The text is read-only.

No The text is not read-only.  (Default)

Return Value

None.

Example

The following example defines the text within the current view as read-only:

atom$man_start_sibling_ <view, " ">
atom$mat_size <59, 17>
atom$mat_relative_tag <2>
atom$rich_manage

ê atom$rich_bool_read_only <yes>

 America Online, Inc. 1993-97 29-13 America Online Confidential




Chapter 29: Rich Protocol July 1997

atom$rich_color_dialog
16 ($10)

Description

atom$rich_color_dialog invokes a color dialog box to select a color for text
or a background.  The color dialog box is invoked with the selection of the
color option in the pop-up menu.

Syntax

atom$rich_color_dialog

Return Value

Returns the color selected.

Example

The following example selects a color from the color dialog box for the text:

atom$uni_start_stream
ê atom$rich_color_dialog

atom$uni_use_last_atom_value <atom$rich_view_text_color>
atom$uni_end_stream

America Online Confidential 29-14  America Online, Inc. 1993-97




July 1997 FDO91 Manual, Vol. 2

atom$rich_drop_link
23 ($17)

Description

atom$rich_drop_link opens an edit hyperlink dialog box and inserts a
hyperlink in the rich-text view.  The hyperlink dialog box can be invoked with
the selection of the hyperlink option in the pop-up menu.

Syntax

atom$rich_drop_link

Return Value

None.

Example

The following example opens a hyperlink dialog box and inserts a hyperlink
into the rich-text view:

atom$uni_start_stream
atom$man_set_context_relative <22>

êatom$rich_drop_link
atom$man_end_context
atom$uni_end_stream

 America Online, Inc. 1993-97 29-15 America Online Confidential




Chapter 29: Rich Protocol July 1997

atom$rich_drop_picture
22 ($16)

Description

atom$rich_drop_picture opens an open image file dialog box and inserts an
image (picture) in the rich-text view.  The dialog box can be invoked with a
button on the text toolbar.

Syntax

atom$rich_drop_picture

Return Value

None.

Example

The following example opens an open image file dialog box and inserts a
picture into the rich-text view:

atom$uni_start_stream
atom$man_set_context_relative <22>

êatom$rich_drop_picture
atom$man_end_context
atom$uni_end_stream

America Online Confidential 29-16  America Online, Inc. 1993-97




July 1997 FDO91 Manual, Vol. 2

atom$rich_font_attribute
10 ($0A)

Description

atom$rich_font_attribute assigns a font attribute (or text style) to the
currently selected (highlighted) text.  Font attributes are applied using the bold,
italic, and underline buttons on the text toolbar.  This atom is sent for each
attribute specified, e.g., if the current text is bold and italic, this atom is sent
twice, once to specify bold and once to specify italic.

Syntax

atom$rich_font_attribute <dword>

<dword> Specifies a font attribute.  Values are:

1 Bold

2 Italic

4 Underline

Return Value

None.

Example

The following example applies bold, italic, and underline to the currently
selected (highlighted) text:

atom$uni_start_stream
ê atom$rich_font_attribute <1>

atom$uni_end_stream
atom$uni_start_stream

ê atom$rich_font_attribute <2>
atom$uni_end_stream
atom$uni_start_stream

ê atom$rich_font_attribute <4>
atom$uni_end_stream

 America Online, Inc. 1993-97 29-17 America Online Confidential




Chapter 29: Rich Protocol July 1997

atom$rich_font_justify
7 ($07)

Description

atom$rich_font_justify aligns the text within the current rich-text view.  This
atom is sent when a member highlights a text string and selects one of the text
alignment buttons on the text toolbar.

Syntax

atom$rich_font_justify <dword>

<dword> Specifies the text alignment format in the current text.
Values are:

1 Left

2 Center

3 Right

4 Full

Return Value

None.

Example

The following example centers the text within the current rich-text view:

atom$uni_start_stream
ê atom$rich_font_justify <2>

atom$uni_end_stream

America Online Confidential 29-18  America Online, Inc. 1993-97




July 1997 FDO91 Manual, Vol. 2

atom$rich_font_select_face
20 ($14)

Description

atom$rich_font_select_face invokes a font dialog box and defines a specified
font to the selected text in the rich-text view.  The font dialog box is invoked
with the selection of the font option in the pop-up menu.

Syntax

atom$rich_font_select_face <string>

<string> Specifies the font name to apply to the text.

Return Value

None.

Example

The following example defines the Courier New font to the text within the
rich-text view:

atom$uni_start_stream
man_set_context_relative <22>

ê atom$rich_font_select_face <”Courier New”>
man_end_context
atom$uni_end_stream

 America Online, Inc. 1993-97 29-19 America Online Confidential




Chapter 29: Rich Protocol July 1997

atom$rich_font_select_size
21 ($15)

Description

atom$rich_font_select_size invokes a font dialog box and defines a point size
to the selected text in the rich-text view.  The font dialog box is invoked with
the selection of the font option in the pop-up menu.

Syntax

atom$rich_font_select_size <dword>

<dword> Specifies the font size to apply to the text.

Return Value

None.

Example

The following example applies the font size of 12 to the selected text within
the rich-text view:

atom$uni_start_stream
atom$man_set_context_relative <13>

ê atom$rich_font_select_size <12>
atom$man_end_context
atom$uni_end_stream

America Online Confidential 29-20  America Online, Inc. 1993-97




July 1997 FDO91 Manual, Vol. 2

atom$rich_font_size
9 ($09)

Description

atom$rich_font_size specifies the font size of the text within the current rich-
text view.  This atom is sent when a member highlights a text string and selects
one of the font size buttons on the text toolbar.

Syntax

atom$rich_font_size <size>

<size> The font size of the current text.  Values range from 1
to 7, where 1 is the smallest, 7 is the largest, and 3 is the
default.

Return Value

None.

Example

The following example sets the font size at 3 points for the text within the
current rich-text view:

atom$uni_start_stream
atom$man_set_context_relative <12>

ê atom$rich_font_size <3>
atom$var_number_set_from_atom <A>
atom$uni_end_stream

 America Online, Inc. 1993-97 29-21 America Online Confidential




Chapter 29: Rich Protocol July 1997

atom$rich_get_font
25 ($19)

Description

atom$rich_get_font returns the font name of the current text within the rich-
text view.  For example, when a member positions the cursor within an editable
text field, the value returned is the name of the font.

Syntax

atom$rich_get_font

Return Value

A string value defining the name of the font.

Example

The following example gets the current font name of the text within the rich-
text view and stores it in register A:

atom$uni_start_stream
atom$man_set_context_relative <12>

ê atom$rich_get_font
atom$var_string_set_from_atom <A>
atom$uni_end_stream

America Online Confidential 29-22  America Online, Inc. 1993-97




July 1997 FDO91 Manual, Vol. 2

atom$rich_get_text_alignment
12 ($0C)

Description

atom$rich_get_text_alignment returns the alignment format for the current
rich-text view.  For example, when a member positions the cursor within an
editable text field that is center-justified, the align-center button on the text
toolbar is highlighted.

Syntax

atom$rich_get_text_alignment

Return Value

The text alignment format of the current text.  The numeric values are as
follows:

1 Left

2 Center

3 Right

4 Full

Example

The following example returns the alignment format for the text within the
current rich-text view and stores it in register A:

atom$uni_start_stream
atom$man_set_context_relative <12>

ê atom$rich_get_text_alignment
atom$var_number_set_from_atom <A>
atom$uni_end_stream

 America Online, Inc. 1993-97 29-23 America Online Confidential




Chapter 29: Rich Protocol July 1997

atom$rich_get_text_font_size
24 ($18)

Description

atom$rich_get_text_font_size returns the font size of the current text within
the rich-text view.  For example, when a member positions the cursor within an
editable text field, the value returned is the size of the font.

Syntax

atom$rich_get_text_font_size

Return Value

A numeric value defining the point size of the font.

Example

The following example gets the current font size of the text within the rich-text
view and stores it in register A:

atom$uni_start_stream
atom$man_set_context_relative <12>

ê atom$rich_get_text_font_size
atom$var_number_set_from_atom <A>
atom$uni_end_stream

America Online Confidential 29-24  America Online, Inc. 1993-97




July 1997 FDO91 Manual, Vol. 2

atom$rich_get_text_style
14 ($0E)

Description

atom$rich_get_text_style returns the text style (or font attribute) for the text
within the current rich-text view.  For example, when a member positions the
cursor within an editable text field that is bold and italic, the values returned
highlight the bold and italic buttons on the text toolbar.

Syntax

atom$rich_get_text_style

Return Value

The text style attribute for the current text.  The numeric values are as follows:

1 Bold

2 Italic

4 Underline

5 Bold underline

6 Italic underline

Example

The following example returns the text style for the text within the current
rich-text view and stores it in register A:

atom$uni_start-stream
atom$man_set_context_relative <12>

ê atom$rich_get_text_style
atom$var_number_set_from_atom <A>
atom$uni_end_stream

 America Online, Inc. 1993-97 29-25 America Online Confidential




Chapter 29: Rich Protocol July 1997

atom$rich_ignore_tabs
32 ($20)

Description

atom$rich_ignore_tabs determines whether to ignore the tab function while
in an edit field of a form (e.g., chat or mail).  This tab function relates to the
cursor navigation from one field to the next within the form.

Syntax

atom$rich_ignore_tabs <boolean>

<boolean> Specifies whether to ignore the tab function.  Values
are:

Yes Ignore the tab function.

No Do not ignore the tab function.  (Default)

Return Value

None.

Example

The following example ignores the tab function in the current rich-text view:

atom$man_start_sibling_ <view, " ">
atom$mat_size <59, 17>
atom$mat_relative_tag <2>
atom$rich_manage

ê atom$rich_ignore_tabs <yes>

America Online Confidential 29-26  America Online, Inc. 1993-97




July 1997 FDO91 Manual, Vol. 2

atom$rich_image_max
34 ($22)

Description

atom$rich_image_max sets the maximum size of an image that can be
inserted into an edit view.  The system maximum default size is 400 pixels to
the horizontal or vertical dimension.

Syntax

atom$rich_image_max <dword>

<dword> Specifies the maximum size of an image.  Values can
range above or below 400 pixels for a maximum.

Return Value

None.

Example

The following example sets the maximum image size in the edit view to 500
pixels:

atom$man_start_sibling_ <view, " ">
atom$mat_size <59, 17>
atom$mat_relative_tag <2>
atom$rich_manage

ê atom$rich_image_max <500>

 America Online, Inc. 1993-97 29-27 America Online Confidential




Chapter 29: Rich Protocol July 1997

atom$rich_manage
0 ($00)

Description

atom$rich_manage defines the current view or ornament, which contains
HTML tags, as a rich-text view or a rich-text ornament.

Syntax

atom$rich_manage

Return Value

None.

Example

The following example defines the current view as a rich-text view:

atom$man_start_sibling_ <view, " ">
atom$mat_size <59, 17>
atom$mat_relative_tag <2>

ê atom$rich_manage
atom$rich_set_static <yes>

America Online Confidential 29-28  America Online, Inc. 1993-97




July 1997 FDO91 Manual, Vol. 2

atom$rich_set_static
15 ($0F)

Description

atom$rich_set_static defines the text within the current view or ornament as
non-editable, read-only, static text.  Background art can be defined as static;
however, frames, borders, and scroll bars cannot.

Syntax

atom$rich_set_static

Return Value

None.

Example

The following example defines the text within the current ornament as static
text:

atom$man_start_sibling_ <ornament, " ">
atom$mat_size <25, 9>
atom$mat_relative_tag <1>
atom$rich_manage

ê atom$rich_set_static

 America Online, Inc. 1993-97 29-29 America Online Confidential




Chapter 29: Rich Protocol July 1997

atom$rich_text_color
6 ($06)

Description

atom$rich_text_color invokes the text color dialog box, which lets the
member choose a color or define a custom color for the currently selected text.
The text color dialog box can be invoked with the text color button on the text
toolbar.

Syntax

atom$rich_text_color

Return Value

None.

Example

The following example invokes the color dialog box and defines a color for the
text:

atom$uni_start_stream
ê atom$rich_text_color

atom$uni_end_stream

America Online Confidential 29-30  America Online, Inc. 1993-97




July 1997 FDO91 Manual, Vol. 2

atom$rich_view_background_color
19 ($13)

Description

atom$rich_view_background_color defines a color as the window
background in the rich-text view.  The color dialog box is invoked with the
selection of the background color option in the pop-up menu.

Syntax

atom$rich_view_background_color <dword>

<dword> Specifies the color selected.

Return Value

None.

Example

The following example selects a color from the color dialog box and applies it
to the window background of the rich-text view:

atom$uni_start_stream
atom$rich_color_dialog

êatom$uni_use_last_atom_value <atom$rich_view_background_color>
atom$uni_end_stream

 America Online, Inc. 1993-97 29-31 America Online Confidential




Chapter 29: Rich Protocol July 1997

atom$rich_view_text_background_color
18 ($12)

Description

atom$rich_view_text_background_color defines a color to the currently
selected text background in the rich-text view.  The color dialog box is
invoked with the selection of the background color option in the pop-up menu.

Syntax

atom$rich_view_text_background_color <dword>

<dword> Specifies the color selected.

Return Value

None.

Example

The following example selects a color from the color dialog box and applies it
to the current text background of the rich-text view:

atom$uni_start_stream
atom$rich_color_dialog

êatom$uni_use_last_atom_value
<atom$rich_view_text_background_color>

atom$uni_end_stream

America Online Confidential 29-32  America Online, Inc. 1993-97




July 1997 FDO91 Manual, Vol. 2

atom$rich_view_text_color
17 ($11)

Description

atom$rich_view_text_color defines a color for the text of a rich-text view.
The color dialog box is invoked with the selection of the color option in the
pop-up menu.

Syntax

atom$rich_view_text_color <dword>

<dword> Specifies the color selected.

Return Value

None.

Example

The following example selects a color from the color dialog box and applies it
to the text of the rich-text view:

atom$uni_start_stream
atom$rich_color_dialog

êatom$uni_use_last_atom_value <atom$rich_view_text_color>
atom$uni_end_stream

 America Online, Inc. 1993-97 29-33 America Online Confidential




Chapter 29: Rich Protocol July 1997

atom$rich_window_color
11 ($0B)

Description

atom$rich_window_color invokes the background color dialog box, which
lets the member choose a color or define a custom background color for the
current rich-text view.  The color is applied to the whole window or to any
currently selected text.  The background color dialog box can be invoked with
the background color button on the text toolbar.

Syntax

atom$rich_window_color

Return Value

None.

Example

The following example invokes the color dialog box and defines a color for the
rich-text view background:

atom$uni_start_stream
ê atom$rich_window_color

atom$uni_end_stream

America Online Confidential 29-34  America Online, Inc. 1993-97



===== END PDF: ch29-rich.pdf =====

===== BEGIN PDF: ch30-sm.pdf =====



Manual: FDO91 Manual
Chapter 30: Shorthand Protocol defines shorthand protocol atoms and provides information for
replacing lengthy atom streams.
Last updated: May 1996




C H A P T E R  3 0

Shorthand Protocol

The Shorthand protocol (protocol ID 14) consists of atoms that execute
multiple tasks, unlike other protocols where a single atom generally executes a
single task.  You can use Shorthand protocol atoms in place of lengthy
sequences of atoms to enhance network efficiency by reducing the amount of
data passed between the client and the host.  For example, the Shorthand
protocol atom atom$sm_end_object_with_var approximates the following
stream:

atom$var_number_set_id_one_value <value>
atom$act_set_inheritance <flag>
atom$man_end_object

There is not always an equivalent corresponding atom stream for each
Shorthand protocol atom.  These atoms execute additional tasks unique to the
Shorthand protocol, such as low-level API calls and other tasks described in
this chapter.

The Shorthand protocol consists of the following:

• Object atoms — Atoms that are used to perform tasks associated with
form display objects, such as specifying variable values for list boxes and
specifying action streams for triggers.

• Utility atoms — Atoms that perform a wide range of processing functions,
such as free/paid processing, domain processing, and plus group
processing.

America Online Confidential 30-1  America Online, Inc. 1993-96




Chapter 30: Shorthand Protocol May 1996

Object Atoms

The Shorthand protocol object atoms perform tasks associated with form
display objects, such as specifying variable values for list boxes, and specifying
action streams for triggers.  Unless otherwise noted, object atoms terminate the
atom stream (equivalent to atom$uni_end_stream) and perform all necessary
plus group and domain processing via low-level API calls.  The Shorthand
protocol object atoms are described in alphabetical order in this section.

America Online Confidential 30-2  America Online, Inc. 1993-96




May 1996 FDO91 Manual, Vol. 2

atom$sm_do_list_action
0 ($00)

Description

atom$sm_do_list_action performs the action associated with the currently
selected item in a list box.  The action is performed on the object that initiated
the request.

Syntax

atom$sm_do_list_action <rid>

<rid> The relative ID attached to the currently selected item in
the list box.  The default is 1.

Return Value

Unchanged.

Example

The following is an example of the use of this atom:

atom$uni_start_stream 00x
.
.
.
atom$man_start_sibling <trigger, "Open">
atom$mat_bool_default <yes>
atom$act_replace_select_action.
atom$uni_start_stream 00x

ê atom$sm_do_list_action <1>
.
.
.
atom$uni_end_stream

 America Online, Inc. 1993-96 30-3 America Online Confidential




Chapter 30: Shorthand Protocol May 1996

atom$sm_end_object_with_action
1 ($01)

Description

atom$sm_end_object_with_action associates the action stream of this atom
with the current object as its selection action, then ends the current object.
Action streams are streams of atoms used to implement specific actions, such
as opening or updating a view.

Syntax

atom$sm_end_object_with_action <action_stream>

<action_stream> The atom stream used to implement a specific action.

Return Value

Unchanged.

Example

The following is an example of the use of this atom:

atom$uni_start_stream
.
.
.
atom$sm_set_plus_group <42x, 22x>
atom$man_set_context_relative <1>
atom$man_set_context_relative <1>
atom$man_start_object <trigger, ABC Indy 500>
atom$mat_art_id <1-0-1477>

ê atom$sm_end_object_with_action <40x, 11x, 2ex, d8x, 43x, 31x>
atom$man_start_object <trigger, ABC Official NHL Area>
atom$mat_art_id <1-0-1477>

ê atom$sm_end_object_with_action <40x, 11x, 2ex, d8x, 43x, 31x>
atom$man_start_object <trigger, ABC Atlanta Olympics 96>
atom$mat_art_id <1-0-1477>
atom$man_end_context <>
.
.
.
atom$uni_end_stream

America Online Confidential 30-4  America Online, Inc. 1993-96




May 1996 FDO91 Manual, Vol. 2

atom$sm_end_object_with_var
2 ($02)

Description

atom$sm_end_object_with_var tags the current object with a specified data
variable and references it with an ID of 1, then ends the definition of the
current object.  Inheritance for the object is set to inherit all actions/variables
from the current object.  If none are found, then the actions/variables are
inherited from the parent object.

Syntax

atom$sm_end_object_with_var <rid>

<rid> Relative ID of the specified data variable.

Return Value

Unchanged.

Example

The following is an example of the use of this atom:

atom$uni_start_stream <>
atom$man_set_context_globalid <40-16709>
atom$man_set_context_relative <1>
atom$man_close_children <>.
atom$man_start_object <trigger, "Archie's List (3/3)">.

ê atom$sm_end_object_with_var <00x, 00x, 00x, 00x>.
atom$man_start_object <trigger, "   Rover">

ê atom$sm_end_object_with_var <00x, 00x, 00x, 00x>.
atom$man_start_object <trigger, "   Fido">

ê atom$sm_end_object_with_var <00x, 00x, 00x, 00x>.
atom$man_start_object <trigger, "   Fifi">
.
.
.
atom$uni_end_stream

 America Online, Inc. 1993-96 30-5 America Online Confidential




Chapter 30: Shorthand Protocol May 1996

atom$sm_m_send_list_var
23 ($17)

Description

atom$sm_m_send_list_var is used to send a token to the host with a numeric
variable attached to the currently selected item in the list box.  This atom turns
wait on, performs a magic check, sends the data to the host, and terminates the
stream.

A magic check is used to verify the existence of a form (e.g., window, dialog
box) on-screen and, if it exists, to bring the form to the front.

Syntax

atom$sm_m_send_list_var <token> <rid>

<token> The token to send to the host.

<rid> The relative ID attached to the currently selected item in
the list box.  The default is 1.

Return Value

Unchanged.

Example

The following is an example of the use of this atom:

atom$uni_start_stream 00x
.
.
.
atom$uni_start_stream_wait_on

ê atom$sm_m_send_list_var <56x, 22x, 19x, 00x, 00x, e5x>
.
.
.
atom$uni_end_stream

America Online Confidential 30-6  America Online, Inc. 1993-96




May 1996 FDO91 Manual, Vol. 2

atom$sm_m_send_token_arg
24 ($18)

Description

atom$sm_m_send_token_arg is used to send a token and a numeric
argument to the host.  This atom turns wait on, performs a magic check, sends
the data to the host, and terminates the stream.

A magic check is used to verify the existence of a form (e.g., window, dialog
box) on-screen and, if it exists, to bring the form to the front.

Syntax

atom$sm_m_send_token_arg <token> <n>

<token> The token to send to the host.

<n> The numeric argument to send to the host.

Return Value

Unchanged.

Example

The following is an example of the use of this atom:

atom$uni_start_stream 00x
.
.
.
atom$uni_start_stream_wait_on

ê atom$sm_m_send_token_arg <49x, 65x, 00x, 00x, 00x, ffx>
.
.
.
atom$uni_end_stream

 America Online, Inc. 1993-96 30-7 America Online Confidential




Chapter 30: Shorthand Protocol May 1996

atom$sm_m_send_token_raw
17 ($11)

Description

atom$sm_m_send_token_raw is used to send a token and an arbitrary series
of bytes (raw data) to the host.  This atom turns wait on, performs a magic
check, sends the data to the host, and terminates the stream.

A magic check is used to verify the existence of a form (e.g., window, dialog
box) on-screen and, if it exists, to bring the form to the front.

Syntax

atom$sm_m_send_token_raw <token> <raw>

<token> The token to send to the host.

<raw> Raw data to send to the host.

Return Value

Unchanged.

Example

The following is an example of the use of this atom:

atom$uni_start_stream 00x
.
.
.
atom$uni_start_stream_wait_on

ê atom$sm_m_send_token_raw <19x, 25x, 00x, 00x, 01x, efx>
.
.
.
atom$uni_end_stream

America Online Confidential 30-8  America Online, Inc. 1993-96




May 1996 FDO91 Manual, Vol. 2

atom$sm_m_send_window_var
19 ($13)

Description

atom$sm_m_send_window_var is used to send a token to the host with a
numeric variable attached to the window that initiated the current action.  This
atom turns wait on, performs a magic check, sends the data to the host, and
terminates the stream.

A magic check is used to verify the existence of a form (e.g., window, dialog
box) on-screen and, if it exists, to bring the form to the front.

Syntax

atom$sm_m_send_window_var <vid>

<vid> The variable ID attached to the window.  The default
is 1.

Return Value

Unchanged.

Example

The following is an example of the use of this atom:

atom$uni_start_stream 00x
.
.
.
atom$uni_start_stream_wait_on

ê atom$sm_m_send_window_var <56x, 22x, 19x, 00x, 00x, mfx>
.
.
.
atom$uni_end_stream

 America Online, Inc. 1993-96 30-9 America Online Confidential




Chapter 30: Shorthand Protocol May 1996

atom$sm_mp_send_token_arg
15 ($0F)

Description

atom$sm_mp_send_token_arg is used to send a token and a numeric
argument to the host.  This atom turns wait on, performs a magic check, sends
the data to the host, closes the form that initiated the current request, and
terminates the stream.

A magic check is used to verify the existence of a form (e.g., window, dialog
box) on-screen and, if it exists, to bring the form to the front.

Syntax

atom$sm_mp_send_token_arg <token> <n>

<token> The token to send to the host.

<n> The numeric argument to send to the host.

Return Value

Unchanged.

Example

The following is an example of the use of this atom:

atom$uni_start_stream 00x
.
.
.
atom$uni_start_stream_wait_on

ê atom$sm_mp_send_token_arg <41x, 92x, 00x, 00x, 00x, e5x>
.
.
.
atom$uni_end_stream

America Online Confidential 30-10  America Online, Inc. 1993-96




May 1996 FDO91 Manual, Vol. 2

atom$sm_mp_send_window_var
21 ($15)

Description

atom$sm_mp_send_window_var is used to send a token to the host with a
numeric variable attached to the window that initiated the current action.  This
atom turns wait on, performs a magic check, sends the data to the host, closes
the form that initiated the current request, and terminates the stream.

A magic check is used to verify the existence of a form (e.g., window, dialog
box) on-screen and, if it exists, to bring the form to the front.

Syntax

atom$sm_mp_send_window_var <token> <vid>

<token> The token to send to the host.

<vid> The variable ID attached to the window.  The default
is 1.

Return Value

Unchanged.

Example

The following is an example of the use of this atom:

atom$uni_start_stream 00x
.
.
.
atom$uni_start_stream_wait_on

ê atom$sm_mp_send_window_var <28x, 85x, 00x, 00x, 00x, ffx>
.
.
.
atom$uni_end_stream

 America Online, Inc. 1993-96 30-11 America Online Confidential




Chapter 30: Shorthand Protocol May 1996

atom$sm_p_send_token_arg
14 ($0E)

Description

atom$sm_p_send_token_arg is used to send a token and a numeric argument
to the host.  This atom turns wait on, sends the data to the host, closes the
form that initiated the current request, and terminates the stream.

Syntax

atom$sm_p_send_token_arg <token> <n>

<token> The token to send to the host.

<n> The numeric argument to send to the host.

Return Value

Unchanged.

Example

The following is an example of the use of this atom:

atom$uni_start_stream 00x
.
.
.
atom$uni_start_stream_wait_on

ê atom$sm_p_send_token_arg <12x, 57x, 00x, 00x, 00x, cfx>
.
.
.
atom$uni_end_stream

America Online Confidential 30-12  America Online, Inc. 1993-96




May 1996 FDO91 Manual, Vol. 2

atom$sm_p_send_window_var
20 ($14)

Description

atom$sm_p_send_window_var is used to send a token to the host with a
numeric variable attached to the window that initiated the current action.  This
atom turns wait on, sends the data to the host, and terminates the stream.

Syntax

atom$sm_p_send_window_var <token> <vid>

<token> The token to send to the host.

<vid> The variable ID attached to the window.  The default
is 1.

Return Value

Unchanged.

Example

The following is an example of the use of this atom:

atom$uni_start_stream 00x
.
.
.
atom$uni_start_stream_wait_on

ê atom$sm_p_send_window_var <11x, 91x, 00x, 00x, 00x, 01x>
.
.
.
atom$uni_end_stream

 America Online, Inc. 1993-96 30-13 America Online Confidential




Chapter 30: Shorthand Protocol May 1996

atom$sm_send_bm
7 ($07)

Description

atom$sm_m_send_bm sends a bM token to the host with a numeric variable
attached to the currently selected item in the list box, and then terminates the
stream.  The bM token displays a message board message (without a next
message button) from the bboard server.

Syntax

atom$sm_send_bm <rid>

<rid> The relative ID attached to the currently selected item in
the list box.  The default is 1.

Return Value

Unchanged.

Example

The following is an example of the use of this atom:

atom$uni_start_stream 00x
.
.
.
atom$uni_start_stream_wait_on

ê atom$sm_send_bm <45x, 96x, 53x, 66x>
.
.
.
atom$uni_end_stream

America Online Confidential 30-14  America Online, Inc. 1993-96




May 1996 FDO91 Manual, Vol. 2

atom$sm_send_bn
8 ($08)

Description

atom$sm_m_send_bn sends a bN token to the host with a numeric variable
attached to the currently selected item in the list box, and then terminates the
stream.  The bN token (display message with replace) displays a message
board message (with a next message button) from the bboard server.

Syntax

atom$sm_send_bn <rid>

<rid> The relative ID attached to the currently selected item in
the list box.  The default is 1.

Return Value

Unchanged.

Example

The following is an example of the use of this atom:

atom$uni_start_stream 00x
.
.
.
atom$uni_start_stream_wait_on

ê atom$sm_send_bn <45x, 96x, 53x, 66x>
.
.
.
atom$uni_end_stream

 America Online, Inc. 1993-96 30-15 America Online Confidential




Chapter 30: Shorthand Protocol May 1996

atom$sm_send_er
4 ($04)

Description

atom$sm_send_er sends an eR token to the host with a numeric variable
attached to the currently selected item in the list box and then terminates the
stream.  The eR token is sent to the mbox_read server when a member opens
a new (unread) mail message.

Syntax

atom$sm_send_er <rid>

<rid> The relative ID attached to the currently selected item in
the list box.  The default is 1.

Return Value

Unchanged.

Example

The following is an example of the use of this atom:

atom$uni_start_stream 00x
.
.
.
atom$uni_start_stream_wait_on

ê atom$sm_send_er <18x, 87x, 12x>
.
.
.
atom$uni_end_stream

America Online Confidential 30-16  America Online, Inc. 1993-96




May 1996 FDO91 Manual, Vol. 2

atom$sm_send_f1
9 ($09)

Description

atom$sm_send_f1 sends an f1 token from the client to the host.  The f1 token
requests a record from the retriever server, which contains the host forms for
the online service.  This atom turns wait on, sends the request to the host, and
terminates the stream.

Syntax

atom$sm_send_f1 <record_number>

<record_number> Requested record ID number.

Return Value

Unchanged.

Example

The following is an example of the use of this atom:

atom$uni_start_stream <00x>
.
.
.
atom$uni_start_stream_wait_on

ê atom$sm_send_f1 <28x, 23x, 56x>
.
.
.
atom$uni_end_stream

 America Online, Inc. 1993-96 30-17 America Online Confidential




Chapter 30: Shorthand Protocol May 1996

atom$sm_send_free_f1
29 ($1D)

Description

atom$sm_send_free_f1 sends an f1 token from the client to the host and
displays the "enter free area" prompt.  The f1 token requests a record from the
retriever server, which contains the host forms for the online service.  This
atom turns wait on, sends the request to the host, and terminates the stream.
The member is prompted "Are you sure you want to enter this free area?…"

Syntax

atom$sm_send_free_f1 <record_number>

<record_number> Requested record ID number.

Return Value

Unchanged.

Example

The following is an example of the use of this atom:

atom$uni_start_stream <00x>
.
.
.
atom$uni_start_stream_wait_on

ê atom$sm_send_free_f1 <01x, 17x, 88x>
.
.
.
atom$uni_end_stream

America Online Confidential 30-18  America Online, Inc. 1993-96




May 1996 FDO91 Manual, Vol. 2

atom$sm_send_free_k1
27 ($1B)

Description

atom$sm_send_free_k1 sends a k1 token from the client to the host and
displays the "enter free area" prompt.  The k1 token requests a record from the
library server.  This atom turns wait on, sends the request to the host, and
terminates the stream.  The member is prompted "Are you sure you want to
enter this free area?…"

Syntax

atom$sm_send_free_k1 <record_number>

<record_number> Requested record ID number.

Return Value

Unchanged.

Example

The following is an example of the use of this atom:

atom$uni_start_stream <00x>
.
.
.
atom$uni_start_stream_wait_on

ê atom$sm_send_free_k1 <02x, 13x, 48x>
.
.
.
atom$uni_end_stream

 America Online, Inc. 1993-96 30-19 America Online Confidential




Chapter 30: Shorthand Protocol May 1996

atom$sm_send_k1
3 ($03)

Description

atom$sm_send_k1 sends a k1 token from the client to the host.  The k1 token
requests a record from the library server.  This atom turns wait on, sends the
request to the host, and terminates the stream.

Syntax

atom$sm_send_k1 <record_number>

<record_number> Requested record ID number.

Return Value

Unchanged.

Example

The following is an example of the use of this atom:

atom$uni_start_stream <00x>
.
.
.
atom$uni_start_stream_wait_on

ê atom$sm_send_k1 <02x, 13x, 48x>
.
.
.
atom$uni_end_stream

America Online Confidential 30-20  America Online, Inc. 1993-96




May 1996 FDO91 Manual, Vol. 2

atom$sm_send_list_var
22 ($16)

Description

atom$sm_send_list_var sends a token to the host with a numeric variable
attached to the currently selected item in the list box.  This atom turns wait on,
sends the data to the host, and terminates the stream.

Syntax

atom$sm_send_list_var <token> <rid>

<token> The token to send to the host.

<rid> The relative ID attached to the currently selected item in
the list box.  The default is 1.

Return Value

Unchanged.

Example

The following is an example of the use of this atom:

atom$uni_start_stream <00x>
.
.
.
atom$uni_start_stream_wait_on

ê atom$sm_send_list_var <943587328>
.
.
.
atom$uni_end_stream

 America Online, Inc. 1993-96 30-21 America Online Confidential




Chapter 30: Shorthand Protocol May 1996

atom$sm_send_mf
6 ($06)

Description

atom$sm_send_mf sends an mF token from the client to the host with a
numeric variable attached to the currently selected item in the list box, then
terminates the stream.  The mF token requests a file description with
parameters from the soft_read server.

Syntax

atom$sm_send_mf <rid>

<rid> The relative ID attached to the currently selected item in
the list box.  The default is 1.

Return Value

Unchanged.

Example

The following is an example of the use of this atom:

atom$uni_start_stream <00x>
.
.
.
atom$uni_start_stream_wait_on

ê atom$sm_send_mf <28x, 85x, 72x, 12x, 05x>
.
.
.
atom$uni_end_stream

America Online Confidential 30-22  America Online, Inc. 1993-96




May 1996 FDO91 Manual, Vol. 2

atom$sm_send_mr
5 ($05)

Description

atom$sm_send_mr sends an mR token from the client to the host with a
numeric variable attached to the currently selected item in the list box, then
terminates the stream. The mR token requests a file description from the
soft_read server.

Syntax

atom$sm_send_mr <rid>

<rid> The relative ID attached to the currently selected item in
the list box.  The default is 1.

Return Value

Unchanged.

Example

The following is an example of the use of this atom:

atom$uni_start_stream <00x>
.
.
.
atom$uni_start_stream_wait_on

ê atom$sm_send_mr <08x, 10x, 12x, 06x, 99x>
.
.
.
atom$uni_end_stream

 America Online, Inc. 1993-96 30-23 America Online Confidential




Chapter 30: Shorthand Protocol May 1996

atom$sm_send_paid_f1
30 ($1E)

Description

atom$sm_send_paid_f1 sends an f1 token from the client to the host and
displays the "exit free area" prompt.  The f1 token requests a record from the
retriever server, which contains the host forms for the online service.  This
atom turns wait on, sends the request to the host, and terminates the stream.
The member is prompted "Are you sure you want to exit this free area?…"

Syntax

atom$sm_send_paid_f1 <record_number>

<record_number> Requested record ID number.

Return Value

Unchanged.

Example

The following is an example of the use of this atom:

atom$uni_start_stream <00x>
.
.
.
atom$uni_start_stream_wait_on

ê atom$sm_send_paid_f1 <28x, 23x, 53x>
.
.
.
atom$uni_end_stream

America Online Confidential 30-24  America Online, Inc. 1993-96




May 1996 FDO91 Manual, Vol. 2

atom$sm_send_paid_k1
28 ($1C)

Description

atom$sm_send_paid_k1 sends a k1 token to the host from the client and
displays the "exit free area" prompt.  The k1 token requests a library record
from the library server.  This atom turns wait on, sends the request to the
host, and terminates the stream.  The member is prompted "Are you sure you
want to exit this free area?…"

Syntax

atom$sm_send_paid_k1 <record_number>

<record_number> Requested record ID number.

Return Value

Unchanged.

Example

The following is an example of the use of this atom:

atom$uni_start_stream <00x>
.
.
.
atom$uni_start_stream_wait_on

ê atom$sm_send_paid_k1 <13x, 71x, 66x, 61x>
.
.
.
atom$uni_end_stream

 America Online, Inc. 1993-96 30-25 America Online Confidential




Chapter 30: Shorthand Protocol May 1996

atom$sm_send_token_arg
12 ($0C)

Description

atom$sm_send_token_arg sends a token and a numeric argument to the host.
This atom turns wait on, sends the data to the host, and terminates the stream.

Syntax

atom$sm_send_token_arg <token> <n>

<token> Token to send to the host.

<n> Numeric argument to send to the host.

Return Value

Unchanged.

Example

The following is an example of the use of this atom:

atom$uni_start_stream
.
.
.
atom$uni_start_stream_wait_on <00x>
atom$sm_enter_paid

ê atom$sm_send_token_arg <4bx, 31x, 00x, 08x, 57x, e5x>
.
.
.
atom$uni_end_stream

America Online Confidential 30-26  America Online, Inc. 1993-96




May 1996 FDO91 Manual, Vol. 2

atom$sm_send_token_raw
16 ($10)

Description

atom$sm_send_token_raw sends a token and an arbitrary series of bytes (raw
data) to the host.  This atom turns wait on, sends the data to the host, and
terminates the stream.

Syntax

atom$sm_send_token_raw <token> <raw>

<token> The token to send to the host.

<raw> Raw data to send to the host.

Return Value

Unchanged.

Example

The following is an example of the use of this atom:

atom$uni_start_stream
.
.
.
atom$uni_start_stream_wait_on <00x>
atom$sm_check_domain <>

ê atom$sm_send_token_raw <43x, 62x>
.
.
.
atom$uni_end_stream

 America Online, Inc. 1993-96 30-27 America Online Confidential




Chapter 30: Shorthand Protocol May 1996

atom$sm_send_window_var
18 ($12)

Description

atom$sm_send_window_var sends a token to the host with a numeric
variable attached to the window that initiated the current action.  This atom
turns wait on, sends the data to the host, and terminates the stream.

Syntax

atom$sm_send_window_var <token> <vid>

<token> The token to send to the host.

<vid> The variable ID attached to the window.  The default
is 1.

Return Value

Unchanged.

Example

The following is an example of the use of this atom:

atom$uni_start_stream 00x
.
.
.
atom$uni_start_stream_wait_on

ê atom$sm_send_window_var <56x, 22x, 19x, 00x, 00x, 41x>
.
.
.
atom$uni_end_stream

America Online Confidential 30-28  America Online, Inc. 1993-96




May 1996 FDO91 Manual, Vol. 2

Utility Atoms

The Shorthand protocol utility atoms perform processing functions such as
free/paid processing, domain processing, and plus group processing.  These
atoms are described in alphabetical order in this section.

 America Online, Inc. 1993-96 30-29 America Online Confidential




Chapter 30: Shorthand Protocol May 1996

atom$sm_check_domain
10 ($0A)

Description

atom$sm_check_domain retrieves the domain type from the current object.
If necessary, this atom inherits the domain type from the independent ancestor
of the current object.  This atom starts an outbound buffer for this stream
(equivalent to atom$buf_start_buffer) and retrieves the domain string that
corresponds to the domain type from the independent ancestor of the current
object.

If the domain type of the independent ancestor is 0, or if the string retrieved
matches the current client domain (stored on root), this atom returns true and
no further processing occurs.  If the domain type is not 0, atom$man_set_
domain_info <type> and atom$man_set_domain_info <string> are added to
the outbound buffer, and the client domain is set to match the string retrieved
from the independent ancestor.  If the atom returns false, the remainder of the
stream closes the outbound buffer and assigns a token.

Syntax

atom$sm_check_domain

Return Value

True or false depending on the result of the expression.

Example

The following is an example of the use of this atom:

atom$uni_start_stream 00x
atom$_uni_wait_on

ê atom$sm_check_domain
atom$de_start_extraction
atom$de_validate 03x
atom$buf_set_token <Kk>
atom$de_get_data
atom$de_end_extraction
atom$buf_close_buffer
atom$man_close_update
atom$uni_end_stream

America Online Confidential 30-30  America Online, Inc. 1993-96




May 1996 FDO91 Manual, Vol. 2

atom$sm_check_plus_group
32 ($20)

Description

atom$sm_check_plus_group compares the plus group number of the window
that initiated the current action with the client plus group number.  If they
match, this atom returns false and no further processing occurs.  If they do not
match, the window and client plus group numbers are communicated to the
host, the client plus group number is set to the window plus group number, and
the atom returns true.

Syntax

atom$sm_check_plus_group <plus_group>

<plus_group> A unique number assigned to each area on the host
system indicating whether it is charged or free to plus
group members.

Return Value

True or false depending on the result of the expression.

Example

The following is an example of the use of this atom:

atom$uni_start_stream <00x>
.
.
.
atom$uni_start_stream_wait_on

ê atom$sm_check_plus_group <08x, 10x, 12x, 06x, 99x>
.
.
.
atom$uni_end_stream

 America Online, Inc. 1993-96 30-31 America Online Confidential




Chapter 30: Shorthand Protocol May 1996

atom$sm_enter_free
34 ($22)

Description

atom$sm_enter_free initiates a transition into a free area and prompts the
member "Are you sure you want to enter this free area?…"  If the member
chooses yes, the client enters the free area and the stream continues to execute.
If the member chooses no, the stream is terminated.  If the member is already
in a free area, this atom does nothing.  Any atoms that succeed this atom in the
stream are executing in a free area.

Syntax

atom$sm_enter_free

Return Value

Unchanged.

Example

The following is an example of the use of this atom:

atom$uni_start_stream <00x>
ê atom$_sm_enter_free

.

.

.
atom$async_alert <yes/no, "Are you sure you want to enter…" >

.

.
atom$uni_end_stream

America Online Confidential 30-32  America Online, Inc. 1993-96




May 1996 FDO91 Manual, Vol. 2

atom$sm_enter_paid
33 ($21)

Description

atom$sm_enter_paid initiates a transition into a paid area and prompts the
member "Are you sure you want to exit this free area?…"  If the member
chooses yes, the client enters the paid area and the stream continues to
execute.  If the member chooses no, the stream is terminated.  If the member is
already in a paid area, this atom does nothing.  Any atoms that succeed this
atom in the stream are executing in a paid area.

Syntax

atom$sm_enter_paid

Return Value

Unchanged.

Example

The following is an example of the use of this atom:

atom$uni_start_stream <00x>
ê atom$_sm_enter_paid

.

.

.
atom$async_alert <yes/no, "Are you sure you want to exit…" >

.

.
atom$uni_end_stream

 America Online, Inc. 1993-96 30-33 America Online Confidential




Chapter 30: Shorthand Protocol May 1996

atom$sm_set_domain
11 ($0B)

Description

atom$sm_set_domain stores the domain string given in the raw variable
whose variable ID (VID) is the argument to this atom.  Additionally, the
domain type variable (numeric VID 32) is set to the type given.  Both variables
are set on the independent ancestor of the current object (which is generally the
window that contains the object).  The client domain variable for this type
(same VID on root) is also updated to contain the string given.

Syntax

atom$sm_set_domain

Return Value

True or false depending on the result of the expression.

Example

The following is an example of the use of this atom:

atom$uni_start_stream
.
.
.
atom$man_set_context_relative <28x>
atom$mat_bool_default <no>
atom$man_end_context <>
atom$mat_title <"American League Teams">

ê atom$sm_set_domain <00x, 00x, 23x, 02x, ffx, ffx, ffx,…>
.
.
.
atom$man_end_context
atom$uni_end_stream

America Online Confidential 30-34  America Online, Inc. 1993-96




May 1996 FDO91 Manual, Vol. 2

atom$sm_set_object_domain
26 ($1A)

Description

atom$sm_set_object_domain stores the domain string given in the raw
variable whose variable ID (VID) is the argument to this atom.  Additionally,
the domain type variable (numeric VID 32) is set to the type given.  The type
variable is stored on the current object, and the string is stored on the
independent ancestor of the current object.  When the current object is
independent, both variables are stored on the same object.  The client domain
variable for this type (same VID on root) is also updated to contain the string
given.

Syntax

atom$sm_set_object_domain

Return Value

True or false depending on the result of the expression.

Example

The following is an example of the use of this atom:

atom$uni_start_stream
.
.
.
atom$man_set_context_relative <00x>

ê atom$sm_set_object_domain <00x, 00x, 00x, 21x, 00x, 00x, 25x,…>
atom$man_end_context
.
.
.
atom$uni_end_stream

 America Online, Inc. 1993-96 30-35 America Online Confidential




Chapter 30: Shorthand Protocol May 1996

atom$sm_set_plus_group
31 ($1F)

Description

atom$sm_set_plus_group sets the plus group number for the current window
(independent ancestor of the current object) and the client plus group number
to the given plus group value.

Syntax

atom$sm_set_plus_group <plus_group>

<plus_group> A unique number assigned to each area on the host
system indicating whether it is charged or free to plus
group members.

Return Value

Unchanged.

Example

The following is an example of the use of this atom:

atom$uni_start_stream <00x>
atom$mat_object_id <30-843>
atom$mat_style_id <30-843>

ê atom$sm_set_plus_group <68x, f2x>
atom$mat_orientation_hff
atom$mat_precise_width <500>
atom$mat_precise_height <300>
.
.
.
atom$uni_end_stream

America Online Confidential 30-36  America Online, Inc. 1993-96



===== END PDF: ch30-sm.pdf =====

===== BEGIN PDF: ch33-www.pdf =====



Manual: FDO91 Manual
Chapter 33: WWW Protocol defines World Wide Web protocol atoms and provides information for
handling Web browser forms.
Last updated: November 1995




C H A P T E R  3 3

WWW Protocol

The WWW (World Wide Web) protocol (protocol ID 48) consists of atoms
that let you construct a wide variety of customized web browser forms.  For
maximum flexibility, the controls of the web browser form (buttons, drop-
down lists, etc.) are kept separate from the web browser view (the area that
displays the specified web document).  The functions of the web browser form
are made available through WWW protocol atoms and action criteria that are
attached to the appropriate objects on each customized form.  The WWW
protocol consists of the following:

• Action Criteria — Arguments used to define specific actions, such as
requests to jump to uniform resource locators (URLs), report the progress
of a transfer, etc.

• View attribute atoms — Atoms that are used when the current display
manager object in context is a web browser view, as specified by the
atom$www_manage atom.  A web browser view consists of the area of
the form in which a web document is displayed; it does not include any
buttons, drop-down lists, activity indicators, or status displays that may be
placed on the form to control the browser.

• Stand-alone atoms — Atoms that are used in any action stream and do not
require the stream's context to be set to a web browser view.

America Online Confidential 33-1  America Online, Inc. 1993-95




Chapter 33: WWW Protocol November 1995

Action Criteria

The WWW Protocol action criteria are used to define action streams, which
are streams of atoms that implement specific actions, such as requests to jump
to uniform resource locators (URLs), report the progress of a transfer, etc.
Action criteria are used in conjunction with the WWW protocol view attribute
atoms and are specified with the atom$act_set_criterion atom, described in
Chapter 2, "Action Protocol."

Table 33.1 lists the title, action ID, the hexadecimal equivalent of the action
ID, and a description for each action criterion:

Table 33.1 – WWW Protocol Action Criteria

Action Criterion/ Description
Action ID

ACTION_URL_CHANGED Invoked when a new web document is
128 ($80) being loaded and the web browser is

navigating to a new URL.  A typical
handler for this action updates a status
field to display the new URL.

ACTION_SHOW_LINK Invoked when the cursor is positioned
129 ($81) over a hyperlink.  A typical handler for

this action updates a status field to
display the hyperlink's URL.

ACTION_PROGRESS_UPDATE Invoked when the percentage complete
130 ($82) of the web document being loaded

changes.  A typical handler for this
action updates a bar gauge to reflect
the new percentage.

ACTION_LINK_SELECTED Invoked when the member clicks on a
131 ($83) hyperlink or image map in the current

web document.  This is a notification
message only; execution of the
hyperlink is automatic and cannot be
overruled.

America Online Confidential 33-2  America Online, Inc. 1993-95




November 1995 FDO91 Manual, Vol. 2

Table 33.1 – WWW Protocol Action Criteria (Continued)

Action Criterion/ Description
Action ID

ACTION_TITLE_CHANGED Invoked when a new web document is
132 ($84) loaded and the title of the current web

document changes.  A typical handler
for this action changes a caption on the
browser form to reflect the new title.

ACTION_URL_DROPPED Invoked when a favorite place object is
133 ($85) dragged and dropped onto a web

browser view. This is a notification
message only; loading of the URL is
automatic and cannot be overruled.

ACTION_START_ACTIVITY Invoked when the web browser view
134 ($86) begins loading a new web document.  A

typical handler for this event begins
animating the activity indicator on the
web browser form.

ACTION_STOP_ACTIVITY Invoked when the web browser view
135 ($87) has completely loaded all of the

elements (text, images, etc.) associated
with the current web document.  A
typical handler for this event stops
animating the activity indicator on the
browser form.

ACTION_ADD_TO_HISTORY Invoked when the web browser view
136 ($88) has loaded a new web document and its

URL should be added to any form-
specific history list associated with that
view.  The form-specific history list
should not be confused with the history
chain, which is automatically
maintained for the view to navigate to
web documents previously loaded
(using the Go Back and Go Forward
buttons).

 America Online, Inc. 1993-95 33-3 America Online Confidential




Chapter 33: WWW Protocol November 1995

Table 33.1 – WWW Protocol Action Criteria (Continued)

Action Criterion/ Description
Action ID

ACTION_SHOW_STATUS_MSG Invoked when the web browser view
137 ($89) sends a new error/status message to be

displayed.  This action is only invoked
when error/status messages have been
suppressed via the atom$www_bool_
suppress_errors atom.

View Attribute Atoms

The WWW protocol view attribute atoms, which are used to control the web
browser view, are described in alphabetical order in this section.

America Online Confidential 33-4  America Online, Inc. 1993-95




November 1995 FDO91 Manual, Vol. 2

atom$www_bool_suppress_errors
23 ($17)

Description

atom$www_bool_suppress_errors suppresses the modal alert window that
displays error/status messages when a web document is being loaded.  Setting
this attribute to true for a web browser view suppresses the modal alert
window and invokes the ACTION_SHOW_STATUS_MSG action criterion
attached to the view.  The action stream can then retrieve the error/status
message text via atom$www_get_status_msg and handle it appropriately.

Syntax

atom$www_bool_suppress_errors <yes>

<yes> Suppresses the modal alert window.

Return Value

Unchanged.

Example

The following is an example of how to suppress the modal alert window that
displays error/status messages when a web document is being loaded:

atom$man_start_object
.
.
.

ê atom$www_bool_suppress_errors <yes>
.
.
.
atom$www_manage

 America Online, Inc. 1993-95 33-5 America Online Confidential




Chapter 33: WWW Protocol November 1995

atom$www_can_go_back
8 ($08)

Description

atom$www_can_go_back checks to see if a web document exists before the
current document in the history chain.  The history chain contains the URLs of
web documents loaded since the web browser view was invoked.  If a web
document exists, the expression evaluates to true.  This atom is used to
enable/disable the Go Back button.

Syntax

atom$www_can_go_back

Return Value

True or false depending on the result of the expression.

Example

The following is an example of how to enable the Go Back button on the web
browser view:

atom$uni_start_stream
.
.
.
atom$man_set_context_relative <1>

ê atom$www_can_go_back.
.
.
atom$uni_end_stream

America Online Confidential 33-6  America Online, Inc. 1993-95




November 1995 FDO91 Manual, Vol. 2

atom$www_can_go_forward
9 ($09)

Description

atom$www_can_go_forward checks to see if a web document exists after the
current document in the history chain.  The history chain contains the URLs of
web documents loaded since the web browser view was invoked.  If a web
document exists, the expression evaluates to true.  This atom is used to
enable/disable the Go Forward button.

Syntax

atom$www_can_go_forward

Return Value

True or false depending on the result of the expression.

Example

The following is an example of how to enable the Go Forward button on the
web browser view:

atom$uni_start_stream
.
.
.
atom$man_set_context_relative <1>

ê atom$www_can_go_forward
.
.
.
atom$uni_end_stream

 America Online, Inc. 1993-95 33-7 America Online Confidential




Chapter 33: WWW Protocol November 1995

atom$www_get_current_link
6 ($06)

Description

atom$www_get_current_link navigates to a location specified by invoking a
hyperlink.  The hyperlink is typically invoked when the member positions the
cursor over the link and double-clicks the left mouse button.  This atom is
normally used with the ACTION_SHOW_LINK action criterion.  The
returned string will be null if the cursor is not positioned over a hyperlink.

Syntax

atom$www_get_current_link

Return Value

The URL of the specified hyperlink.

Example

The following is an example of how to navigate to a location specified by
invoking a hyperlink:

atom$uni_start_stream
.
.
.
atom$man_set_context_relative <1>

ê atom$ www_get_current_link
atom$uni_save_result
atom$man_end_context
atom$man_set_context_relative <3>
atom$uni_get_result
atom$uni_use_last_atom_string <pro$mat> <atom$mat_title>
atom$man_update_display
atom$man_end_context
.
.
.

atom$uni_end_stream

America Online Confidential 33-8  America Online, Inc. 1993-95




November 1995 FDO91 Manual, Vol. 2

atom$www_get_current_title
14 ($0E)

Description

atom$www_get_current_title returns the title of the current web document
loaded in the web browser view.

Syntax

atom$www_get_current_title

Return Value

The title of the current web document.

Example

The following is an example of how to return the title of the current web
document loaded in the web browser view:

atom$uni_start_stream
.
.
.
atom$man_set_context_relative <1>

ê atom$www_get_current_title
atom$uni_save_result
atom$man_end_context
atom$uni_get_result
atom$uni_use_last_atom_string <pro$mat> <atom$mat_title>
atom$man_update_display
atom$act_set_criterion
.
.
.

atom$uni_end_stream

 America Online, Inc. 1993-95 33-9 America Online Confidential




Chapter 33: WWW Protocol November 1995

atom$www_get_current_url
5 ($05)

Description

atom$www_get_current_url returns the URL of the current web document
loaded in the web browser view.

Syntax

atom$www_get_current_url

Return Value

The URL of the current web document.

Example

The following is an example of how to return the URL of the current web
document loaded in the web browser view:

atom$uni_start_stream
.
.
.
atom$man_set_context_relative <1>

ê atom$www_get_current_url
atom$uni_save_result
atom$man_end_context
.
.
.

atom$uni_end_stream

America Online Confidential 33-10  America Online, Inc. 1993-95




November 1995 FDO91 Manual, Vol. 2

atom$www_get_parts_complete
7 ($07)

Description

atom$www_get_parts_complete indicates the progress of a web document
being loaded by the web browser view.  This atom returns the current
percentage complete for the web document being loaded and is typically used
with the ACTION_PROGRESS_UPDATE action criterion.

Syntax

atom$www_get_parts_complete

Return Value

A value representing the percentage complete for the web document being
loaded.

Example

The following is an example of how to return the title of the current web
document loaded in the web browser view:

atom$uni_start_stream
.
.
.
atom$man_set_context_relative <1>

ê atom$www_get_parts_complete
atom$uni_save_result
atom$man_end_context
.
.
.

atom$uni_end_stream

 America Online, Inc. 1993-95 33-11 America Online Confidential




Chapter 33: WWW Protocol November 1995

atom$www_get_status_msg
22 ($16)

Description

atom$www_get_status_msg returns the last error/status message written by
the web browser view.  This atom only returns a message when the message
has been suppressed using the atom$www_bool_suppress_errors atom.  This
atom is typically used with the ACTION_SHOW_STATUS_MSG action
criterion.

Syntax

atom$www_get_status_msg

Return Value

The last error/status message written by the web browser view.

Example

The following is an example of how to return the last error/status message
written by the web browser view:

atom$uni_start_stream
.
.
.
atom$man_set_context_relative <1>

ê atom$www_get_status_msg
atom$uni_save_result
atom$man_end_context
atom$man_set_context_relative <3>
atom$uni_get_result
atom$uni_use_last_atom_string <pro$mat> <atom$mat_title>
atom$man_update_display
atom$man_end_context
.
.
.

atom$uni_end_stream

America Online Confidential 33-12  America Online, Inc. 1993-95




November 1995 FDO91 Manual, Vol. 2

atom$www_go_back
1 ($01)

Description

atom$www_go_back navigates back to the web document displayed prior to
the current one in the history chain.  The history chain contains the URLs of
web documents loaded since the web browser view was invoked.  This atom
has no effect if no previous web document exists before the current one in the
history chain.

Syntax

atom$www_go_back

Return Value

Unchanged.

Example

The following is an example of how to navigate back to the web document
displayed prior to the current one in the history chain:

atom$uni_start_stream
atom$man_set_context_relative <1>

ê atom$www_go_back
atom$man_end_context

atom$uni_end_stream

 America Online, Inc. 1993-95 33-13 America Online Confidential




Chapter 33: WWW Protocol November 1995

atom$www_go_forward
2 ($02)

Description

atom$www_go_forward navigates forward to the web document displayed
prior to the current one in the history chain.  The history chain contains the
URLs of web documents loaded since the web browser view was invoked.
This atom has no effect unless the atom$www_go_back atom precedes it.

Syntax

atom$www_go_forward

Return Value

Unchanged.

Example

The following is an example of how to navigate forward to the web document
displayed prior to the current one in the history chain:

atom$uni_start_stream
atom$man_set_context_relative <1>

ê atom$www_go_forward
atom$man_end_context

atom$uni_end_stream

America Online Confidential 33-14  America Online, Inc. 1993-95




November 1995 FDO91 Manual, Vol. 2

atom$www_load_url
0 ($00)

Description

atom$www_load_url loads the specified URL into the current web browser
view.  The view must have already been rendered and currently displayed; you
cannot embed this atom in the definition of the view.

Syntax

atom$www_load_url <url>

<url> The URL to be loaded.

Return Value

Unchanged.

Example

The following is an example of how to load the URL for the America Online
home page (web document):

atom$uni_start_stream
atom$uni_set_context_relative <1>

ê atom$www_load_url “http://www.blue.aol.com/Help.html”
atom$man_end_context

atom$uni_end_stream

 America Online, Inc. 1993-95 33-15 America Online Confidential




Chapter 33: WWW Protocol November 1995

atom$www_manage
16 ($10)

Description

atom$www_manage designates the current view as a web browser view.

Syntax

atom$www_manage

Return Value

Unchanged.

Example

The following is an example of how to designate the current view as a web
browser view:

atom$man_start_sibling <view> “”
atom$mat_size 32x 13x
atom$mat_relative_tag
atom$mat_bool_exportable <no>
atom$mat_bool_writeable <yes>

ê atom$www_manage
atom$mat_width <610>

America Online Confidential 33-16  America Online, Inc. 1993-95




November 1995 FDO91 Manual, Vol. 2

atom$www_reload
3 ($03)

Description

atom$www_reload replaces the current web document with a fresh copy of
the source document.  The reloaded web document reflects any changes made
to the source document since it was originally loaded into local cache.

Syntax

atom$www_reload

Return Value

Unchanged.

Example

The following is an example of how to reload the current web document:

atom$man_start_sibling <trigger> “”
atom$mat_relative_tag <11>
atom$mat_art_id <1-0-4217>
atom$mat_horizontal_spacing <0>
atom$mat_vertical_spacing <0>
atom$mat_bool_disabled <yes>
atom$mat_font_id <0>
atom$mat_font_size <12>
atom$act_replace_select_action
atom$uni_start_stream

atom$uni_set_context_relative <1>
ê atom$www_reload

atom$man_end_context
atom$uni_end_stream

 America Online, Inc. 1993-95 33-17 America Online Confidential




Chapter 33: WWW Protocol November 1995

Stand-Alone Atoms

The WWW stand-alone atoms, which can be used in any action stream and do
not require the stream's context to be set to a web browser view, are described
in alphabetical order in this section.

America Online Confidential 33-18  America Online, Inc. 1993-95




November 1995 FDO91 Manual, Vol. 2

atom$www_browse
15 ($0F)

Description

atom$www_browse invokes the web browser form.  A member-specified web
document is automatically loaded when the browser is invoked.  If the optional
URL argument is specified, the web document associated with that URL will
be loaded.  Typically, the member’s personal or company home page (web
document) is loaded.

Syntax

atom$www_browse <url>

<url> The URL to be loaded.

Return Value

Unchanged.

Example

The following is an example of how to load the web browser view:

atom$uni_start_stream
atom$man_set_context_relative <1>

ê atom$www_browse “http://www.aol.com”
atom$uni_end_stream

 America Online, Inc. 1993-95 33-19 America Online Confidential




Chapter 33: WWW Protocol November 1995

atom$www_purge_cache
21 ($15)

Description

atom$www_purge_cache purges the local web document cache.

Syntax

atom$www_purge_cache

Return Value

Unchanged.

Example

The following is an example of how to purge the local web document cache:

atom$uni_start_stream
atom$uni_set_context_relative <1>

ê atom$www_purge_cache
atom$man_end_context

atom$uni_end_stream

America Online Confidential 33-20  America Online, Inc. 1993-95




November 1995 FDO91 Manual, Vol. 2

atom$www_refresh_prefs
20 ($14)

Description

atom$www_refresh_prefs reloads all web-related preferences, such as local
cache size, personal web document (home page), etc. and puts their current
values into effect.

Syntax

atom$www_refresh_prefs

Return Value

Unchanged.

Example

The following is an example of how to reload all web-related preferences:

atom$uni_start_stream
atom$uni_set_context_relative <1>

ê atom$www_refresh_prefs
atom$man_end_context

atom$uni_end_stream

 America Online, Inc. 1993-95 33-21 America Online Confidential



===== END PDF: ch33-www.pdf =====

===== BEGIN PDF: ch35-vid.pdf =====



Manual: FDO91 Manual
Chapter 35: Video (VID) Protocol defines the atoms that manage and transmit video and still-camera
images between members.
Last updated: April 1997




C H A P T E R  3 5

Video (VID) Protocol

The Video (VID) protocol (protocol ID 53) consists of atoms that execute
image capture and transmission tasks to enhance communications methods
such as instant messages, chat sessions, and e-mail with slow-motion video and
still shots.  The protocol supports cameras such as Connectix QuickCam,
which provides real-time video pictures, and TWAIN (standard scanner
interface) devices for still images, such as the Kodak or Snappy color digital
cameras.  The protocol also captures .bmp, .gif, .jpg and .art files downloaded
from the service or from other local directory paths.  For instant messages, the
protocol supports a receive view to display incoming images and a preview
view to display images before they are sent.

Note that at start-up of the AOL application, the video tool searches for
compatible video devices.  If none are found, it switches to the file mode,
which lets members retrieve, attach, and place image files from their local
directory.

Atom streams using this protocol must set context to the form display object
view or edit_view, which display the video and image files.  For more
information about form display objects,  see Chapter 3, Attribute Manager
Protocol.

America Online Confidential 35-1  America Online, Inc. 1993-97




Chapter 35: Video (VID) Protocol April 1997

Video Protocol Atoms

The Video (VID) protocol functions and their associated atoms follow:

Function Atoms

Setting up the video tool atom$vid_is_available

atom$vid_setup_popup

atom$vid_flag_setup

atom$vid_setup

Managing the video cache atom$vid_prev_count
or scrolling received images
(frames) atom$vid_next_count

atom$vid_show_prev

atom$vid_show_next

atom$vid_show_old

atom$vid_show_new

Capturing images or video atom$vid_can_preview
frames

atom$vid_activate_capture

atom$vid_capture

atom$vid_preview

atom$vid_open

Sending images or video atom$vid_manage
frames

atom$vid_repeat_send

atom$vid_set_token

atom$vid_send

Receiving images or video atom$vid_manage
frames

atom$vid_receive_enable

atom$vid_receive

atom$vid_save_as

America Online Confidential 35-2  America Online, Inc. 1993-97




April 1997 FDO91 Manual, Vol. 2

The VID protocol atoms are described in alphabetical order in the rest of this
chapter.

 America Online, Inc. 1993-97 35-3 America Online Confidential




Chapter 35: Video (VID) Protocol April 1997

atom$vid_activate_capture
9 ($09)

Description

atom$vid_activate_capture activates the preview view and defines the
Capture button and status text field objects of the form.

Syntax

atom$vid_activate_capture <raw>

<raw> Specifies the relative IDs of both the Capture button and
the status text field.  The first byte defines the Capture
button and the second byte defines the status text field.

Return Value

None.

Example

The following example defines the relative IDs of both the Capture button and
the status text field in the capture form:

atom$uni_start_stream
atom$man_start_sibling <edit_view>
atom$mat_size <A0x 78x>
atom$mat_relative_tag <101>
atom$vid_manage

ê atom$vid_activate_capture <79x 06x>
atom$vid_receive <68x 67x 06x 6Cx>
atom$vid_set_token <56x 4Ex 00x 00x 00x 63x>
.
.
.
atom$uni_end_stream

In this example, the object relative IDs have been set as follows:

127 (79x) = Capture button

6 (06x) = Send button

America Online Confidential 35-4  America Online, Inc. 1993-97




April 1997 FDO91 Manual, Vol. 2

atom$vid_can_preview
10 ($0a)

Description

atom$vid_can_preview detects the type and functionality of the capture
device.  This atom also detects the capture speed and whether the device has
an auto-capture feature.  This information determines whether to enable the
auto-send function as opposed to a manual snapshot trigger.

Syntax

atom$vid_can_preview

Return Value

Boolean value specifying true or false to the detection of an auto-send capture
device.  For example, it determines whether the device sends data
automatically (such as a QuickCam device) or requires manual intervention to
send data (such as a Kodak digital camera).

Example

The following example detects whether there is an auto-capture device or a
manually triggered device connected to the client computer and will set the
frame refresh rate of any auto-capture device to 250 milliseconds:

atom$uni_start_stream
.
.
.

ê atom$vid_can_preview
atom$if_last_return_true_then <1>
atom$vid_preview <250>
atom$uni_sync_skip <1>
.
.
.
atom$uni_end_stream

 America Online, Inc. 1993-97 35-5 America Online Confidential




Chapter 35: Video (VID) Protocol April 1997

atom$vid_capture
0 ($00)

Description

atom$vid_capture triggers the video tool to capture data from an external
video capture device (external camera).

Syntax

atom$vid_capture

Return Value

None.

Example

The following example captures the current video image displayed in the
preview view:

atom$uni_start_stream
atom$man_set_context_relative <101>

ê atom$vid_capture
atom$vid_preview 0
atom$man_end_context
atom$uni_end_stream

America Online Confidential 35-6  America Online, Inc. 1993-97




April 1997 FDO91 Manual, Vol. 2

atom$vid_flag_setup
20 ($14)

Description

atom$vid_flag_setup sets a setup flag associated with the view object in
context signifying that this object needs new setup data (such as resolution
size).  This atom works in conjunction with atom$vid_setup, which identifies
which view has the correct setup data.

Syntax

atom$vid_flag_setup

Return Value

None.

Example

The following example sets the setup flag to signify that the view object in
context needs new setup data:

atom$uni_start_stream
.
.
.
atom$man_set_context_relative <104>

ê atom$vid_flag_setup
atom$vid_is_available
atom$if_last_return_true_then <1, 2>
atom$man_change_context_relative <110>
atom$mat_bool_disabled <no>
atom$uni_sync_skip <1>
atom$man_change_context_relative <110>
atom$mat_bool_disabled <yes>
atom$uni_sync_skip <2>
atom$uni_end_stream

 America Online, Inc. 1993-97 35-7 America Online Confidential




Chapter 35: Video (VID) Protocol April 1997

atom$vid_is_available
13 ($0D)

Description

atom$vid_is_available returns a true if a video or image capture device is
connected to the client computer.

Syntax

atom$vid_is_available

Return Value

True or false.  When a capture device is connected, the value is true.

Example

The following example detects whether a video device is installed on the client
computer and will disable a video selection object with a relative ID of 110 if
none are found:

atom$uni_start_stream
atom$man_set_context_relative <104>

ê atom$vid_is_available
atom$if_last_return_true_then <1, 2>
atom$man_change_context_relative <110>
atom$mat_bool_disabled <no>
atom$uni_sync_skip <1>
atom$man_change_context_relative <110>
atom$mat_bool_disabled <yes>
atom$uni_sync_skip <2>
.
.
.
atom$uni_end_stream

America Online Confidential 35-8  America Online, Inc. 1993-97




April 1997 FDO91 Manual, Vol. 2

atom$vid_manage
2 ($02)

Description

atom$vid_manage marks the beginning of a video definition and associates
the video tool ID as the object in context.

Syntax

atom$vid_manage

Return Value

None.

Example

The following example establishes the video tool ID as the view object in
context:

atom$man_start_object <edit_view>
atom$mat_size <A0x, 78x>
atom$mat_relative_tag <104>

ê atom$vid_manage
atom$man_start_sibling <org_group>

 America Online, Inc. 1993-97 35-9 America Online Confidential




Chapter 35: Video (VID) Protocol April 1997

atom$vid_next_count
15 ($0F)

Description

atom$vid_next_count returns the number of images in cache after the current
image on display.  The use of this atom is comparable to the scrolling feature
within a document or a list box except it supports the viewing of the received
images stored in cache.

Syntax

atom$vid_next_count

Return Value

A numeric value indicating the number of images in cache following the current
image.

Example

The following example determines whether there are any images in cache more
recent than the one on display.  If there are more recent images in cache, a
trigger object (button or arrow) with a relative ID of 113 is enabled.  If there
are no images in cache more recent than the current image on display, the same
trigger object is disabled.

atom$uni_start_stream
atom$man_set_context_relative 104
atom$vid_prev_count
atom$if_last_return_true_then <1, 2>
atom$man_change_context_relative <110>
atom$mat_bool_disabled <no>
atom$uni_sync_skip <1>
atom$man_change_context_relative <110>
atom$mat_bool_disabled <yes>
atom$uni_sync_skip <2>
atom$man_change_context_relative <104>

ê atom$vid_next_count
atom$if_last_return_true_then <3, 4>
atom$man_change_context_relative <113>
atom$mat_bool_disabled <no>
atom$uni_sync_skip <3>
atom$man_change_context_relative <113>
atom$mat_bool_disabled <yes>
atom$uni_sync_skip <4>
atom$man_end_context

America Online Confidential 35-10  America Online, Inc. 1993-97




April 1997 FDO91 Manual, Vol. 2

.

.

.
atom$uni_end_stream

 America Online, Inc. 1993-97 35-11 America Online Confidential




Chapter 35: Video (VID) Protocol April 1997

atom$vid_open
22 ($16)

Description

atom$vid_open switches the video tool to file mode and opens a file to
display an image.  The atom retrieves image files (.bmp, .gif, or .jpg) stored in
a member’s local directory.

Syntax

atom$vid_open

Return Value

Boolean value.  If the file opened successfully, a 1 is returned.  If the file did
not open or the member canceled the operation, a 0 is returned.

Example

The following example opens an image file stored in a member’s local directory
and displays it in the preview view:

atom$uni_start_stream
ê atom$vid_open

atom$uni_end_stream

America Online Confidential 35-12  America Online, Inc. 1993-97




April 1997 FDO91 Manual, Vol. 2

atom$vid_prev_count
14 ($0E)

Description

atom$vid_prev_count returns the number of images in cache before the
current image on display.  The use of this atom is comparable to the scrolling
features within a document or a list box except it supports the viewing of
received images stored in cache.

Syntax

atom$vid_prev_count

Return Value

A numeric value indicating the number of images in cache before the current
image.

Example

The following example determines whether there are any images in cache older
than the current one on display.  If there are any older images in cache, a
trigger object (button or arrow) with a relative ID of 110 is enabled.  If there
are no images in cache older than the current image on display, the same
trigger object is disabled.

atom$uni_start_stream
atom$man_set_context_relative 104

ê atom$vid_prev_count
atom$if_last_return_true_then <1, 2>
atom$man_change_context_relative <110>
atom$mat_bool_disabled <no>
atom$uni_sync_skip <1>
atom$man_change_context_relative <110>
atom$mat_bool_disabled <yes>
atom$uni_sync_skip <2>
.
.
.
atom$uni_end_stream

 America Online, Inc. 1993-97 35-13 America Online Confidential




Chapter 35: Video (VID) Protocol April 1997

atom$vid_preview
03 ($03)

Description

atom$vid_preview updates the video capture image in the preview view.  It is
used only for real-time video cameras.

Syntax

atom$vid_preview <dword>

<dword> A numeric value specifying the desired frame (refresh)
rate in milliseconds.  Values are 0 or greater.  For
example, an entry of 250 (milliseconds) would equal 4
frames per second.  A value of 0 turns the preview view
off.

Return Value

None.

Example

The following example sets the frame (refresh) rate of the video images for 250
milliseconds:

atom$uni_start_stream
.
.
.
atom$vid_can_preview
atom$if_last_return_true_then <1>

ê atom$vid_preview <250>
atom$uni_sync_skip <1>
atom$vid_capture
.
.
.
atom$uni_end_stream

America Online Confidential 35-14  America Online, Inc. 1993-97




April 1997 FDO91 Manual, Vol. 2

atom$vid_receive
8 ($08)

Description

atom$vid_receive defines the objects on the form, which are otherwise hidden
in non-video message mode, for the receiver video tool.

Syntax

atom$vid_receive <dword>

<dword> Specifies the relative IDs of the hidden objects of the
form.  The 4-byte argument is segmented into 4 fields to
accept 4 separate values as follows:

Byte 1 Defines the relative ID of the receive
view.

Byte 2 Defines the relative ID of the send
button.

Byte 3 Defines the relative ID of the status text
field.

Byte 4 Defines the relative ID of the auto-send
button.

Return Value

None.

Example

The following example assigns relative IDs to the hidden objects of the video
form:

atom$uni_start_stream
.
.
.
atom$man_start_sibling <edit_view>
atom$mat_size <A0x 78x>
atom$mat_relative_tag <101>

 America Online, Inc. 1993-97 35-15 America Online Confidential




Chapter 35: Video (VID) Protocol April 1997

atom$vid_manage
atom$vid_activate_capture <79x 06x>

ê atom$vid_receive <68x 67x 06x 6Cx>
atom$vid_set_token <56x 4Ex 00x 00x 00x 63x>
.
.
.
atom$uni_end_stream

In this example, the object relative IDs have been set as follows:

104 (68x) = Receive view

107 (67x) = Send button

6 (06x) = Status text field

108 (6Cx) = Auto-send button

America Online Confidential 35-16  America Online, Inc. 1993-97




April 1997 FDO91 Manual, Vol. 2

atom$vid_receive_enable
12 ($0C)

Description

atom$vid_receive_enable sets a member’s video messaging preference for
allowing incoming message forms to display images in the receive view.  This
atom enables the receive view by assigning a maximum resolution size to this
window.

Syntax

atom$vid_receive_enable <dword>

<dword> Enables, disables or pauses incoming video messages.
Values are as follows:

00x Disables incoming video messages.

01x or greater Enables incoming video messages,
and specifies the limit or maximum
resolution size allowed in the
receive view.

FFx FFx FFx FFx Indicates the pause action is set on
the receive view, which temporarily
blocks the reception of images from
the sender.

Return Value

None.

Example

The following example enables the reception of video messages for a member’s
account and sets the maximum resolution to a 320 by 240 video window:

atom$uni_start_stream
ê atom$vid_receive_enable <01x 08x 00x F0x>

atom$uni_end_stream

 America Online, Inc. 1993-97 35-17 America Online Confidential




Chapter 35: Video (VID) Protocol April 1997

atom$vid_repeat_send
4 ($04)

Description

atom$vid_repeat_send controls the refresh rate for the picture(s) being
automatically sent to another member.  Note that the maximum send rate is
limited to the technology of the send and receive connections and devices.

Syntax

atom$vid_repeat_send <dword>

<dword> Specifies the maximum allowable frame rate in
milliseconds for the pictures you want to send.  For
example, 1000 milliseconds would allow transmissions
of up to 1 frame per second.  Numeric values are 1 or
greater.

Return Value

None.

Example

The following example specifies a maximum frame rate for the pictures being
sent to another member.  In this case, the maximum frame rate is set to 1000
milliseconds:

atom$vid_set_token
atom$vid_activate_capture <07x 06x>
atom$act_replace_select_action
atom$uni_start_stream
atom$man_set_context_relative <108>
atom$man_get_attribute <prot$mat, atom$mat_value>
atom$if_last_return_false_then <1, 2>
atom$mat_value <1>
atom$man_change_context_relative <101>

ê atom$vid_repeat_send <1000>
atom$uni_sync_skip <1>
atom$mat_value <0>
atom$man_change_context_relative <101>
atom$vid_repeat_send <0>
atom$uni_sync_skip <2>
atom$uni_end_stream

America Online Confidential 35-18  America Online, Inc. 1993-97




April 1997 FDO91 Manual, Vol. 2

atom$vid_save_as
23 ($17)

Description

atom$vid_save_as saves to disk the image on display in the receive view.

Syntax

atom$vid_save_as

Return Value

None.

Example

The following example saves to disk the image in the receive view:

atom$uni_start_stream
.
.
.
atom$man_change_context_relative <104>

ê atom$vid_save_as
atom$man_end_context
atom$uni_end_stream

 America Online, Inc. 1993-97 35-19 America Online Confidential




Chapter 35: Video (VID) Protocol April 1997

atom$vid_send
1 ($01)

Description

atom$vid_send sends the captured image data (from atom$vid_capture) to
the host (to forward to the target receiver).  It uses parameters that were set
with atom$vid_set_token.

Syntax

atom$vid_send

Return Value

None.

Example

The following example sends captured image data to the host (to forward to
the target receiver):

atom$uni_start_stream
atom$man_set_context_relative <101>

ê atom$vid_send
atom$man_end_context
atom$uni_end_stream

America Online Confidential 35-20  America Online, Inc. 1993-97




April 1997 FDO91 Manual, Vol. 2

atom$vid_set_token
5 ($05)

Description

atom$vid_set_token sends a token and a token argument to the host.  This
atom establishes a known connection between the form and a host server
process.

Syntax

atom$vid_set_token <token n>

<token> Specifies the token (2 bytes) to send to the host.  Values
are a code of 2 ASCII characters.  VN (56x 4Ex) is the
default token.

<n> Specifies the numeric token argument (4 bytes) to send
to the host server.  The default token argument is
00x 00x 00x 63x.

Return Value

None.

Example

The following example sends a VN token with an argument value of 63 hex to
establish a connection with the host.  In this example, 56x = V and 4Ex = N.

atom$uni_start_stream
.
.
.
atom$man_start_sibling <edit_view>
atom$mat_size <A0x 78x>
atom$mat_relative_tag <101>
atom$vid_manage
atom$vid_activate_capture <79x 06x>
atom$vid_receive <68x 67x 06x 6Cx>

ê atom$vid_set_token <56x 4Ex 00x 00x 00x 63x>
.
.
.
atom$uni_end_stream

 America Online, Inc. 1993-97 35-21 America Online Confidential




Chapter 35: Video (VID) Protocol April 1997

atom$vid_setup
21 ($15)

Description

atom$vid_setup indicates that the setup data of the view in context should be
applied to update any view objects with setup flags.  Note that
atom$vid_flag_setup marks the other views that need this view’s setup data.

Syntax

atom$vid_setup

Return Value

None.

Example

The following example updates view objects flagged for setup data:

atom$uni_start_stream
.
.
.
atom$man_set_context_relative <104>
atom$vid_flag_setup

ê atom$vid_setup
atom$vid_is_available
atom$if_last_return_true_then <1, 2>
atom$man_change_context_relative <110>
atom$mat_bool_disabled <no>
atom$uni_sync_skip <1>
atom$man_change_context_relative <110>
atom$mat_bool_disabled <yes>
atom$uni_sync_skip <2>
atom$man_end_context
atom$uni_end_stream

America Online Confidential 35-22  America Online, Inc. 1993-97




April 1997 FDO91 Manual, Vol. 2

atom$vid_setup_popup
24 ($18)

Description

atom$vid_setup_popup sets the action of a pull-down menu selection or a
right mouse button click.  It displays the preference setup form.

Syntax

atom$vid_setup_popup <rid>

<rid> Specifies the relative ID of the object that triggers the
pull-down menu.

Return Value

None.

Example

The following example displays the setup form that can be pulled down from a
trigger object with a relative ID = 21:

atom$uni_start_stream
.
.
.
atom$man_change_context_relative <104>

ê atom$vid_setup_popup <21>
atom$man_end_context
atom$uni_end_stream

 America Online, Inc. 1993-97 35-23 America Online Confidential




Chapter 35: Video (VID) Protocol April 1997

atom$vid_show_new
19 ($13)

Description

atom$vid_show_new displays the newest image stored in cache.  This atom
sets the action of the scroll forward object on the receive view.

Syntax

atom$vid_show_new

Return Value

None.

Example

The following example displays the newest video image stored in cache:

atom$uni_start_stream
.
.
.
atom$man_change_context_relative <104>

ê atom$vid_show_new
atom$man_end_context
atom$uni_end_stream

America Online Confidential 35-24  America Online, Inc. 1993-97




April 1997 FDO91 Manual, Vol. 2

atom$vid_show_next
17 ($11)

Description

atom$vid_show_next displays the next image stored in cache.  This atom sets
the action of the scroll forward object on the receive view.

Syntax

atom$vid_show_next

Return Value

None.

Example

The following example displays the next video image stored in cache:

atom$uni_start_stream
.
.
.
atom$man_change_context_relative <104>

ê atom$vid_show_next
atom$man_end_context
atom$uni_end_stream

 America Online, Inc. 1993-97 35-25 America Online Confidential




Chapter 35: Video (VID) Protocol April 1997

atom$vid_show_old
18 ($12)

Description

atom$vid_show_old displays the oldest image stored in cache.  This atom sets
the action of the scroll backward object on the receive view.

Syntax

atom$vid_show_old

Return Value

None.

Example

The following example displays the oldest video image stored in cache:

atom$uni_start_stream
.
.
.
atom$man_change_context_relative <104>

ê atom$vid_show_old
atom$man_end_context
atom$uni_end_stream

America Online Confidential 35-26  America Online, Inc. 1993-97




April 1997 FDO91 Manual, Vol. 2

atom$vid_show_prev
16 ($10)

Description

atom$vid_show_prev displays the previous image stored in cache.  This atom
sets the action of the scroll backward object on the receive view.

Syntax

atom$vid_show_prev

Return Value

None.

Example

The following example displays the previous video image stored in cache:

atom$uni_start_stream
.
.
.
atom$man_change_context_relative <104>

ê atom$vid_show_prev
atom$man_end_context
atom$uni_end_stream

 America Online, Inc. 1993-97 35-27 America Online Confidential



===== END PDF: ch35-vid.pdf =====

===== BEGIN PDF: ch36-gallery.pdf =====



Manual: FDO91 Manual
Chapter 36: Gallery Protocol defines the atoms that manage thumbnail images and arrange them
in gallery views.
Last updated: April 1997




C H A P T E R  3 6

Gallery Protocol

The Gallery protocol (protocol ID 56) consists of atoms that create sets of
thumbnail images and arrange them in a gallery view form.  Thumbnail images
are small, more manageable pictures that provide a preview of the full-sized
image.  From a gallery view, a selected thumbnail image can be dropped into
an e-mail form.  The protocol supports .jpg, .gif, .bmp, and .art files stored in a
common local directory.  These files produce the collection of images
displayed in a gallery view.  When each gallery view is filled with thumbnail
images from a directory, other gallery views are created.  Multiple gallery
views are managed with a next and previous page trigger for scrolling
purposes.

America Online Confidential 36-1  America Online, Inc. 1993-97




Chapter 36: Gallery Protocol April 1997

Gallery Protocol Atoms

The Gallery protocol functions and their associated atoms follow:

Function Atoms

Setting up and closing the atom$gallery_open
gallery form

atom$gallery_create

atom$gallery_view

atom$gallery_close

Adding a thumbnail image atom$gallery_view
to the form

Scrolling pages of the atom$gallery_next_page
gallery views

atom$gallery_prev_page

Selecting thumbnail images atom$gallery_view_selected
for e-mail

atom$gallery_send_img_to_mail

The Gallery protocol atoms are described in alphabetical order in the rest of
this chapter.

America Online Confidential 36-2  America Online, Inc. 1993-97




April 1997 FDO91 Manual, Vol. 2

atom$gallery_close
1 ($01)

Description

atom$gallery_close sets the action to close the gallery view form.

Syntax

atom$gallery_close

Return Value

None.

Example

The following example closes a gallery view form:

atom$uni_start_stream
ê atom$gallery_close

atom$uni_end_stream

 America Online, Inc. 1993-97 36-3 America Online Confidential




Chapter 36: Gallery Protocol April 1997

atom$gallery_create
0 ($00)

Description

atom$gallery_create activates the client computer to initialize (i.e., allocate
memory) for a gallery session.

Syntax

atom$gallery_create

Return Value

None.

Example

The following example activates the client computer for a gallery session:

atom$uni_start_stream
.
.
.

ê atom$gallery_create
atom$act_set_criterion <act_cri_close>
atom$act_replace_action
.
.
.
atom$uni_end_stream

America Online Confidential 36-4  America Online, Inc. 1993-97




April 1997 FDO91 Manual, Vol. 2

atom$gallery_next_page
04 ($04)

Description

atom$gallery_next_page sets the action of the trigger object to view the next
gallery page of images.  The action is associated with the scroll forward object
(button or arrow) on each of the gallery pages.

Syntax

atom$gallery_next_page

Return Value

None.

Example

The following example sets the action to view the next gallery page of images:

atom$uni_start_stream
ê atom$gallery_next_page

atom$uni_end_stream

 America Online, Inc. 1993-97 36-5 America Online Confidential




Chapter 36: Gallery Protocol April 1997

atom$gallery_open
06 ($06)

Description

atom$gallery_open opens a disk/directory selection form for a member to
locate and collect the image files for display in a gallery view form.

Syntax

atom$gallery_open

Return Value

None.

Example

The following example opens a disk/directory selection form for a member to
locate and collect the image files for display in a gallery view:

atom$uni_start_stream
ê atom$gallery_open

atom$uni_end_stream

America Online Confidential 36-6  America Online, Inc. 1993-97




April 1997 FDO91 Manual, Vol. 2

atom$gallery_prev_page
05 ($05)

Description

atom$gallery_prev_page sets the action of the trigger object to view the
previous gallery page of images.  The action is associated with the scroll back
object (button or arrow) on each of the gallery pages.

Syntax

atom$gallery_prev_page

Return Value

None.

Example

The following example sets the action to view the previous gallery page of
images:

atom$uni_start_stream
ê atom$gallery_prev_page

atom$uni_end_stream

 America Online, Inc. 1993-97 36-7 America Online Confidential




Chapter 36: Gallery Protocol April 1997

atom$gallery_send_img_to_mail
7 ($07)

Description

atom$gallery_send_img_to_mail sends the selected thumbnail image data to
an e-mail form.  See atom$gallery_view_selected, which selects an image, for
more information.

Syntax

atom$gallery_send_img_to_mail

Return Value

None.

Example

The following example sends the selected image data to an e-mail form:

atom$uni_start_stream
ê atom$gallery_send_img_to_mail

atom$uni_end_stream

America Online Confidential 36-8  America Online, Inc. 1993-97




April 1997 FDO91 Manual, Vol. 2

atom$gallery_view
2 ($02)

Description

atom$gallery_view identifies an image view (a thumbnail image) on a gallery
view form as a member of the gallery view.

Syntax

atom$gallery_view

Return Value

None.

Example

The following example identifies an image view on a gallery view form as a
member of the gallery view:

atom$uni_start_stream
.
.
.
atom$mat_bool_graphic_view <yes>
atom$mat_frame_style <1>

ê atom$gallery_view
atom$image_attr_dynamic_display <yes>
atom$image_attr_show_hotspot <yes>
atom$image_attr_hotspot_grid <00x 01x 00x 01x>
atom$image_attr_hotspot <00x 01x 00x 01x>
atom$image_attr_hilight_type <0>
atom$image_attr_hotspot_action_id <01x>
atom$act_set_criterion <1>
atom$act_replace_action
atom$uni_start_stream
atom$gallery_view_selected <1>
atom$uni_end_stream

 America Online, Inc. 1993-97 36-9 America Online Confidential




Chapter 36: Gallery Protocol April 1997

atom$gallery_view_selected
03 ($03)

Description

atom$gallery_view_selected sets the click action for a specified thumbnail
image.  This atom specifies the index value of the thumbnail image being
selected in the gallery view form to be used in an e-mail transmission.  The
index values correspond to the order of the thumbnail image positions in the
form.

Syntax

atom$gallery_view_selected <dword>

<dword> Specifies the index value of the selected image.  Values
are 1 or greater.

Return Value

None.

Example

The following example selects a thumbnail image on a gallery view form.  In
this example, a member clicked on thumbnail image 2 to be inserted in an e-
mail form.

atom$uni_start_stream
.
.
.
atom$mat_bool_graphic_view <yes>
atom$mat_frame_style <1>
atom$gallery_view
atom$image_attr_dynamic_display <yes>
atom$image_attr_show_hotspot <yes>
atom$image_attr_hotspot_grid <00x 01x 00x 01x>
atom$image_attr_hotspot <00x 01x 00x 01x>
atom$image_attr_hilight_type <0>
atom$image_attr_hotspot_action_id <01x>
atom$act_set_criterion <1>
atom$act_replace_action
atom$uni_start_stream

ê atom$gallery_view_selected <2>

America Online Confidential 36-10  America Online, Inc. 1993-97




April 1997 FDO91 Manual, Vol. 2

atom$uni_end_stream

 America Online, Inc. 1993-97 36-11 America Online Confidential



===== END PDF: ch36-gallery.pdf =====

===== BEGIN PDF: ch37-activex.pdf =====



Manual: FDO91 Manual
Chapter 37: ActiveX Protocol defines the atoms that manage ActiveX™ controls for 32-bit
Windows applications.
Last updated: July 1997




C H A P T E R  3 7

ActiveX Protocol

The ActiveX protocol (protocol ID 54) consists of atoms that let an FDO
programmer implement forms using ActiveX controls for 32-bit Windows
client applications.  ActiveX controls are generalized AOL programming tools
that bridge web page programming to the FDO programming paradigm.  The
ActiveX controls are reusable pieces of pre-built code that adhere to standards
set by Microsoft.  These standards allow custom applications called containers
to be developed that use the controls for a Plug and Play style of development.
Like a stereo entertainment cabinet, a container hosts one or more controls
that combine special-purpose components into a custom application.

The following are examples of ActiveX controls:

• RealAudio

• Shockwave

• Shockwave Flash

• VDOLive

These controls and others work without modification with the 32-bit Windows
client application.

Atom streams from the host can manipulate the functions of ActiveX controls
using the industry standard VBScript scripting language (Visual Basic scripting
edition) so that any web programming functions can be used to build AOL
forms.  Microsoft developed VBScript from the Basic and Visual Basic
languages to specifically program ActiveX objects.

ActiveX Protocol Atoms

The ActiveX protocol functions and their associated atoms follow:

America Online Confidential 37-1  America Online, Inc. 1993-97




Chapter 37: ActiveX Protocol July 1997

Function Atoms

Setting up the ActiveX atom$activex_classid
control view

atom$activex_id

atom$activex_manage

Manipulating an ActiveX atom$activex_param
control

atom$activex_script_code

Executing scripts atom$activex_script_code

atom$activex_script_start

Executing an URL control atom$activex_codebase

The ActiveX protocol atoms are described in alphabetical order in the rest of
this chapter.

America Online Confidential 37-2  America Online, Inc. 1993-97




July 1997 FDO91 Manual, Vol. 2

atom$activex_classid
2 ($02)

Description

atom$activex_classid defines the globally unique identifier (GUID) of the
ActiveX control for the current view.  The GUID is used by the Windows
operating system to locate the control.  The GUID of an ActiveX control is
furnished by the ActiveX Control Pad authoring tool, which is used to insert an
ActiveX control in the code.  (Note that Microsoft’s ActiveX Control Pad
authoring tool can be downloaded from
http://www.microsoft.com/workshop/author/cpad/.)

Syntax

atom$activex_classid <string>

<string> Specifies the GUID of the ActiveX control in use.

Return Value

None.

Example

The following example defines a GUID to the current view of the ActiveX
control in use:

atom$man_start_object <view, " ">
atom$activex_manage
atom$activex_id <”Radio”>

ê atom$activex_classid <”{CFCDAA03-8BE4-11CF-B84B-0020AFBBCCFA}”>
atom$activex_param <”AutoStart = TRUE”>
atom$activex_param <”SRC =

\”http://www.audionet.com/radio/sports/wtem/wtem.ram\” “>
atom$mat_precise_width <290>
atom$mat_precise_height <135>
atom$mat_precise_x <25>
atom$mat_precise_y <21>
atom$man_end_object

 America Online, Inc. 1993-97 37-3 America Online Confidential




Chapter 37: ActiveX Protocol July 1997

atom$activex_codebase
3 ($03)

Description

atom$activex_codebase defines the URL (uniform resource locater) on the
Internet to locate the ActiveX control.

Syntax

atom$activex_codebase <string>

<string> Specifies the URL to the ActiveX control.

Return Value

None.

Example

The following example defines an URL of an Internet-based ActiveX control
(RealAudio) for the current view:

atom$man_start_object <view, " ">
atom$activex_manage
atom$activex_id <”Radio”>
atom$activex_classid <”{CFCDAA03-8BE4-11CF-B84B-0020AFBBCCFA}”>

ê atom$activex_codebase <”http://www.real.com/realaudio.cab”>
atom$activex_param <”AutoStart = TRUE”>
atom$activex_param <”SRC =

\”http://www.audionet.com/radio/sports/wtem/wtem.ram\” “>
atom$mat_precise_width <290>
atom$mat_precise_height <135>
atom$mat_precise_x <25>
atom$mat_precise_y <21>
atom$man_end_object

America Online Confidential 37-4  America Online, Inc. 1993-97




July 1997 FDO91 Manual, Vol. 2

atom$activex_id
1 ($01)

Description

atom$activex_id assigns a name to the ActiveX control, which is used by the
code in a VBScript to call the control.

Syntax

atom$activex_id <string>

<string> Specifies the name of the ActiveX control.

Return Value

None.

Example

The following example assigns a name (Radio) to the current ActiveX control,
which is referenced in the VBScript:

atom$man_start_object <view, " ">
atom$activex_manage

ê atom$activex_id <”Radio”>
atom$activex_classid <”{CFCDAA03-8BE4-11CF-B84B-0020AFBBCCFA}”>
atom$activex_param <”AutoStart = TRUE”>
atom$activex_param <”SRC =

\”http://www.audionet.com/radio/sports/wtem/wtem.ram\” “>
atom$mat_precise_width <290>
atom$mat_precise_height <135>
atom$mat_precise_x <25>
atom$mat_precise_y <21>
atom$man_end_object

 America Online, Inc. 1993-97 37-5 America Online Confidential




Chapter 37: ActiveX Protocol July 1997

atom$activex_manage
0 ($00)

Description

atom$activex_manage marks the beginning of an ActiveX control definition
and associates the ActiveX tool ID with a view object in context.

Syntax

atom$activex_manage

Return Value

None.

Example

The following example defines the current view as an ActiveX control:

atom$man_start_object <view, " ">
ê atom$activex_manage

atom$activex_id <”Radio”>
atom$activex_classid <”{CFCDAA03-8BE4-11CF-B84B-0020AFBBCCFA}”>
atom$activex_param <”AutoStart = TRUE”>
atom$activex_param <”SRC =

\”http://www.audionet.com/radio/sports/wtem/wtem.ram\” “>
atom$mat_precise_width <290>
atom$mat_precise_height <135>
atom$mat_precise_x <25>
atom$mat_precise_y <21>
atom$man_end_object

America Online Confidential 37-6  America Online, Inc. 1993-97




July 1997 FDO91 Manual, Vol. 2

atom$activex_param
8 ($08)

Description

atom$activex_param sets a value to a specified parameter (property) for the
current ActiveX control.

Syntax

atom$activex_param <string>

<string> Specifies the property and value for the ActiveX
control.  Possible properties are defined in the ActiveX
Control Pad authoring tool.  The format is:

<”property = value”>

where

property is the parameter you want to set.

value is the specific value of the property.

Return Value

None.

Example

The following example defines properties for a RealAudio ActiveX control.  In
this case, a live feed from WTEM is requested (by defining a source file as
http://www.audionet.com/radio/sports/wtem/wtem.ram) and automatically
started.

atom$uni-start_stream
atom$hfs_attr_database_type <host>
atom$man_start_object <ind_group, “xyz Form”>
atom$mat_orientation <vff>
.
.
.
atom$man_start_object <view, " ">
atom$activex_manage

 America Online, Inc. 1993-97 37-7 America Online Confidential




Chapter 37: ActiveX Protocol July 1997

atom$activex_id <”Radio”>
atom$activex_classid <”{CFCDAA03-8BE4-11CF-B84B-0020AFBBCCFA}”>

ê atom$activex_param <”AutoStart = TRUE”>
ê atom$activex_param <”SRC =

\”http://www.audionet.com/radio/sports/wtem/wtem.ram\” “>
atom$mat_precise_width <290>
atom$mat_precise_height <135>
atom$mat_precise_x <25>
atom$mat_precise_y <21>
atom$man_end_object
atom$man_start_object <trigger, “National Public Radio”>
atom$act_replace_select_action

<
atom$uni_start_stream
atom$activex_script_code <”RadioPlay

\“http://www.npr.org/news2a.ram\” “>
atom$uni_end_stream
>

atom$mat_precise_width <177>
atom$mat_precise_height <29>
atom$mat_precise_x <76>
atom$mat_precise_y <176>
atom$man_end_object
atom$man_update_display

ê atom$activex_script_code <”Sub RadioPlay (source)\nRadio.Source
= Source\nRadio.AutoStart = \”TRUE\”\nEnd sub”>

atom$activex_script_start
atom$man_end_object
atom$uni_wait_off
atom$uni_end_stream

America Online Confidential 37-8  America Online, Inc. 1993-97




July 1997 FDO91 Manual, Vol. 2

atom$activex_script_code
5 ($05)

Description

atom$activex_script_code defines a chunk of code in VBScript language to
be executed.  It can be a sub-function (subroutine for redundant pieces of
code) within the same form or additional code that responds to certain events
from the ActiveX control.

Syntax

atom$activex_script_code <string>

<string> Specifies a line or lines of VBScript language.

Return Value

None.

Example

The following example executes additional chunks of code to the current
ActiveX control.  The first entry of atom$activex_script_code calls the
function or RadioPlay action on the button and the second entry defines the
RadioPlay function:

atom$uni-start_stream
atom$hfs_attr_database_type <host>
atom$man_start_object <ind_group, “xyz Form”>
atom$mat_orientation <vff>
.
.
.
atom$man_start_object <view, " ">
atom$activex_manage
atom$activex_id <”Radio”>
atom$activex_classid <”{CFCDAA03-8BE4-11CF-B84B-0020AFBBCCFA}”>
atom$activex_param <”AutoStart = TRUE”>
atom$activex_param <”SRC =

\”http://www.audionet.com/radio/sports/wtem/wtem.ram\” “>
atom$mat_precise_width <290>
atom$mat_precise_height <135>
atom$mat_precise_x <25>
atom$mat_precise_y <21>
atom$man_end_object
atom$man_start_object <trigger, “National Public Radio”>

 America Online, Inc. 1993-97 37-9 America Online Confidential




Chapter 37: ActiveX Protocol July 1997

atom$act_replace_select_action
<
atom$uni_start_stream

ê atom$activex_script_code <”RadioPlay
\“http://www.npr.org/news2a.ram\” “>

atom$uni_end_stream
>

atom$mat_precise_width <177>
atom$mat_precise_height <29>
atom$mat_precise_x <76>
atom$mat_precise_y <176>
atom$man_end_object
atom$man_update_display

ê atom$activex_script_code <”Sub RadioPlay (source)\nRadio.Source
= Source\nRadio.AutoStart = \”TRUE\”\nEnd sub”>

atom$activex_script_start
atom$man_end_object
atom$uni_wait_off
atom$uni_end_stream

America Online Confidential 37-10  America Online, Inc. 1993-97




July 1997 FDO91 Manual, Vol. 2

atom$activex_script_start
7 ($07)

Description

atom$activex_script_start starts up the scripting engine to process the
VBScript script.  This atom must be called for any script to work and
atom$man_update_display must be called first to update the current form
before the script is processed.

Syntax

atom$activex_script_start

Return Value

None.

Example

The following example executes the VBScript script for the current form:

atom$uni-start_stream
atom$hfs_attr_database_type <host>
atom$man_start_object <ind_group, “xyz Form”>
atom$mat_orientation <vff>
.
.
.
atom$man_start_object <view, " ">
atom$activex_manage
atom$activex_id <”Radio”>
atom$activex_classid <”{CFCDAA03-8BE4-11CF-B84B-0020AFBBCCFA}”>
atom$activex_param <”AutoStart = TRUE”>
atom$activex_param <”SRC =

\”http://www.audionet.com/radio/sports/wtem/wtem.ram\” “>
atom$mat_precise_width <290>
atom$mat_precise_height <135>
atom$mat_precise_x <25>
atom$mat_precise_y <21>
atom$man_end_object
atom$man_start_object <trigger, “National Public Radio”>
atom$act_replace_select_action

<
atom$uni_start_stream
atom$activex_script_code <”RadioPlay

\“http://www.npr.org/news2a.ram\” “>
atom$uni_end_stream

 America Online, Inc. 1993-97 37-11 America Online Confidential




Chapter 37: ActiveX Protocol July 1997

>
atom$mat_precise_width <177>
atom$mat_precise_height <29>
atom$mat_precise_x <76>
atom$mat_precise_y <176>
atom$man_end_object
atom$man_update_display
atom$activex_script_code <”Sub RadioPlay (source)\nRadio.Source

= Source\nRadio.AutoStart = \”TRUE\”\nEnd sub”>
ê atom$activex_script_start

atom$man_end_object
atom$uni_wait_off
atom$uni_end_stream

America Online Confidential 37-12  America Online, Inc. 1993-97




July 1997 FDO91 Manual, Vol. 2

 America Online, Inc. 1993-97 37-13 America Online Confidential



===== END PDF: ch37-activex.pdf =====

===== BEGIN PDF: ch38-doc.pdf =====



Manual: FDO91 Manual
Chapter 38: ARTdoc Protocol defines the atoms that open and play ARTdoc database record
streams.
Last updated: October 1997




C H A P T E R  3 8

ARTdoc (DOC) Protocol

The ARTdoc (DOC) protocol (protocol ID 31) consists of atoms that open
and play ARTdoc database records.  The protocol supports a multimedia (rich
text document) viewing form that lets members play files immediately from the
service using the streaming content and graphic compression technologies.
Streaming content with compression lets members view and hear multimedia
presentations as soon as they enter an online area without waiting for the
typically large files to completely download.

ARTdoc Protocol Atoms

The ARTdoc (DOC) protocol functions and their associated atoms follow:

Function Atoms

Setting up the player form atom$doc_manage
attributes

Selecting multimedia data atom$doc_db_id
for play

The DOC protocol atoms are described in alphabetical order in the rest of this
chapter.

America Online Confidential 38-1  America Online, Inc. 1993-97




Chapter 38: ARTdoc (DOC) Protocol October 1997

atom$doc_db_id
15 ($13)

Description

atom$doc_db_id requests a specified ARTdoc database record to be played.
If no record is found, a data on demand (DOD) operation for the record data is
performed, which retrieves the data from the object database on the host.

Syntax

atom$doc_db_id <dword>

<dword> Specifies the global ID of a database record of
ARTdoc data.

Return Value

None.

Example

The following example specifies that database record 84-50531 be played:

atom$uni_start_stream
atom$man_start_object <ind_group, "Form">
atom$mat_orientation <vff>
atom$mat_precise_width <500>
atom$mat_precise_height <300>
atom$mat_bool_precise <yes>
atom$mat_bool_resize_vertical <no>
atom$mat_bool_resize_horizontal <no>
atom$man_start_object <view, "">

atom$mat_precise_width <465>
atom$mat_precise_height <261>
atom$mat_precise_x <20>
atom$mat_precise_y <23>
atom$mat_font_sis 00x 0ax 00x
atom$mat_bool_exportable <yes>
atom$mat_bool_vertical_scroll <yes>
atom$doc_manage
atom$mat_relative_tag <270>

atom$man_end_object
atom$man_update_display
atom$man_set_context_relative <270>

ê atom$doc_db_id <84-50531>
atom$man_update_woff_end_stream

America Online Confidential 38-2  America Online, Inc. 1993-97




October 1997 FDO91 Manual, Vol. 2

atom$doc_manage
0 ($00)

Description

atom$doc_manage marks the beginning of an ARTdoc definition and
associates the DOC tool ID with a view object in context.

Syntax

atom$doc_manage

Return Value

None.

Example

The following example establishes the DOC tool ID as the view object in
context:

atom$uni_start_stream
atom$man_start_object <ind_group, "Form">
atom$mat_orientation <vff>
atom$mat_precise_width <500>
atom$mat_precise_height <300>
atom$mat_bool_precise <yes>
atom$mat_bool_resize_vertical <no>
atom$mat_bool_resize_horizontal <no>
atom$man_start_object <view, "">

atom$mat_precise_width <465>
atom$mat_precise_height <261>
atom$mat_precise_x <20>
atom$mat_precise_y <23>
atom$mat_font_sis 00x 0ax 00x
atom$mat_bool_exportable <yes>
atom$mat_bool_vertical_scroll <yes>

ê atom$doc_manage
atom$mat_relative_tag <270>

atom$man_end_object
atom$man_update_display
atom$man_set_context_relative <270>
atom$doc_db_id <84-50531>

atom$man_update_woff_end_stream

 America Online, Inc. 1993-97 38-3 America Online Confidential



===== END PDF: ch38-doc.pdf =====

===== BEGIN PDF: ch39-pictalk.pdf =====



Manual: FDO91 Manual
Chapter 39: Pictalk Protocol defines the atoms that open and play multimedia files or slideshow 
data streams.
Last updated: October 1997




C H A P T E R  3 9

Pictalk Protocol

The Pictalk protocol (protocol ID 29) consists of atoms that open and play .art
slideshow multimedia files.  The protocol supports a multimedia viewing form
with or without a control bar that can contain a play/pause/resume button and
thumb slider for slideshow viewing.  The slideshow or .art files are
downloaded to members using the streaming content and graphic compression
technologies (Johnson-Grace technologies).  The streaming technology lets
members view and hear data streams instantly without waiting for a large file
or stream to be completely downloaded.

Atom streams using this protocol for .art files must set context to a form
display object called edit_view, which displays the multimedia event.  For
more information about form display objects, see Chapter 3, Attribute Manager
Protocol.

America Online Confidential 39-1  America Online, Inc. 1993-97




Chapter 39: Pictalk Protocol October 1997

Pictalk Protocol Atoms

The Pictalk protocol functions and their associated atoms follow:

Function Atoms

Setting up the player form atom$pictalk_ad_manage
and its attributes

atom$pictalk_attr_art_id

atom$pictalk_attr_ctrl_id

atom$pictalk_attr_style

atom$pictalk_control

atom$pictalk_get_attr_style

atom$pictalk_manage

atom$pictalk_reset_styles

atom$pictalk_update_art

Defining actions for trigger atom$pictalk_delete_timeline
objects

atom$pictalk_timeline_action

Selecting slideshow data atom$pictalk_open_file
for play

The Pictalk protocol atoms are described in alphabetical order in the rest of
this chapter.

America Online Confidential 39-2  America Online, Inc. 1993-97




October 1997 FDO91 Manual, Vol. 2

atom$pictalk_ad_manage
18 ($12)

Description

atom$pictalk_ad_manage associates the slideshow tool with the object in
context and flags the slideshow as ad server content for that object.  Note that
both this atom and atom$pictalk_manage should be used together to provide
backward compatibility.

Syntax

atom$pictalk_ad_manage

Return Value

None.

Example

The following example establishes the slideshow tool as the edit_view object
in context and defines that object as being served by the ad server:

atom$man_start_object <edit_view, “”>
atom$pictalk_manage

ê atom$pictalk_ad_manage
atom$mat_relative_tag <5>
atom$pictalk_set_attr_style <1>
atom$mmi_set_attr_priority <15>
atom$man_end_object

 America Online, Inc. 1993-97 39-3 America Online Confidential




Chapter 39: Pictalk Protocol October 1997

atom$pictalk_attr_art_id
9 ($09)

Description

atom$pictalk_attr_art_id defines the global ID of the control bar image to be
updated.  This companion atom must precede atom$pictalk_update_art,
which updates the image.

Syntax

atom$pictalk_attr_art_id <dword>

<dword> Specifies the global ID of the player control bar image
being updated.

Return Value

None.

Example

The following example updates the control bar image with a pause/play/resume
button:

atom$uni_start_stream
atom$pictalk_attr_ctrl_id <2003>

ê atom$pictalk_attr_art_id <20-0-00380>
atom$pictalk_update_art
atom$uni_end_stream

America Online Confidential 39-4  America Online, Inc. 1993-97




October 1997 FDO91 Manual, Vol. 2

atom$pictalk_attr_ctrl_id
8 ($08)

Description

atom$pictalk_attr_ctrl_id defines the control ID of the control bar element
(image) to be updated.  This companion atom must precede
atom$pictalk_update_art, which updates the control bar image.

Syntax

atom$pictalk_attr_ctrl_id <dword>

<dword> Specifies the control ID of the control bar element being
updated.  Values are:

2000 Large sound icon

2001 Small sound icon

2002 Control bar with thumb slider

2003 Pause/play/resume button

2004 Rewind button

Return Value

None.

Example

The following example updates the control bar image with the
pause/play/resume button (2003):

atom$uni_start_stream
ê atom$pictalk_attr_ctrl_id <2003>

atom$pictalk_attr_art_id <20-0-00380>
atom$pictalk_update_art
atom$uni_end_stream

 America Online, Inc. 1993-97 39-5 America Online Confidential




Chapter 39: Pictalk Protocol October 1997

atom$pictalk_attr_style
4 ($04)

Description

atom$pictalk_attr_style defines the style attribute value of the slideshow
player control bar.

Syntax

atom$pictalk_attr_style <byte>

<byte> Specifies the value ID of the player control bar style
attribute.  Values can range from 0 to 255.  The
following are the currently defined style values:

0 Translucent control bar with a thumb
slider control (Default)

1 Opaque control bar with a thumb slider
control

2 Control bar with no thumb slider control
(button controls only)

3 No control bar

Return Value

None.

Example

The following example sets the value of the control bar style to 3 so that there
is no slider control on the player control bar:

atom$man_start_object <edit_view, “”>
atom$pictalk_manage
atom$mat_relative_tag <5>

ê atom$pictalk_attr_style <3>
atom$man_end_context

America Online Confidential 39-6  America Online, Inc. 1993-97




October 1997 FDO91 Manual, Vol. 2

atom$pictalk_control
2 ($02)

Description

atom$pictalk_control performs a specified control action on the managed
area (slideshow player).

Syntax

atom$pictalk_control <raw>

<raw> Specifies the control action on the managed area.
Currently, there is only one value defined:

00x 01x 00x 01x Do not compensate for window
size.

Return Value

None.

Example

The following example notifies the slideshow player form to not compensate
for window size.

atom$man_start_object <edit_view, “”>
atom$pictalk_manage
atom$mat_relative_tag <5>

ê atom$pictalk_control <00x 01x 00x 01x>
atom$man_end_object

 America Online, Inc. 1993-97 39-7 America Online Confidential




Chapter 39: Pictalk Protocol October 1997

atom$pictalk_delete_timeline
6 ($06)

Description

atom$pictalk_delete_timeline deletes a defined trigger action associated with
a specified timeline indicator.

Syntax

atom$pictalk_delete_timeline <raw>

<raw> Specifies the associated timeline indicator in
milliseconds using a 4-byte hex value.

Return Value

None.

Example

The following example deletes a timeline action at 100 milliseconds:

atom$man_start_object <trigger, “”>
.
.
.
atom$if_last_return_false_then <1>

ê atom$pictalk_delete_timeline <00x 00x 00x 64x>
atom$uni_sync_skip <1>
atom$man_end_context

America Online Confidential 39-8  America Online, Inc. 1993-97




October 1997 FDO91 Manual, Vol. 2

atom$pictalk_get_attr_style
3 ($03)

Description

atom$pictalk_get_attr_style returns the style attribute value of the slideshow
player control bar.

Syntax

atom$pictalk_get_attr_style

Return Value

The style ID of the player control bar attribute.  Possible values range from 0
to 255.

Example

The following example checks the value of the style attribute.  If a style value
of 0 is detected, the style is changed by atom$pictalk_attr_style to 3 (no
slider).

atom$man_start_object <edit_view, “”>
ê atom$pictalk_get_attr_style

atom$if_last_return_false_then <1>
atom$pictalk_attr_style <3>
atom$uni_sync_skip <1>
.
.
.
atom$man_end_context

 America Online, Inc. 1993-97 39-9 America Online Confidential




Chapter 39: Pictalk Protocol October 1997

atom$pictalk_manage
0 ($00)

Description

atom$pictalk_manage marks the beginning of a pictalk definition and
associates the slideshow tool with an object in context.

Syntax

atom$pictalk_manage

Return Value

None.

Example

The following example associates the slideshow tool with the edit_view object
in context:

atom$man_start_object <edit_view, “”>
ê atom$pictalk_manage

atom$mat_relative_tag <5>
atom$man_end_object

America Online Confidential 39-10  America Online, Inc. 1993-97




October 1997 FDO91 Manual, Vol. 2

atom$pictalk_open_file
1 ($01)

Description

atom$pictalk_open_file opens a slideshow file for the slideshow player.

Syntax

atom$pictalk_open_file <string>

<string> Specifies the file name holding the slideshow data.

Return Value

None.

Example

The following example opens the slideshow.art file for the slideshow player.

atom$act_replace_select_action
<
atom$uni_start_stream

ê atom$pictalk_open_file
<”C:\\AOL30\\download\\slideshow.art”>

atom$uni_end_stream
>

.

.

.
atom$uni_end_stream

 America Online, Inc. 1993-97 39-11 America Online Confidential




Chapter 39: Pictalk Protocol October 1997

atom$pictalk_reset_styles
11 ($0B)

Description

atom$pictalk_reset_styles resets the style attribute list (cache) in the
slideshow tool to the default state.

Syntax

atom$pictalk_reset_styles

Return Value

None.

Example

The following example resets the styles of the slideshow tool to the default
state:

atom$man_set_context_relative <5>
ê atom$pictalk_reset_styles

atom$man_end_context

America Online Confidential 39-12  America Online, Inc. 1993-97




October 1997 FDO91 Manual, Vol. 2

atom$pictalk_timeline_action
5 ($05)

Description

atom$pictalk_timeline_action initializes the slideshow tool with an action ID
and a specified timeline indicator.

Syntax

atom$pictalk_timeline_action <raw_time raw_act>

<raw_time> Specifies the timeline position in milliseconds using the
upper 4 bytes of the 8-byte hex argument value.

<raw_act> Specifies the action ID for the trigger using the lower 4
bytes of the 8-byte hex argument value.

For example, the argument value 00x 00x 00x 64x 00x 00x 03x D1x would
specify a timeline position of 100 milliseconds for an action ID of 2001.

Return Value

None.

Example

The following example defines a timeline of 100 milliseconds for an action ID
of 2001:

atom$man_start_object <trigger, “”>
ê atom$pictalk_timeline_action <00x 00x 00x 64x 00x 00x 03x D1x>

atom$man_end_context

 America Online, Inc. 1993-97 39-13 America Online Confidential




Chapter 39: Pictalk Protocol October 1997

atom$pictalk_update_art
10 ($0A)

Description

atom$pictalk_update_art updates the control bar image with previously
selected control bar elements.  This companion atom must be preceded by
atom$pictalk_attr_art_id or atom$pictalk_attr_ctrl_id, which define the
control bar elements (IDs) being updated.

Syntax

atom$pictalk_update_art

Return Value

None.

Example

The following example updates the control bar image with a pause/play/resume
button (2003) selected:

atom$uni_start_stream
atom$pictalk_attr_ctrl_id <2003>
atom$pictalk_attr_art_id <20-0-00380>

ê atom$pictalk_update_art
atom$end_stream

America Online Confidential 39-14  America Online, Inc. 1993-97



===== END PDF: ch39-pictalk.pdf =====

===== BEGIN PDF: ch40-radio.pdf =====



Manual: FDO91 Manual
Chapter 40: Radio Protocol defines the atoms that capture and play radio program streams from live
broadcasts and stored files.
Last updated: October 1997




C H A P T E R  4 0

Radio Protocol

The Radio protocol (protocol ID 28) consists of atoms that capture and play
Radio program streams from live broadcasts and stored files.  The protocol
currently supports an AOL Radio Capture form for client PCs at the radio
station and a multimedia player form for the listening member.  Live broadcast
streams are uploaded to the host and downloaded to members using the
streaming content and graphic compression technologies (Johnson-Grace
technologies).  The streaming technology lets members hear sound streams and
.wav files instantly from various channels without waiting for a large file or
stream to be completely downloaded.

Radio Protocol Atoms

The Radio protocol functions and their associated atoms follow:

Function Atoms

Invoking the capture form atom$radio_display_radmic
at the radio station

Selecting the type of atom$radio_codec
compression (codec)

Selecting the description atom$radio_atr_file_name
file, the program stream
name and description for atom$radio_atr_stream_desc

uploading to the host atom$radio_atr_stream_name

America Online Confidential 40-1  America Online, Inc. 1993-97




Chapter 40: Radio Protocol October 1997

Selecting a .wav file or atom$radio_atr_stream_source
microphone as the
broadcast source at the atom$radio_atr_wave_file_name

station

Selecting the upload target atom$radio_atr_stream_target
on the host (live broadcast
distribution to clients or to
a save file on the input
server)

Starting and stopping the atom$radio_start_stream
radio program stream

atom$radio_stop_stream

Defining action (atom) atom$radio_error_action
streams

atom$radio_start_action

atom$radio_status_action

Getting error and status atom$radio_get_error_text
messages

atom$radio_get_status_text

atom$radio_radmic_status

Starting and stopping the atom$radio_start_play
incoming program stream
on the player form atom$radio_stop_play

The Radio protocol atoms are described in alphabetical order in the rest of this
chapter.

America Online Confidential 40-2  America Online, Inc. 1993-97




October 1997 FDO91 Manual, Vol. 2

atom$radio_atr_file_name
1 ($01)

Description

atom$radio_atr_file_name defines the file name (a .str file type) that contains
the radio stream description.  Note that the radio tool reads a stream name and
description from this file.

Syntax

atom$radio_atr_file_name <string>

<string> Specifies the .str description file name.

Return Value

None.

Example

If the fmi_error_code does not equal 1 in the following example, the file
name specified in context register fmi_filespec is defined for this event.  In
this example, the file name in register fmi_filespec equals audioevent.str.

atom$fm_dialog_get_file <”Open file”>
atom$var_number_set <B, 1>
atom$fm_item_get <fmi_error_code>
atom$var_number_set_from_atom <A>
atom$if_numa_neq_numb_then <1>

atom$fm_item_get <fmi_filespec>
ê atom$uni_use_last_atom_string <atom$radio_atr_file_name>

atom$uni_sync_skip <1>
atom$fm_end

 America Online, Inc. 1993-97 40-3 America Online Confidential




Chapter 40: Radio Protocol October 1997

atom$radio_atr_stream_desc
3 ($03)

Description

atom$radio_atr_stream_desc specifies a more detailed description of the
radio program stream than the actual stream name.  The description is longer
than the stream name and can also contain hypertext or rich text that contains
HTML tags, which can be displayed when the radio program is broadcast.

Syntax

atom$radio_atr_stream_desc <string>

<string> Specifies the description of the radio program stream
(up to 1024 characters of straight text or rich text).

Return Value

None.

Example

The following example defines the detailed description of the radio program
stream using rich text:

atom$man_set_context_relative <13>
atom$radio_atr_stream_name <”ROCK: Classic hits from the 

70’s”>
atom$man_set_context_relative <14>

ê atom$radio_atr_stream_desc <”<HTML><B>Classic Rock</B><br>Your 
favorite rock hits from A to Z<br>For purchasing info, go to 
keyword Tower</HTML>”>
atom$radio_start_stream

.

.

.
atom$man_update_display
atom$uni_end_stream

America Online Confidential 40-4  America Online, Inc. 1993-97




October 1997 FDO91 Manual, Vol. 2

atom$radio_atr_stream_name
2 ($02)

Description

atom$radio_atr_stream_name specifies the stream name, which is a short
description describing the radio program.

Syntax

atom$radio_atr_stream_name <string>

<string> Specifies the name of the radio program stream (up to
80 characters of straight text).

Return Value

None.

Example

The following example defines the name of the radio program stream:

atom$man_set_context_relative <13>
ê atom$radio_atr_stream_name <”ROCK: Classic hits from the 

70’s”>
atom$man_set_context_relative <14>
atom$radio_atr_stream_desc <”<HTML><B>Classic Rock</B><br>Your 

favorite rock hits from A to Z<br>For purchasing info, go to
keyword Tower</HTML>”>

atom$radio_start_stream
.
.
.

atom$man_update_display
atom$uni_end_stream

 America Online, Inc. 1993-97 40-5 America Online Confidential




Chapter 40: Radio Protocol October 1997

atom$radio_atr_stream_source
5 ($05)

Description

atom$radio_atr_stream_source specifies the source of the program to be
uploaded to the host.  Note that radio programs can be generated using a
sound card and microphone, or the audio can be generated from an existing
file.

Syntax

atom$radio_atr_stream_source <dword>

<dword> Specifies an integer value that defines the source of the
radio program.  Values are:

1 Microphone

2 File

Return Value

None.

Example

The following example sets the stream source to a microphone:

atom$var_number_set <A, 1>
atom$var_number_set <B, 0>
atom$radio_codec <1>

ê atom$radio_atr_stream_source <1>
atom$radio_atr_stream_target <1>
atom$radio_error_action <1001>
atom$radio_status_action <1000>
atom$radio_start_action <1002>

America Online Confidential 40-6  America Online, Inc. 1993-97




October 1997 FDO91 Manual, Vol. 2

atom$radio_atr_stream_target
6 ($06)

Description

atom$radio_atr_stream_target designates the specific uploading target on
the host for the program stream transmission.  A program stream can be
targeted to the host as a live broadcast for distribution to clients, to a save file
(stored playback mode) on the input server, or both.

Syntax

atom$radio_atr_stream_target <dword>

<dword> Specifies an integer value that designates the target of
the radio program.  Values are:

1 Save file (stored playback)

2 Live client connections

3 Save file (stored playback) and live client
connections

Return Value

None.

Example

If register A and B are 0 in the following example, the target for the stream is a
save file on the input server.  If register A is 0 and register B is true, the target
is both a save file and the client connection.  If register A is true, the target is
the client connection.

atom$mat_art_id <1-0-32575>
atom$act_replace_select_action

<
atom$uni_start_stream
atom$if_numa_false_then <5>

atom$if_numb_false_then <3>
ê atom$radio_atr_stream_target <1> ;target is save file

atom$uni_sync_skip <3>
atom$if_numb_true_then <4>

 America Online, Inc. 1993-97 40-7 America Online Confidential




Chapter 40: Radio Protocol October 1997

ê atom$radio_atr_stream_target <3> ;target is file + client
atom$uni_sync_skip <4>

atom$uni_sync_skip <5>
atom$if_numa_false_then <1>

atom$man_set_context_relative <4>
atom$var_number_set <A, 1>
atom$mat_art_id <1-0-32575>
atom$uni_sync_skip <1>

ê atom$radio_atr_stream_target <2> ;target is client
.
.
.
atom$man_end_context

atom$man_update_display
atom$uni_end_stream
>

America Online Confidential 40-8  America Online, Inc. 1993-97




October 1997 FDO91 Manual, Vol. 2

atom$radio_atr_wave_file_name
4 ($04)

Description

atom$radio_atr_wave_file_name specifies the .wav file for compression and
transmission to the host.  If the source of the program has been set to file
mode, the specified file will be compressed and transmitted to the radio input
server.  For more information on specifying the source of a program, see
atom$radio_atr_stream_source.

Syntax

atom$radio_atr_wave_file_name <string>

<string> Specifies a .wav file name.

Return Value

None.

Example

The following example defines a file name (rocknroll.wav) to be compressed
and sent to the host:

atom$radio_atr_stream_source <2>
.
.
.
atom$man_set_context_relative <11>

ê atom$radio_atr_wave_file_name <”ROCKNROLL.WAV”>
.
.
.
atom$man_update_display
atom$uni_end_stream

 America Online, Inc. 1993-97 40-9 America Online Confidential




Chapter 40: Radio Protocol October 1997

atom$radio_codec
0 ($00)

Description

atom$radio_codec specifies the compression algorithm (codec) to use when
compressing audio data for AOL Radio.  The compression value is applied to
the processing of microphone streams or .wav files.  If the value is changed
while the compression cycle is active, the compression type will dynamically
change the processing of the stream.

Syntax

atom$radio_codec <dword>

<dword> Specifies an integer value for the compression algorithm
(codec).  Values are:

1 Johnson-Grace real-time speech

2 Johnson-Grace file quality speech

3 Johnson-Grace music

4 Voxware VR12 speech

5 Voxware VR15 speech

6 Voxware RT24 speech

7 Voxware HQ29 speech

Return Value

None.

Example

The following example specifies the codec 3 (Johnson-Grace music) to use for
the compression process:

America Online Confidential 40-10  America Online, Inc. 1993-97




October 1997 FDO91 Manual, Vol. 2

atom$man_start_sibling <trigger, “Johnson-Grace Music”>
atom$act_replace_select_action

<
atom$uni_start_stream

ê atom$radio_codec <3>
atom$man_end_context
atom$uni_end_stream
>

 America Online, Inc. 1993-97 40-11 America Online Confidential




Chapter 40: Radio Protocol October 1997

atom$radio_display_radmic
13 ($0D)

Description

atom$radio_display_radmic invokes the radio capture form on the radio
station client PC.

Syntax

atom$radio_display_radmic

Return Value

None.

Example

The following example invokes the radio capture form at the radio station:

atom$uni_start_stream
ê atom$radio_display_radmic

atom$uni_end_stream

America Online Confidential 40-12  America Online, Inc. 1993-97




October 1997 FDO91 Manual, Vol. 2

atom$radio_error_action
11 ($0B)

Description

atom$radio_error_action initializes the radio tool with an action ID for any
error messages.  The tool will use this action ID to notify the calling form
when an error message occurs.

Syntax

atom$radio_error_action <dword>

<dword> Specifies an integer value that designates an action ID to
handle an error event.

Return Value

None.

Example

The following example designates the action ID 1001 to handle an error event:

atom$var_number_set <A, 1>
atom$var_number_set <B, 0>
atom$radio_codec <1>
atom$radio_atr_stream_source <1>
atom$radio_atr_stream_target <1>

ê atom$radio_error_action <1001>
atom$radio_status_action <1000>
atom$radio_start_action <1002>

 America Online, Inc. 1993-97 40-13 America Online Confidential




Chapter 40: Radio Protocol October 1997

atom$radio_get_error_text
9 ($09)

Description

atom$radio_get_error_text returns the latest error message from the radio
tool.

Syntax

atom$radio_get_error_text

Return Value

A string that contains the latest error message.

Example

The following example gets the latest upload process error and places it in the
current object:

atom$act_set_criterion <1001>
atom$act_replace_action

<
atom$uni_start_stream
atom$man_set_context_relative <7>

ê atom$radio_get_error_text
atom$uni_use_last_atom_string <atom$man_replace_data>
atom$man_update_display
atom$uni_end_stream
>

America Online Confidential 40-14  America Online, Inc. 1993-97




October 1997 FDO91 Manual, Vol. 2

atom$radio_get_status_text
10 ($0A)

Description

atom$radio_get_status_text returns the latest status message from the radio
tool.  For example, the elapsed program time (in milliseconds) of a stream
might be a returned status message.

Syntax

atom$radio_get_status_text

Return Value

A string that contains the latest status message.

Example

The following example gets the latest status message from the radio tool and
places it in the current object:

atom$var_number_set <A, 1>
atom$var_number_set <B, 0>
atom$radio_codec <1>
atom$radio_atr_stream_source <1>
atom$radio_atr_stream_target <1>
atom$radio_error_action <1001>
atom$radio_status_action <1000>
atom$radio_start_action <1002>
atom$act_set_criterion <1000>
atom$act_replace_action

<
atom$uni_start_stream
atom$man_set_context_relative <7>

ê atom$radio_get_status_text
atom$uni_use_last_atom_string <atom$man_replace_data>
atom$man_update_display
atom$uni_end_stream
>

 America Online, Inc. 1993-97 40-15 America Online Confidential




Chapter 40: Radio Protocol October 1997

atom$radio_radmic_status
14 ($0E)

Description

atom$radio_radmic_status returns the status of the radio stream upload
process in the radio tool.

Syntax

atom$radio_radmic_status

Return Value

An integer value that defines the upload status.  Values are:

0 RADIO_ATOM_IDLE

1 RADIO_ATOM_STARTED

Example

The following example gets the state of the upload process.  If the status
returned by atom$radio_radmic_status is 0 (RADIO_ATOM_IDLE), the
radio stream is stopped and the label on the trigger (button) is changed to
Start.

atom$man_start_sibling <trigger, “Start”>
.
.
.

atom$mat_font_size <9>
atom$act_replace_select_action

<
atom$uni_start_stream

ê atom$radio_radmic_status
atom$if_last_return_true_then <1>
atom$radio_stop_stream
atom$man_set_context_relative <12>
atom$man_replace_data <”Start”>
atom$uni_sync_skip <1>
.
.
.
atom$uni_end_stream
>

America Online Confidential 40-16  America Online, Inc. 1993-97




October 1997 FDO91 Manual, Vol. 2

atom$radio_start_action
17 ($11)

Description

atom$radio_start_action initializes the radio tool with an action ID for
starting a stream.  Note that the tool will use this action ID to notify the calling
form when the tool is to upload a radio stream.

Syntax

atom$radio_start_action <dword>

<dword> Specifies an integer value that designates an action ID
for notifying the calling form that a radio stream is to
start.

Return Value

None.

Example

The following example designates the action ID 1002 to handle a start event:

atom$var_number_set <A, 1>
atom$var_number_set <B, 0>
atom$radio_codec <1>
atom$radio_atr_stream_source <1>
atom$radio_atr_stream_target <1>
atom$radio_error_action <1001>
atom$radio_status_action <1000>

ê atom$radio_start_action <1002>

 America Online, Inc. 1993-97 40-17 America Online Confidential




Chapter 40: Radio Protocol October 1997

atom$radio_start_play
15 ($0F)

Description

atom$radio_start_play starts the decompression of the radio stream and plays
the selected channel at the member’s PC.  Note that the radio tool notifies the
radio switching server of the channel requested.

Syntax

atom$radio_start_play <string>

<string> Specifies the name of the desired channel.  Note that the
radio switching server maintains a list of the channel
names, which are assigned to each content provider's
radio station.  (The channel names should remain
constant from day to day.)

Return Value

None.

Example

The following example starts the play of a radio channel (MTV) when a
member clicks on the play button:

atom$uni_start_stream
ê atom$radio_start_play <”MTV”>

atom$uni_end_stream

America Online Confidential 40-18  America Online, Inc. 1993-97




October 1997 FDO91 Manual, Vol. 2

atom$radio_start_stream
7 ($07)

Description

atom$radio_start_stream starts the stream compression and the upload
transmission of the live radio program to the radio server on the host.  Note
that parameters (stream name and description) of the live stream are checked
before compression can start.

Syntax

atom$radio_start_stream

Return Value

None.

Example

The following example starts the compression and transmission of the live
broadcast to the host:

atom$man_set_context_relative <13>
atom$radio_atr_stream_name <”ROCK: Classic hits from the 

70’s”>
atom$man_set_context_relative <14>
atom$radio_atr_stream_desc <”<HTML><B>Classic Rock</B><br>Your 

favorite rock hits from A to Z<br>For purchasing info, go to
keyword Tower</HTML>”>

ê atom$radio_start_stream
atom$radio_radmic_status
atom$if_last_return_true_then <3>

atom$man_set_context_relative <12>
atom$man_replace_data <”Stop”>
atom$uni_sync_skip <3>

atom$man_update_display
atom$uni_end_stream

 America Online, Inc. 1993-97 40-19 America Online Confidential




Chapter 40: Radio Protocol October 1997

atom$radio_status_action
12 ($0C)

Description

atom$radio_status_action initializes the radio tool with an action ID for any
status messages.  The tool will use this action ID to notify the calling form
when a status message occurs.

Syntax

atom$radio_status_action <dword>

<dword> Specifies an integer value that designates an action ID to
handle a status event.

Return Value

None.

Example

The following example designates the action ID 1000 to handle a status event:

atom$var_number_set <A, 1>
atom$var_number_set <B, 0>
atom$radio_codec <1>
atom$radio_atr_stream_source <1>
atom$radio_atr_stream_target <1>
atom$radio_error_action <1001>

ê atom$radio_status_action <1000>
atom$radio_start_action <1002>

America Online Confidential 40-20  America Online, Inc. 1993-97




October 1997 FDO91 Manual, Vol. 2

atom$radio_stop_play
16 ($10)

Description

atom$radio_stop_play stops the decompression of the radio stream and the
play of the selected channel at the member’s PC.  Note that the radio tool
notifies the radio switching server to stop the radio stream.

Syntax

atom$radio_stop_play

Return Value

None.

Example

The following example stops the play of the radio channel when a member
clicks on the stop button:

atom$uni_start_stream
ê atom$radio_stop_play

atom$uni_end_stream

 America Online, Inc. 1993-97 40-21 America Online Confidential




Chapter 40: Radio Protocol October 1997

atom$radio_stop_stream
8 ($08)

Description

atom$radio_stop_stream stops the stream compression and its transmission
of the live radio program to the host.

Syntax

atom$radio_stop_stream

Return Value

None.

Example

The following example stops the compression and transmission of the live
broadcast when the status of the upload process is idle
(RADIO_ATOM_IDLE).

atom$man_start_sibling <trigger, “Start”>
.
.
.

atom$mat_font_size <9>
atom$act_replace_select_action

<
atom$uni_start_stream
atom$radio_radmic_status
atom$if_last_return_true_then <1, 2>

ê atom$radio_stop_stream
atom$man_set_context_relative <12>
atom$man_replace_data <”Start”>
atom$uni_sync_skip <1>

.

.
atom$uni_end_stream
>

America Online Confidential 40-22  America Online, Inc. 1993-97



===== END PDF: ch40-radio.pdf =====

===== BEGIN PDF: ch42-adp.pdf =====



Manual: FDO91 Manual
Chapter 42: Asynchronous Data Protocol defines the atoms that manage the asynchronous transfer of
large blocks of data between the host and client PCs.
Last updated: October 1997




C H A P T E R  4 2

Asynchronous Data Protocol (ADP)

The Asynchronous Data Protocol (ADP) (protocol ID 66) consists of atoms
that manage the transfer of large blocks of data (typically images) between the
host and client PCs.  The ADP protocol is currently used for e-mail images but
can be used for other applications that require downloading or uploading any
large block of data.  This interactive protocol enables the host to divide a large
block of data into smaller chunks that are asynchronously transmitted host to
client or client to host.  Essentially, the host regulates the flow of a large block
of data it receives or transmits to a rate that it can properly process by
capitalizing on pauses between the chunk transmissions.  An interactive
example of an asynchronous upload session is shown in the atom$adp_start
examples and an asynchronous download session is shown in the
atom$adp_end examples.

Asynchronous Data Protocol Atoms

The Asynchronous Data Protocol (ADP) functions and their associated atoms
follow:

Function Atoms

Establishing or defining an atom$adp_abort_tkn
asynchronous data transfer
session atom$adp_chunk_count

atom$adp_chunk_size

atom$adp_eid

atom$adp_eid_string

America Online Confidential 42-1  America Online, Inc. 1993-97




Chapter 42: Asynchronous Data Protocol (ADP) October 1997

atom$adp_route_tkn

atom$adp_tranaction_type

Starting or ending an ADP atom$adp_end
code stream

atom$adp_start

Sending a data chunk atom$adp_data

atom$adp_echo

atom$adp_eid

atom$adp_eid_string

Restricting data flow or atom$adp_chunk_count
requesting more data

atom$adp_chunk_size

atom$adp_echo

atom$adp_more_chunks

atom$adp_no_more chunks

Terminating a data transfer atom$adp_abort
session

atom$adp_no_more chunks

The ADP atoms are described in alphabetical order in the rest of this chapter.

America Online Confidential 42-2  America Online, Inc. 1993-97




October 1997 FDO91 Manual, Vol. 2

atom$adp_abort
10 ($0A)

Description

atom$adp_abort terminates the data transfer session before it is complete.

Syntax

atom$adp_abort

Return Value

None.

Example

The following client-to-host example terminates the upload data transfer before
it is complete:

atom$adp_start
atom$adp_eid <1>

ê atom$adp_abort
atom$adp_end

 America Online, Inc. 1993-97 42-3 America Online Confidential




Chapter 42: Asynchronous Data Protocol (ADP) October 1997

atom$adp_abort_tkn
5 ($05)

Description

atom$adp_abort_tkn defines a host server routing token the client should use
to abort the current data transfer session.

Syntax

atom$adp_abort_tkn <word>

<word> Specifies a hex value (2 bytes) that defines a host server
routing token the client should use to abort this session.
The value is a code of 2 ASCII characters.  For
example, the value 4Ex 57x defines a routing token of
NW.

Return Value

None.

Example

The following host-to-client example defines a host server routing token the
client should use to abort this session:

atom$adp_start
atom$adp_transaction_type <2>
atom$adp_eid_string <M0039813>
atom$adp_route_tkn <4Ex 57x>

ê atom$adp_abort_tkn <4Ex 57x>
atom$adp_end

America Online Confidential 42-4  America Online, Inc. 1993-97




October 1997 FDO91 Manual, Vol. 2

atom$adp_chunk_count
7 ($07)

Description

atom$adp_chunk_count specifies the number of consecutive data chunks that
can be sent from the client without waiting for a host signal to continue.  Note
that atom$adp_more_chunks must be sent by the host before more chunk
transmission can continue.

Syntax

atom$adp_chunk_count <dword>

<dword> Specifies the number of consecutive data chunks to send
without a signal from the host to continue.  Values are 1
or greater.

Return Value

None.

Example

The following host-to-client example specifies the number of consecutive data
chunks that can be sent without waiting for a host signal to continue.  In this
example, the client must wait for a signal (atom$adp_more_chunks) from the
host after each chunk is sent.

atom$adp_start
atom$adp_transaction_type <1>
atom$adp_eid <1>
atom$adp_chunk_size <1900>

ê atom$adp_chunk_count <1>
atom$adp_route_tkn <4Ex 57x>
atom$adp_abort_tkn <4Ex 57x>
atom$adp_end

 America Online, Inc. 1993-97 42-5 America Online Confidential




Chapter 42: Asynchronous Data Protocol (ADP) October 1997

atom$adp_chunk_size
6 ($06)

Description

atom$adp_chunk_size specifies the chunk size of each data segment to be
transmitted.  Typically, the last chunk in the chain of the data object is smaller
than the specified chunk size.

Syntax

atom$adp_chunk_size <dword>

<dword> Specifies the chunk size in bytes for the data segments
to be transmitted.  Values are 1 or greater.

Return Value

None.

Example

The following host-to-client example sets the chunk size of the data segments
to 1900 bytes:

atom$adp_start
atom$adp_transaction_type <1>
atom$adp_eid <1>

ê atom$adp_chunk_size <1900>
atom$adp_chunk_count <1>
atom$adp_route_tkn <4Ex 57x>
atom$adp_abort_tkn <4Ex 57x>
atom$adp_end

America Online Confidential 42-6  America Online, Inc. 1993-97




October 1997 FDO91 Manual, Vol. 2

atom$adp_data
8 ($08)

Description

atom$adp_data specifies a chunk of the object data to send to the host or
client in an asynchronous transfer session.

Syntax

atom$adp_data <raw_data>

<raw_data> Specifies the raw chunk of data to send.  Note that the
chunk size cannot exceed the value specified by
atom$adp_chunk_size.

Return Value

None.

Examples

The following host-to-client example sends a chunk of data to the client in a
download session:

atom$adp_start
atom$adp_transaction_type <2>
atom$adp_eid_string <M0039813>
atom$adp_route_tkn <4Ex 57x>
atom$adp_abort_tkn <4Ex 57x>
atom$adp_end
.
.
atom$adp_start
atom$adp_eid_string <M0039813>
atom$adp_echo <4Ex 57x>

ê atom$adp_data <34x 54x F9x 02x 34x 54x F9x 34x 54x F9x … >
atom$adp_end

The following host-to-client example establishes an upload session with the
client.  Note that the host sends the following code stream first before the
client sends data:

atom$adp_start
atom$adp_transaction_type <1>
atom$adp_eid <1>

 America Online, Inc. 1993-97 42-7 America Online Confidential




Chapter 42: Asynchronous Data Protocol (ADP) October 1997

atom$adp_chunk_size <1900>
atom$adp_chunk_count <1>
atom$adp_route_tkn <4Ex 57x>
atom$adp_abort_tkn <4Ex 57x>
atom$adp_end

The following client-to-host example sends a chunk of data to the host in an
upload session:

atom$adp_start
atom$adp_eid <1>

ê atom$adp_data <00x 01x C3x 1Ax 35x 00x 02x … >
atom$adp_end

America Online Confidential 42-8  America Online, Inc. 1993-97




October 1997 FDO91 Manual, Vol. 2

atom$adp_echo
12 ($0C)

Description

atom$adp_echo defines a host server routing token (echo token) the client
should use regarding the acknowledgment of data chunks received.  Also, the
client sends this atom to the host when it is ready to receive more download
data.

Syntax

atom$adp_echo <raw_token>

<raw_token> Specifies a hex value (2 bytes) that defines an echo
token the client should use regarding the
acknowledgment of data chunks.  The value is a code of
2 ASCII characters.  For example, the value 4Ex 57x
defines a routing token of NW.

Return Value

None.

Examples

The following host-to-client example establishes a download session, sends a
data chunk, and defines an echo token for the client to use after it receives the
data chunk:

atom$adp_start
atom$adp_transaction_type <2>
atom$adp_eid_string <M0039813>
atom$adp_route_tkn <4Ex 57x>
atom$adp_abort_tkn <4Ex 57x>
atom$adp_end
.
.
atom$adp_start
atom$adp_eid_string <M0039813>

ê atom$adp_echo <4Ex 57x>
atom$adp_data <34x 54x F9x 02x 34x 54x F9x 34x 54x F9x … >
atom$adp_end

 America Online, Inc. 1993-97 42-9 America Online Confidential




Chapter 42: Asynchronous Data Protocol (ADP) October 1997

The following client-to-host example acknowledges receipt of a chunk of the
data object M0039813 using an echo token of 4Ex 57x.  This action in a
download protocol is called echoing the EID (embedded ID of the object).

atom$adp_start
atom$adp_eid_string <M0039813>

ê atom$adp_echo <4Ex 57x>
atom$adp_end

America Online Confidential 42-10  America Online, Inc. 1993-97




October 1997 FDO91 Manual, Vol. 2

atom$adp_eid
3 ($03)

Description

atom$adp_eid defines the embedded ID (EID) of the data object (such as an
image) for transfer to the host.  This EID is established by the client for both
the host and client to track the interactive code stream sequences throughout
an object transfer.

Syntax

atom$adp_eid <dword>

<dword> Specifies the EID of the data object.  Values are 1 or
greater.

Return Value

None.

Example

The following host-to-client example defines an EID of 1 to the data object for
an upload session:

atom$adp_start
atom$adp_transaction_type <1>

ê atom$adp_eid <1>
atom$adp_chunk_size <1900>
atom$adp_chunk_count <1>
atom$adp_route_tkn <4Ex 57x>
atom$adp_abort_tkn <4Ex 57x>
atom$adp_end

 America Online, Inc. 1993-97 42-11 America Online Confidential




Chapter 42: Asynchronous Data Protocol (ADP) October 1997

atom$adp_eid_string
11 ($0B)

Description

atom$adp_eid_string defines the embedded ID (EID) of the data object (such
as an image) for transfer to the client.  This EID is established by the host for
both the host and client to track the interactive transmission sequences
throughout an object transfer session.

Syntax

atom$adp_eid_string <string>

<string> Specifies the EID of the data object.  Values are a
sequence of alphanumeric characters (12 maximum).

Return Value

None.

Example

The following host-to-client example defines an EID (M0039813) for a data
object of the download session:

atom$adp_start
atom$adp_transaction_type <2>

ê atom$adp_eid_string <M0039813>
atom$adp_route_tkn <4Ex 57x>
atom$adp_abort_tkn <4Ex 57x>
atom$adp_end

America Online Confidential 42-12  America Online, Inc. 1993-97




October 1997 FDO91 Manual, Vol. 2

atom$adp_end
2 ($02)

Description

atom$adp_end marks the end of an ADP code stream that may start,
continue, or stop an asynchronous data transfer session.  Note that each ADP
code stream must be started with atom$adp_start.

Syntax

atom$adp_end

Return Value

None.

Examples

The following examples show a set of ADP code streams that illustrate the
interactive asynchronous protocol for a download session from the host.  Each
code stream must be terminated with atom$adp_end.

The following host-to-client example ends an ADP code stream that establishes
an asynchronous data transfer session with the client:

atom$adp_start
atom$adp_transaction_type <2>
atom$adp_eid_string <M0039813>
atom$adp_route_tkn <4Ex 57x>
atom$adp_abort_tkn <4Ex 57x>

ê atom$adp_end

The following host-to-client example ends an ADP stream that sends a chunk
of data to the client:

atom$adp_start
atom$adp_eid_string <M0039813>
atom$adp_echo <4Ex 57x>
atom$adp_data <34x 54x F9x 02x 34x 54x F9x 34x 54x F9x … >

ê atom$adp_end

The following client-to-host example ends an ADP stream that acknowledges
receipt of the last data chunk and is ready for more data:

 America Online, Inc. 1993-97 42-13 America Online Confidential




Chapter 42: Asynchronous Data Protocol (ADP) October 1997

atom$adp_start
atom$adp_eid_string <M0039813>
atom$adp_echo <4Ex 57x>

ê atom$adp_end

The following host-to-client example ends an ADP stream that tells the client
the data transfer session is complete:

atom$adp_start
atom$adp_eid_string <M0039813>
atom$adp_no_more_chunks

ê atom$adp_end

America Online Confidential 42-14  America Online, Inc. 1993-97




October 1997 FDO91 Manual, Vol. 2

atom$adp_more_chunks
14 ($0E)

Description

atom$adp_more_chunks tells the client the host is ready for the next data
chunk in an asynchronous data transfer session.

Syntax

atom$adp_more_chunks

Return Value

None.

Example

The following host-to-client example tells the client the host is ready for the
next data chunk:

atom$adp_start
atom$adp_eid <1>

ê atom$adp_more_chunks
atom$adp_end

 America Online, Inc. 1993-97 42-15 America Online Confidential




Chapter 42: Asynchronous Data Protocol (ADP) October 1997

atom$adp_no_more_chunks
9 ($09)

Description

atom$adp_no_more_chunks signals to the receiver that the data transmission
is complete.

Syntax

atom$adp_no_more_chunks

Return Value

None.

Examples

The following client-to-host example tells the host the data transfer session is
complete:

atom$adp_start
atom$adp_eid <1>

ê atom$adp_no_more_chunks
atom$adp_end

The following host-to-client example tells the client the data transfer session is
complete:

atom$adp_start
atom$adp_eid_string <M0039813>

ê atom$adp_no_more_chunks
atom$adp_end

America Online Confidential 42-16  America Online, Inc. 1993-97




October 1997 FDO91 Manual, Vol. 2

atom$adp_route_tkn
4 ($04)

Description

atom$adp_route_tkn defines a host server routing token the client should use
regarding the entire data transfer session.

Syntax

atom$adp_route_tkn <word>

<word> Specifies a hex value (2 bytes) that defines a host server
routing token the client should use regarding this
session.  The value is a code of 2 ASCII characters.  For
example, the value 4Ex 57x defines a routing token of
NW.

Return Value

None.

Example

The following host-to-client example defines a host server routing token the
client should use regarding this session:

atom$adp_start
atom$adp_transaction_type <2>
atom$adp_eid_string <M0039813>

ê atom$adp_route_tkn <4Ex 57x>
atom$adp_abort_tkn <4Ex 57x>
atom$adp_end

 America Online, Inc. 1993-97 42-17 America Online Confidential




Chapter 42: Asynchronous Data Protocol (ADP) October 1997

atom$adp_start
1 ($01)

Description

atom$adp_start marks the beginning of an ADP code stream that may start,
continue, or stop an asynchronous data transfer session.  Note that each ADP
code stream must be terminated with atom$adp_end.

Syntax

atom$adp_start

Return Value

None.

Examples

The following examples show a set of ADP code streams that illustrate the
interactive asynchronous protocol for an upload session with the host.  Each
code stream must be started with atom$adp_start.

The following host-to-client example starts an ADP code stream that
establishes an asynchronous data transfer session with the client:

ê atom$adp_start
atom$adp_transaction_type <1>
atom$adp_eid <1>
atom$adp_chunk_size <1900>
atom$adp_chunk_count <1>
atom$adp_route_tkn <4Ex 57x>
atom$adp_abort_tkn <4Ex 57x>
atom$adp_end

The following client-to-host example starts an ADP code stream that sends
data to the host:

ê atom$adp_start
atom$adp_eid <1>
atom$adp_data <00x 01x C3x 1Ax 35x 00x 02x … >
atom$adp_end

The following host-to-client example starts an ADP code stream that tells the
client the host is ready for more data:

America Online Confidential 42-18  America Online, Inc. 1993-97




October 1997 FDO91 Manual, Vol. 2

ê atom$adp_start
atom$adp_eid <1>
atom$adp_more_chunks
atom$adp_end

The following client-to-host example starts an ADP code stream that tells the
host the data transfer session is complete:

ê atom$adp_start
atom$adp_eid <1>
atom$adp_no_more_chunks
atom$adp_end

 America Online, Inc. 1993-97 42-19 America Online Confidential




Chapter 42: Asynchronous Data Protocol (ADP) October 1997

atom$adp_transaction_type
15 ($0F)

Description

atom$adp_transaction_type defines whether the data transfer is an upload or
a download session.

Syntax

atom$adp_tranaction_type <dword>

<dword> Specifies the transaction ID.  Values are:

1 Upload transaction

2 Download transaction

Return Value

None.

Examples

The following host-to-client example defines the data transfer as a download
session:

atom$adp_start
ê atom$adp_transaction_type <2>

atom$adp_eid_string <M0039813>
atom$adp_route_tkn <4Ex 57x>
atom$adp_abort_tkn <4Ex 57x>
atom$adp_end

The following host-to-client example defines the data transfer as an upload
session:

atom$adp_start
ê atom$adp_transaction_type <1>

atom$adp_eid <1>
atom$adp_chunk_size <1900>
atom$adp_chunk_count <1>
atom$adp_route_tkn <4Ex 57x>
atom$adp_abort_tkn <4Ex 57x>
atom$adp_end

America Online Confidential 42-20  America Online, Inc. 1993-97



===== END PDF: ch42-adp.pdf =====

