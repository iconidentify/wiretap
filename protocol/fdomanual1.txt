===== BEGIN PDF: action.pdf =====



Manual: FDO91 Manual
Chapter 2: Action Protocol defines the action protocol atoms and provides information for
associating actions with FDO91 objects.
Last updated: October 1997




C H A P T E R  2

Action (ACT) Protocol

The Action (ACT) protocol (protocol ID 2) consists of atoms that allow
actions to be associated with objects on forms.  For example, you can set up an
action to occur as the result of a member selecting an object, such as an icon
on a form.

Action Criteria

There are two components to setting up an object's action: the action criterion,
which is specified using atom$act_set_criterion, and the atom stream
(sometimes referred to as an action stream), which is specified by a series of
atoms that begins with atom$uni_start_stream and ends with atom$uni_
end_stream.   

Action criteria let you assign an action ID that indicates when an object's
action will occur, while the atom stream lets you define what action will occur.
In most cases, an action is set up when its associated object is created.

Table 2.1 lists the title, the action ID, the hexadecimal equivalent of the action
ID, and a description for each action criterion:

Table 2.1 – Action Criteria

Action Criterion/ Description
Action ID

SELECTION Action occurs when an object is selected.
1 (01x)

CLOSE Action occurs when an object is closed.
2 (02x)

America Online Confidential 2-1  America Online, Inc. 1993-97




Chapter 2: Action (ACT) Protocol October 1997

Table 2.1 – Action Criteria (Continued)

Action Criterion/ Description
Action ID

GAIN_FOCUS Action occurs when a window is brought
4 (04x) to the front.

LOSE_FOCUS Action occurs when another window is
5 (05x) brought to the front of the current

window.

CANCEL Action occurs when ESC is pressed while
6 (06x) the window is the top-most window.

ENTER_FREE Action occurs when a free area is entered.
7 (07x) This criterion applies to independent

groups (windows) and affects the default
behavior of switching between free and
paid areas.

ENTER_PAID Action occurs when a paid area is entered.
8 (08x) This criterion applies to independent

groups (windows) and affects the default
behavior of switching between free and
paid areas.

CREATE Action occurs when a window is first
9 (09x) drawn.

SET_ONLINE Action occurs when a member goes online.
10 (0Ax) This criterion applies to independent

groups (windows).

SET_OFFLINE Action occurs when a member goes
11 (0Bx) offline.  This criterion applies to

independent groups (windows).

RESTORE Action occurs when a window is restored.
12 (0Cx)

MINIMIZE Action occurs when a window is
14 (0Ex) minimized.

America Online Confidential 2-2  America Online, Inc. 1993-97




October 1997 FDO91 Manual, Vol. 1

Table 2.1 – Action Criteria (Continued)

Action Criterion/ Description
Action ID

RESTORE_FROM_ Action occurs when a window is restored
MAXIMIZE to its original size after being maximized.
15 (0Fx)

RESTORE_FROM_ Action occurs when a window is restored
MINIMIZE to its original size after being minimized.
16 (10x)

TIMEOUT Action occurs when the host fails to
17 (11x) respond.  This criterion lets you override

the default behavior for what happens
when the host does not respond.

SCREEN_NAME_ Action occurs when a screen name is
CHANGED changed.  This criterion applies to
18 (12x) independent groups (windows) and affects

all windows open when the action occurs.

MOVIE_OVER Action occurs when a .avi file has finished
19 (13x) playing.

DROP Action occurs when data is dropped into
20 (14x) an object (field or view) and the mouse

button is released.

URL_DROP Action occurs when an URL is dropped
21 (15x) into an object and the mouse button is

released.

USER_DELETE Action occurs when a user presses DELETE

22 (16x) or clicks a mouse to delete something.

TOGGLE_UP Action occurs when a user activates the up
23 (17x) action of a toggle switch.

ACTIVATED Actions occurs when MDI_ACTIVATE is
24 (18x) true.

DEACTIVATED Action occurs when MDI_ACTIVATE is
25 (19x) false.

 America Online, Inc. 1993-97 2-3 America Online Confidential




Chapter 2: Action (ACT) Protocol October 1997

Table 2.1 – Action Criteria (Continued)

Action Criterion/ Description
Action ID

POPUPMENU Action occurs when a user invokes a pop-
26 (1Ax) up menu.

DESTROYED Action occurs when a window is cleared
27 (1Bx) from the screen.

ACTION_TOOL Reserved for  protocol-independent action
128-255 (80x-FFx) criterion, e.g., action ID 128 in the MORG

protocol is ACTION_VIEW_UPDATED.
Action ID 128 in the WWW protocol is
ACTION_URL_CHANGED.

Action Protocol Atoms

The Action (ACT) protocol functions and their associated atoms follow:

Function Atoms

Saving action streams atom$act_copy_action_to_reg

atom$act_set_action_in_reg

Selecting action streams atom$act_do_action

atom$act_replace_action

atom$act_replace_action_from_reg

atom$act_replace_popup_menu_action

atom$act_replace_select_action

Setting triggers for action atom$act_set_criterion
streams

Searching for action atom$act_set_inheritance
streams

America Online Confidential 2-4  America Online, Inc. 1993-97




October 1997 FDO91 Manual, Vol. 1

Using database records atom$act_get_db_record

atom$act_get_db_value

atom$act_set_db_id

atom$act_set_db_length

atom$act_set_db_offset

atom$act_set_db_record

Making sound actions atom$act_sound_beep

Setting new user and guest atom$act_set_guest_flag
flags

atom$act_set_newuser_flag

The ACT protocol atoms are described in alphabetical order in the rest of this
chapter.

 America Online, Inc. 1993-97 2-5 America Online Confidential




Chapter 2: Action (ACT) Protocol October 1997

atom$act_append_action
32 ($20)

This atom is no longer supported.  This atom appended the specified data to
the existing action for the current object.

Alternative:  Redefine the entire action stream with
atom$act_replace_action.

America Online Confidential 2-6  America Online, Inc. 1993-97




October 1997 FDO91 Manual, Vol. 1

atom$act_append_action_from_reg
40 ($28)

This atom is no longer supported.  This atom appended the data that is
stored in the specified register to the existing action for the current object.

Alternative:  Redefine the entire action stream with
atom$act_replace_action.

 America Online, Inc. 1993-97 2-7 America Online Confidential




Chapter 2: Action (ACT) Protocol October 1997

atom$act_append_select_action
35 ($23)

This atom is no longer supported.  This atom affected only actions that have
a criterion of SELECTION, and appended the specified action to the existing
action for the current object.

Alternative:  Redefine the entire action stream with
atom$act_replace_action.

America Online Confidential 2-8  America Online, Inc. 1993-97




October 1997 FDO91 Manual, Vol. 1

atom$act_copy_action_to_reg
38 ($26)

Description

atom$act_copy_action_to_reg copies the current action for the current object
to the raw data area of a specified register.

Registers A through D are available and can be set to hold any binary raw data.
These registers exist for the life of the application and are not influenced by
stream openings or closings.  The purpose of these registers is to hold
temporary data such as an atom stream.

Once you have stored data in a register, you can copy it using
atom$act_replace_action_from_reg or
atom$act_change_action_from_reg.

Syntax

atom$act_copy_action_to_reg [<register>]

[<register>] Specifies an optional register.  Values are B, C or D.
The default is register A.

Return Value

None.

Example

The following example copies an action to a raw data register:

atom$man_start_object <ind_group>
atom$act_set_criterion <4>
atom$act_replace_action

<
atom$uni_start_stream
.
. (atom stream 1 goes here...)
.
atom$uni_end_stream
>

ê atom$act_copy_action_to_reg <B>

The result of this example is that the current window's action, which is atom
stream 1, is copied to register B where it is stored.

 America Online, Inc. 1993-97 2-9 America Online Confidential




Chapter 2: Action (ACT) Protocol October 1997

atom$act_do_action
1 ($01)

Description

atom$act_do_action invokes the atom stream related to the specified action
ID or criterion based on the current context.  For a list of action IDs, see
atom$act_set_criterion.

If an action is not found, the inheritance byte of the action ID is used to
determine if the scope of the search should be extended.  The upper byte of all
action IDs defines the scope of the inheritance for the specified ID.  For more
information, see atom$act_set_inheritance.

Syntax

atom$act_do_action <action_ID>

<action_ID> Specifies a 1-byte action ID value.

Return Value

None.

Example

The following example invokes the current object's atom stream:

atom$man_start_object <trigger>
atom$act_set_criterion <1>
atom$act_replace_action

<
atom$uni_start_stream
.
. (atom stream 1 goes here...)
.
atom$uni_end_stream
>

.

.

.
ê atom$act_do_action <1>

America Online Confidential 2-10  America Online, Inc. 1993-97




October 1997 FDO91 Manual, Vol. 1

atom$act_get_db_record
47 ($2F)

Description

atom$act_get_db_record indicates the database record to retrieve.  This atom
command is used in conjunction with atom$act_set_db_length,
atom$act_set_db_offset, atom$act_get_db_value,
atom$act_get_db_record, and atom$act_set_db_id.

Syntax

atom$act_get_db_record <dword>

<dword> Specifies a database global ID.

Return Value

The data from the specified record.

Examples

The following examples perform database record extraction.  For the
examples, database record 23 = "This is test case 27."

atom$act_set_db_offset <6>
atom$act_set_db_length <15>

ê atom$act_get_db_record <23>

The result of this example is that "is test case 27" is returned.

atom$act_set_db_offset <18>
atom$act_set_db_length <2>

ê atom$act_get_db_record <23>

The result of this example is that "27" is returned.

 America Online, Inc. 1993-97 2-11 America Online Confidential




Chapter 2: Action (ACT) Protocol October 1997

atom$act_get_db_value
53 ($35)

Description

atom$act_get_db_value retrieves the value stored in a database record.  A
database record is identified by a global ID.

This atom command is used in conjunction with atom$act_set_db_length,
atom$act_set_db_offset, atom$act_set_db_record,
atom$act_get_db_record, and atom$act_set_db_id.

Syntax

atom$act_get_db_value <global_ID>

<global_ID> Specifies the database record global ID.

Return Value

Value stored in the database record global ID.

Examples

The following example sounds a beep if the value stored in a database record is
non-zero:

ê atom$act_get_db_value <20-0-1234>
.
.
.
atom$if_last_return_true_then <1>
.
.
.
atom$act_sound_beep
atom$uni_sync_skip <1>

America Online Confidential 2-12  America Online, Inc. 1993-97




October 1997 FDO91 Manual, Vol. 1

atom$act_prepend_action
33 ($21)

This atom is no longer supported.  This atom inserted the specified data
before the existing action for the current object

Alternative:  Redefine the entire action stream with
atom$act_replace_action.

 America Online, Inc. 1993-97 2-13 America Online Confidential




Chapter 2: Action (ACT) Protocol October 1997

atom$act_prepend_action_from_reg
41 ($29)

This atom is no longer supported.  This atom inserted the data that is stored
in the specified register before the existing action for the current object.

Alternative:  Redefine the entire action stream with
atom$act_replace_action.

America Online Confidential 2-14  America Online, Inc. 1993-97




October 1997 FDO91 Manual, Vol. 1

atom$act_prepend_select_action
36 ($24)

This atom is no longer supported.  This atom affected only actions that have
a criterion of SELECTION, and inserted the specified data before the existing
action for the current object

Alternative:  Redefine the entire atom stream with atom$act_replace_action.

 America Online, Inc. 1993-97 2-15 America Online Confidential




Chapter 2: Action (ACT) Protocol October 1997

atom$act_replace_action
3 ($03)

Description

atom$act_replace_action replaces the existing action with the specified data
for the current object.  If an existing action is not found, the specified action
data is still applied to the current object.  If no replacement action data is
specified, the existing action is removed from the object.

Syntax

atom$act_replace_action [<data>]

[<data>] Specifies optional variable length binary data that
normally consists of an action atom stream.

Return Value

None.

Example

The following example replaces the existing action for the current object:

atom$man_start_object <ind_group>
atom$act_set_criterion <2>

ê atom$act_replace_action
<
atom$uni_start_stream
.
. (atom stream 1 goes here...)
.
atom$uni_end_stream
>
.
.
.

ê atom$act_replace_action
<
atom$uni_start_stream
.
. (atom stream 2 goes here...)
.
atom$uni_end_stream
>

America Online Confidential 2-16  America Online, Inc. 1993-97




October 1997 FDO91 Manual, Vol. 1

atom$act_replace_action_from_reg
39 ($27)

Description

atom$act_replace_action_from_reg replaces the existing action for the
current object with the data that is stored in the specified register.  If an
existing action is not found, the action data in the register is still applied to the
current object.

The raw data areas of registers A, B, C and D are available and can be set to
hold any binary raw data.  These registers exist for the life of the application
and are not influenced by stream openings or closings.  The purpose of these
registers is to hold temporary data such as entire atom streams.

If no register is specified, register A is the default.  For information about how
to set action data in a register, see atom$act_set_action_in_reg.  For
information about how to copy action data to a register, see
atom$act_copy_action_to_reg.

Syntax

atom$act_replace_action_from_reg [<register>]

[<register>] Specifies an optional register.  Values are B, C or D.
The default is register A.

Return Value

None.

Example

The following example replaces the current object's action using data stored in
a register.  For this example, register B = Atom Stream 2:

 America Online, Inc. 1993-97 2-17 America Online Confidential




Chapter 2: Action (ACT) Protocol October 1997

atom$man_start_object <ind_group>
atom$act_set_criterion <4>
atom$act_replace_action

<
atom$uni_start_stream
.
. (atom stream 1 goes here...)
.
atom$uni_end_stream
>

.

.

.
ê atom$act_replace_action_from_reg <B>

America Online Confidential 2-18  America Online, Inc. 1993-97




October 1997 FDO91 Manual, Vol. 1

atom$act_replace_popup_menu_action
55 ($37)

Description

atom$act_replace_popup_menu_action affects only actions that have a
criterion of POPUPMENU, and replaces the current object's existing action
with a pop-up menu action.  If an existing action is not found, the specified
action is still applied to the current object.

This atom is often used as a shorthand atom for creating an action, since it
eliminates the use of atom$act_set_criterion <26>.

Syntax

atom$act_replace_popup_menu_action [<data>]

[<data>] Specifies optional variable length binary data that
normally consists of an action atom stream.

Return Value

None.

Example

The following example defines a pop-up menu action that will occur when the
current object is selected with a right mouse click:

atom$man_start_object <view, “”>
ê atom$act_replace_popup_menu_action

<
atom$uni_start_stream
atom$man_set_context_relative <10>
atom$man_display_popup_menu
atom$man_end_context
atom$uni_end_stream
>

atom$man_end_object

 America Online, Inc. 1993-97 2-19 America Online Confidential




Chapter 2: Action (ACT) Protocol October 1997

atom$act_replace_select_action
4 ($04)

Description

atom$act_replace_select_action affects only actions that have a criterion of
SELECTION, and replaces the current object's existing action with the
specified data.  If an existing action is not found, the specified action is still
applied to the current object.

This atom is often used as a shorthand atom for creating an action, since it
eliminates the use of atom$act_set_criterion <1>.

Syntax

atom$act_replace_select_action [<data>]

[<data>] Specifies optional variable length binary data that
normally consists of an action atom stream.

Return Value

None.

Example

The following example defines an action that will occur when the current
object is selected:

atom$man_start_object <trigger>
ê atom$act_replace_select_action

<
atom$uni_start_stream
.
. (atom stream 1 goes here...)
.
atom$uni_end_stream
>

America Online Confidential 2-20  America Online, Inc. 1993-97




October 1997 FDO91 Manual, Vol. 1

atom$act_set_action_in_reg
43 ($2B)

Description

atom$act_set_action_in_reg stores specified action data in the raw data area
of a register.

The raw data areas of registers A through D are available and can be set to
hold any binary raw data.  These registers exist for the life of the application
and are not influenced by stream openings or closings.  The purpose of these
registers is to hold temporary data such as entire atom streams.

Once you have stored data in a register, you can copy it using
atom$act_replace_action_from_reg or
atom$act_change_action_from_reg.

Syntax

atom$act_set_action_in_reg <register, data>

<register> Specifies a register.  Values are A, B, C or D.

<data> Specifies variable length data that normally consists of
an action atom stream.

Return Value

None.

Example

The following example stores action data in a raw data area of a register.  For
this example, register B currently contains atom stream 3:

ê atom$act_set_action_in_reg <B,
atom$uni_start_stream
.
. (atom stream 4 goes here...)
.
atom$uni_end_stream
>

The result of this example is that atom stream 3, which is currently stored the
raw data area of register B, is replaced by atom stream 4.  Atom stream 4
exists in the register until it is replaced or the application is terminated.

 America Online, Inc. 1993-97 2-21 America Online Confidential




Chapter 2: Action (ACT) Protocol October 1997

Note that the action data, which is the second argument of
atom$act_set_action_in_reg, is defined by an atom stream that begins with
atom$uni_start_stream and ends with atom$uni_end_stream.

America Online Confidential 2-22  America Online, Inc. 1993-97




October 1997 FDO91 Manual, Vol. 1

atom$act_set_criterion
0 ($00)

Description

atom$act_set_criterion specifies the action ID for atom streams.  Action IDs
determine what causes an action to occur.

Common IDs include CLOSE, LOSE_FOCUS, GAIN_FOCUS, and
SELECTION.  Protocol-independent IDs have a value of 128 or greater,
which let developers create their own action criteria.

Syntax

atom$act_set_criterion <action_ID>

<action_ID> Specifies an action ID.  Values are:

1 (01x) SELECTION — action occurs when an
object is selected.

2 (02x) CLOSE — action occurs when an object
is closed.

4 (04x) GAIN_FOCUS — action occurs when a
window is brought to the front.

5 (05x) LOSE_FOCUS — action occurs when
another window is brought to the front
of the current window.

6 (06x) CANCEL — action occurs when ESC is
pressed while the window is the top-most
window.

7 (07x) ENTER_FREE — action occurs when a
free area is entered.  This criterion
applies to independent groups (windows)
and affects the default behavior of
switching between free and paid areas.

8 (08x) ENTER_PAID — action occurs when a
paid area is entered.  This criterion
applies to independent groups (windows)

 America Online, Inc. 1993-97 2-23 America Online Confidential




Chapter 2: Action (ACT) Protocol October 1997

and affects the default behavior of
switching between free and paid areas.

9 (09x) CREATE — action occurs when a
window is first drawn.

10 (0Ax) SET_ONLINE — action occurs when a
member goes online.  This criterion
applies to independent groups
(windows).

11 (0Bx) SET_OFFLINE — action occurs when a
member goes offline.  This criterion
applies to independent groups
(windows).

12 (0Cx) RESTORE — action occurs when a
window is restored.

14 (0Ex) MINIMIZE — action occurs when a
window is minimized.

15 (0Fx) RESTORE_FROM_MAXIMIZE —
action occurs when a window is restored
to its original size after being maximized.

16 (10x) RESTORE_FROM_MINIMIZE —
action occurs when a window is restored
to its original size after being minimized.

17 (11x) TIMEOUT — action occurs when the
host fails to respond.  This criterion lets
you override the default behavior for
what happens when the host does not
respond.

18 (12x) SCREEN_NAME_CHANGED —
action occurs when a screen name is
changed.  This criterion applies to
independent groups (windows) and
affects all windows open when the action
occurs.

19 (13x) MOVIE_OVER — action occurs when
an .avi file has finished playing.

America Online Confidential 2-24  America Online, Inc. 1993-97




October 1997 FDO91 Manual, Vol. 1

20 (14x) DROP — action occurs when data is
dropped into an object (field or view)
and the mouse button is released.

21 (15x) URL_DROP — action occurs when an
URL is dropped into an object (once the
mouse button is released).

22 (16x) USER_DELETE — action occurs when
a user presses DELETE or uses a mouse to
delete something.

23 (17x) TOGGLE_UP — action occurs when a
user activates the up action of a toggle
switch.

24 (18x) ACTIVATED — action occurs when
MDI_ACTIVATE is true.

25 (19x) DEACTIVATED — action occurs when
MDI_ACTIVATE is false.

26 (1Ax) POPUPMENU — action occurs when a
user invokes a pop-up menu.

27 (1Bx) DESTROY — action occurs when a
window is cleared from the screen.

128-255 ACTION_TOOL — reserved for
(80-FFx) protocol-independent criterion, e.g.,

action ID 128 in the MORG protocol is
ACTION_VIEW_UPDATED.  Action
ID 128 in the WWW protocol is
ACTION_URL_CHANGED.

Return Value

Action ID.

Example

The following example sets the action ID to 9 so that the action occurs when a
window is first drawn:

 America Online, Inc. 1993-97 2-25 America Online Confidential




Chapter 2: Action (ACT) Protocol October 1997

atom$man_start_object <ind_group>
ê atom$act_set_criterion <9>

atom$act_replace_action
<
atom$uni_start_stream
.
. (atom stream goes here...)
.
atom$uni_end_stream
>

America Online Confidential 2-26  America Online, Inc. 1993-97




October 1997 FDO91 Manual, Vol. 1

atom$act_set_db_id
48 ($30)

Description

atom$act_set_db_id specifies the database record to save the object data to.

Syntax

atom$act_set_db_id <dword>

<dword> Specifies a database global ID.

Return Value

Database global ID.

Example

The following example saves data to database record 20-0-1234:

atom$act_set_db_id <20-0-1234>

 America Online, Inc. 1993-97 2-27 America Online Confidential




Chapter 2: Action (ACT) Protocol October 1997

atom$act_set_db_length
46 ($2E)

Description

atom$act_set_db_length specifies the chunk size of data to extract from or
store in a database record.

Syntax

atom$act_set_db_length <dword>

<dword> Specifies the chunk size of data to extract from or store
in a record.

Return Value

None.

Example

The following example extracts a 15-byte chunk of data from database record
23:

atom$act_set_db_offset <6>
ê atom$act_set_db_length <15>

atom$act_get_db_record <23>

America Online Confidential 2-28  America Online, Inc. 1993-97




October 1997 FDO91 Manual, Vol. 1

atom$act_set_db_offset
52 ($34)

Description

atom$act_set_db_offset sets an offset value from the start of the database
record area.  The default offset is 0, which points to the start of the record.

Syntax

atom$act_set_db_offset <dword>

<dword> Specifies an offset value.

Return Value

None.

Example

The following example offsets the start of the storage of data in a record by 2
bytes.  In this example, record 20-0-1234 initially contains 00x 01x.

atom$act_set_db_id <20-0-1234>
ê atom$act_set_db_offset <2>

atom$act_set_db_record <02x 03x>

The result of this example is record 20-0-1234 contains 00x 01x 02x 03x.

 America Online, Inc. 1993-97 2-29 America Online Confidential




Chapter 2: Action (ACT) Protocol October 1997

atom$act_set_db_record
49 ($31)

Description

atom$act_set_db_record saves an object to a database record.  The database
record is identified by a global ID.

This atom command is used in conjunction with atom$act_set_db_length,
atom$act_set_db_offset, atom$act_get_db_record, atom$act_set_db_id,
and atom$act_get_db_value.

Syntax

atom$act_set_db_record <object_data>

<object_data> Specifies the object data to store.  The data is stored in
the form of a sequence of bytes.

Return Value

Database record global ID.

Example

The following example saves the object data to a database record:

atom$act_set_db_id <20-0-1234>
atom$act_set_db_offset <0>

ê atom$act_set_db_record <00x 01x 02x 03x>

America Online Confidential 2-30  America Online, Inc. 1993-97




October 1997 FDO91 Manual, Vol. 1

atom$act_set_guest_flag
50 ($32)

Description

atom$act_set_guest_flag sets the state of the flag fGuestAccount.  An
argument must be specified to set the state of fGuestAccount to true.

atom$if_guest_then and atom$if_owner_then can be used to perform
conditional operations on the state of the fGuestAccount flag.

Syntax

atom$act_set_guest_flag [<boolean>]

[<boolean>] Specifies the flag state.  Values are:

1 fGuestAccount is true.

0 fGuestAccount is false.  (Default)

Return Value

None.

Examples

The following examples set the state of the fGuestAccount flag:

atom$act_set_guest_flag <1>

The result of this example is that the fGuestAccount is set to true.

atom$act_set_guest_flag <0>

The result of this example is that the fGuestAccount is set to false.

atom$act_set_guest_flag

The result of this example is that the fGuestAccount is set to false.

 America Online, Inc. 1993-97 2-31 America Online Confidential




Chapter 2: Action (ACT) Protocol October 1997

atom$act_set_inheritance
2 ($02)

Description

atom$act_set_inheritance determines the scope of a search for an action or
variable for the current object.  The search begins on the current object.  If an
action or variable is not found, the search continues as far as the inheritance
flag allows.  List box items usually have an inheritance flag ID set to inherit all
actions from their parent.  This means only one action is defined for all child
items.

To inherit actions or variables directly from an object, use 128
(DIRECT_FROM flag) in conjunction with another inheritance flag ID.  For
example, to inherit actions or variables from the root, use 128
(DIRECT_FROM flag) plus 5 (ROOT).  This causes the action protocol to
ignore all other objects in the tree except for the one specified.

Syntax

atom$act_set_inheritance <flag_id>

<flag_id> Specifies a 1-byte flag ID to determine where the action
is inherited from.  Values are:

0 NONE — searches the current object.

1 INDEPENDENTS_PARENT —
searches the current independent group
(window object), then the parent.

2 PARENT — searches the current object,
then the parent.

3 INDEPENDENT — searches the current
object, then the independent group
(window object).

4 INDEPENDENT_AND_ABOVE —
searches the current independent group
(window object), then the next parent,
and the next parent, all the way up to the
root.

America Online Confidential 2-32  America Online, Inc. 1993-97




October 1997 FDO91 Manual, Vol. 1

5 ROOT — searches the current object,
then the root.

6 OBJECT_ID — searches the current
object, then the global ID.

7 RELATIVE_ID — searches the current
object, then the relative ID.

128 DIRECT_FROM — used in conjunction
with another inheritance flag and
searches the object specified by that
inheritance flag.

Return Value

The flag ID.

Examples

The following examples show how actions are inherited:

atom$act_set_inheritance <5>

The result of this example is that a search for an action begins on the current
object.  If a match is not found, the parent object is searched, followed by the
window object, followed by the root.

atom$act_set_inheritance <134>

The result of this example is that the action is inherited directly from the global
ID of the current object.  This is derived by adding 128 (the value of the
DIRECT_FROM flag) and 6 (the value of the OBJECT_ID flag).

 America Online, Inc. 1993-97 2-33 America Online Confidential




Chapter 2: Action (ACT) Protocol October 1997

atom$act_set_newuser_flag
51 ($33)

Description

atom$act_set_newuser_flag sets the state of the fNewUser flag.  An
argument must be specified to set the state of fNewUser to true.

atom$if_newuser_then can be used to perform conditional operations on the
state of the fNewUser flag.

Syntax

atom$act_set_newuser_flag [<boolean>]

[<boolean>] Specifies the state of the flag.  Values are:

1 fNewUser is true.

0 fNewUser is false.  (Default)

Return Value

None.

Examples

The following examples set the state of the fNewUser flag:

atom$act_set_newuser_flag <1>

The result of this example is that fNewUser is set to true.

atom$act_set_newuser_flag <0>

The result of this example is that fNewUser is set to false.

atom$act_set_newuser_flag

The result of this example is that fNewUser is set to false.

America Online Confidential 2-34  America Online, Inc. 1993-97




October 1997 FDO91 Manual, Vol. 1

atom$act_sound_beep
5 ($05)

Description

atom$act_sound_beep causes the internal speaker of the client computer to
make a beep sound.  The client computer must be equipped with a speaker.

Syntax

atom$act_sound_beep [<sound>]

[<sound>] Specifies an optional 1-byte sound index, which is one
of the default Windows sounds, to be played if a sound
driver is enabled.  If no argument is specified, a standard
beep sound is produced using the computer speaker.
Values are:

40x Plays the sound identified by the
SystemAsterisk entry in the sounds
section of win.ini.

30x Plays the sound identified by the
SystemExclamation entry in the sounds
section of win.ini.

20x Plays the sound identified by the
SystemQuestion entry in the sounds
section of win.ini.

10x Plays the sound identified by the
SystemHand entry in the sounds section
of win.ini.

00x Plays the sound identified by the
SystemDefault entry in the sounds
section of win.ini.

 America Online, Inc. 1993-97 2-35 America Online Confidential




Chapter 2: Action (ACT) Protocol October 1997

Return Value

None.

Examples

The following examples make a beep sound on the client computer:

atom$act_sound_beep

The result of this example is that the client computer makes a beep sound from
its internal speaker.

atom$act_sound_beep <30x>

The result of this example is that the client computer plays the sound identified
by the SystemExclamation entry in the sounds section of the Windows win.ini
file.

America Online Confidential 2-36  America Online, Inc. 1993-97



===== END PDF: action.pdf =====

===== BEGIN PDF: adp.pdf =====



Manual: FDO91 Manual
Chapter 42: Asynchronous Data Protocol defines the atoms that manage the asynchronous transfer of
large blocks of data between the host and client PCs.
Last updated: October 1997




C H A P T E R  4 2

Asynchronous Data Protocol (ADP)

The Asynchronous Data Protocol (ADP) (protocol ID 66) consists of atoms
that manage the transfer of large blocks of data (typically images) between the
host and client PCs.  The ADP protocol is currently used for e-mail images but
can be used for other applications that require downloading or uploading any
large block of data.  This interactive protocol enables the host to divide a large
block of data into smaller chunks that are asynchronously transmitted host to
client or client to host.  Essentially, the host regulates the flow of a large block
of data it receives or transmits to a rate that it can properly process by
capitalizing on pauses between the chunk transmissions.  An interactive
example of an asynchronous upload session is shown in the atom$adp_start
examples and an asynchronous download session is shown in the
atom$adp_end examples.

Asynchronous Data Protocol Atoms

The Asynchronous Data Protocol (ADP) functions and their associated atoms
follow:

Function Atoms

Establishing or defining an atom$adp_abort_tkn
asynchronous data transfer
session atom$adp_chunk_count

atom$adp_chunk_size

atom$adp_eid

atom$adp_eid_string

America Online Confidential 42-1  America Online, Inc. 1993-97




Chapter 42: Asynchronous Data Protocol (ADP) October 1997

atom$adp_route_tkn

atom$adp_tranaction_type

Starting or ending an ADP atom$adp_end
code stream

atom$adp_start

Sending a data chunk atom$adp_data

atom$adp_echo

atom$adp_eid

atom$adp_eid_string

Restricting data flow or atom$adp_chunk_count
requesting more data

atom$adp_chunk_size

atom$adp_echo

atom$adp_more_chunks

atom$adp_no_more chunks

Terminating a data transfer atom$adp_abort
session

atom$adp_no_more chunks

The ADP atoms are described in alphabetical order in the rest of this chapter.

America Online Confidential 42-2  America Online, Inc. 1993-97




October 1997 FDO91 Manual, Vol. 2

atom$adp_abort
10 ($0A)

Description

atom$adp_abort terminates the data transfer session before it is complete.

Syntax

atom$adp_abort

Return Value

None.

Example

The following client-to-host example terminates the upload data transfer before
it is complete:

atom$adp_start
atom$adp_eid <1>

ê atom$adp_abort
atom$adp_end

 America Online, Inc. 1993-97 42-3 America Online Confidential




Chapter 42: Asynchronous Data Protocol (ADP) October 1997

atom$adp_abort_tkn
5 ($05)

Description

atom$adp_abort_tkn defines a host server routing token the client should use
to abort the current data transfer session.

Syntax

atom$adp_abort_tkn <word>

<word> Specifies a hex value (2 bytes) that defines a host server
routing token the client should use to abort this session.
The value is a code of 2 ASCII characters.  For
example, the value 4Ex 57x defines a routing token of
NW.

Return Value

None.

Example

The following host-to-client example defines a host server routing token the
client should use to abort this session:

atom$adp_start
atom$adp_transaction_type <2>
atom$adp_eid_string <M0039813>
atom$adp_route_tkn <4Ex 57x>

ê atom$adp_abort_tkn <4Ex 57x>
atom$adp_end

America Online Confidential 42-4  America Online, Inc. 1993-97




October 1997 FDO91 Manual, Vol. 2

atom$adp_chunk_count
7 ($07)

Description

atom$adp_chunk_count specifies the number of consecutive data chunks that
can be sent from the client without waiting for a host signal to continue.  Note
that atom$adp_more_chunks must be sent by the host before more chunk
transmission can continue.

Syntax

atom$adp_chunk_count <dword>

<dword> Specifies the number of consecutive data chunks to send
without a signal from the host to continue.  Values are 1
or greater.

Return Value

None.

Example

The following host-to-client example specifies the number of consecutive data
chunks that can be sent without waiting for a host signal to continue.  In this
example, the client must wait for a signal (atom$adp_more_chunks) from the
host after each chunk is sent.

atom$adp_start
atom$adp_transaction_type <1>
atom$adp_eid <1>
atom$adp_chunk_size <1900>

ê atom$adp_chunk_count <1>
atom$adp_route_tkn <4Ex 57x>
atom$adp_abort_tkn <4Ex 57x>
atom$adp_end

 America Online, Inc. 1993-97 42-5 America Online Confidential




Chapter 42: Asynchronous Data Protocol (ADP) October 1997

atom$adp_chunk_size
6 ($06)

Description

atom$adp_chunk_size specifies the chunk size of each data segment to be
transmitted.  Typically, the last chunk in the chain of the data object is smaller
than the specified chunk size.

Syntax

atom$adp_chunk_size <dword>

<dword> Specifies the chunk size in bytes for the data segments
to be transmitted.  Values are 1 or greater.

Return Value

None.

Example

The following host-to-client example sets the chunk size of the data segments
to 1900 bytes:

atom$adp_start
atom$adp_transaction_type <1>
atom$adp_eid <1>

ê atom$adp_chunk_size <1900>
atom$adp_chunk_count <1>
atom$adp_route_tkn <4Ex 57x>
atom$adp_abort_tkn <4Ex 57x>
atom$adp_end

America Online Confidential 42-6  America Online, Inc. 1993-97




October 1997 FDO91 Manual, Vol. 2

atom$adp_data
8 ($08)

Description

atom$adp_data specifies a chunk of the object data to send to the host or
client in an asynchronous transfer session.

Syntax

atom$adp_data <raw_data>

<raw_data> Specifies the raw chunk of data to send.  Note that the
chunk size cannot exceed the value specified by
atom$adp_chunk_size.

Return Value

None.

Examples

The following host-to-client example sends a chunk of data to the client in a
download session:

atom$adp_start
atom$adp_transaction_type <2>
atom$adp_eid_string <M0039813>
atom$adp_route_tkn <4Ex 57x>
atom$adp_abort_tkn <4Ex 57x>
atom$adp_end
.
.
atom$adp_start
atom$adp_eid_string <M0039813>
atom$adp_echo <4Ex 57x>

ê atom$adp_data <34x 54x F9x 02x 34x 54x F9x 34x 54x F9x … >
atom$adp_end

The following host-to-client example establishes an upload session with the
client.  Note that the host sends the following code stream first before the
client sends data:

atom$adp_start
atom$adp_transaction_type <1>
atom$adp_eid <1>

 America Online, Inc. 1993-97 42-7 America Online Confidential




Chapter 42: Asynchronous Data Protocol (ADP) October 1997

atom$adp_chunk_size <1900>
atom$adp_chunk_count <1>
atom$adp_route_tkn <4Ex 57x>
atom$adp_abort_tkn <4Ex 57x>
atom$adp_end

The following client-to-host example sends a chunk of data to the host in an
upload session:

atom$adp_start
atom$adp_eid <1>

ê atom$adp_data <00x 01x C3x 1Ax 35x 00x 02x … >
atom$adp_end

America Online Confidential 42-8  America Online, Inc. 1993-97




October 1997 FDO91 Manual, Vol. 2

atom$adp_echo
12 ($0C)

Description

atom$adp_echo defines a host server routing token (echo token) the client
should use regarding the acknowledgment of data chunks received.  Also, the
client sends this atom to the host when it is ready to receive more download
data.

Syntax

atom$adp_echo <raw_token>

<raw_token> Specifies a hex value (2 bytes) that defines an echo
token the client should use regarding the
acknowledgment of data chunks.  The value is a code of
2 ASCII characters.  For example, the value 4Ex 57x
defines a routing token of NW.

Return Value

None.

Examples

The following host-to-client example establishes a download session, sends a
data chunk, and defines an echo token for the client to use after it receives the
data chunk:

atom$adp_start
atom$adp_transaction_type <2>
atom$adp_eid_string <M0039813>
atom$adp_route_tkn <4Ex 57x>
atom$adp_abort_tkn <4Ex 57x>
atom$adp_end
.
.
atom$adp_start
atom$adp_eid_string <M0039813>

ê atom$adp_echo <4Ex 57x>
atom$adp_data <34x 54x F9x 02x 34x 54x F9x 34x 54x F9x … >
atom$adp_end

 America Online, Inc. 1993-97 42-9 America Online Confidential




Chapter 42: Asynchronous Data Protocol (ADP) October 1997

The following client-to-host example acknowledges receipt of a chunk of the
data object M0039813 using an echo token of 4Ex 57x.  This action in a
download protocol is called echoing the EID (embedded ID of the object).

atom$adp_start
atom$adp_eid_string <M0039813>

ê atom$adp_echo <4Ex 57x>
atom$adp_end

America Online Confidential 42-10  America Online, Inc. 1993-97




October 1997 FDO91 Manual, Vol. 2

atom$adp_eid
3 ($03)

Description

atom$adp_eid defines the embedded ID (EID) of the data object (such as an
image) for transfer to the host.  This EID is established by the client for both
the host and client to track the interactive code stream sequences throughout
an object transfer.

Syntax

atom$adp_eid <dword>

<dword> Specifies the EID of the data object.  Values are 1 or
greater.

Return Value

None.

Example

The following host-to-client example defines an EID of 1 to the data object for
an upload session:

atom$adp_start
atom$adp_transaction_type <1>

ê atom$adp_eid <1>
atom$adp_chunk_size <1900>
atom$adp_chunk_count <1>
atom$adp_route_tkn <4Ex 57x>
atom$adp_abort_tkn <4Ex 57x>
atom$adp_end

 America Online, Inc. 1993-97 42-11 America Online Confidential




Chapter 42: Asynchronous Data Protocol (ADP) October 1997

atom$adp_eid_string
11 ($0B)

Description

atom$adp_eid_string defines the embedded ID (EID) of the data object (such
as an image) for transfer to the client.  This EID is established by the host for
both the host and client to track the interactive transmission sequences
throughout an object transfer session.

Syntax

atom$adp_eid_string <string>

<string> Specifies the EID of the data object.  Values are a
sequence of alphanumeric characters (12 maximum).

Return Value

None.

Example

The following host-to-client example defines an EID (M0039813) for a data
object of the download session:

atom$adp_start
atom$adp_transaction_type <2>

ê atom$adp_eid_string <M0039813>
atom$adp_route_tkn <4Ex 57x>
atom$adp_abort_tkn <4Ex 57x>
atom$adp_end

America Online Confidential 42-12  America Online, Inc. 1993-97




October 1997 FDO91 Manual, Vol. 2

atom$adp_end
2 ($02)

Description

atom$adp_end marks the end of an ADP code stream that may start,
continue, or stop an asynchronous data transfer session.  Note that each ADP
code stream must be started with atom$adp_start.

Syntax

atom$adp_end

Return Value

None.

Examples

The following examples show a set of ADP code streams that illustrate the
interactive asynchronous protocol for a download session from the host.  Each
code stream must be terminated with atom$adp_end.

The following host-to-client example ends an ADP code stream that establishes
an asynchronous data transfer session with the client:

atom$adp_start
atom$adp_transaction_type <2>
atom$adp_eid_string <M0039813>
atom$adp_route_tkn <4Ex 57x>
atom$adp_abort_tkn <4Ex 57x>

ê atom$adp_end

The following host-to-client example ends an ADP stream that sends a chunk
of data to the client:

atom$adp_start
atom$adp_eid_string <M0039813>
atom$adp_echo <4Ex 57x>
atom$adp_data <34x 54x F9x 02x 34x 54x F9x 34x 54x F9x … >

ê atom$adp_end

The following client-to-host example ends an ADP stream that acknowledges
receipt of the last data chunk and is ready for more data:

 America Online, Inc. 1993-97 42-13 America Online Confidential




Chapter 42: Asynchronous Data Protocol (ADP) October 1997

atom$adp_start
atom$adp_eid_string <M0039813>
atom$adp_echo <4Ex 57x>

ê atom$adp_end

The following host-to-client example ends an ADP stream that tells the client
the data transfer session is complete:

atom$adp_start
atom$adp_eid_string <M0039813>
atom$adp_no_more_chunks

ê atom$adp_end

America Online Confidential 42-14  America Online, Inc. 1993-97




October 1997 FDO91 Manual, Vol. 2

atom$adp_more_chunks
14 ($0E)

Description

atom$adp_more_chunks tells the client the host is ready for the next data
chunk in an asynchronous data transfer session.

Syntax

atom$adp_more_chunks

Return Value

None.

Example

The following host-to-client example tells the client the host is ready for the
next data chunk:

atom$adp_start
atom$adp_eid <1>

ê atom$adp_more_chunks
atom$adp_end

 America Online, Inc. 1993-97 42-15 America Online Confidential




Chapter 42: Asynchronous Data Protocol (ADP) October 1997

atom$adp_no_more_chunks
9 ($09)

Description

atom$adp_no_more_chunks signals to the receiver that the data transmission
is complete.

Syntax

atom$adp_no_more_chunks

Return Value

None.

Examples

The following client-to-host example tells the host the data transfer session is
complete:

atom$adp_start
atom$adp_eid <1>

ê atom$adp_no_more_chunks
atom$adp_end

The following host-to-client example tells the client the data transfer session is
complete:

atom$adp_start
atom$adp_eid_string <M0039813>

ê atom$adp_no_more_chunks
atom$adp_end

America Online Confidential 42-16  America Online, Inc. 1993-97




October 1997 FDO91 Manual, Vol. 2

atom$adp_route_tkn
4 ($04)

Description

atom$adp_route_tkn defines a host server routing token the client should use
regarding the entire data transfer session.

Syntax

atom$adp_route_tkn <word>

<word> Specifies a hex value (2 bytes) that defines a host server
routing token the client should use regarding this
session.  The value is a code of 2 ASCII characters.  For
example, the value 4Ex 57x defines a routing token of
NW.

Return Value

None.

Example

The following host-to-client example defines a host server routing token the
client should use regarding this session:

atom$adp_start
atom$adp_transaction_type <2>
atom$adp_eid_string <M0039813>

ê atom$adp_route_tkn <4Ex 57x>
atom$adp_abort_tkn <4Ex 57x>
atom$adp_end

 America Online, Inc. 1993-97 42-17 America Online Confidential




Chapter 42: Asynchronous Data Protocol (ADP) October 1997

atom$adp_start
1 ($01)

Description

atom$adp_start marks the beginning of an ADP code stream that may start,
continue, or stop an asynchronous data transfer session.  Note that each ADP
code stream must be terminated with atom$adp_end.

Syntax

atom$adp_start

Return Value

None.

Examples

The following examples show a set of ADP code streams that illustrate the
interactive asynchronous protocol for an upload session with the host.  Each
code stream must be started with atom$adp_start.

The following host-to-client example starts an ADP code stream that
establishes an asynchronous data transfer session with the client:

ê atom$adp_start
atom$adp_transaction_type <1>
atom$adp_eid <1>
atom$adp_chunk_size <1900>
atom$adp_chunk_count <1>
atom$adp_route_tkn <4Ex 57x>
atom$adp_abort_tkn <4Ex 57x>
atom$adp_end

The following client-to-host example starts an ADP code stream that sends
data to the host:

ê atom$adp_start
atom$adp_eid <1>
atom$adp_data <00x 01x C3x 1Ax 35x 00x 02x … >
atom$adp_end

The following host-to-client example starts an ADP code stream that tells the
client the host is ready for more data:

America Online Confidential 42-18  America Online, Inc. 1993-97




October 1997 FDO91 Manual, Vol. 2

ê atom$adp_start
atom$adp_eid <1>
atom$adp_more_chunks
atom$adp_end

The following client-to-host example starts an ADP code stream that tells the
host the data transfer session is complete:

ê atom$adp_start
atom$adp_eid <1>
atom$adp_no_more_chunks
atom$adp_end

 America Online, Inc. 1993-97 42-19 America Online Confidential




Chapter 42: Asynchronous Data Protocol (ADP) October 1997

atom$adp_transaction_type
15 ($0F)

Description

atom$adp_transaction_type defines whether the data transfer is an upload or
a download session.

Syntax

atom$adp_tranaction_type <dword>

<dword> Specifies the transaction ID.  Values are:

1 Upload transaction

2 Download transaction

Return Value

None.

Examples

The following host-to-client example defines the data transfer as a download
session:

atom$adp_start
ê atom$adp_transaction_type <2>

atom$adp_eid_string <M0039813>
atom$adp_route_tkn <4Ex 57x>
atom$adp_abort_tkn <4Ex 57x>
atom$adp_end

The following host-to-client example defines the data transfer as an upload
session:

atom$adp_start
ê atom$adp_transaction_type <1>

atom$adp_eid <1>
atom$adp_chunk_size <1900>
atom$adp_chunk_count <1>
atom$adp_route_tkn <4Ex 57x>
atom$adp_abort_tkn <4Ex 57x>
atom$adp_end

America Online Confidential 42-20  America Online, Inc. 1993-97



===== END PDF: adp.pdf =====

===== BEGIN PDF: appendixa.pdf =====



Manual: FDO91 Manual
Appendix A: Contains examples of MIP and List Manager atom streams.
Last updated: May 1996




A P P E N D I X  A

Examples

This appendix contains examples of MIP and List Manager atom streams.
Most examples contain at least two atom streams showing the communication
that occurs between the host and the client when an action is performed by a
member.

The heading for each example indicates the example number and a description
of the action that produced the atom streams.  Each atom stream is introduced
with a line stating what token is sent and in which direction the atom stream is
going.

America Online Confidential A-1  America Online, Inc. 1993-96




Appendix A: Examples May 1996

Example 1:  Sending an E-mail Message

m4 Client to Host
atom$uni_start_stream
atom$mip_start_message
atom$mip_attr_addressee_type <0>
atom$mip_addressee "John Smith"
atom$mip_addressee "John Doe"
atom$mip_attr_addressee_type <1>
atom$mip_addressee "Archie"
atom$mip_subject "Next Year's Goals"
atom$mip_header_complete
atom$uni_end_stream

AT Host to Client
atom$uni_start_stream
atom$mip_header_accepted
atom$uni_end_stream

m5 Client to Host
atom$uni_start_stream
atom$mip_text "This is the first line of my message."
atom$mip_text "This is the second line of my message."
atom$mip_start_block
atom$mip_attr_data_type <259>
atom$mip_data <Magic Cap object data goes here...>
atom$mip_end_block
atom$mip_end_message
atom$uni_end_stream

AT Host to Client
atom$uni_start_stream
atom$mip_message_accepted
atom$uni_end_stream

America Online Confidential A-2  America Online, Inc. 1993-96




May 1996 FDO91 Manual, Vol. 2

Example 2:  Requesting a List of New E-mail

m7 Client to Host

No atoms are sent - only the token...

AT Host to Client
atom$uni_start_stream
atom$lm_start_list
atom$lm_attr_list_type <0>
atom$lm_start_list_entry "Next Year's Goals"
atom$lm_attr_list_entry_id <2233440>
atom$lm_end_list_entry
atom$lm_start_list_entry "Subject of message 2"
atom$lm_attr_list_entry_id <2233441>
atom$lm_end_list_entry
.
.
More list entries here...
.
.
atom$lm_end_list
atom$uni_end_stream

 America Online, Inc. 1993-96 A-3 America Online Confidential




Appendix A: Examples May 1996

Example 3:  Requesting a Specific E-mail Message
From a List

Assume that the e-mail list shown in Example 2 has just been received and one of its
messages is requested...

m3 Client to Host
atom$uni_start_stream
atom$mip_message_id <2233440>
atom$uni_end_stream

AT Host to Client
atom$uni_start_stream
atom$mip_start_message
atom$mip_attr_message_type <0>
atom$mip_message_id <2233449>
atom$mip_message_datestr "94-08-03 11:42:15 EDT"
atom$mip_author "John Doe"
atom$mip_attr_addressee_type <0>
atom$mip_addressee "GlendaW"
atom$mip_addressee "YouWho"
atom$mip_subject "Yesterday's Meeting"
atom$mip_text "This is the first line of the message."
atom$mip_text "This is the second line of the message."
atom$mip_start_block
atom$mip_data <Magic Cap object data goes here...>
atom$mip_end_block
atom$lm_end_message
atom$uni_end_stream

America Online Confidential A-4  America Online, Inc. 1993-96




May 1996 FDO91 Manual, Vol. 2

Example 4:  Requesting a List of News Articles

Ct Client to Host
atom$uni_start_stream
atom$de_data 0x00050001 ;See Note below
atom$uni_end_stream

AT Host to Client
atom$uni_start_stream
atom$lm_start_list
atom$lm_attr_list_type <5>
atom$lm_start_list_entry "Whitewater claims second
  Treasury official"
atom$lm_attr_list_entry_id <123-1>
atom$lm_end_list_entry
atom$lm_start_list_entry "Shuttle mission scrapped with
  two seconds to liftoff"
atom$lm_attr_list_entry_id <123-2>
atom$lm_end_list_entry
.
.
More list entries here...
.
.
atom$lm_end_list
atom$uni_end_stream

Note:  In the initial request (Ct packet), a 32-bit data value is provided to
specify the article request.  The high-16 bits of this value specify the maximum
number of articles desired; less than the maximum may be available, but more
than the maximum will not be offered.  The low 16-bits indicate which
collection of articles is being requested.  Currently, the following collections
are available:

1 Top News

2 Sports News

3 U.S. Business News

4 World Business News

 America Online, Inc. 1993-96 A-5 America Online Confidential




Appendix A: Examples May 1996

Example 5:  Requesting a Specific News Article
From a List

Assume that the article list shown in Example 4 has just been received and one of its
articles is requested...

t6 Client to Host
atom$uni_start_stream
atom$de_data <123-1> ;article ID
atom$uni_end_stream

AT Host to Client
atom$uni_start_stream
atom$mip_start_message
atom$mip_attr_message_type <4>
atom$mip_message_id <2233449>
atom$mip_message_datestr "94-08-04 14:05:09 EDT"
atom$mip_author "America Online"
atom$mip_subject "Whitewater claims second Treasury
  official"
atom$mip_text "Treasury Department General Counsel Jean
  Hanson resigned Thursday under pressure ..."
.
.
More text here...
.
.
atom$lm_end_message
atom$uni_end_stream

America Online Confidential A-6  America Online, Inc. 1993-96




May 1996 FDO91 Manual, Vol. 2

Example 6:  Requesting a Stock Quote

pq Client to Host
atom$uni_start_stream
atom$de_data "AMER"
atom$uni_end_stream

AT Host to Client
atom$uni_start_stream
atom$mip_start_message
atom$mip_attr_message_type <3>
atom$mip_message_datestr "94-08-04 13:31:46 EDT"
atom$mip_author "AOL Stock Service"
atom$mip_subject "AMER - 59 at 13:12"
atom$mip_text "AMER - AMERICA ONLINE INC\n"
atom$mip_text "pr: 59 at 13:12\n" ;current price
atom$mip_text "ch: Down 5/8\n" ;change today
atom$mip_text "th: 59 3/4\n" ;today's high
atom$mip_text "tl: 57 3/4\n" ;today's low
atom$mip_text "to: 59 1/2\n" ;today's open
atom$mip_text "yc: 59 5/8\n" ;yesterday's close
atom$mip_text "vl: 95,200\n" ;today's volume
atom$mip_text "yh: 92\n" ;yearly high
atom$mip_text "yl: 43 1/2\n" ;yearly low
atom$mip_text "pe: 77.6\n" ;P/E ratio
atom$lm_end_message
atom$uni_end_stream

Note:  The text of a pcquote (compressed) message may also contain lines
beginning with "la:" (last ask), "lb:" (last bid), and "yi:" (yield).  Programs
accepting stock data should be prepared to accept, and ignore, lines that are
not recognized (i.e., new data elements that are added to the host after the
client software was written).  Clients should also be able to handle the case
where some of the normal data items are omitted.

 America Online, Inc. 1993-96 A-7 America Online Confidential



===== END PDF: appendixa.pdf =====

===== BEGIN PDF: appendixb.pdf =====



Manual: FDO91 Manual
Appendix B: Describes the FDO91 internationalization (i18n) atoms.
Last updated: May 1996




A P P E N D I X  B

Internationalization (i18n) Atoms

The FDO91 internationalization atoms are used to localize data sent from the
host system to international clients of the online service.  These atoms localize
text, date/time formats, and data types.

Data sent from the host is localized according to time zone and language
preferences specified within the member preferences area of the online service.
Host data is also localized according to date and time settings within the
control panel(s) of the client computer operating system, i.e., Control
Panels/Date & Time (Macintosh) and Control Panel/Regional Settings
(Windows).

The FDO91 internationalization atoms are described in alphabetical order in
the rest of this appendix.

America Online Confidential B-1  America Online, Inc. 1993-96




Appendix B: Internationalization (i18n) Atoms May 1996

atom$async_alert_add_date_time
33 ($21)

Description

atom$async_alert_add_date_time converts a host time stamp to a localized
date/time string and adds the string to the alert message being built.  This atom
is sent by the host.  The date and time format depends on the date and time
settings specified by the client computer, i.e., Control Panels/Date & Time
(Macintosh) and Control Panel/Regional Settings (Windows).

Syntax

atom$async_alert_add_date_time [<flags>]<timestamp>[<timezone>]

The format of the argument to this atom is determined by the argument length,
as follows:

4 bytes [<flags>]

5 bytes [<flags>] <timestamp>

6 bytes [<flags>] <timestamp> [<timezone>]

[<flags>] Specifies the display format of the date and time.  This is
a 1-byte argument whose bits are specified as follows:

Bit 0 The time will appear.  If this bit is not 
specified, bits 1, 2, and 3 are ignored.

Bit 1 Seconds will be included in the time display, 
e.g., 08:30:01.

Bit 2 The time zone will be included in the time 
display, e.g., 08:30:01 EDT.

Bit 3 The time will appear before the date, e.g., 
08:30:01  05-30-96.

Bit 4 The date will appear.  If this bit is not 
specified, bits 5, 6, and 7 are ignored.

America Online Confidential B-2  America Online, Inc. 1993-96




May 1996 FDO91 Manual, Vol. 2

Bit 5 Displays the date in abbreviated date format, 
e.g., Thur, May 30, 1996.  (Macintosh 
only)

Bit 6 Displays the date in long date format, e.g., 
Thursday, May 30, 1996.

Bit 7 Not used.

<timestamp> Specifies that the host time stamp will be used as the
date/time string for the current object.  The host time
stamp is in Stratus time format.

[<timezone>] Host-specified time zone will appear.  Otherwise, the
client-specified time zone will be used.

Return Value

Unchanged.

Example

The following is an example of how to attach a localized date/time string to the
end of the alert message being built:

atom$uni_start_stream
.
.
.
atom$async_alert_start "The following error occurred"

ê atom$async_alert_add_date_time <508741200>
atom$async_alert_add_text "This is not a known user."
atom$async_alert_end
.
.
.
atom$uni_end_stream

 America Online, Inc. 1993-96 B-3 America Online Confidential




Appendix B: Internationalization (i18n) Atoms May 1996

atom$async_alert_add_text
32 ($20)

Description

atom$async_alert_add_text inserts text into the alert message being built.  If
a text argument is provided with atom$async_alert_start, the text argument
for this atom is concatenated to the end of the alert message.  This atom is sent
by the host.

Syntax

atom$async_alert_add_text [<text>]

[<text>] Text inserted into the alert message being built.

Return Value

Unchanged.

Example

The following is an example of how to attach text to the end of the alert
message being built:

atom$uni_start_stream
.
.
.
atom$async_alert_start "The following error occurred"
atom$async_alert_add_date_time <508741200>

ê atom$async_alert_add_text "This is not a known user."
atom$async_alert_end
.
.
.
atom$uni_end_stream

America Online Confidential B-4  America Online, Inc. 1993-96




May 1996 FDO91 Manual, Vol. 2

atom$async_alert_end
34 ($22)

Description

atom$async_alert_end specifies the end of an alert message definition.  If a
text argument is provided with this atom, the text is attached to the end of the
alert message being built.  This atom is sent by the host.

Syntax

atom$async_alert_end [<text>]

[<text>] The text of the alert message definition.

Return Value

Unchanged.

Example

The following is an example of how to specify the end of an alert message
definition:

atom$uni_start_stream
.
.
.
atom$async_alert_start "The following error occurred"
atom$async_alert_add_date_time <508741200>
atom$async_alert_add_text "This is not a known user."

ê atom$async_alert_end
.
.
.
atom$uni_end_stream

 America Online, Inc. 1993-96 B-5 America Online Confidential




Appendix B: Internationalization (i18n) Atoms May 1996

atom$async_alert_start
31 ($1F)

Description

atom$async_alert_start specifies the start of an alert message definition.  If a
text argument is provided with this atom, the text is attached to the beginning
of the alert message being built.  This atom is sent by the host.

Syntax

atom$async_alert_start [<text>]

[<text>] Text attached to the beginning of the message within the
alert message being built.

Return Value

Unchanged.

Example

The following is an example of how to specify the beginning of an alert
message definition:

atom$uni_start_stream
.
.
.

ê atom$async_alert_start "The following error occurred"
atom$async_alert_add_date_time <508741200>
atom$async_alert_add_text "This is not a known user."

 atom$async_alert_end
.
.
.
atom$uni_end_stream

America Online Confidential B-6  America Online, Inc. 1993-96




May 1996 FDO91 Manual, Vol. 2

atom$async_invoke_language_pref
36 ($24)

Description

atom$async_invoke_language_pref invokes the language preferences dialog
box.  Language preferences allow the member to specify a language from a list
box of up to eight languages.

Syntax

atom$async_invoke_language_pref

Return Value

Unchanged.

Example

The following is an example of how to invoke the language preferences dialog
box:

atom$uni_start_stream
atom$uni_set_context_relative <1>

ê atom$async_invoke_language_pref
atom$man_end_context
atom$uni_end_stream

 America Online, Inc. 1993-96 B-7 America Online Confidential




Appendix B: Internationalization (i18n) Atoms May 1996

atom$async_invoke_timezone_pref
35 ($23)

Description

atom$async_invoke_timezone_pref invokes the time zone preferences dialog
box.  Time zone preferences allow members to specify the local time zone from
a list of time zones.  This atom is not currently intended for use with Macintosh
clients of the online service.

Syntax

atom$async_invoke_timezone_pref

Return Value

Unchanged.

Example

The following is an example of how to invoke the time zone preferences dialog
box:

atom$uni_start_stream
atom$uni_set_context_relative <1>

ê atom$async_invoke_timezone_pref
atom$man_end_context
atom$uni_end_stream

America Online Confidential B-8  America Online, Inc. 1993-96




May 1996 FDO91 Manual, Vol. 2

atom$lm_add_entry_date_time
36 ($24)

Description

atom$lm_add_entry_date_time converts a host time stamp to a localized
date/time string and adds the string to the list entry being built.  This atom is
sent by the host.  The date and time format also depends on the date and time
settings specified by the client computer, i.e., Control Panels/Date & Time
(Macintosh) and Control Panel/Regional Settings (Windows).

Syntax

atom$lm_add_entry_date_time [<flags>] <timestamp> [<timezone>]

The format of the argument to this atom is determined by the argument length,
as follows:

4 bytes [<flags>]

5 bytes [<flags>] <timestamp>

6 bytes [<flags>] <timestamp> [<timezone>]

[<flags>] Specifies the display format of the date and time.  This is
a 1-byte argument whose bits are specified as follows:

Bit 0 The time will appear.  If this bit is not 
specified, bits 1, 2, and 3 are ignored.

Bit 1 Seconds will be included in the time display, 
e.g., 08:30:01.

Bit 2 The time zone will be included in the time 
display, e.g., 08:30:01 EDT.

Bit 3 The time will appear before the date, e.g., 
08:30:01  05-30-96.

Bit 4 The date will appear.  If this bit is not 
specified, bits 5, 6, and 7 are ignored.

 America Online, Inc. 1993-96 B-9 America Online Confidential




Appendix B: Internationalization (i18n) Atoms May 1996

Bit 5 Displays the date in abbreviated date format, 
e.g., Thur, May 30, 1996.  (Macintosh 
only)

Bit 6 Displays the date in long date format, e.g., 
Thursday, May 30, 1996.

Bit 7 Not used.

<timestamp> Specifies that the host time stamp will be used as the
date/time string for the current object.  The host time
stamp is in Stratus time format.

[<timezone>] Host-specified time zone will appear.  Otherwise, the
client-specified time zone will be used.

Return Value

Unchanged.

Example

The following is an example of how to attach a localized date/time string to the
"New Mail" list entry being built:

atom$uni_start_stream
.
.
.
atom$lm_start_list_entry

ê atom$lm_add_entry_date_time <270452900>
atom$lm_add_entry_tab
atom$lm_add_entry_text "Akoontz"
atom$lm_add_entry_tab
atom$lm_add_entry_text "No Subject"
atom$lm_end_list_entry
.
.
.
atom$uni_end_stream

America Online Confidential B-10  America Online, Inc. 1993-96




May 1996 FDO91 Manual, Vol. 2

atom$lm_add_entry_tab
35 ($23)

Description

atom$lm_add_entry_tab attaches a tab to the list entry being built.  This
atom is sent by the host and is used within an atom$lm_start_list_entry /
atom$lm_end_list_entry stream.

Syntax

atom$lm_add_entry_tab

Return Value

Unchanged.

Example

The following is an example of how to attach a tab to the "New Mail" list entry
being built:

atom$uni_start_stream
.
.
.
atom$lm_start_list_entry
atom$lm_add_date_time <270452900>

ê atom$lm_add_entry_tab
atom$lm_add_entry_text "Akoontz"

ê atom$lm_add_entry_tab
atom$lm_add_entry_text "No Subject"
atom$lm_end_list_entry
.
.
.
atom$uni_end_stream

 America Online, Inc. 1993-96 B-11 America Online Confidential




Appendix B: Internationalization (i18n) Atoms May 1996

atom$lm_add_entry_text
34 ($22)

Description

atom$lm_add_entry_text attaches text to the end of the list entry being built.
This atom is sent by the host and is used within an atom$lm_start_list_entry /
atom$lm_end_list_entry stream.

Syntax

atom$lm_add_entry_text <text>

<text> The text of the list entry being built.

Return Value

Unchanged.

Example

The following is an example of text attached to the "New Mail" list entry being
built:

atom$uni_start_stream
.
.
.
atom$lm_start_list_entry
atom$lm_add_date_time <270452900>
atom$lm_add_entry_tab

ê atom$lm_add_entry_text "Akoontz"
atom$lm_add_entry_tab

ê atom$lm_add_entry_text "No Subject"
atom$lm_end_list_entry
.
.
.
atom$uni_end_stream

America Online Confidential B-12  America Online, Inc. 1993-96




May 1996 FDO91 Manual, Vol. 2

atom$man_add_date_time
84 ($54)

Description

atom$man_add_date_time converts a host time stamp to a localized
date/time string and adds the string to the current object.  This atom is sent by
the host.  The date and time format also depends on the date and time settings
specified by the client computer, i.e., Control Panels/Date & Time (Macintosh)
and Control Panel/Regional Settings (Windows).

Syntax

atom$man_add_date_time [<flags>] <timestamp> [<timezone>]

The format of the argument to this atom is determined by the argument length,
as follows:

4 bytes [<flags>]

5 bytes [<flags>] <timestamp>

6 bytes [<flags>] <timestamp> [<timezone>]

[<flags>] Specifies the display format of the date and time.  This is
a 1-byte argument whose bits are specified as follows:

Bit 0 The time will appear.  If this bit is not 
specified, bits 1, 2, and 3 are ignored.

Bit 1 Seconds will be included in the time display, 
e.g., 08:30:01.

Bit 2 The time zone will be included in the time 
display, e.g., 08:30:01 EDT.

Bit 3 The time will appear before the date, e.g., 
08:30:01  05-30-96.

Bit 4 The date will appear.  If this bit is not 
specified, bits 5, 6, and 7 are ignored.

 America Online, Inc. 1993-96 B-13 America Online Confidential




Appendix B: Internationalization (i18n) Atoms May 1996

Bit 5 Displays the date in abbreviated date format, 
e.g., Thur, May 30, 1996.  (Macintosh 
only)

Bit 6 Displays the date in long date format, e.g., 
Thursday, May 30, 1996.

Bit 7 Not used.

<timestamp> Specifies that the host time stamp will be used as the
date/time string for the current object.  The host time
stamp is in Stratus time format.

[<timezone>] Host-specified time zone will appear.  Otherwise, the
client-specified time zone will be used.

Return Value

Unchanged.

Example

The following is an example of how to attach a localized date/time string to the
end of the current object:

atom$man_add_date_time <270452900>

America Online Confidential B-14  America Online, Inc. 1993-96




May 1996 FDO91 Manual, Vol. 2

atom$man_add_title_date_time
88 ($58)

Description

atom$man_add_title_date_time converts a host time stamp to a localized
date/time string and adds the string to the end of the title being built.  This
atom is sent by the host.  The date and time format also depends on the date
and time settings specified by the client computer, i.e., Control Panels/Date &
Time (Macintosh) and Control Panel/Regional Settings (Windows).

Syntax

atom$man_add_title_date_time [<flags>] <timestamp> [<timezone>]

The format of the argument to this atom is determined by the argument length,
as follows:

4 bytes [<flags>]

5 bytes [<flags>] <timestamp>

6 bytes [<flags>] <timestamp> [<timezone>]

[<flags>] Specifies the display format of the date and time.  This is
a 1-byte argument whose bits are specified as follows:

Bit 0 The time will appear.  If this bit is not 
specified, bits 1, 2, and 3 are ignored.

Bit 1 Seconds will be included in the time display, 
e.g., 08:30:01.

Bit 2 The time zone will be included in the time 
display, e.g., 08:30:01 EDT.

Bit 3 The time will appear before the date, e.g., 
08:30:01  05-30-96.

Bit 4 The date will appear.  If this bit is not 
specified, bits 5, 6, and 7 are ignored.

 America Online, Inc. 1993-96 B-15 America Online Confidential




Appendix B: Internationalization (i18n) Atoms May 1996

Bit 5 Displays the date in abbreviated date format, 
e.g., Thur, May 30, 1996.  (Macintosh 
only)

Bit 6 Displays the date in long date format, e.g., 
Thursday, May 30, 1996.

Bit 7 Not used.

<timestamp> Specifies that the host time stamp will be used as the
date/time string for the current object.  The host time
stamp is in Stratus time format.

[<timezone>] Host-specified time zone will appear.  Otherwise, the
client-specified time zone will be used.

Return Value

Unchanged.

Example

The following is an example of how to attach a localized date/time string to the
end of the title being built:

atom$man_add_title_date_time

America Online Confidential B-16  America Online, Inc. 1993-96




May 1996 FDO91 Manual, Vol. 2

atom$man_add_title_tab
87 ($57)

Description

atom$man_add_title_tab attaches a tab to the end of a title being built.  This
atom is sent by the host.

Syntax

atom$man_add_title_tab

Return Value

Unchanged.

Example

The following is an example of how to attach a tab to the title being built:

atom$man_add_title_tab

 America Online, Inc. 1993-96 B-17 America Online Confidential




Appendix B: Internationalization (i18n) Atoms May 1996

atom$man_add_title_text
86 ($56)

Description

atom$man_add_title_text attaches text to the end of the title being built.
This atom is sent by the host.

Syntax

atom$man_add_title_text <text>

<text> Text to be attached to the end of the title.

Return Value

Unchanged.

Example

The following is an example of how to attach text to the title being built:

atom$uni_start_stream
.
.
.
atom$man_start_title " "

ê atom$man_add_title_text "Sonics Sweep Rockets"
atom$man_end_title
.
.
.
atom$uni_end_stream

America Online Confidential B-18  America Online, Inc. 1993-96




May 1996 FDO91 Manual, Vol. 2

atom$man_end_title
89 ($59)

Description

atom$man_end_title specifies the end of a title definition.  If a text argument
is provided, it is attached to the end of the title.  This atom is sent by the host.

Syntax

atom$man_end_title [<text>]

[<text>] Text to be attached to the end of the title.

Return Value

Unchanged.

Example

The following is an example of how to specify the end of a title definition:

atom$uni_start_stream
.
.
.
atom$man_start_title " "
atom$man_add_title_text "Sonics Sweep Rockets"

ê atom$man_end_title
.
.
.
atom$uni_end_stream

 America Online, Inc. 1993-96 B-19 America Online Confidential




Appendix B: Internationalization (i18n) Atoms May 1996

atom$man_start_title
85 ($55)

Description

atom$man_start_title specifies the start of a title definition.  If a text
argument is provided with this atom, the text is attached to the beginning of
the title being built.  This atom is sent by the host.

Syntax

atom$man_start_title [<text>]

[<text>] Text to be attached to the beginning of the title.

Return Value

Unchanged.

Example

The following is an example of how to specify the beginning of a title
definition:

atom$uni_start_stream
.
.
.

ê atom$man_start_title " "
atom$man_add_title_text "Sonics Sweep Rockets"
atom$man_end_title
.
.
.
atom$uni_end_stream

America Online Confidential B-20  America Online, Inc. 1993-96




May 1996 FDO91 Manual, Vol. 2

atom$mat_bool_encode_unicode
134 ($86)

Description

atom$mat_bool_encode_unicode specifies that Unicode encoding will be
used as the encode type when the contents of the associated text field are sent
to the host.  This atom is sent by the host.

Syntax

atom$mat_bool_encode_unicode (<yes>|<no>)

<yes> Unicode encoding will be used.

<no> Unicode encoding will not be used.  (Default)

Return Value

Unchanged.

Example

The following is an example of how to specify that Unicode encoding will be
used as the encode type:

atom$mat_bool_encode_unicode <yes>

 America Online, Inc. 1993-96 B-21 America Online Confidential




Appendix B: Internationalization (i18n) Atoms May 1996

atom$mat_bool_first_script
106 ($6A)

Description

atom$mat_bool_first_script specifies whether the associated text field or list
box is limited to characters from the script language type of the first character
entered.  This atom is sent by the host.

Syntax

atom$mat_bool_first_script (<yes>|<no>)

<yes> The associated text field or list box is limited to
characters from the script language type of the first
character entered.

<no> The associated text field or list box is not limited to
characters from the script language type of the first
character entered.  (Default)

Return Value

Unchanged.

Example

The following is an example of how to specify that the associated text field or
list box be limited to characters from the script language type of the first
character entered:

atom$mat_bool_first_script <yes>

America Online Confidential B-22  America Online, Inc. 1993-96




May 1996 FDO91 Manual, Vol. 2

atom$mat_bool_language_popup
117 ($75)

Description

atom$mat_bool_language_popup populates the language preferences list
box within the member preferences/language preferences area of the online
service.  This atom is sent by the host.

Syntax

atom$mat_bool_language_popup (<yes>|<no>)

<yes> Populates the language preferences list box.

<no> Does not populate the language preferences list box.
(Default)

Return Value

Unchanged.

Example

The following is an example of how to populate the language preferences list
box:

atom$mat_start_object <dss_list>
atom$mat_orientation <hcc>

ê atom$mat_bool_language_popup <yes>
atom$mat_title_position 01x
atom$mat_bool_invisible <yes>
atom$mat_start_object

 America Online, Inc. 1993-96 B-23 America Online Confidential




Appendix B: Internationalization (i18n) Atoms May 1996

atom$mat_field_script
104 ($68)

Description

atom$mat_field_script specifies the allowable script language type (and
associated ASCII type) for the associated input field.  This atom is sent by the
host.

Syntax

atom$mat_field_script <script>

<script> Allowable script for the associated input field.  Valid
values are as follows:

127 ScriptASCII (Default)

128 ScriptAnyScript

0 ScriptLatin1

1 ScriptJapanese

2 ScriptTradChinese

3 ScriptKorean

4 ScriptArabic

5 ScriptHebrew

6 ScriptGreek

7 ScriptCyrillic

8 ScriptDevangari

9 ScriptGurmaukhi

10 ScriptGujarati

12 ScriptOriya

America Online Confidential B-24  America Online, Inc. 1993-96




May 1996 FDO91 Manual, Vol. 2

13 ScriptBengali

14 ScriptTamil

15 ScriptTelugu

16 ScriptKannada

17 ScriptMalayalam

18 ScriptSinhalese

19 ScriptBurmese

20 ScriptKhmer

21 ScriptThai

22 ScriptLaotian

23 ScriptGeorgian

24 ScriptArmenian

25 ScriptSimpChinese

26 ScriptTibetan

27 ScriptMongolian

28 ScriptGeez

29 ScriptEastEurRoman

30 ScriptVietnamese

31 ScriptExtArabic

Return Value

Unchanged.

 America Online, Inc. 1993-96 B-25 America Online Confidential




Appendix B: Internationalization (i18n) Atoms May 1996

Example

The following is an example of how to specify the allowable script language
type for the Keyword input field of the online service:

atom$man_append_data "Enter word(s):"
atom$man_start_sibling <edit_view>

ê atom$mat_field_script 00x

America Online Confidential B-26  America Online, Inc. 1993-96




May 1996 FDO91 Manual, Vol. 2

atom$mip_message_date
16 ($10)

Description

atom$mip_message_date converts a host time stamp to a localized date/time
string and attaches the string to the message being built.  This atom is sent by
the host and should be used in place of atom$mip_message_datestr for
international clients.  The date and time format also depends on the date and
time settings specified by the client computer, i.e., Control Panels/Date & Time
(Macintosh) and Control Panel/Regional Settings (Windows).

Syntax

atom$mip_message_date [<flags>] <timestamp> [<timezone>]

The format of the argument to this atom is determined by the argument length,
as follows:

4 bytes [<flags>]

5 bytes [<flags>] <timestamp>

6 bytes [<flags>] <timestamp> [<timezone>]

[<flags>] Specifies the display format of the date and time.  This is
a 1-byte argument whose bits are specified as follows:

Bit 0 The time will appear.  If this bit is not 
specified, bits 1, 2, and 3 are ignored.

Bit 1 Seconds will be included in the time display, 
e.g., 08:30:01.

Bit 2 The time zone will be included in the time 
display, e.g., 08:30:01 EDT.

Bit 3 The time will appear before the date, e.g., 
08:30:01  05-30-96.

Bit 4 The date will appear.  If this bit is not 
specified, bits 5, 6, and 7 are ignored.

 America Online, Inc. 1993-96 B-27 America Online Confidential




Appendix B: Internationalization (i18n) Atoms May 1996

Bit 5 Displays the date in abbreviated date format, 
e.g., Thur, May 30, 1996.  (Macintosh 
only)

Bit 6 Displays the date in long date format, e.g., 
Thursday, May 30, 1996.

Bit 7 Not used.

<timestamp> Specifies that the host time stamp will be used as the
date/time string for the current object.  The host time
stamp is in Stratus time format.

[<timezone>] Host-specified time zone will appear.  Otherwise, the
client-specified time zone will be used.

Return Value

Unchanged.

Example

The following is an example of how to attach a localized date/time string to the
message being built:

atom$mip_message_date <943587328>

America Online Confidential B-28  America Online, Inc. 1993-96




May 1996 FDO91 Manual, Vol. 2

atom$uni_end_typed_data
24 ($18)

Description

atom$uni_end_typed_data terminates the current data type specified by
atom$uni_start_typed_data and resets the data type to ASCII.  This atom
can be sent by the host or the client.  atom$uni_start_typed_data /
atom$uni_end_typed_data pairs cannot be nested.

Syntax

atom$uni_end_typed_data

Return Value

Unchanged.

Example

The following is an example of how to terminate the current data type in effect:

atom$uni_start_typed_data <$0104>
.
.
.

ê atom$uni_end_typed_data

 America Online, Inc. 1993-96 B-29 America Online Confidential




Appendix B: Internationalization (i18n) Atoms May 1996

atom$uni_next_atom_typed
22 ($16)

Description

atom$uni_next_atom_typed specifies the data type for the text argument of
the subsequent atom in the stream.  This atom can be used between atom$uni
_start_typed_data and atom$uni_end_typed_data to temporarily override
the currently specified data type.  If no data type is specified, the previous data
type will remain in effect.

Syntax

atom$uni_next_atom_typed <data_type>

<data_type> The data type identifier for the text argument of the
subsequent atom.  Valid values are as follows:

0 ($0000) ASCII (Default)

260 ($0104) Latin1

4096-6143 ($1000-$17FF) Unicode

The data type identifier is a two-byte field that defines how the data is
interpreted and how it affects the target field.  The example below specifies
that the data type is Unicode, compression is off, big endian format is used,
and the language is French.

Unicode Tag Language Code

0  0  0  1  0  0  0  0  0  0  0  0  0  0  0  1

Little Endian Bit

Compression Bit

Return Value

Unchanged.

America Online Confidential B-30  America Online, Inc. 1993-96




May 1996 FDO91 Manual, Vol. 2

Example

The following is an example of how to specify the data type of the text
argument of the subsequent atom:

atom$uni_start_typed_data <$0000>
.
.
.

ê atom$uni_next_atom_typed <$0104>
atom$async_play_sound "A bientôt"
.
.
.
atom$uni_end_typed_data

 America Online, Inc. 1993-96 B-31 America Online Confidential




Appendix B: Internationalization (i18n) Atoms May 1996

atom$uni_start_typed_data
23 ($17)

Description

atom$uni_start_typed_data specifies the data type for the text arguments of
all subsequent atoms in the stream.  atom$uni_start_typed_data /
atom$uni_end_typed_data pairs cannot be nested.

Syntax

atom$uni_start_typed_data <data_type>

<data_type> The data type identifier for the text argument of all
subsequent atoms.  Valid values are as follows:

0 ($0000) ASCII (Default)

260 ($0104) Latin1

4096-6143 ($1000-$17FF) Unicode

The data type identifier is a two-byte field that defines how the data is
interpreted and how it affects the target field.  The example below specifies
that the data type is Unicode, compression is off, big endian format is used,
and the language is French.

Unicode Tag Language Code

0  0  0  1  0  0  0  0  0  0  0  0  0  0  0  1

Little Endian Bit

Compression Bit

Return Value

Unchanged.

America Online Confidential B-32  America Online, Inc. 1993-96




May 1996 FDO91 Manual, Vol. 2

Example

The following is an example of how to specify the data type of the text
argument of all subsequent atoms:

ê atom$uni_start_typed_data <$0104>
.
.
.
atom$uni_end_typed_data

 America Online, Inc. 1993-96 B-33 America Online Confidential



===== END PDF: appendixb.pdf =====

===== BEGIN PDF: async.pdf =====





Chapter 10:

Async Protocol

The Async Protocol (protocol ID 13) consists of atoms that control the 
communication flow between the host and client. Atoms of the Async 
Protocol also provide the following miscellaneous functions: 

• Displaying an alert dialog box

• Sending a message to let the client tools know the member is offline

• Sending a message to let the client tools know the member is online

• Playing a sound if the member has a sound card

Async Protocol Atoms

The Async protocol atoms are described in alphabetical order in the 
rest of this chapter.

© America Online, Inc. 1999 10-1 America Online Confidential






Chapter 10: Async Protocol June 1999


atom$async_alert
7 ($07)

atom$async_alert displays a Windows alert box with the specified text 
string as the alert message. The flag parameter specifies the style of alert 
box to display.

Note: atom$async_alert_raw is the atom for transferring data in 
form_edit. atom$async_alert_raw is not documented elsewhere because 
the description and syntax are the same as atom$async_alert.

Syntax

atom$async_alert <alert_style> <alert_text>

<alert_style> Specifies a 1 byte alert-style flag. If the 
high bit is set on the style flag, the alert 
pops the top form before it comes up. Alert 
styles and their values are as follows

1. ALERT_TYPE_INFO

2. ALERT_TYPE_ERROR

3. ALERT_TYPE_POP_INFO

4. ALERT_TYPE_POP_ERROR

5. ALERT_TYPE_WARNING

6. ALERT_TYPE_POP_WARNING

<alert_text> Specifies an alert text.

Return Value

Unchanged.

Example

The following example sends an informational alert to the member 
confirming that the member has updated the language preference list:

atom$uni_start_stream
atom$async_invoke_language_pref


America Online Confidential 10-2 © America Online, Inc. 1999




June 1999 FDO91 Manual


atom$uni_end_stream
atom$uni_start_stream
atom$uni_next_atom_typed <ascii>

atom$async_alert <info> "Your language list has been 
updated."


© America Online, Inc. 1999 10-3 America Online Confidential




Chapter 10: Async Protocol June 1999


atom$async_alert_add_date_time      
33 ($21)

atom$async_alert_add_date_time adds the host date and time integer 
stamp for the host process.

Syntax

atom$async_alert_add_date_time_<date time> 

<date time> Specifies the host date time stamp integer value.

Return Value

Unchanged.

Example

The following example adds the host date time integer value to an alert 
message:

atom$uni_start_stream <00x>
atom$async_alert_start
atom$uni_start_stream
atom$async_alert_add_date_time
atom$async_alert_add_text <text>
atom$async_alert_end <00x>
atom$uni_end_stream


America Online Confidential 10-4 © America Online, Inc. 1999




June 1999 FDO91 Manual


atom$async_alert_add_text           
32 ($20)

atom$async_alert_add_text adds text to the alert box.

Syntax

atom$async_alert_add_text <text>

<text> Specifies the text string.

Return Value

Unchanged.

Example

The following example adds text to an alert message:

atom$uni_start_stream <00x>
atom$async_alert_start
atom$uni_start_stream
atom$async_alert_add_date_time
atom$async_alert_add_text <text>
atom$async_alert_end <00x>
atom$uni_end_stream


© America Online, Inc. 1999 10-5 America Online Confidential




Chapter 10: Async Protocol June 1999


atom$async_alert_end               
34 ($22)

atom$async_alert_end ends the alert box creation action.

Syntax

atom$async_alert_end

Return Value

Unchanged.

Example

The following example ends the modifications of an alert message:

atom$uni_start_stream <00x>
atom$async_alert_start
atom$uni_start_stream
atom$async_alert_add_date_time
atom$async_alert_add_text <text>
atom$async_alert_end <00x>
atom$uni_end_stream


America Online Confidential 10-6 © America Online, Inc. 1999




June 1999 FDO91 Manual


atom$async_alert_start              
31 ($1F)

atom$async_alert_start builds an async alert box of multiple lines.

Syntax

atom$async_alert_start

Return Value

Unchanged.

Example

The following example starts the modification of an alert message:

atom$uni_start_stream <00x>
atom$async_alert_start
atom$uni_start_stream
atom$async_alert_add_date_time
atom$async_alert_add_text <text>
atom$async_alert_end <00x>
atom$uni_end_stream


© America Online, Inc. 1999 10-7 America Online Confidential




Chapter 10: Async Protocol June 1999


atom$async_allow_switch_screen_names 
55 ($37)

atom$async_allow_switch_screen_names lets the member switch screen 
names without losing the connection to the host. Use this atom to 
determine whether the member has permission to switch screen names. The 
menu calls the atom when the member chooses the Switch Screen Names 
button and the atom then broadcasts a message to all tools. Any tool not 
ready to switch screen names returns FALSE. 

Syntax

atom$async_allow_switch_screen_names 

Return Value

Returns nonzero if it is allowed to enable switch screen names.

Example

The following example allows the member to switch screen names without 
losing connection to the host:

atom$async_allow_switch_screen_names 
atom$if_last_return_false_then 3 4 
atom$uni_invoke_no_context 41-42465
atom$uni_sync_skip 3
atom$sm_send_token_arg 6Ex 74x
atom$uni_sync_skip 4


America Online Confidential 10-8 © America Online, Inc. 1999




June 1999 FDO91 Manual


atom$async_auto_launch                
38 ($26)

atom$async_auto_launch continues the navigation process to 
automatically go to a web site when AOL is invoked from a hyperlink or 
external application. This atom is sent by the host as part of the logon 
sequence. It is the atom that is used most often to deliver sign-on tools on 
demand (TODs). 

Syntax

atom$async_auto_launch

Return Value

Unchanged.

Note: atom$async_auto_launch is a host-only atom used for continuing 
the sign-on process. You cannot use this atom in normal forms 
development. 


© America Online, Inc. 1999 10-9 America Online Confidential




Chapter 10: Async Protocol June 1999


atom$async_display_errors            
41 ($29)

atom$async_display_errors displays the error messages stored on the 
client.

Syntax

atom$async_display_errors

Return Value

Unchanged.

Example

The following example displays the error messages stored on the client:

atom$uni_start_stream
atom$man_set_context_relative 30 
atom$async_display_errors
atom$man_end_context
atom$man_update_display
atom$uni_end_stream


America Online Confidential 10-10 © America Online, Inc. 1999




June 1999 FDO91 Manual


atom$async_error_box
6 ($06)

atom$async_error_box displays a Windows dialog box with an alert 
message. 

Note: The functionality of this atom has been replaced by 
atom$async_alert.

Syntax

atom$async_error_box <error number_string>

<error number_string> Specifies an error number string.

Return Value

Unchanged.

Example

The following example displays a Windows error box with an alert 
message:

atom$<man_set_context_relative> 1
atom$man_get_attribute prot$mat atom$mat_bool_invisible
atom$if_last_return_false_then <15>
atom$async_error_box <"Your error here">
atom$uni_abort_stream
atom$uni_sync_skip 15


© America Online, Inc. 1999 10-11 America Online Confidential




Chapter 10: Async Protocol June 1999


atom$async_exec_app                  
25 ($19)

atom$async_exec_app executes the application whose text string you 
provide.

Syntax

atom$async_exec_app <application file string>

<application file Specifies an application file to execute.
string>

Return Value

Unchanged.

Example

The following example executes an application that takes the member to 
the designated Intranet site:

atom$async_exec_app <"start.exe http://www2.ops.aol.com/
Tech-Docs/unr/index.htm">


America Online Confidential 10-12 © America Online, Inc. 1999




June 1999 FDO91 Manual


atom$async_exec_context_help 
14 ($0E)

atom$async_exec_context_help invokes the AOL help file, aol.hlp, and 
takes you to the part of the file related to the query. 

Note: atom$async_exec_context_help_raw is the atom for transferring 
data in form_edit. atom$async_exec_context_help_raw is not documented 
elsewhere because the description and syntax are the same as 
atom$async_exec_context_help.

Syntax

atom$async_exec_context_help <help text>

<help text> Specifies a context.

Return Value

Unchanged.

Example

The following example invokes the AOL help file, aol.hlp, and takes you 
to the part of the file related to mail:

atom$man_start_object <trigger, "Help">
atom$act_replace_select_action
atom$uni_start_stream
atom$async_exec_context_help "mail"
atom$uni_end_stream
atom$man_end_object


© America Online, Inc. 1999 10-13 America Online Confidential




Chapter 10: Async Protocol June 1999


atom$async_exec_help                 
13 ($0D)

atom$async_exec_help invokes the AOL help file, aol.hlp; this atom is 
statically defined to always open the aol.hlp file.

Syntax

atom$async_exec_help

Return Value

Unchanged.

Example

The following example invokes the AOL help file, aol.hlp, and takes you 
to the part of the file related to the query:

atom$man_start_object <trigger, "Help">
atom$act_replace_select_action
atom$uni_start_stream
atom$async_exec_help 
atom$uni_start_stream
atom$man_end_object


America Online Confidential 10-14 © America Online, Inc. 1999




June 1999 FDO91 Manual


atom$async_exec_help_file           
16 ($10)

atom$async_exec_help_file invokes the AOL help file, aol.hlp, or 
another help file that you designate. You have the option of putting in a text 
string to go to a particular help file or open the aol.hlp file. 

Syntax

atom$async_exec_help_file <file name string>

<file name string> Specifies a particular help file.

Return Value

Unchanged.

Example

The following example invokes the AOL help file, aol.hlp, and takes you 
to the part of the file related to the query:

atom$man_start_object <trigger, "Help">
atom$act_replace_select_action
atom$uni_start_stream
atom$async_exec_help_file 
atom$uni_start_stream
atom$man_end_object


© America Online, Inc. 1999 10-15 America Online Confidential




Chapter 10: Async Protocol June 1999


atom$async_exit
0 ($00)

atom$async_exit sends a MSG_NOTIFY_EXIT_REQUEST to all registered 
tools. If the result is RESULT_OK, an alert, asking the member whether or 
not to sign off or exit, is displayed.

Syntax

atom$async_exit

Return Value

Unchanged.

Example

The following example starts the process of exiting a member from the 
application:

atom$start_object <trigger> "Exit"
atom$act_replace_select_action
uni_start_stream_wait_on
atom$async_exit
atom$uni_end_stream
atom$man_end_object


America Online Confidential 10-16 © America Online, Inc. 1999




June 1999 FDO91 Manual


atom$async_exit_aux
0 ($00)

atom$async_exit_aux causes the online service application to sign off (if 
online) or exit (if offline). This atom causes the sign-off process to bypass 
popup functionality.

Syntax

atom$async_exit_aux

Return Value

Unchanged.

Example

The following example causes the online service application to sign off (if 
online) or exit (if offline):

atom$start_object <trigger> "Exit"
atom$act_replace_select_action
atom$uni_start_stream_wait_on
atom$async_exit_aux
atom$uni_end_stream
atom$man_end_object


© America Online, Inc. 1999 10-17 America Online Confidential




Chapter 10: Async Protocol June 1999


atom$async_force_off               
17 ($11)

atom$async_force_off completely drops the line to the host.

Syntax

atom$async_force_off

Return Value

Unchanged.

Example

The following example completely drops the line to the host and sends a 
message to the member that says "Thank you for using America Online":

atom$man_strat_object <trigger> 
atom$act_replace_select_action
atom$uni_start_stream
atom$man_close_update
atom$async_force_off <"Thank you for using America Online.">
atom$uni_end_stream
atom$man_end_object


America Online Confidential 10-18 © America Online, Inc. 1999




June 1999 FDO91 Manual


atom$async_get_alert_result 
24 ($18)

atom$async_get_alert_result returns the result of an alert box.

Syntax

atom$async_get_alert_result 

Return Value

Turns to l ("el") value.

Example

The following example returns the result of an alert box, which offers a 
choice between true or false:

atom$uni_start_stream
atom$async_get_alert_result
atom$if_last_return_false_then <11, 12>
atom$uni_sync_skip <11>
atom$man_end_context
atom$uni_sync_skip <12>
atom$act_get_db_value <14x, ffx, 00x, 04x>
atom$if_last_return_true_then <1, 2>
atom$uni_sync_skip <1>
atom$uni_end_stream


© America Online, Inc. 1999 10-19 America Online Confidential




Chapter 10: Async Protocol June 1999


atom$async_get_screen_name          
29 ($1D)

atom$async_get_screen_name returns the screen name as the l ("el") 
value.

Syntax

atom$async_get_screen_name <screen name>

<screen name> Specifies a screen name.

Return Value

To whatever the current screen name.

Example

The following example returns the screen name to whatever the current 
screen name happens to be:

atom$act_replace_select_action
atom$uni_start_stream
atom$async_get_screen_name
atom$uni_use_last_atom_string prot$async atom$async 
<async_storename>
atom$man_end_context
atom$man_update_display
atom$uni_end_stream


America Online Confidential 10-20 © America Online, Inc. 1999




June 1999 FDO91 Manual


atom$async_invoke_language_pref     
36 ($24)

atom$async_invoke_language_pref invokes an operating system call to 
select a language preference.

Syntax

atom$async_invoke_language_pref <language preference string>

<language Specifies a language preference.
preference string>

Return Value

Unchanged.

Example

The following example invokes an operating system call to select a 
language preference:

atom$uni_start_stream
atom$async_invoke_language_pref
atom$uni_end_stream


© America Online, Inc. 1999 10-21 America Online Confidential




Chapter 10: Async Protocol June 1999


atom$async_invoke_timezone_pref  
35 ($23)

atom$async_invoke_timezone_pref invokes an operating system call to 
select a time zone preference.

Syntax

atom$async_invoke_timezone_pref <timezone preference string>

<timezone Specifies a time zone.
preference string>

Return Value

Unchanged.

Example

The following example invokes an operating system call to select a time 
zone preference:

atom$uni_start_stream
atom$async_invoke_timezone_pref
atom$uni_end_stream


America Online Confidential 10-22 © America Online, Inc. 1999




June 1999 FDO91 Manual


atom$async_is_client_32bit           
40 ($28)

atom$async_is_client_32bit verifies that the client is a 32-bit 
microprocessor.

Syntax

atom$async_is_client_32bit

Return Value

True or false as l ("el") value.

Example

The following example verifies that the client is a 32-bit microprocessor:

atom$man_set_context_relative <1>
atom$async_is_client_32bit
atom$if_last_return_false_then <11, 12>
atom$man_append_data "16 bit"
atom$uni_sync_skip <11>
atom$man_append_data "32 bit"
atom$uni_sync_skip <12>
atom$man_end_context


© America Online, Inc. 1999 10-23 America Online Confidential




Chapter 10: Async Protocol June 1999


atom$async_is_current_screenname     
48 ($30)

atom$async_is_current_screenname verifies the current screen name.

Syntax

atom$async_is_current_screenname

Return Value

Unchanged.

Example

The following example verifies the current screen name:

atom$man_set_context_relative <2>
atom$idb_set_context <20-0-16>
atom$idb_offset 1
atom$idb_get_string
atom$uni_save-result
atom$uni_use_last_atom_string prot$async 
atom$async_is_current_screenname 
atom$if_last_return_true_then <1 2>
atom$mat_bool_invisible no
atom$uni_sync_skip 1
atom$mat_bool_invisible yes
atom$uni_sync_skip 2


America Online Confidential 10-24 © America Online, Inc. 1999




June 1999 FDO91 Manual


atom$async_is_guest                   
42 ($2A)

atom$async_is_guest verifies whether the sign-on account is a guest 
account or not.

Syntax

atom$async_is_guest

Return Value

True or false.

Example

The following example verifies whether the sign-on account is a guest 
account or not:

atom$async_is_guest
atom$if_last_return_true_then <1 2>
atom$man_set_context_relative <30>
atom$mat_bool_disabled <no>
atom$uni_sync_skip <1>
atom$ man_set_context_relative <30>
atom$mat_bool_disabled <yes>
atom$uni_sync_skip 2
atom$man_end_context
atom$man_update_display


© America Online, Inc. 1999 10-25 America Online Confidential




Chapter 10: Async Protocol June 1999


atom$async_is_known_subaccount     
27 ($1B)

atom$async_is_known_subaccount verifies if the screen name is a 
subaccount of the master account.

Syntax

atom$async_is_known_subaccount 

Return Value

True or false.

Example

The following example verifies if the screen name is a subaccount of the 
master account:

atom$async_is_known_subaccount
atom$if_last_return_true_then <1 2>
atom$man_set_context_relative 30
atom$mat_bool_disabled <no>
atom$uni_sync_skip <1>
atom$man_set_context_relative 30
atom$mat_bool_disabled <yes>
atom$uni_sync_skip 2
atom$man_end_context
atom$man_update_display


America Online Confidential 10-26 © America Online, Inc. 1999




June 1999 FDO91 Manual


atom$async_launcher_name             
39 ($27)

atom$async_launcher_name compares the name given to the name when 
the application was started.

Syntax

atom$async_launcher_name

Return Value

The value returned compares the name given to the name when the 
application was started.

Example

The following example compares the ATT name given to the name when 
the application was started:

atom$async_launcher_name <ATT>
atom$asyncif_last_return_true_then 1 2
atom$man_start_object trigger
atom$mat_context_help "Return to ATT&T WorldNet (sm) 
Service."
atom$mat_art_id 1-0-29290
atom$act_replace_select_action
atom$uni_start_stream
atom$async_exit
atom$uni_end_stream
atom$man_end_object
atom$uni_sync_skip 1
atom$man_start_object trigger
atom$mat_context_help "Today’s News:\nYour 24-hour new 
source."
atom$mat_art_id 1-0-21882
atom$act_replace_select_action
atom$uni_start_stream_wait_on
atom$sm_sendf1 0-32-2573
atom$man_end_object
atom$uni_sync_skip 2


© America Online, Inc. 1999 10-27 America Online Confidential




Chapter 10: Async Protocol June 1999


atom$async_logout                    
49 ($31)

atom$async_logout invokes the sign-off process and exits the application. 
See atom$async_signoff on page 10-38 for a related atom that does not exit 
the application.

Syntax

atom$async_logout

Return Value

Unchanged.

Example

The following example invokes the sign-off process and exits the 
application:

atom$uni_start_stream
atom$async_logout
atom$uni_end_stream


America Online Confidential 10-28 © America Online, Inc. 1999




June 1999 FDO91 Manual


atom$async_offline
5 ($05)

atom$async_offline sends a MSG_NOTIFY_OFFLINE and a 
MSG_CCL_HANG_UP to all registered tools. Use this atom on the Goodbye 
form.

Syntax

atom$async_offline

Return Value

Unchanged.

Example

The following example is used on the Goodbye form to send messages to 
all registered tools that the client is going offline and communications links 
are ended:

atom$async_offline


© America Online, Inc. 1999 10-29 America Online Confidential




Chapter 10: Async Protocol June 1999


atom$async_online
4 ($04)

atom$async_online sends a MSG_NOTIFY_ONLINE to all registered tools. 
Use this atom on the Welcome screen form.

Syntax

atom$async_online

Return Value

Unchanged.

Example

The following example is used on the Welcome screen to let all registered 
tools know that the client is online:

async_online 


America Online Confidential 10-30 © America Online, Inc. 1999




June 1999 FDO91 Manual


atom$async_playsound
11 ($0B)

atom$async_playsound plays a digitized sound if the member has a sound 
card.

When this atom is used, the online service application searches the DOS 
path for the sound name. 

In the Matterhorn client (GM June 11, 1999) and subsequent clients 
atom$async_playsound is upgraded to handle multiple sound requests.

Note: atom$async_playsound_raw transfers data in form_edit. 
atom$async_playsound_raw is not documented elsewhere because the 
description and syntax are the same as atom$async_playsound.

Syntax

atom$async_playsound <sound_name or anthem>

<sound_name or Specifies the sound name string or anthem.
anthem>

Return Value

Unchanged.

Example

The following example plays the Goodbye sound message:

atom$async_playsound <"Goodbye">


© America Online, Inc. 1999 10-31 America Online Confidential




Chapter 10: Async Protocol June 1999


atom$async_playsound_dammit
11 ($0B)

atom$async_playsound_dammit forces a sound to play even if another 
one is currently playing.

You will encounter this atom in older clients. In the Matterhorn client (GM 
June 11, 1999) and subsequent clients there is no need to use 
atom$async_playsound_dammit because atom$async_playsound is 
upgraded for multiple sound requests. 

Syntax

atom$async_playsound_dammit <sound_name>

<sound_name> Specifies the sound name string.

Return Value

Unchanged.

Example

The following example forces the You’ve Got Mail sound message to play 
immediately:

atom$async_playsound_dammit <"GotMail">


America Online Confidential 10-32 © America Online, Inc. 1999




June 1999 FDO91 Manual


atom$async_relogon                   
44 ($2C)

atom$async_relogon invokes the process of signing on again.

Syntax

atom$async_relogon 

Return Value

Unchanged.

Example

The following message starts the process of signing on again:

atom$async_relogon


© America Online, Inc. 1999 10-33 America Online Confidential




Chapter 10: Async Protocol June 1999


atom$async_relogon_init             
43 ($2B)

atom$async_relogon_init starts the process of signing on again.

Syntax

atom$async_relogon_init

Return Value

Unchanged.

Example

The following example starts the process of signing on again:

atom$uni_start_stream
atom$uni_invoke_no_context <41-31433>
atom$async_relogon_init
atom$buf_destroy_buffer
atom$buf_start_buffer 159
buf_set_token "UR"
buf_add_atom_data <0>
buf_close_buffer
atom$uni_end_stream


America Online Confidential 10-34 © America Online, Inc. 1999




June 1999 FDO91 Manual


atom$async_screen_name_changed
26 ($1A)

atom$async_screen_name_changed sets the internal client pointers to the 
currently selected screen name. This atom alerts all tools to the fact that the 
current screen name has changed.

Syntax

atom$async_screen_name_changed

Return Value

Unchanged.

Example

The following example sets the internal client pointers to the currently 
selected screen name:

atom$async_screen_name_changed


© America Online, Inc. 1999 10-35 America Online Confidential




Chapter 10: Async Protocol June 1999


atom$async_set_screen_name       
37 ($25)

atom$async_set_screen_name sets the screen name to whatever screen 
name is then in use.

Note: This atom does not work on a branded client because you cannot set 
the screen name to any name other than the one that logged on to initiate 
the current session.

Syntax

atom$async_set_screen_name <screen_name>

<screen_name> Specifies the screen name.

Return Value

Unchanged.

Example

The following example sets the screen name to the one that logged on to 
initiate the current session:

atom$uni_start_stream
atom$async_set_screen_name <"name">
atom$uni_end_stream


America Online Confidential 10-36 © America Online, Inc. 1999




June 1999 FDO91 Manual


atom$async_sign_on                 
30 ($1E)

atom$async_sign_on invokes the sign-on process.

Syntax

atom$async_sign_on

Return Value

Unchanged.

Example

The following example invokes the sign-on process:

atom$uni_start_stream
atom$async_sign_on
atom$morg_finish_jump_bookmark
atom$uni_end_stream


© America Online, Inc. 1999 10-37 America Online Confidential




Chapter 10: Async Protocol June 1999


atom$async_signoff             
47 ($2F)

atom$async_signoff explicitly invokes the sign-off process without 
exiting the application. The atom overrides any previous request to exit the 
application. See atom$async_logout on page 10-28 for a related atom that 
does exit the application.

Syntax

atom$async_signoff

Return Value

Unchanged.

Example

The following example invokes the sign-off process without exiting the 
application:

atom$uni_start_stream
atom$async_signoff
atom$uni_end_stream


America Online Confidential 10-38 © America Online, Inc. 1999




June 1999 FDO91 Manual


atom$async_storename             
45 ($2D)

atom$async_storename stores the new screen name.

Syntax

atom$async_storename <name>

<name> Specifies the screen name string.

Return Value

True or false, depending on whether the password is stored.

Example

The following example stores the new screen name:

atom$man_set_context_relative <1>
atom$de_start_extraction <0>
atom$de_get_data_pointer
atom$uni_use_last_atom_string prot$async 
atom$async_storename 


© America Online, Inc. 1999 10-39 America Online Confidential




Chapter 10: Async Protocol June 1999


atom$async_storepassword 
46 (2E)

atom$async_storepassword stores the new password.

Syntax

atom$async_storepassword <password>

<password> Specifies the password string.

Return Value

True or false, depending on whether the new password is stored.

Example

The following example stores the new password:

atom$man_set_context_relative <40>
atom$de_start_extraction <0>
atom$de_get_data_pointer
atom$uni_use_last_atom_string prot$async 
atom$async_storepassword 


America Online Confidential 10-40 © America Online, Inc. 1999




June 1999 FDO91 Manual


atom$async_system_usage          
52 ($34)

atom$async_system_usage reports on the individual client’s system 
characteristics. 

Syntax

atom$async_system_usage <n>

n=0 Windows version (in 32-bit, 95, or NT)

n=1 Percentage of memory free

n=2 Percentage of system resources free (16-bit only)

Return Value

Unchanged.

Example

The following example reports on the individual client’s system version of 
Windows:

atom$man_set_context_relative <40>
atom$async_system_usage 0
atom$man_end_context
atom$man_update_display


© America Online, Inc. 1999 10-41 America Online Confidential




Chapter 10: Async Protocol June 1999




America Online Confidential 10-42 © America Online, Inc. 1999



===== END PDF: async.pdf =====

===== BEGIN PDF: ccl.pdf =====



Manual: FDO91 Manual
Chapter 14: Communications Control Language (CCL) Protocol defines CCL protocol atoms and
provides information for the CCL.
Last updated: January 1994




C H A P T E R  1 4

Communications Control Language
(CCL) Protocol

The Communications Control Language protocol (protocol ID 34) connects
the online service client software to the remote host system.  This procedure
includes control over the command strings sent to the modem and the result
codes expected from the modem in response.  Also, once a connection is made
to the modem, the Communications Control Language (CCL) controls the
connection to the online service host via the appropriate data-switch networks
(i.e., SprintNet, Tymnet, Datapac).  The CCL module does not handle any P3
protocol communications.

CCL Module Concepts

Modem personality modules (MPMs) contain information for commanding
specific brands of modems.  This information includes commands to be sent to
perform various functions, lists of result strings and their meanings, and some
miscellaneous advanced options, such as information on what characters may
legally be dialed, and whether the modem supports error correction and flow
control.

Locality groups are used to manage groups of information required for dialing
to the remote host.  This information includes phone numbers, baud rates, and
network types (each for both a first and second attempt), phone type (DTMF
or pulse), and whether or not outside-line and/or call-waiting prefixes are
required, and what such prefixes are.  Locality groups are intended for the
convenience of users who travel with portable computers, permitting them to
maintain lists of dialing information for cities they frequent.  Locality groups
are not referenced at the actual time of connection; however, CCL atoms are
provided to move locality information to and from the member's current
configuration.

America Online Confidential 14-1  America Online, Inc. 1993-94




Chapter 14: Communications Control Language (CCL) Protocol January 1994

CCL scripts are the driving force of the CCL mechanism.  They use a simple
CCL language, similar to the macro language of many terminal programs, to
instruct the AOL software to properly access the various supported data-
switch networks.  At this time CCL scripts are provided for SprintNet (nee
Telenet), Tymnet, and Datapac.

CCL Protocol Atoms

The CCL protocol atoms are described in alphabetical order in the rest of this
chapter.

America Online Confidential 14-2  America Online, Inc. 1993-94




January 1994 FDO91 Manual, Vol. 2

atom$ccl_dial
0 ($00)

Description

atom$ccl_dial is used to tell the system to begin dialing the host system.  The
atom references a database record to determine which network (SprintNet,
Tymnet, Datapac) and, by extension, which CCL script to use to connect.  The
CCL script handles dialing the modem (using the currently selected modem
personality module), connecting to the data-switch network, and connecting to
the correct host address.  On successful return, the system is in a state ready to
initiate P3 protocol; on failure, an appropriate error code is returned.

Syntax

atom$ccl_dial

Return Value

A reflection of the status of the connection - zero (0) if the connection was
successful; otherwise, an error code.

Example

atom$ccl_dial

 America Online, Inc. 1993-94 14-3 America Online Confidential




Chapter 14: Communications Control Language (CCL) Protocol January 1994

atom$ccl_get_locality
4 ($04)

Description

atom$ccl_get_locality is used to retrieve setup data associated with a
particular locality group.  Specifically, given the global ID of a form containing
a locality list of relative ID 16, it copies the setup data from the currently
selected group into the database records representing the user's current
configuration.  This serves to select phone numbers, baud rates, networks,
phone type (DTMF/pulse), and dialing prefixes.

Syntax

atom$ccl_get_locality  [<global_ID>]

<global_ID> Specifies the optional global ID of the form containing
locality list.  If this argument is omitted, the code
defaults to GLOBALID_SETUP, the top-most setup
form.  In any case, the specified form must contain a
listbox with a relative ID of 16, and this listbox must
contain a list of the available locality groups.

Return Value

Unchanged; the locality data is transparently copied into the correct database
records.

Example

atom$ccl_get_locality

America Online Confidential 14-4  America Online, Inc. 1993-94




January 1994 FDO91 Manual, Vol. 2

atom$ccl_hang_up
1 ($01)

Description

atom$ccl_hang_up tells the modem to hang up.

Syntax

atom$ccl_hang_up

Return Value

Unchanged

Example

atom$ccl_hang_up

 America Online, Inc. 1993-94 14-5 America Online Confidential




Chapter 14: Communications Control Language (CCL) Protocol January 1994

atom$ccl_install_modem_driver
2 ($02)

Description

atom$ccl_install_modem_driver tells the CCL engine to use a new modem
personality module (MPM) configuration file.  All command strings, result
code strings, and other data items pertinent to the new modem driver are
loaded into CCL's working space.  These settings remain in effect until another
modem driver is installed.

Syntax

atom$ccl_install_modem_driver  <filename>

<filename> Specifies an ASCII string (null-terminated) representing
the filename of the MPM file to load.  The full pathname
need not be included (MPMs are assumed to be located
in the subdirectory MPM\ of the online application
directory), but a complete filename, including extension,
must be specified.

Return Value

Unchanged

Example

atom$ccl_install_modem_driver  "Hayes.MDM"

America Online Confidential 14-6  America Online, Inc. 1993-94




January 1994 FDO91 Manual, Vol. 2

atom$ccl_new_location
5 ($05)

Description

atom$ccl_new_location is no longer actually used by the online software, but
is still supported.  It creates a new locality group under a specified name,
initializing the group with the current dial information.  It also selects the new
group as the current locality.  Note that it is possible to create a duplicate
group using this atom; it is the programmer's responsibility to ensure this does
not happen.

Syntax

atom$ccl_new_location  <group_name>

<group_name> Specifies an ASCII string (null-terminated) representing
the name of the group to create.

Return Value

Unchanged

Example

atom$ccl_new_location  "Untitled"

 America Online, Inc. 1993-94 14-7 America Online Confidential




Chapter 14: Communications Control Language (CCL) Protocol January 1994

atom$ccl_translate_baud_rate
7 ($07)

Description

atom$ccl_translate_baud_rate is designed to shorten lengthy atom streams.
Given a CCL baud rate value, this atom returns an ASCII string representing
the actual corresponding bps rate.

Syntax

atom$ccl_translate_baud_rate  <baud_rate>

<baud_rate> Specifies the numeric CCL baud rate value.  Known
CCL baud rate values are 1: 300 bps, 2: 1200 bps, 3:
2400 bps, 4: 4800 bps, 5: 9600 bps.

Return Value

The ASCII string (null-terminated) representing the baud rate specified.

Example

atom$act_get_db_value  <20-0-18>
atom$uni_use_last_atom_value  <prot$ccl>  atom$ccl_translate_baud_rate

America Online Confidential 14-8  America Online, Inc. 1993-94




January 1994 FDO91 Manual, Vol. 2

atom$ccl_translate_com_port
6 ($06)

Description

atom$ccl_translate_com_port is designed to shorten lengthy atom streams.
Given a COM port number, this atom returns an ASCII string representing the
actual corresponding port name.

Syntax

atom$ccl_translate_com_port  <COM_port>

<COM_port> Specifies the numeric COM port number.  Under the
MS-DOS environment, supported ports are COM1,
COM2, COM3, and COM4.  This may vary on different
hardware platforms.

Return Value

The ASCII string (null-terminated) representing the COM port specified.

Example

atom$act_get_db_value  <20-0-21>
atom$uni_use_last_atom_value  <prot$ccl>  atom$ccl_translate_com_port

 America Online, Inc. 1993-94 14-9 America Online Confidential




Chapter 14: Communications Control Language (CCL) Protocol January 1994

atom$ccl_translate_locality
9 ($09)

Description

atom$ccl_translate_locality retrieves the name of a specified locality group.

Syntax

atom$ccl_translate_locality  <index>

<index> Specifies the index (zero-based) of the locality group
whose name you want to retrieve.

Return Value

The ASCII string (null-terminated) representing the name of the specified
locality group.

Example

atom$act_get_db_value  <20-0-46>
atom$uni_use_last_atom_value  <prot$ccl>  atom$ccl_translate_locality

America Online Confidential 14-10  America Online, Inc. 1993-94




January 1994 FDO91 Manual, Vol. 2

atom$ccl_translate_network
8 ($08)

Description

atom$ccl_translate_network returns an ASCII string representing the name
of the specified network if given a data network ID value.

Syntax

atom$ccl_translate_network  <net_ID>

<net_ID> Specifies the numeric network ID value.  Known
network IDs are:

1 SprintNet

2 Tymnet

3 Datapac

Return Value

The ASCII string (null-terminated) representing the name of the specified
network.

Example

atom$act_get_db_value  <20-0-19>
atom$uni_use_last_atom_value <prot$ccl>  atom$ccl_translate_network

 America Online, Inc. 1993-94 14-11 America Online Confidential




Chapter 14: Communications Control Language (CCL) Protocol January 1994

atom$ccl_update_locality
3 ($03)

Description

atom$ccl_update_locality is the preferred atom used for saving data to
locality groups.  Given the name of a locality group to save to, this atom writes
the current dialing setup information, including phone numbers, baud rates,
networks, phone type (DTMF/pulse), and dialing prefixes, into the specified
locality group.  If a group with the specified name already exists, it is updated
with the new information; otherwise, a new group is created.

Syntax

atom$ccl_update_locality  <local_grp_name>

<local_grp_name> Specifies an ASCII string (null-terminated) representing
the name of the locality group to which the dialing setup
is saved.

Return Value

Unchanged.

Syntax

atom$ccl_update_locality "Home"

America Online Confidential 14-12  America Online, Inc. 1993-94



===== END PDF: ccl.pdf =====

===== BEGIN PDF: chat.pdf =====



Manual: FDO91 Manual
Chapter 12: Chat Protocol defines chat protocol atoms and provides information for chat
functionality.
Last updated: August 1996




C H A P T E R  1 2

Chat Protocol

The Chat protocol (protocol ID 11) consists of atoms that handle real-time
conferencing and messaging within people connection rooms, forum
conference halls, and auditoriums.  The Chat protocol also provides the
following functionality:

• Opening and closing chat rooms

• Adding and removing members from chat rooms

• Managing chat preferences

• Sending chat messages

Chat Protocol Atoms

The Chat protocol atoms are described in alphabetical order in the rest of this
chapter.

America Online Confidential 12-1  America Online, Inc. 1993-96




Chapter 12: Chat Protocol August 1996

atom$chat_add_user
1 ($01)

Description

atom$chat_add_user notifies the host when a member enters a chat room.
The member's name is added to the local list of members currently in the chat
room.  If the member enables arrival notification within chat preferences, other
members in the chat room will be notified that the member has arrived.  This
atom is sent by the client.

Syntax

atom$chat_add_user <name>

<name> An ASCII string (null-terminated) representing the
screen name of the member who is entering the chat
room.

Return Value

Unchanged

Example

The following is an example of how to add a member to a chat room:

atom$var_number_set <A, 1>
atom$var_number_save <A, 65537>
atom$man_update_display
atom$chat_room_open

ê atom$chat_add_user <54x, 41x, 44x, 75x, 6ex, 6ex>

America Online Confidential 12-2  America Online, Inc. 1993-96




August 1996 FDO91 Manual, Vol. 2

atom$chat_end_object
2 ($02)

Description

atom$chat_end_object terminates the current chat object in context.  For
example, each screen name on the member list for a current chat room is a chat
object.  This atom is sent by the host.

Syntax

atom$chat_end_object <object>

<object> An ASCII string representing the name of the object to
be terminated.

Return Value

Unchanged

Example

The following is an example of how to terminate the current chat object in
context:

atom$chat_add_user <54x, 41x, 44x, 75x, 6ex, 6ex>
atom$mat_relative_tag <19>
atom$act_set_inheritance
.
.
.

ê atom$chat_end_object

 America Online, Inc. 1993-96 12-3 America Online Confidential




Chapter 12: Chat Protocol August 1996

atom$chat_message
5 ($05)

Description

atom$chat_message contains the text string of the chat message that is sent
when a member enters text and selects the Send button.  This atom is sent by
the client.

Syntax

atom$chat_message <text>

<text> A text string that represents the chat message.

Return Value

Unchanged

Example

The following is an example of how to send the text string of a chat message:

atom$uni_start_stream
atom$de_start_extraction
atom$de_validate

ê atom$chat_message <"Hello">
.
.
.
atom$uni_end_stream

America Online Confidential 12-4  America Online, Inc. 1993-96




August 1996 FDO91 Manual, Vol. 2

atom$chat_refresh_pref
6 ($06)

Description

atom$chat_refresh_pref reloads all the chat-related preferences set by the
member, such as member arrival notification, member exit notification, double-
spacing of incoming messages, alphabetizing the member list, and enabling chat
room sounds.  This atom is sent by the client.

Syntax

atom$chat_refresh_pref

Return Value

Unchanged

Example

The following is an example of how to reload all chat-related preferences:

atom$uni_start_stream
atom$uni_set_context_relative <1>

ê atom$chat_refresh_pref
atom$man_end_context
atom$uni_end_stream

 America Online, Inc. 1993-96 12-5 America Online Confidential




Chapter 12: Chat Protocol August 1996

atom$chat_remove_user
3 ($03)

Description

atom$chat_remove_user is sent by the client when a member leaves the
current chat room.  The member's name is removed from the local list of
members currently in the chat room.  If the member enables exit notification
within chat preferences, other members in the chat room will be notified that
the member has left.  This atom is sent by the client.

Syntax

atom$chat_remove_user <name>

<name> An ASCII string (null-terminated) representing the
screen name of the member who is exiting the chat
room.

Return Value

Unchanged

Example

The following is an example of how to remove a member from a chat room:

atom$var_number_set <A, 1>
atom$var_number_save <A, 65537>
atom$man_update_display
atom$chat_room_open
atom$chat_add_user <54x, 41x, 44x, 75x, 6ex, 6ex>
.
.
.

ê atom$chat_remove_user <Akoontz>

America Online Confidential 12-6  America Online, Inc. 1993-96




August 1996 FDO91 Manual, Vol. 2

atom$chat_room_open
0 ($00)

Description

atom$chat_room_open is sent to the client when a member enters a chat
room.  This atom precedes atom$chat_add_user, which adds the member's
name to the local list of members currently in the chat room.  If the member
enables arrival notification within chat preferences, other members in the chat
room will be notified that the member has arrived.  This atom is sent by the
client.

Syntax

atom$chat_room_open

Return Value

Unchanged

Example

The following is an example of opening a chat room:

atom$var_number_set <A, 1>
atom$var_number_save <A, 65537>
atom$man_update_display

ê atom$chat_room_open
atom$chat_add_user <54x, 41x, 44x, 75x, 6ex, 6ex>

 America Online, Inc. 1993-96 12-7 America Online Confidential




Chapter 12: Chat Protocol August 1996

atom$chat_show_arrival
4 ($04)

Description

atom$chat_show_arrival displays a notice from the OnlineHost announcing
the arrival of a member to other members in a chat room.  This atom is sent
only if the member has enabled arrival notification within chat preferences.
This atom is sent by the client.

Syntax

atom$chat_show_arrival (<yes>|<no>)

<yes> Arrival notification is enabled.

<no> Arrival notification is not enabled.  (Default)

Return Value

Unchanged

Example

The following is an example of how to announce the arrival of a member to a
chat room:

atom$chat_show_arrival <yes>

America Online Confidential 12-8  America Online, Inc. 1993-96



===== END PDF: chat.pdf =====

===== BEGIN PDF: de.pdf =====



Manual: FDO91 Manual
Chapter 15: Data Manager Protocol defines data manager protocol atoms and provides information
for handling data extraction.
Last updated: January 1994




C H A P T E R  1 5

Data Manager Protocol

The Data Manager protocol (protocol ID 3) consists of atoms that provide the
ability to extract data from fields in forms for local processing or to be sent to
the host.  Various data types and extraction options are supported.  There is
also support for input field validation.

Data Manager Protocol Atoms

The Data Manager protocol atoms are described in alphabetical order in the
rest of this chapter.

America Online Confidential 15-1  America Online, Inc. 1993-94




Chapter 15: Data Manager Protocol January 1994

atom$de_custom_data
11 ($0B)

Description

atom$de_custom_data is sent to the host from the data manager if an
optional 32-bit value is passed with the atom$de_ez_send_form atom.  This
atom is a host-bound atom only.

Syntax

atom$de_custom_data <32_bit_val>

<32_bit_val> Specifies a 32-bit custom value.

Return Value

None

Example

atom$de_custom_data <32_bit_val>

America Online Confidential 15-2  America Online, Inc. 1993-94




January 1994 FDO91 Manual, Vol. 2

atom$de_data
1 ($01)

Description

atom$de_data is sent to the host from the Data Manager Tool when it is
sending extracted data.  This atom is a host-bound atom only.

Syntax

atom$de_data <data>

<data> Specifies variable length data.

Return Value

None

Example

atom$de_data <data>

 America Online, Inc. 1993-94 15-3 America Online Confidential




Chapter 15: Data Manager Protocol January 1994

atom$de_end_extraction
7 ($07)

Description

atom$de_end_extraction signifies the end of an extraction sequence.

Syntax

atom$de_end_extraction

Return Value

Unchanged

Example

atom$de_end_extraction

America Online Confidential 15-4  America Online, Inc. 1993-94




January 1994 FDO91 Manual, Vol. 2

atom$de_ez_send_field
15 ($0F)

Description

atom$de_ez_send_field is a shorthand atom that sends the data from the
current object to the host.

Syntax

atom$de_ez_send_field <token>

<token> Specifies a token to send to host with data.

Return Value

Unchanged

Example

atom$de_ez_send_field <token>

 America Online, Inc. 1993-94 15-5 America Online Confidential




Chapter 15: Data Manager Protocol January 1994

atom$de_ez_send_form
10 ($0A)

Description

atom$de_ez_send_form is a shorthand atom that sends the data from all the
sendable children of the current object to the host.

Syntax

atom$de_ez_send_form <token> [<32_bit_val>]

<token> Specifies a token to send to host.

<32_bit_val> Specifies an optional  32-bit custom value.

Return Value

Unchanged

Example

atom$de_ez_send_form <token> [<32_bit_val>]

America Online Confidential 15-6  America Online, Inc. 1993-94




January 1994 FDO91 Manual, Vol. 2

atom$de_ez_send_list_index
14 ($0E)

Description

atom$de_ez_send_list_index is a shorthand atom that sends the index of the
selected item of the current list box or the list box specified by the optional
relative ID parameter.

Syntax

atom$de_ez_send_list_index <token> [<relative_ID>]

<token> Specifies a token to send to host.

<relative_ID> Specifies an optional relative ID.

Return Value

Unchanged

Example

atom$de_ez_send_list_index <token> [<relative_ID>]

 America Online, Inc. 1993-94 15-7 America Online Confidential




Chapter 15: Data Manager Protocol January 1994

atom$de_ez_send_list_text
12 ($0C)

Description

atom$de_ez_send_list_text is a shorthand atom that sends the text of the
currently selected item from the current list box or the list box specified by the
optional relative ID parameter.

Syntax

atom$de_ez_send_list_text <token> [<relative_ID>]

<token> Specifies a token to send to host.

<relative_ID> Specifies an optional relative ID.

Return Value

Unchanged

Example

atom$de_ez_send_list_text <token> [<relative_ID>]

America Online Confidential 15-8  America Online, Inc. 1993-94




January 1994 FDO91 Manual, Vol. 2

atom$de_get_data
6 ($06)

Description

atom$de_get_data gets data according to the preset state of the Data
Manager Tool and sends it to the host.

Syntax

atom$de_get_data [<extract_method>]

<extract_method> Specifies an optional extraction method.  Values are as
follows:

0 EM_DEFAULT

1 EM_CURRENT_OBJECT

2 EM_SELECTED_CHILDREN

3 EM_CUR_OBJ_SELECTED_
CHILDREN

4 EM_ALL_CHILDREN

5 EM_CUR_OBJ_ALL_CHILDREN

Return Value

Unchanged

Example

atom$de_get_data 1

 America Online, Inc. 1993-94 15-9 America Online Confidential




Chapter 15: Data Manager Protocol January 1994

atom$de_get_data_pointer
9 ($09)

Description

atom$de_get_data_pointer gets data and returns a pointer to the data
according to the preset state of the Data Manager Tool.

Syntax

atom$de_get_data_pointer [<extract_method>]

<extract_method> Specifies an optional extraction method.  Values as
follows:

0 EM_DEFAULT

1 EM_CURRENT_OBJECT

2 EM_SELECTED_CHILDREN

3 EM_CUR_OBJ_SELECTED_
CHILDREN

4 EM_ALL_CHILDREN

5 EM_CUR_OBJ_ALL_CHILDREN

Return Value

A pointer to the extracted data.

Example

atom$de_get_data_pointer 4

America Online Confidential 15-10  America Online, Inc. 1993-94




January 1994 FDO91 Manual, Vol. 2

atom$de_get_data_value
8 ($08)

Description

atom$de_get_data_value gets data and returns the value of the data
according to the preset state of the Data Manager Tool.

Syntax

atom$de_get_data_value [<extract_method>]

<extract_method> Specifies an optional extraction method values as
follows:

0 EM_DEFAULT

1 EM_CURRENT_OBJECT

2 EM_SELECTED_CHILDREN

3 EM_CUR_OBJ_SELECTED_
CHILDREN

4 EM_ALL_CHILDREN

5 EM_CUR_OBJ_ALL_CHILDREN

Return Value

The extracted value.

Example

atom$de_get_data_value 1

 America Online, Inc. 1993-94 15-11 America Online Confidential




Chapter 15: Data Manager Protocol January 1994

atom$de_set_data_type
3 ($03)

Description

atom$de_set_data_type sets the data type to be extracted by the next
atom$de_get_data command.

Syntax

atom$de_set_data_type <data_type>

<data_type> Specifies a data type.  Values are as follows:

0 DATATYPE_DEFAULT

1 DATATYPE_TEXT

2 DATATYPE_VAR

3 DATATYPE_BOOLEAN

4 DATATYPE_GLOBAL_ID

5 DATATYPE_RELATIVE_ID

6 DATATYPE_INDEX

7 DATATYPE_CHILD_COUNT

8 DATATYPE_OBJPTR

9 DATATYPE_VALUE

10 DATATYPE_RAW

Return Value

Unchanged

America Online Confidential 15-12  America Online, Inc. 1993-94




January 1994 FDO91 Manual, Vol. 2

Example

atom$de_set_data_type 1

 America Online, Inc. 1993-94 15-13 America Online Confidential




Chapter 15: Data Manager Protocol January 1994

atom$de_set_extraction_type
0 ($00)

Description

atom$de_set_extraction_type is sent to the host on an atom$de_get_data to
tell the host the extraction method used.

This atom is a host-bound atom only.

Syntax

atom$de_set_extraction_type <extract_method>

<extract_method> Specifies an extraction method.  Values are as follows:

0 EM_DEFAULT

1 EM_CURRENT_OBJECT

2 EM_SELECTED_CHILDREN

3 EM_CUR_OBJ_SELECTED_
CHILDREN

4 EM_ALL_CHILDREN

5 EM_CUR_OBJ_ALL_CHILDREN

Return Value

Unchanged

Example

atom$de_set_extraction_type 1

America Online Confidential 15-14  America Online, Inc. 1993-94




January 1994 FDO91 Manual, Vol. 2

atom$de_set_text_column
5 ($05)

Description

atom$de_set_text_column sets the column (tab stop) from which text is
extracted on the next atom$de_get_data command.

Syntax

atom$de_set_text_column <number>

<number> Specifies a zero-based column number.

Return Value

Unchanged

Example

atom$de_set_text_column <number>

 America Online, Inc. 1993-94 15-15 America Online Confidential




Chapter 15: Data Manager Protocol January 1994

atom$de_set_variable_id
4 ($04)

Description

atom$de_set_variable_id sets the ID of the variable to be extracted on the
next atom$de_get_data command.

Parameters

atom$de_set_variable_id <var_id>

<var_id> Specifies the variable ID.

Return Value

Unchanged

Example

atom$de_set_variable_id <var_ID>

America Online Confidential 15-16  America Online, Inc. 1993-94




January 1994 FDO91 Manual, Vol. 2

atom$de_start_extraction
2 ($02)

Description

atom$de_start_extraction initializes the Data Manager Tool for the current
stream.  This atom is always used to start extraction.

Syntax

atom$de_start_extraction [<buf_flag>]

<buf_flag> Specifies optional buffer flags.  For flag values, see the
atom$buf_set_flag atom in Chapter 6, "The Buffer
Tool."  Default flags are for sending data to the host.  A
zero value can be used for local operations.

Return Value

Unchanged

Example

atom$de_start_extraction <buf_flag>

 America Online, Inc. 1993-94 15-17 America Online Confidential




Chapter 15: Data Manager Protocol January 1994

atom$de_validate
16 ($10)

Description

atom$de_validate causes the member input fields in the current object tree to
be validated.

Syntax

atom$de_validate <action_flags>

<action_flags> Specifies one or more optional actions to be taken when
a field that is not valid is encountered.  The following
flags can be combined:

DVF_DISPLAY_MESSAGE (01) - Displays a message
box informing the member that a field in error was
detected.

DVF_TERMINATE (02) - Performs a
DE_END_EXTRACTION and terminates the current
stream.

Return Value

0 (zero) if the input is valid, non-zero otherwise.

Example

atom$de_validate <action_flags>

America Online Confidential 15-18  America Online, Inc. 1993-94



===== END PDF: de.pdf =====

===== BEGIN PDF: fm.pdf =====



Manual: FDO91 Manual
Chapter 18: File Manager Protocol defines file manager protocol atoms and provides information for
handling file management.
Last updated: February 1995




C H A P T E R  1 8

File Manager Protocol

The File Manager protocol (protocol ID 8) consists of atoms that manage
online service files on the client computer.  The functions provided in the File
Manager Tool can be accessed through inter-tool messaging, as well as with
atom commands.  The File Manager Tool's primary responsibilities include the
following:

• Support for the commands on the standard File menu and extendibility for
future non-text views.

• File type registration and notification for tools.

• Atom- and message-based interface to the Windows Common Dialog
Library's Open, Print, and Save As dialog boxes.

• Low-level session log and chat log support, including basic word wrap.

• Windows drag-and-drop functionality.

• The ability to read and modify any .INI file.

• Basic file operations such as creation, deletion, and renaming.

Context of the File Manager Tool

The online service application supports multiple, concurrent streams of data,
which requires the File Manager Tool to be available for simultaneous
operations.  To support simulataneous operations, the File Manager Tool
maintains multiple contexts.  A context is the current state of the File Manager
Tool and consists mainly of approximately twenty context registers, each of
which contains a single value or string representing data to be passed to an
operation, the result of an operation, or some other piece of information.  The
atom$fm_start atom is used to create a File Manager Tool context for a

America Online Confidential 18-1  America Online, Inc. 1993-95




Chapter 18: File Manager Protocol February 1995

stream, while the atom$fm_end atom should be invoked before the stream
terminates in order to dispose of the context.  A similar set of messages exists
for tools that need to make use of File Manager Tool services.

Once a context has been created, other command atoms and messages may be
used to manipulate the context registers.  Since all File Manager Tool atoms
have been designed to take no more than a single argument, setting the value
of a register directly is a two-step process.  First, use the atom$fm_item_type
atom to select the register to be used for subsequent operations.  Then, supply
the new value of the register via the atom$fm_item_set atom.  To query the
value of a register, imbed the atom$fm_item_get atom in your stream.  The
value of the selected register is returned as the last atom value of the stream.
For information on how to use the value of the selected register, see Chapter 5,
"Universal Protocol."

File Types

In a tool-based environment such as that used by the online service application,
it is impossible to anticipate all of the document types that might be introduced
in the future by new tools.  In fact, even attempting to do so would go against
the grain of the tool approach, where extendibility must be ensured.  With that
in mind, The File Manager Tool was designed to make it possible to seamlessly
add new document types without changing any existing code or forms.  When
a tool that supports a document type is present, File menu operations
automatically handle that type of document, passing requests to the appropriate
tool as needed.  Similarly, drag-and-drop operations involving the new
document type are forwarded to the proper tool.

The bulk of this is accomplished through file type registration. During its
initialization, a tool that manages a type of document must register its
document type by sending a message to the File Manager Tool that includes
the 3-character file type extension shared by all documents of the given type,
tag text describing the document type, and a set of flags that determine the
behavior of such documents in generic terms (i.e., whether such documents can
be loaded, created, and/or saved from the File menu).  The File Manager Tool
returns a file type ID to the tool to be used for all future transactions involving
that document type.

Tools that register file types can also include handlers for any notification
messages broadcast by the File Manager Tool.  These include requests to open
a specific file, determine which file type(s) to use for a Save As, and save the
current file.  All File Manager Tool messages are sent to tools that that have
registered for the messages.  A file type ID is passed with all broadcast
messages to allow a tool to ignore messages that do not pertain to one of its

America Online Confidential 18-2  America Online, Inc. 1993-95




February 1995 FDO91 Manual, Vol. 2

document types.  Broadcasting to all registered tools makes it possible for
tools to share file types and is also necessary for operations where the file type
is ambiguous or simply not known.  For example, many tools listen for the
MSG_NOTIFY_INQUIRE_SAVE_AS message.  The tool that determines
that one of its documents is displayed in the current window responds to the
message; all other tools ignore it, letting it pass to the next tool in the dispatch
tree.

Related file types may be grouped for the purpose of reducing the number of
items displayed in the pop-up menu on file selection dialog boxes.  For
example, "*.PCX" and "*.LBM" files might be grouped under the heading "Art
Files."  When a file group is registered, a file type ID is returned that can be
used to reference the group.  For more information on using file type grouping,
see the atom descriptions later in this chapter and message descriptions in the
America Online Windows Client Manual.

Dialog Boxes

The File Manager Tool employs the standard Windows 3.1 Open, Save As,
and Print dialog boxes.  In addition, a locally-defined dialog box is used to
select the type for New operations.  Prior to using the atoms that invoke the
dialog boxes, the File Manager tool usually performs a small amount of
initialization.  The initial directory can be specified, and, for Save As, a default
filename may be needed.  By default, the only file type selectable from the pop-
up menu is "All Files (*.*)."  The File Manager Tool provides several atoms
that add registered file types and file groups to the context file list, which is the
list of file types displayed in the next dialog box.  In the Open dialog box, the
file type list is merely a convenience to the user; however, for Save As, the file
type highlighted when the transaction is complete determines the type of
document created, as well as the default extension used if the user did not
specify one.

After the user completes a dialog box transaction, several context registers
may be set.  The most important register – and the first to check – is
fmi_error_code, which summarizes the overall result of the operation.  A result
of 0 indicates that the transaction was successful.  A non-zero value indicates
that the user canceled the operation or that a disk error occurred.  The
atom$fm_handle_error atom can be used to provide default error handling; it
does nothing if no error occurred, but optionally displays an error message,
broadcasts the error to all registered tools, and/or terminates the current
stream if something went awry.  Other registers updated include the
fmi_filename, fmi_path, and fmi_filespec.  The File Manager Tool also deduces
a file type from the extension of the file selected (or from the highlighted file

 America Online, Inc. 1993-95 18-3 America Online Confidential




Chapter 18: File Manager Protocol February 1995

type if no extension was specified) and updates the file type ID, extension, and
description registers.

Several options are available once the user selects a file.  The
atom$fm_broadcast atom can be used to announce the event to any
registered tools.  The argument to that atom is the type of broadcast message
to be generated.  Alternatively, the value of any register(s) can be used as the
argument(s) of subsequent atoms in any protocol.  For example, the filespec
could be displayed in a text field on a screen or saved in an action variable.
Beyond that, the File Manager Tool provides several atoms that carry out
common file operations on the current file.

Initialization Files

Windows applications use initialization (*.INI) files to keep track of user
preferences and other settings that must be maintained between application
sessions.  Since the online service application employs a much more
sophisticated database system, the .INI file is not often used.  However, .INI
files are still useful for providing hooks for options and functionality that need
to be made available to members on an emergency basis only.  An example of
this includes special debugging flags that cause the online service application to
create detailed crash reports.

The File Manager Tool provides atoms that allow any .INI file to be read or
modified.  The default .INI file is AOL.INI, and a register is provided to allow
a stream to switch to a different .INI file, such as WIN.INI, when necessary.
.INI file settings are identified by group and key; to access a particular setting,
you must set the fmi_ini_group and fmi_ini_key registers.  The online service
application supports the following data types in .INI files: string
(FM_INI_STRING), integer (FM_INI_INT), and boolean (FM_INI_BOOL).
The fmi_ini_data_type context register is used to specify the data type for an
atom$fm_write_data or atom$fm_read_data atom.

File Operations

A number of advanced file and disk operations were added to the tool as atoms
and messages to provide additional functionality.  These include creating,
opening, and closing files, deleting files, renaming files, checking a disk volume
for space, and adding data to and reading data from files at any offset.  This
functionality, coupled with the power of the action language, allows fairly
complex file management tasks to be carried out through atom streams.

America Online Confidential 18-4  America Online, Inc. 1993-95




February 1995 FDO91 Manual, Vol. 2

A stream may have only one file open at once.  The fmi_handle context register
contains the handle for the currently open file.  When no file is open, the value
of that register is guaranteed to be 0.  Open files are not automatically closed
when a context is destroyed or the stream ends; they must be explicitly closed.
File operations that require a filespec, such as open and create, use the one
contained in the fmi_filespec context register.

Files can be opened in binary mode or text mode.  In binary mode, the
argument to an atom$fm_append_data atom is appended verbatim to the file.
In text mode, some simple interpretation of the data can be done.  Word wrap
can be applied based on the line width and indentation registers, escape
sequences are expanded to the current date and time or the text of a register,
and chat logs can be properly formatted.  The fmi_text_flags context register
dictates which translations are used.

File Manager Protocol Atoms

The File Manager protocol atoms are described in alphabetical order in the rest
of this chapter.

 America Online, Inc. 1993-95 18-5 America Online Confidential




Chapter 18: File Manager Protocol February 1995

atom$fm_add_file_type
7 ($07)

Description

atom$fm_add_file_type adds a registered file type to the context file type list.
This atom is used with atom$fm_dialog_get_file and
atom$fm_dialog_put_file.  For more information about registering file types,
see atom$fm_register.

If no argument is specified, the value of the fmi_file_type_id context register is
used.

Syntax

atom$fm_add_file_type [<file_type_id>]

[<file_type_id>] Specifies a registered file type.

Return Value

Unchanged.

Example

The following is an example of how to add a registered file type to the context
file type list:

atom$fm_start
atom$fm_item_type <fmi_file_type_ext>
atom$fm_item_set <JPG>
atom$fm_item_type <fmi_file_type_desc>
atom$fm_item_set <JPG Files>
atom$fm_register <FMR_FILE_TYPE>

ê atom$fm_add_file_type
atom$fm_dialog_put_file <Save As>

America Online Confidential 18-6  America Online, Inc. 1993-95




February 1995 FDO91 Manual, Vol. 2

.

.

.
atom$fm_end

The example is explained as follows:

atom$fm_start

Creates a File Manager Tool context.

atom$fm_item_type <fmi_file_type_ext>

Specifies the fmi_file_type_ext context register.

atom$fm_item_set <JPG>

Sets the value of the current context register to JPG.

atom$fm_item_type <fmi_file_type_desc>

Specifies the fmi_file_type_desc context register.

atom$fm_item_set <JPG Files>

Sets the value of the current context register to JPG Files.

atom$fm_register <FMR_FILE_TYPE>

Registers a new file type and creates a file type ID.

ê atom$fm_add_file_type

Adds the registered file type ID stored in the fmi_file_type_id context
register to the context file type list.

atom$fm_dialog_put_file <Save As>

Displays a standard Windows file dialog box and retrieves a filename
and full path of a file to be created.

atom$fm_end

Disposes of the File Manager Tool context.

 America Online, Inc. 1993-95 18-7 America Online Confidential




Chapter 18: File Manager Protocol February 1995

atom$fm_add_file_type_mask
9 ($09)

Description

atom$fm_add_file_type_mask adds all registered file types matching a mask
criteria to the context file type list.  This atom is used with
atom$fm_dialog_get_file and atom$fm_dialog_put_file.  For more
information about registering file types, see atom$fm_register.

The mask criteria requires that the type flag value of each registered file type
be exclusive-ored with the value of the fmi_xor_mask context register and
anded with the value of the fmi_and_mask context register.  If the result is
non-zero, the file type is added to the context file list.  To add all registered file
types to the file list, set the value of the fmi_xor_mask register to <FFx FFx>
and the value of the fmi_and_mask register to <0>.  For more information
about setting context registers, see atom$fm_item_type and
atom$fm_item_set.

Syntax

atom$fm_add_file_type_mask

Return Value

Unchanged.

Example

The following is an example of how to add all registered file types matching a
mask criteria to the context file type list:

atom$fm_start
atom$fm_item_type <fmi_xor_mask>
atom$fm_item_set <FFx FFx>
atom$fm_item_type <fmi_and_mask>
atom$fm_item_set <0>

ê atom$fm_add_file_type_mask
atom$fm_dialog_get_file <Open a file>

America Online Confidential 18-8  America Online, Inc. 1993-95




February 1995 FDO91 Manual, Vol. 2

.

.

.
atom$fm_end

The example is explained as follows:

atom$fm_start

Creates a File Manager Tool context.

atom$fm_item_type <fmi_xor_mask>

Specifies the fmi_xor_mask context register.

atom$fm_item_set <FFx FFx>

Sets the value of the current context register to FFx FFx.

atom$fm_item_type <fmi_and_mask>

Specifies the fmi_and_mask context register.

atom$fm_item_set <0>

Sets the value of the current context register to 0.

ê atom$fm_add_file_type_mask

Adds all registered file types matching the mask criteria to the context
file type list.

atom$fm_dialog_get_file <Open a file>

Displays a standard Windows file dialog box and retrieves a filename
and full path of an existing file.

atom$fm_end

Disposes of the File Manager Tool context.

 America Online, Inc. 1993-95 18-9 America Online Confidential




Chapter 18: File Manager Protocol February 1995

atom$fm_add_type_to_group
14 ($0E)

Description

atom$fm_add_type_to_group adds a registered file type to the current
group.  The fmi_file_group_id context register contains the ID of the current
group.

If no argument is specified, the value of the fmi_file_type_id context register is
used.

Syntax

atom$fm_add_type_to_group [<file_type_id>]

[<file_type_id>] Specifies a registered file type or group identifier.

Return Value

Unchanged.

Example

The following is an example of how to register two file types and a group and
add the two registered file types to the group:

atom$fm_start
atom$fm_item_type <fmi_file_type_ext>
atom$fm_item_set <GIF>
atom$fm_item_type <fmi_file_type_desc>
atom$fm_item_set <GIF Files>
atom$fm_register <FMR_FILE_TYPE>
atom$fm_item_get <fmi_file_type_id>
atom$var_number_set_from_atom <NUMA>
atom$fm_item_type <fmi_file_type_ext>
atom$fm_item_set <JPG>
atom$fm_item_type <fmi_file_type_desc>
atom$fm_item_set <JPG Files>
atom$fm_register <FMR_FILE_TYPE>
atom$fm_item_get <fmi_file_type_id>
atom$var_number_set_from_atom <NUMB>
atom$fm_item_type <fmi_file_type_desc>
atom$fm_item_set <Graphics Files>
atom$fm_register <FMR_FILE_GROUP>
atom$var_number_get <NUMA>

America Online Confidential 18-10  America Online, Inc. 1993-95




February 1995 FDO91 Manual, Vol. 2

ê atom$uni_use_last_atom_value <prot$file>
    <atom$fm_add_type_to_group>

atom$var_number_get <NUMB>
ê atom$uni_use_last_atom_value <prot$file>
    <atom$fm_add_type_to_group>

.

.

.
atom$fm_end

The example is explained as follows:

atom$fm_start

Creates a File Manager Tool context.

atom$fm_item_type <fmi_file_type_ext>

Specifies the fmi_file_type_ext context register.

atom$fm_item_set <GIF>

Sets the value of the current context register to GIF.

atom$fm_item_type <fmi_file_type_desc>

Specifies the fmi_file_type_desc context register.

atom$fm_item_set <GIF Files>

Sets the value of the current context register to GIF Files.

atom$fm_register <FMR_FILE_TYPE>

Registers a new file type and creates a file type ID.

atom$fm_item_get <fmi_file_type_id>

Retrieves the value of the fmi_file_type_id context register.

atom$var_number_set_from_atom <NUMA>

Sets the value of the NUMA variable register to the file type ID
assigned to the GIF file type.

atom$fm_item_type <fmi_file_type_ext>

Specifies the fmi_file_type_ext context register.

 America Online, Inc. 1993-95 18-11 America Online Confidential




Chapter 18: File Manager Protocol February 1995

atom$fm_item_set <JPG>

Sets the value of the current context register to JPG.

atom$fm_item_type <fmi_file_type_desc>

Specifies the fmi_file_type_desc context register.

atom$fm_item_set <JPG Files>

Sets the value of the current context register to JPG Files.

atom$fm_register <FMR_FILE_TYPE>

Registers a new file type and creates a file type ID.

atom$fm_item_get <fmi_file_type_id>

Retrieves the value of the fmi_file_type_id context register.

atom$var_number_set_from_atom <NUMB>

Sets the value of the NUMB variable register to the file type ID
assigned to the JPG file type.

atom$fm_item_type <fmi_file_type_desc>

Specifies the fmi_file_type_desc context register.

atom$fm_item_set <Graphics Files>

Sets the value of the current context register to Graphics Files.

atom$fm_register <FMR_FILE_GROUP>

Registers a new file group and creates a file group ID.

atom$var_number_get <NUMA>

Gets the value of the NUMA variable register.

ê atom$uni_use_last_atom_value <prot$file>
    <atom$fm_add_type_to_group>

Adds the registered file type retrieved with the previous atom to the
current group.

America Online Confidential 18-12  America Online, Inc. 1993-95




February 1995 FDO91 Manual, Vol. 2

atom$var_number_get <NUMB>

Gets the value of the NUMB variable register.

ê atom$uni_use_last_atom_value <prot$file>
    <atom$fm_add_type_to_group>

Adds the registered file type retrieved with the previous atom to the
current group.

atom$fm_end

Disposes of the File Manager Tool context.

 America Online, Inc. 1993-95 18-13 America Online Confidential




Chapter 18: File Manager Protocol February 1995

atom$fm_append_data
27 ($1B)

Description

atom$fm_append_data appends data at the current position to the file in
context.  The fmi_filespec context register contains the name of the file in
context.  The file must be open.

If the value of the fmi_text_mode context register is 1, indicating a text file, the
fmi_text_flags context register is honored using an interim data buffer to
format the data prior to writing it to the disk.  The formatting process uses the
values of the fmi_text_width and fmi_text_indent context registers.  For more
information about the context registers, see atom$fm_item_type.

atom$fm_append_data sets the value of the fmi_error_code context register
to reflect the result of the operation.  For more information about the possible
values for this register, see atom$fm_handle_error.

Syntax

atom$fm_append_data <data>

<data> Specifies data.

Return Value

Unchanged.

Example

The following is an example of how to append data to the currently open file at
the current position:

atom$fm_start
atom$fm_item_type <fmi_xor_mask>
atom$fm_item_set <FFx FFx>
atom$fm_item_type <fmi_and_mask>
atom$fm_item_set <0>
atom$fm_add_file_type_mask
atom$fm_dialog_put_file <Open a file>
atom$fm_create_file
atom$fm_open_file <4>

America Online Confidential 18-14  America Online, Inc. 1993-95




February 1995 FDO91 Manual, Vol. 2

ê atom$fm_append_data <Hello>

The example is explained as follows:

atom$fm_start

Creates a File Manager Tool context.

atom$fm_item_type <fmi_xor_mask>

Specifies the fmi_xor_mask context register.

atom$fm_item_set <FFx FFx>

Sets the value of the current context register to FFx FFx.

atom$fm_item_type <fmi_and_mask>

Specifies the fmi_and_mask context register.

atom$fm_item_set <0>

Sets the value of the current context register to 0.

atom$fm_add_file_type_mask

Adds all registered file types matching the mask criteria to the context
file type list.

atom$fm_dialog_put_file <Open a file>

Displays a standard Windows file dialog box and retrieves a filename
and full path of a file to be created.

atom$fm_create_file

Creates a file.

atom$fm_open_file <4>

Opens an existing file in text mode for write operations and positions
the file pointer to the beginning of the file.

ê atom$fm_append_data <Hello>

Appends data at the current position to the file in context.

 America Online, Inc. 1993-95 18-15 America Online Confidential




Chapter 18: File Manager Protocol February 1995

atom$fm_broadcast
5 ($05)

Description

atom$fm_broadcast broadcasts an event to the tools registered for that event.
If the tool returns a value, the value is stored in the
fmi_broadcast_return_value context register.  For more information about
registering tools for an event, see ???.

Syntax

atom$fm_broadcast <event>

<event> Specifies an event.  Values are as follows:

fmb_general (0) — general broadcast.

fmb_open (1) — file open request.

fmb_save_as (3) — save current document request.

fmb_save (4) — save current document with default
filename request.

fmb_inquire_new (5) — invitation to add file types to
the file list for use in a file type selection dialog box.

fmb_new (6) — create a new document request.

fmb_error (7) — error notification.

fmb_print (9) — print current document request.

fmb_abort_print (10) — current print job aborted
notification.

Return Value

Unchanged.

America Online Confidential 18-16  America Online, Inc. 1993-95




February 1995 FDO91 Manual, Vol. 2

Example

The following is an example of how to broadcast an event to the tools
registered for that event:

atom$fm_start
atom$fm_item_type <fmi_xor_mask>
atom$fm_item_set <FFx FFx>
atom$fm_item_type <fmi_and_mask>
atom$fm_item_set <0>
atom$fm_add_file_type_mask
atom$fm_dialog_get_file <Open a file>
atom$fm_handle_error <fhf_display_msg+terminate>

ê atom$fm_broadcast <fmb_open>
atom$fm_end

The example is explained as follows:

atom$fm_start

Creates a File Manager Tool context.

atom$fm_item_type <fmi_xor_mask>

Specifies the fmi_xor_mask context register.

atom$fm_item_set <FFx FFx>

Sets the value of the current context register to FFx FFx.

atom$fm_item_type <fmi_and_mask>

Specifies the fmi_and_mask context register.

atom$fm_item_set <0>

Sets the value of the current context register to 0.

atom$fm_add_file_type_mask

Adds all registered file types matching the mask criteria to the context
file type list.

atom$fm_dialog_get_file <Open a file>

Displays a standard Windows file dialog box and retrieves a filename
and full path of an existing file.

 America Online, Inc. 1993-95 18-17 America Online Confidential




Chapter 18: File Manager Protocol February 1995

atom$fm_handle_error <fhf_display_msg+terminate>

Provides generic error handling, using the fhf_display_msg+terminate
flag.

ê atom$fm_broadcast <fmb_open>

Broadcasts the fmb_open event type to all tools registered for that
event.

atom$fm_end

Disposes of the File Manager Tool context.

America Online Confidential 18-18  America Online, Inc. 1993-95




February 1995 FDO91 Manual, Vol. 2

atom$fm_close_file
26 ($1A)

Description

atom$fm_close_file closes a file.  The fmi_handle context register contains the
file handle associated with the file to be closed.

atom$fm_close_file sets the value of the fmi_error_code context register to
reflect the result of the operation.  For more information about the possible
values for this register, see atom$fm_handle_error.

Syntax

atom$fm_close_file

Return Value

Unchanged.

Example

The following is an example of how to close a file:

atom$fm_start
.
.
.
atom$fm_open_file <fmo_read>
.
.
.

ê atom$fm_close_file

The example is explained as follows:

atom$fm_start

Creates a File Manager Tool context.

atom$fm_open_file <fmo_read>

Opens an existing file in fmo_read mode and positions the file pointer
to the beginning of the file.

 America Online, Inc. 1993-95 18-19 America Online Confidential




Chapter 18: File Manager Protocol February 1995

ê atom$fm_close_file

Closes the file.

America Online Confidential 18-20  America Online, Inc. 1993-95




February 1995 FDO91 Manual, Vol. 2

atom$fm_create_file
21 ($15)

Description

atom$fm_create_file creates a file.  The fmi_filespec context register contains
the name of the file to be created.  If the file exists, the contents are discarded.
The value of the fmi_file_size context register determines the initial size of the
new file.

atom$fm_create_file sets the value of the fmi_error_code context register to
reflect the result of the operation.  For more information about the possible
values for this register, see atom$fm_handle_error.

Syntax

atom$fm_create_file

Return Value

Unchanged.

Example

The following is an example of how to create a file:

atom$fm_start
atom$fm_item_type <fmi_filespec>
atom$fm_item_set <c:\test.txt>
atom$fm_item_type <fmi_file_size>
atom$fm_item_set <40x 0x>

ê atom$fm_create_file

The example is explained as follows:

atom$fm_start

Creates a File Manager Tool context.

atom$fm_item_type <fmi_filespec>

Specifies the fmi_filespec context register.

 America Online, Inc. 1993-95 18-21 America Online Confidential




Chapter 18: File Manager Protocol February 1995

atom$fm_item_set <c:\test.txt>

Sets the value of the current context register to c:\test.txt.

atom$fm_item_type <fmi_file_size>

Specifies the fmi_file_size context register.

atom$fm_item_set <40x 0x>

Sets the value of the fmi_file_size context register to 16K.

ê atom$fm_create_file

Creates a file.

America Online Confidential 18-22  America Online, Inc. 1993-95




February 1995 FDO91 Manual, Vol. 2

atom$fm_delete_file
23 ($17)

Description

atom$fm_delete_file deletes a file.  The fmi_filespec context register contains
the name of the file to be deleted.  The file must be closed before it is deleted.

atom$fm_delete_file sets the value of the fmi_error_code context register to
reflect the result of the operation.  For more information about the possible
values for this register, see atom$fm_handle_error.

Syntax

atom$fm_delete_file

Return Value

Unchanged.

Example

The following is an example of how to delete a file:

atom$fm_start
.
.
.
atom$fm_open_file <fmo_read>
.
.
.
atom$fm_close_file

ê atom$fm_delete_file

The example is explained as follows:

atom$fm_start

Creates a File Manager Tool context.

atom$fm_open_file <fmo_read>

Opens an existing file in fmo_read mode and positions the file pointer
to the beginning of the file.

 America Online, Inc. 1993-95 18-23 America Online Confidential




Chapter 18: File Manager Protocol February 1995

atom$fm_close_file

Closes the file.

ê atom$fm_delete_file

Deletes the file.

America Online Confidential 18-24  America Online, Inc. 1993-95




February 1995 FDO91 Manual, Vol. 2

atom$fm_delete_file_type
8 ($08)

Description

atom$fm_delete_file_type deletes a registered file type from the context file
type list.  For more information about registering file types, see
atom$fm_register.

If no argument is specified, the value of the fmi_file_type_id context register is
used.

Syntax

atom$fm_delete_file_type [<file_type_id>]

[<file_type_id>] Specifies a registered file type.

Return Value

Unchanged.

Example

The following is an example of how to delete a registered file type from the
context file type list:

atom$fm_start
atom$fm_item_type <fmi_file_type_ext>
atom$fm_item_set <ART>
atom$fm_item_type <fmi_file_type_desc>
atom$fm_item_set <ART Files>
atom$fm_register <FMR_FILE_TYPE>
atom$fm_item_get <fmi_file_type_id>
atom$var_number_set_from_atom <NUMA>
.
.
.
atom$fm_add_file_type
atom$var_number_get <NUMA>

ê atom$uni_use_last_atom_value <prot$file>
    <atom$fm_delete_file_type>

 America Online, Inc. 1993-95 18-25 America Online Confidential




Chapter 18: File Manager Protocol February 1995

The example is explained as follows:

atom$fm_start

Creates a File Manager Tool context.

atom$fm_item_type <fmi_file_type_ext>

Specifies the fmi_file_type_ext context register.

atom$fm_item_set <ART>

Sets the value of the current context register to ART.

atom$fm_item_type <fmi_file_type_desc>

Specifies the fmi_file_type_desc context register.

atom$fm_item_set <ART Files>

Sets the value of the current context register to ART Files.

atom$fm_register <FMR_FILE_TYPE>

Registers a new file type and creates a file type ID.

atom$fm_item_get <fmi_file_type_id>

Retrieves the value of the fmi_file_type_id context register.

atom$var_number_set_from_atom <NUMA>

Sets the value of the NUMA variable register to the file type ID
assigned to the ART file type.

atom$fm_add_file_type

Adds the registered file type ID stored in the fmi_file_type_id context
register to the context file type list.

atom$var_number_get <NUMA>

Gets the value of the NUMA variable register.

America Online Confidential 18-26  America Online, Inc. 1993-95




February 1995 FDO91 Manual, Vol. 2

ê atom$uni_use_last_atom_value <prot$file>
    <atom$fm_delete_file_type>

Deletes the registered file type retrieved with the previous atom from
the context file type list.

 America Online, Inc. 1993-95 18-27 America Online Confidential




Chapter 18: File Manager Protocol February 1995

atom$fm_delete_file_type_mask
10 ($0A)

Description

atom$fm_delete_file_type_mask deletes all registered file types matching a
mask criteria from the context file type list.  This atom is used with
atom$fm_dialog_get_file and atom$fm_dialog_put_file.  For more
information about registering file types, see atom$fm_register.

The mask criteria requires that the type flag value of each registered file type
be exclusive-ored with the value of the fmi_xor_mask context register and
anded with the value of the fmi_and_mask context register.  If the result is
non-zero, the file type is deleted from the context file list.  To delete all
registered file types from the file list, set the value of the fmi_xor_mask register
to <FFx FFx> and the value of the fmi_and_mask register to <0>.  For more
information about setting context registers, see atom$fm_item_type and
atom$fm_item_set.

Syntax

atom$fm_delete_file_type_mask

Return Value

Unchanged.

Example

The following is an example of how to delete all registered file types matching
a mask criteria from the context file type list:

atom$fm_start
atom$fm_item_type <fmi_xor_mask>
atom$fm_item_set <FFx FFx>
atom$fm_item_type <fmi_and_mask>
atom$fm_item_set <0>

ê atom$fm_delete_file_type_mask

The example is explained as follows:

atom$fm_start

Creates a File Manager Tool context.

America Online Confidential 18-28  America Online, Inc. 1993-95




February 1995 FDO91 Manual, Vol. 2

atom$fm_item_type <fmi_xor_mask>

Specifies the fmi_xor_mask context register.

atom$fm_item_set <FFx FFx>

Sets the value of the current context register to FFx FFx.

atom$fm_item_type <fmi_and_mask>

Specifies the fmi_and_mask context register.

atom$fm_item_set <0>

Sets the value of the current context register to 0.

ê atom$fm_delete_file_type_mask

Deletes all registered file types matching the mask criteria from the
context file type list.

 America Online, Inc. 1993-95 18-29 America Online Confidential




Chapter 18: File Manager Protocol February 1995

atom$fm_delete_type_from_group
15 ($0F)

Description

atom$fm_delete_type_to_group deletes a registered file type from the
current group.  The fmi_file_group_id context register contains the ID of the
current group.

If no argument is specified, the value of the fmi_file_type_id context register is
used.

Syntax

atom$fm_delete_type_from_group [<file_type_id>]

[<file_type_id>] Specifies a registered file type or group identifier.

Return Value

Unchanged.

Example

The following is an example of how to delete a file type from a group:

atom$fm_start
.
.
.
atom$var_number_get <NUMA>

ê atom$uni_use_last_atom_value <prot$file>
    <atom$fm_delete_type_from_group>

The example is explained as follows:

atom$fm_start

Creates a File Manager Tool context.

atom$var_number_get <NUMA>

Gets the value of the NUMA variable register, which is a previously
stored file type ID.

America Online Confidential 18-30  America Online, Inc. 1993-95




February 1995 FDO91 Manual, Vol. 2

ê atom$uni_use_last_atom_value <prot$file>
    <atom$fm_delete_type_from_group>

Deletes the registered file type retrieved with the previous atom from
the current group.

 America Online, Inc. 1993-95 18-31 America Online Confidential




Chapter 18: File Manager Protocol February 1995

atom$fm_dialog_get_file
17 ($11)

Description

atom$fm_dialog_get_file displays a standard Windows file dialog box and
retrieves a filename and full path of an existing file from a member.

If the filename is valid, the following context registers are updated:
fmi_file_type_id, fmi_file_type_ext, fmi_file_type_flags, fmi_filename,
fmi_path, and fmi_filespec.

Syntax

atom$fm_dialog_get_file <title>

<title> Specifies a title for the dialog box.

Return Value

Unchanged.

Example

The following is an example of how to display a standard Windows file dialog
box and retrieve a filename and full path name of an existing file from a
member:

atom$fm_start
atom$fm_item_type <fmi_xor_mask>
atom$fm_item_set <FFx FFx>
atom$fm_item_type <fmi_and_mask>
atom$fm_item_set <0>
atom$fm_add_file_type_mask

ê atom$fm_dialog_get_file <Open a file>

The example is explained as follows:

atom$fm_start

Creates a File Manager Tool context.

America Online Confidential 18-32  America Online, Inc. 1993-95




February 1995 FDO91 Manual, Vol. 2

atom$fm_item_type <fmi_xor_mask>

Specifies the fmi_xor_mask context register.

atom$fm_item_set <FFx FFx>

Sets the value of the current context register to FFx FFx.

atom$fm_item_type <fmi_and_mask>

Specifies the fmi_and_mask context register.

atom$fm_item_set <0>

Sets the value of the current context register to 0.

atom$fm_add_file_type_mask

Adds all registered file types matching the mask criteria to the context
file type list.

ê atom$fm_dialog_get_file <Open a file>

Displays a standard Windows file dialog box and retrieves a filename
and full path of an existing file.

 America Online, Inc. 1993-95 18-33 America Online Confidential




Chapter 18: File Manager Protocol February 1995

atom$fm_dialog_print
20 ($14)

Description

atom$fm_dialog_print displays a dialog box for printing.

atom$fm_dialog_print sets the value of the fmi_error_code context register
to reflect the result of the operation.  For more information about the possible
values for this register, see atom$fm_handle_error.

In addition, the following context registers are updated: fmi_print_copies and
fmi_hdc.

Syntax

atom$fm_dialog_print <dialog_code>

<dialog_code> Specifies a dialog box.  Values are as follows:

fmp_print (0) — The standard Windows print dialog
box.

fmp_setup (1) — The standard Windows print setup
dialog box.

fmp_printing (2) — The online service print job status
dialog box.

fmp_done (3) — The online service print job completed
dialog box.

Return Value

Unchanged.

Example

The following is an example of how to display a dialog box for printing:

atom$fm_start

America Online Confidential 18-34  America Online, Inc. 1993-95




February 1995 FDO91 Manual, Vol. 2

.

.

.
atom$fm_item_type <fmi_print_min_page>
atom$fm_item_set <1>
atom$fm_item_type <fmi_print_max_page>
atom$fm_item_set <2>
atom$fm_item_type <fmi_print_job_name>
atom$fm_item_set <Document1>

ê atom$fm_dialog_print <fmp_print>
atom$fm_broadcast <fmb_print>

The example is explained as follows:

atom$fm_start

Creates a File Manager Tool context.

atom$fm_item_type <fmi_print_min_page>

Specifies the fmi_print_min_page context register.

atom$fm_item_set <1>

Sets the value of the current context register to 1.

atom$fm_item_type <fmi_print_max_page>

Specifies the fmi_print_max_page context register.

atom$fm_item_set <2>

Sets the value of the current context register to 2.

atom$fm_item_type <fmi_print_job_name>

Specifies the fmi_print_job_name context register.

atom$fm_item_set <Document1>

Sets the value of the current context register to Document1.

ê atom$fm_dialog_print <fmp_print>

Displays the standard Windows print dialog box.

atom$fm_broadcast <fmb_print>

Broadcasts the fmb_print event type to all tools.

 America Online, Inc. 1993-95 18-35 America Online Confidential




Chapter 18: File Manager Protocol February 1995

atom$fm_dialog_put_file
18 ($12)

Description

atom$fm_dialog_put_file displays a standard Windows file dialog box and
retrieves a filename and full path of a file to be created from a member.

If the filename is valid, the following context registers are updated:
fmi_file_type_id, fmi_file_type_ext, fmi_file_type_flags, fmi_filename,
fmi_path, and fmi_filespec.

Syntax

atom$fm_dialog_put_file <title>

<title> Specifies a title for the dialog box.

Return Value

Unchanged.

Example

The following is an example of how to display a standard Windows file dialog
box and retrieve a filename and full path name of a file to be created from a
member:

atom$fm_start
atom$fm_item_type <fmi_xor_mask>
atom$fm_item_set <FFx FFx>
atom$fm_item_type <fmi_and_mask>
atom$fm_item_set <0>
atom$fm_add_file_type_mask

ê atom$fm_dialog_put_file <Open a file>

The example is explained as follows:

atom$fm_start

Creates a File Manager Tool context.

America Online Confidential 18-36  America Online, Inc. 1993-95




February 1995 FDO91 Manual, Vol. 2

atom$fm_item_type <fmi_xor_mask>

Specifies the fmi_xor_mask context register.

atom$fm_item_set <FFx FFx>

Sets the value of the current context register to FFx FFx.

atom$fm_item_type <fmi_and_mask>

Specifies the fmi_and_mask context register.

atom$fm_item_set <0>

Sets the value of the current context register to 0.

atom$fm_add_file_type_mask

Adds all registered file types matching the mask criteria to the context
file type list.

ê atom$fm_dialog_put_file <Open a file>

Displays a standard Windows file dialog box and retrieves a filename
and full path of a file to be created.

 America Online, Inc. 1993-95 18-37 America Online Confidential




Chapter 18: File Manager Protocol February 1995

atom$fm_dump
31 ($1F)

Description

atom$fm_dump displays the values of the File Manager Tool context registers
as debug messages.

This atom is designed for development use only.

Syntax

atom$fm_dump

Return Value

Unchanged.

Example

The following is an example of how to display the values of the File Manager
Tool context registers as debug messages:

atom$fm_dump

America Online Confidential 18-38  America Online, Inc. 1993-95




February 1995 FDO91 Manual, Vol. 2

atom$fm_end
1 ($01)

Description

atom$fm_end disposes of the File Manager Tool context for the current atom
stream.

Syntax

atom$fm_end

Return Value

Unchanged.

Example

The following is an example of how to dispose of the File Manager Tool
context for the current atom stream:

atom$fm_start
.
.
.

ê atom$fm_end

The example is explained as follows:

atom$fm_start

Creates a File Manager Tool context.

ê atom$fm_end

Disposes of the File Manager Tool context.

 America Online, Inc. 1993-95 18-39 America Online Confidential




Chapter 18: File Manager Protocol February 1995

atom$fm_find_file_type
16 ($10)

Description

atom$fm_find_file_type searches registered file types for one matching an
extension and sets the fmi_file_type_id context register to the ID of the file
type found.

If no argument is specified, the value of the fmi_file_type_ext context register
is used.

Syntax

atom$fm_find_file_type [<file_ext>]

[<file_ext>] Specifies a file extension.

Return Value

Unchanged.

Example

The following is an example of how to set the fmi_file_type_id context
register:

atom$fm_start
.
.
.

ê atom$fm_find_file_type <GIF>
atom$fm_item_get <fmi_file_type_id>
atom$uni_use_last_atom_value <prot$file>

    <atom$fm_add_file_type>

The example is explained as follows:

atom$fm_start

Creates a File Manager Tool context.

America Online Confidential 18-40  America Online, Inc. 1993-95




February 1995 FDO91 Manual, Vol. 2

ê atom$fm_find_file_type <GIF>

Searches registered file types for one matching GIF and sets the
fmi_file_type_id context register to the ID of the file type found.

atom$fm_item_get <fmi_file_type_id>

Retrieves the value of the fmi_file_type_id context register.

atom$uni_use_last_atom_value <prot$file>
    <atom$fm_add_file_type>

Adds the registered file type ID retrieved with the previous atom to the
context file type list.

 America Online, Inc. 1993-95 18-41 America Online Confidential




Chapter 18: File Manager Protocol February 1995

atom$fm_flush_file
39 ($27)

Description

atom$fm_flush_file takes any data remaining in the data buffer and appends it
at the current position to the file in context.  The fmi_filespec context register
contains the name of the file in context.  The file must be open. For more
information about the data buffer, see atom$fm_append_data.

If the value of the fmi_text_mode context register is 1, indicating a text file, the
fmi_text_flags context register is honored, formatting the data in the data
buffer prior to writing it to the disk.  The formatting process uses the values of
the fmi_text_width and fmi_text_indent context registers.  For more
information about the context registers, see atom$fm_item_type.

atom$fm_flush_file sets the value of the fmi_error_code context register to
reflect the result of the operation.  For more information about the possible
values for this register, see atom$fm_handle_error.

Syntax

atom$fm_flush_file

Return Value

Unchanged.

Example

The following is an example of how to take any data remaining in the data
buffer and append it at the current position to the file in context:

atom$fm_start
.
.
.
atom$fm_item_type <fmi_text_width>
atom$fm_item_set <5>
atom$fm_open_file <fmo_text_write>
atom$fm_append_data <THEEND>

ê atom$fm_flush_file

America Online Confidential 18-42  America Online, Inc. 1993-95




February 1995 FDO91 Manual, Vol. 2

atom$fm_close_file

The example is explained as follows:

atom$fm_start

Creates a File Manager Tool context.

atom$fm_item_type <fmi_text_width>

Specifies the fmi_text_width context register.

atom$fm_item_set <5>

Sets the value of the current context register to 5.

atom$fm_open_file <fmo_text_write>

Opens an existing file in fmo_text_write mode and positions the file
pointer to the beginning of the file.

atom$fm_append_data <THEEND>

Appends data at the current position to the file in context.

ê atom$fm_flush_file

Takes any data remaining in the data buffer and appends it at the
current position to the file in context.

atom$fm_close_file

Closes the file.

The result of this example is that the data THEEND is appended in the
following format to the file in context:

THEEN
D

Due to the fact that the file was opened in fmo_text_write mode,
atom$fm_append_data appends the data to the file in blocks equal in size to
the value of the fmi_text_width register (5).  Any data in an odd-sized block at
the end is placed in the data buffer.  atom$fm_flush_file writes the contents of
the buffer to the file

 America Online, Inc. 1993-95 18-43 America Online Confidential




Chapter 18: File Manager Protocol February 1995

atom$fm_get_first_file
32 ($20)

Description

atom$fm_get_first_file locates the first file in the current path that matches
the specified file name mask.

Syntax

atom$fm_get_first_file <file_mask>

<file_mask> Specifies a file name mask.  Wildcard characters are
allowed.

Return Value

The name of the file found or NULL if no file is found.

Example

The following is an example of how to locate the first file in the current path
that matches the specified file name mask:

atom$fm_start
.
.
.
atom$fm_item_type <fmi_path>
atom$fm_item_set <c:\aol\download>

ê atom$fm_get_first_file <texas?.*>

The example is explained as follows:

atom$fm_start

Creates a File Manager Tool context.

atom$fm_item_type <fmi_path>

Specifies the fmi_path context register.

America Online Confidential 18-44  America Online, Inc. 1993-95




February 1995 FDO91 Manual, Vol. 2

atom$fm_item_set <c:\aol\download>

Sets the value of the current context register to c:\aol\download.

ê atom$fm_get_first_file <texas?.*>

Locates the first file in the current path that matches the texas?.* mask.

 America Online, Inc. 1993-95 18-45 America Online Confidential




Chapter 18: File Manager Protocol February 1995

atom$fm_get_next_file
33 ($21)

Description

atom$fm_get_next_file locates the next file in the current path that matches
the file name mask specified in the previous atom$fm_get_first_file atom.

Syntax

atom$fm_get_next_file

Return Value

The name of the file found or NULL if no file is found.

Example

The following is an example of how to locate the next file in the current path
that matches the file name mask specified in the previous
atom$fm_get_first_file atom:

atom$fm_start
.
.
.
atom$fm_item_type <fmi_path>
atom$fm_item_set <c:\aol\download>
atom$fm_get_first_file <texas?.*>

ê atom$fm_get_next_file

The example is explained as follows:

atom$fm_start

Creates a File Manager Tool context.

atom$fm_item_type <fmi_path>

Specifies the fmi_path context register.

atom$fm_item_set <c:\aol\download>

Sets the value of the current context register to c:\aol\download.

America Online Confidential 18-46  America Online, Inc. 1993-95




February 1995 FDO91 Manual, Vol. 2

atom$fm_get_first_file <texas?.*>

Locates the first file in the current path that matches the texas?.* mask.

ê atom$fm_get_next_file

Locates the next file in the current path that matches the previously
specified mask.

 America Online, Inc. 1993-95 18-47 America Online Confidential




Chapter 18: File Manager Protocol February 1995

atom$fm_handle_error
6 ($06)

Description

atom$fm_handle_error provides generic error handling.  If the value of the
fmi_error_code context register is fme_ok, no action is performed.

The value of the fmi_error_code context register is set by a number of File
Manager Tool atoms.  Values are as follows:

fme_ok (0) — no error.

fme_cancel (1) — dialog canceled by member.

fme_internal (2) — internal error.

fme_invalid_filename (3) — current filename is invalid.

fme_insufficient_space (4) — insufficient disk space for
specified file.

fme_file_not_found (5) — fmi_filespec context register
does not contain a valid value.

fme_path_not_found (6) — fmi_path context register
does not contain a valid value.

fme_file_exists (7) — file already exists

fme_read (8) — general read error.

fme_write (9) — general write error.

fme_access (10) — access or sharing violation.

fme_no_default_printer (11) — no default printer
defined.

fme_no_printers (12) — no printers defined.

fme_no_select (13) — current document cannot be
printed or saved.

America Online Confidential 18-48  America Online, Inc. 1993-95




February 1995 FDO91 Manual, Vol. 2

fme_skip (14) — the skip push button was selected in
the dialog box.

Syntax

atom$fm_handle_error <flag>

<flag> Specifies the type of error handling.  Values are as
follows:

fhf_display_msg (1) — Displays an generic error
message.

fhf_terminate (2) — Terminates the atom stream.

fhf_display_msg+terminate (3) — Displays an generic
error message and terminates the atom stream.

fhf_broadcast (4) — Broadcasts an event to all tools.

fhf_display_msg+broadcast (5) — Displays an generic
error message and broadcasts an event to all tools.

fhf_terminate+broadcast (6) — Terminates the atom
stream and broadcasts an event to all tools.

fhf_display_msg+terminate+broadcast (7) — Displays
an generic error message, terminates the atom stream
and broadcasts an event to all tools.

Return Value

Unchanged.

Example

The following is an example of how to provide generic error handling:

atom$fm_open_file <fmo_read>

 America Online, Inc. 1993-95 18-49 America Online Confidential




Chapter 18: File Manager Protocol February 1995

ê atom$fm_handle_error <fhf_display_msg+broadcast>

The example is explained as follows:

atom$fm_open_file <fmo_read>

Opens an existing file in fmo_read mode and positions the file pointer
to the beginning of the file.

ê atom$fm_handle_error <fhf_display_msg+broadcast>

???.

America Online Confidential 18-50  America Online, Inc. 1993-95




February 1995 FDO91 Manual, Vol. 2

atom$fm_ini_read_data
34 ($22)

Description

atom$fm_ini_read_data reads data from an .INI file.  The INI file to read
from is specified in the fmi_ini_file context register.  Similarly, the group and
the key are specified in the fmi_ini_group and fmi_ini_key context registers
respectively.

Syntax

atom$fm_ini_read_data

Return Value

Depends on the data type selected; the return value is numeric for word and
boolean data types, and is a string data type otherwise.

Example

The following is an example of how to read data from an .INI file:

atom$fm_item_type <fmi_ini_file>
atom$fm_item_set <aol.ini>
atom$fm_item_type <fmi_ini_group>
atom$fm_item_set <preferences>
atom$fm_item_type <fmi_ini_key>
atom$fm_item_set <mode>
atom$fm_item_type <fmi_ini_data_type>
atom$fm_item_set <FM_INI_BOOL>

ê atom$fm_ini_read_data
.
.
.
atom$if_last_return_true_then <1>
.
.
.
atom$uni_sync_skip <1>

The example is explained as follows:

atom$fm_item_type <fmi_ini_file>

Specifies the fmi_ini_file context register.

 America Online, Inc. 1993-95 18-51 America Online Confidential




Chapter 18: File Manager Protocol February 1995

atom$fm_item_set <aol.ini>

Sets the value of the current context register to aol.ini.

atom$fm_item_type <fmi_ini_group>

Specifies the fmi_ini_group context register.

atom$fm_item_set <Preferences>

Sets the value of the current context register to Preferences.

atom$fm_item_type <fmi_ini_key>

Specifies the fmi_ini_key context register.

atom$fm_item_set <mode>

Sets the value of the current context register to mode.

atom$fm_item_type <fmi_ini_data_type>

Specifies the fmi_ini_data_type context register.

atom$fm_item_set <FM_INI_BOOL>

Sets the value of the current context register to FM_INI_BOOL.

ê atom$fm_ini_read_data

Reads data from the current .INI file.

atom$if_last_return_true_then <1>

If the last return value is true, atom$if_last_return_true_then
evaluates to true, and the atoms that fall between it and
atom$uni_sync_skip are executed.

atom$uni_sync_skip <1>

Signifies the end of the true atoms.  If atom$if_last_return_true_then
evaluates to true, the true atoms are executed and stream execution
continues immediately following this atom.

America Online Confidential 18-52  America Online, Inc. 1993-95




February 1995 FDO91 Manual, Vol. 2

atom$fm_ini_write_data
35 ($23)

Description

atom$fm_ini_write_data writes data to an .INI file.  The INI file to write to
is specified in the fmi_ini_file context register.  Similarly, the group and the key
are specified in the fmi_ini_group and fmi_ini_key context registers
respectively.

Syntax

atom$fm_ini_write_data <data>

<data> Specifies data.

Return Value

Unchanged.

Example

The following is an example of how to write data to an .INI file:

atom$fm_item_type <fmi_ini_file>
atom$fm_item_set <aol.ini>
atom$fm_item_type <fmi_ini_group>
atom$fm_item_set <preferences>
atom$fm_item_type <fmi_ini_key>
atom$fm_item_set <name>
atom$fm_item_type <fmi_ini_data_type>
atom$fm_item_set <FM_INI_STRING>
atom$fm_item_type <fmi_ini_string_length>
atom$fm_item_set <5>
atom$man_set_context_relative <1>
atom$de_start_extraction <0>
atom$de_get_data_pointer
atom$uni_save_result
atom$de_end_extraction
atom$man_end_context
atom$uni_get_result

 America Online, Inc. 1993-95 18-53 America Online Confidential




Chapter 18: File Manager Protocol February 1995

ê atom$uni_use_last_atom_string <prot$file>
    <atom$fm_ini_write_data>

The example is explained as follows:

atom$fm_item_type <fmi_ini_file>

Specifies the fmi_ini_file context register.

atom$fm_item_set <aol.ini>

Sets the value of the current context register to aol.ini.

atom$fm_item_type <fmi_ini_group>

Specifies the fmi_ini_group context register.

atom$fm_item_set <preferences>

Sets the value of the current context register to Preferences.

atom$fm_item_type <fmi_ini_key>

Specifies the fmi_ini_key context register.

atom$fm_item_set <mode>

Sets the value of the current context register to mode.

atom$fm_item_type <fmi_ini_data_type>

Specifies the fmi_ini_data_type context register.

atom$fm_item_set <FM_INI_BOOL>

Sets the value of the current context register to mode.

atom$fm_ini_read_data

Reads data from the current .INI file.

atom$man_set_context_relative <1>

Sets the context to the object with a relative ID of 1.

atom$de_start_extraction <0>

Initializes the Data Manager tool for local operations.

America Online Confidential 18-54  America Online, Inc. 1993-95




February 1995 FDO91 Manual, Vol. 2

atom$de_get_data_pointer

Retrieves data and returns a pointer to the data.

atom$uni_save_result

Saves the result of the previous atom.

atom$de_end_extraction

Ends the data extraction sequence.

atom$man_end_context

Returns the context to the object previously in context.

atom$uni_get_result

Gets the result of the previous atom$uni_save_result.

ê atom$uni_use_last_atom_string <prot$file>
    <atom$fm_ini_write_data>

Writes the data retrieved with the previous atom to the current .INI
file.

 America Online, Inc. 1993-95 18-55 America Online Confidential




Chapter 18: File Manager Protocol February 1995

atom$fm_item_get
4 ($04)

Description

atom$fm_item_get retrieves the value of a File Manager context register.  For
a list of File Manager context registers, see atom$fm_item_type.

If no argument is specified, the value of the current context register is used.

Syntax

atom$fm_item_get [<fm_register>]

[<fm_register>] Specifies a context register.

Return Value

The current value of the specified register.

Example

The following is an example of how to retrieve the value of a File Manager
context register:

ê atom$fm_item_get <fmi_date>

The example is explained as follows:

ê atom$fm_item_get <fmi_date>

Retrieves the value of fmi_date context register.

America Online Confidential 18-56  America Online, Inc. 1993-95




February 1995 FDO91 Manual, Vol. 2

atom$fm_item_set
3 ($03)

Description

atom$fm_item_set sets the value of the current File Manager Tool context
register. This atom is used with atom$fm_item_type.

When used with atom$uni_use_last_atom_value, this atom can also set a
register to an action variable value, the text of a display object, and so on.  To
copy the value from one register to another, for example, use
atom$fm_item_get, then atom$uni_use_last_atom with atom$fm_item_set
as the argument.

Syntax

atom$fm_item_set <value>

<value> Specifies a value.

Return Value

Unchanged.

Example

The following is an example of how to set the value of the fmi_persistent_path
context register:

atom$fm_item_type <fmi_persistent_path>
ê atom$fm_item_set <1-0-1234>

The example is explained as follows:

atom$fm_item_type <fmi_persistent_path>

Specifies the fmi_persistent_path context register.

ê atom$fm_item_set <1-0-1234>

Sets the value of the fmi_persistent_path register to 1-0-1234.

 America Online, Inc. 1993-95 18-57 America Online Confidential




Chapter 18: File Manager Protocol February 1995

atom$fm_item_type
2 ($02)

Description

atom$fm_item_type specifies a File Manager Tool context register.  This
atom is used with atom$fm_item_set.

Syntax

atom$fm_item_type <fm_register>

<fm_register> Specifies a context register.  Values are as follows:

fmi_file_type_id (1) — current file type ID.

fmi_file_group_id (2) — current file group ID.

fmi_file_type_ext (3) — current file type extension.

fmi_file_type_desc (4) — current file type description.

fmi_file_type_flags (5) — current file type flags.

fmi_filename (6) — current file name.

fmi_path (7) — current file directory path.

fmi_filespec (8) — current file fully qualified path and
name.

fmi_handle (9) —  current file handle (0 if the file is not
open).

fmi_error_code (10) — error code returned by the last
file operation.  For a list of possible values, see
atom$fm_handle_error.

fmi_custom_data (11) — 32-bit numeric value passed
with all broadcast messages.

fmi_text_width (12) — line width of files opened in one
of the text modes.

America Online Confidential 18-58  America Online, Inc. 1993-95




February 1995 FDO91 Manual, Vol. 2

fmi_text_indent (13) — number of characters to indent
each line for files opened in one of the text modes.

fmi_text_flags (15) — processing instructions for data
in files opened in text mode.  Values are as follows:

• 0 — no action.

• 4 — translate CR to CRLF.

• 8 — translate 7F to CR.

• 12 — translate CR to CRLF and 7F to CR.

• 16 — translate ESC sequences.

• 20 — translate CR to CRLF and translate ESC
sequences.

• 24 — translate 7F to CR and translate ESC
sequences.

• 28 — translate CR to CRLF, 7F to CR and
translate ESC sequences.

fmi_dialog_flags (16) — processing instructions for
controlling the appearance of the dialog boxes displayed
by the File Manager tool.  Values are as follows:

• 0 — do not display the Skip push button.

• 1 — display the Skip push button.

fmi_and_mask (17) — 32-bit AND mask.

fmi_xor_mask (18) — 32-bit exclusive OR mask.

fmi_file_size (19) — initial file size in bytes.

fmi_broadcast_return_value (21) — value returned by
the last atom$fm_broadcast.  The tool that handled the
broadcast message generates the value.

fmi_file_type_list_size (22) — number of files in the
current context file list.

fmi_print_from_page (23) — initial page number to
print.

fmi_print_to_page (24) — final page number to print.

 America Online, Inc. 1993-95 18-59 America Online Confidential




Chapter 18: File Manager Protocol February 1995

fmi_print_min_page (25) — minimum page number that
can be printed.

fmi_print_max_page (26) — maximum page number
that can be printed.

fmi_print_copies (27) — number of copies to print

fmi_hdc (28) — device context handle in which printing
occurs.  Reserved for internal File Manager tool use.

fmi_print_job_name (29) — title of the print job.

fmi_date (30) — current date in the format "Sunday,
January 1, 1995."  This register is read-only.

fmi_time (31) — current time in the format "10:30 p.m."
This register is read-only.

fmi_text_mode (32) — file mode.  This register is
automatically set by atom$fm_open_file.

• 0 — binary mode.

• 1 — text mode.

fmi_ini_string_length (33) — maximum length of a
string that can be written using
atom$fm_ini_write_data.

fmi_ini_file (34) — full path name of an initialization
(.INI) file.

fmi_ini_group (35) — internal group name in an
initialization (.INI) file.

fmi_ini_key (36) — internal key name in an initialization
(.INI) file.

fmi_ini_data_type (37) — type of data in an
initialization (.INI) file.

fmi_thumbnail (38) — image handle that represents the
thumbnail image to be displayed.

America Online Confidential 18-60  America Online, Inc. 1993-95




February 1995 FDO91 Manual, Vol. 2

fmi_thumbnail_size (39) — size in bytes of the
thumbnail image.

fmi_persistent_path (40) — global ID of the database
record containing the path associated with the next
atom$fm_dialog_get_file or
atom$fm_dialog_put_file. For more information about
global IDs, see Chapter 11, "The Database Manager
Tool."

Return Value

Unchanged.

Example

The following is an example of how to specify a File Manager Tool context
register:

ê atom$fm_item_type <fmi_persistent_path>
atom$fm_item_set <1-0-1234>

The example is explained as follows:

ê atom$fm_item_type <fmi_persistent_path>

Specifies the fmi_persistent_path context register.

atom$fm_item_set <1-0-1234>

Sets the value of the fmi_persistent_path register to 1-0-1234.

 America Online, Inc. 1993-95 18-61 America Online Confidential




Chapter 18: File Manager Protocol February 1995

atom$fm_open_file
22 ($16)

Description

atom$fm_open_file opens an existing file and positions the file pointer to the
beginning of the file.

atom$fm_open_file sets the value of the fmi_text_mode context register to
reflect the mode, either binary or text, with which the file was opened.  For
more information about the possible values for this register, see
atom$fm_item_type.

atom$fm_open_file also sets the value of the fmi_error_code context register
to reflect the result of the operation.  For more information about the possible
values for this register, see atom$fm_handle_error.

Syntax

atom$fm_open_file <mode>

<mode> Specifies the mode. Values are as follows:

0 — binary mode for read operations only.

1 — binary mode for write operations only.

2 — binary mode for read and write operations.

3 — text mode for read operations only.

4 — text mode for write operations only.

5 — text mode for read and write operations.

Return Value

Unchanged.

America Online Confidential 18-62  America Online, Inc. 1993-95




February 1995 FDO91 Manual, Vol. 2

Example

The following is an example of how to open an existing file and position the
file pointer to the beginning of the file:

atom$fm_item_type <fmi_filespec>
atom$fm_item_set <c:\test.txt>

ê atom$fm_open_file <5>

The example is explained as follows:

atom$fm_item_type <fmi_filespec>

Specifies the fmi_filespec context register.

atom$fm_item_set <c:\test.txt>

Sets the value of the fmi_filespec register to c:\test.txt.

ê atom$fm_open_file <5>

Opens an existing file in text mode for read and write operations and
positions the file pointer to the beginning of the file.

 America Online, Inc. 1993-95 18-63 America Online Confidential




Chapter 18: File Manager Protocol February 1995

atom$fm_position_eof
29 ($1D)

Description

atom$fm_position_eof sets the file pointer to the end of the file.  The file
must be open.

atom$fm_position_eof sets the value of the fmi_error_code context register
to reflect the result of the operation.  For more information about the possible
values for this register, see atom$fm_handle_error.

Syntax

atom$fm_position_eof

Return Value

Unchanged.

Example

The following is an example of how to set the file pointer to the end of the file:

atom$fm_item_type <fmi_filespec>
atom$fm_item_set <c:\test.txt>
atom$fm_open_file <5>

ê atom$fm_position_eof
atom$fm_append_data <Hello>

The example is explained as follows:

atom$fm_item_type <fmi_filespec>

Specifies the fmi_filespec context register.

atom$fm_item_set <c:\test.txt>

Sets the value of the fmi_filespec register to c:\test.txt.

atom$fm_open_file <5>

Opens an existing file in text mode for read and write operations and
positions the file pointer to the beginning of the file.

America Online Confidential 18-64  America Online, Inc. 1993-95




February 1995 FDO91 Manual, Vol. 2

ê atom$fm_position_eof

Sets the file pointer to the end of the file.

atom$fm_append_data <Hello>

Appends data at the current position to the file in context.

 America Online, Inc. 1993-95 18-65 America Online Confidential




Chapter 18: File Manager Protocol February 1995

atom$fm_position_file
28 ($1C)

Description

atom$fm_position_file sets the file pointer to a specific offset from the
beginning of the file.  The file must be open.

atom$fm_position_file sets the value of the fmi_error_code context register
to reflect the result of the operation.  For more information about the possible
values for this register, see atom$fm_handle_error.

Syntax

atom$fm_position_file <offset>

<offset> Specifies the offset in bytes from the beginning of the
file.

Return Value

Unchanged.

Example

The following is an example of how to set the file pointer to a specific offset
from the beginning of the file:

atom$fm_item_type <fmi_filespec>
atom$fm_item_set <c:\test.txt>
atom$fm_open_file <5>

ê atom$fm_position_file <27>
atom$fm_append_data <Hello>

The example is explained as follows:

atom$fm_item_type <fmi_filespec>

Specifies the fmi_filespec context register.

atom$fm_item_set <c:\test.txt>

Sets the value of the fmi_filespec register to c:\test.txt.

America Online Confidential 18-66  America Online, Inc. 1993-95




February 1995 FDO91 Manual, Vol. 2

atom$fm_open_file <5>

Opens an existing file in text mode for read and write operations and
positions the file pointer to the beginning of the file.

ê atom$fm_position_file <27>

Sets the file pointer to an offset of 27 bytes from the beginning of the
file.

atom$fm_append_data <Hello>

Appends data at the current position to the file in context.

 America Online, Inc. 1993-95 18-67 America Online Confidential




Chapter 18: File Manager Protocol February 1995

atom$fm_read_file
37 ($25)

Description

atom$fm_read_file reads data from a file.  The file must be open.

If no argument is specified, the contents of the entire file is read.

atom$fm_read_file sets the value of the fmi_error_code context register to
reflect the result of the operation.  For more information about the possible
values for this register, see atom$fm_handle_error.

Syntax

atom$fm_read_file [<bytes>]

[<bytes>] Specifies the number of bytes to read

Return Value

0 (zero) if no error; otherwise, non-zero.

Example

The following is an example of how to read data from a file:

atom$fm_item_type <fmi_filespec>
atom$fm_item_set <c:\test.txt>
atom$fm_open_file <3>
atom$fm_position_file <27>

ê atom$fm_read_file <10>

The example is explained as follows:

atom$fm_item_type <fmi_filespec>

Specifies the fmi_filespec context register.

atom$fm_item_set <c:\test.txt>

Sets the value of the fmi_filespec register to c:\test.txt.

America Online Confidential 18-68  America Online, Inc. 1993-95




February 1995 FDO91 Manual, Vol. 2

atom$fm_open_file <3>

Opens an existing file in text mode for read operations and positions
the file pointer to the beginning of the file.

atom$fm_position_file <27>

Sets the file pointer to an offset of 27 bytes from the beginning of the
file.

ê atom$fm_read_file <10>

Reads 10 bytes of data from the file.

 America Online, Inc. 1993-95 18-69 America Online Confidential




Chapter 18: File Manager Protocol February 1995

atom$fm_register
11 ($0B)

Description

atom$fm_register registers a new file type or group.  This atom sets  the
value of fmi_file_type_id or fm_file_group_id to the ID of the new file type or
group.

If you are registering a file type, you must set the fmi_file_type_ext and the
fmi_file_type_desc context registers before using atom$fm_register.

Syntax

atom$fm_register (<FMR_FILE_TYPE> | <FMR_FILE_GROUP>)

<FMR_FILE_TYPE> Specifies registration of a new file type.

<FMR_FILE_GROUP> Specifies registration of a new group.

Return Value

Unchanged.

Example

The following is an example of how to register a new file type:

atom$fm_start
atom$fm_item_type <fmi_file_type_ext>
atom$fm_item_set <GIF>
atom$fm_item_type <fmi_file_type_desc>
atom$fm_item_set <GIF Files>

ê atom$fm_register <FMR_FILE_TYPE>
.
.
.
atom$fm_end

The example is explained as follows:

atom$fm_start

Creates a File Manager Tool context.

America Online Confidential 18-70  America Online, Inc. 1993-95




February 1995 FDO91 Manual, Vol. 2

atom$fm_item_type <fmi_file_type_ext>

Specifies the fmi_file_type_ext context register.

atom$fm_item_set <GIF>

Sets the value of the current context register to GIF.

atom$fm_item_type <fmi_file_type_desc>

Specifies the fmi_file_type_desc context register.

atom$fm_item_set <GIF Files>

Sets the value of the current context register to GIF Files.

ê atom$fm_register <FMR_FILE_TYPE>

Registers a new file type and creates a file type ID.

atom$fm_end

Disposes of the File Manager Tool context.

 America Online, Inc. 1993-95 18-71 America Online Confidential




Chapter 18: File Manager Protocol February 1995

atom$fm_rename_file
24 ($18)

Description

atom$fm_rename_file renames a file.  The path name is not changed.

atom$fm_rename_file sets the value of the fmi_error_code context register to
reflect the result of the operation.  For more information about the possible
values for this register, see atom$fm_handle_error.

Syntax

atom$fm_rename_file <name>

<name> Specifies a filename.

Return Value

Unchanged.

Example

The following is an example of how to rename a file:

atom$fm_item_type <fmi_filespec>
atom$fm_item_set <c:\download\badname.jpg>

ê atom$fm_rename_file <goodname.jpg>

The example is explained as follows:

atom$fm_item_type <fmi_filespec>

Specifies the fmi_filespec context register.

atom$fm_item_set <c:\download\badname.jpg>

Sets the value of the fmi_filespec context register to
c:\download\badname.jpg.

ê atom$fm_rename_file <goodname.jpg>

Renames the file to goodname.jpg.

America Online Confidential 18-72  America Online, Inc. 1993-95




February 1995 FDO91 Manual, Vol. 2

atom$fm_set_relative_path
36 ($24)

Description

atom$fm_set_relative_path sets the path of the current context to the
specified path, relative to the path of the online service application directory.

Syntax

atom$fm_set_relative_path <path>

<path> Specifies the path.

Return Value

Preserves lValue.

Example

The following is an example of how to set the path of the current context to
the specified path:

ê atom$fm_set_relative_path <download>

The example is explained as follows:

ê atom$fm_set_relative_path <download>

Sets the path of the current context to dowload.

 America Online, Inc. 1993-95 18-73 America Online Confidential




Chapter 18: File Manager Protocol February 1995

atom$fm_start
0 ($00)

Description

atom$fm_start creates a File Manager Tool context for the current atom
stream.

Syntax

atom$fm_start

Return Value

Unchanged.

Example

The following is an example of how to create a File Manager Tool context for
the current atom stream:

ê atom$fm_start
.
.
.
atom$fm_end

The example is explained as follows:

ê atom$fm_start

Creates a File Manager Tool context.

atom$fm_end

Disposes of the File Manager Tool context.

America Online Confidential 18-74  America Online, Inc. 1993-95




February 1995 FDO91 Manual, Vol. 2

atom$fm_unregister
12 ($0C)

Description

atom$fm_unregister unregisters a file type or group.

If no argument is specified, the value of the fmi_file_type_id context register is
used.

Syntax

atom$fm_unregister [<file_type_id>]

[<file_type_id>] Specifies a file type ID to be unregistered.

Return Value

Unchanged.

Example

The following is an example of how to unregister a file type or group:

atom$fm_find_file_type <GIF>
ê atom$fm_unregister

The example is explained as follows:

atom$fm_find_file_type <GIF>

Searches registered file types for one matching GIF and sets the
fmi_file_type_id context register to the ID of the file type found.

ê atom$fm_unregister

Unregisters the GIF file type.

 America Online, Inc. 1993-95 18-75 America Online Confidential




Chapter 18: File Manager Protocol February 1995

atom$fm_unregister_list
38 ($26)

Description

atom$fm_unregister_list unregisters every file type in the current context.

Syntax

atom$fm_unregister_list

Return Value

Unchanged.

Example

The following is an example of how to unregister every file type in the current
context:

ê atom$fm_unregister_list

The example is explained as follows:

ê atom$fm_unregister_list

Unregistera every file type in the current context.

America Online Confidential 18-76  America Online, Inc. 1993-95



===== END PDF: fm.pdf =====

===== BEGIN PDF: hfs.pdf =====



Manual: FDO91 Manual
Chapter 20: Host Forms Server Protocol defines host forms server protocol atoms and provides
host forms information.
Last updated: February 1998




C H A P T E R  2 0

Host Forms Server (HFS) Protocol

The Host Forms Server (HFS) protocol (protocol ID 51) consists of atoms
that handle the communications between the Host Forms Server (HFS) and the
VP Designer tool running on a client PC.

HFS stores and installs forms to the online service.  The HFS protocol contains
two groups: attribute atoms and command atoms.

The attribute atoms are sent by VP Designer to provide required information
(such as field mapping) for HFS to store and install a form.  Note that the
attribute atoms used by HFS are stripped from the form stream before the form
is installed.

The command atoms support a communication protocol between HFS and VP
Designer that synchronizes the form opening, saving, and installation
operations.  For example, these commands are used to open a form stored on
the host.

America Online Confidential 20-1  America Online, Inc. 1993-98




Chapter 20: Host Forms Server (HFS) Protocol February 1998

Host Forms Server Atoms

The Host Forms Server (HFS) protocol functions and their associated atoms
follow:

Function Atoms

Commands:

Granting access rights atom$hfs_cmd_access_rights

Opening a form with ho token atom$hfs_cmd_form_gid
to HFS atom$hfs_cmd_form_name

atom$hfs_cmd_template_name
atom$hfs_cmd_tag

Sending the opened form to atom$hfs_cmd_start_form_data
VP Designer atom$hfs_cmd_form_gid

atom$hfs_cmd_template_name
atom$hfs_cmd_read_only_form
atom$hfs_cmd_fdo (with form stream)
atom$hfs_cmd_end_form_data

Saving a form to HFS with hc
token:

   VP Designer requests HFS atom$hfs_cmd_form_name
to save a form atom$hfs_cmd_template_name

atom$hfs_cmd_save_as

   HFS requests to receive a atom$hfs_cmd_start_get_fdo
form atom$hfs_cmd_tag

atom$hfs_cmd_form_gid
atom$hfs_cmd_form_name
atom$hfs_cmd_response_id
atom$hfs_cmd_reference_id
atom$hfs_cmd_end_get_fdo

   VP Designer sends a form atom$hfs_cmd_form_name
stream with he token to HFS atom$hfs_cmd_gid

atom$hfs_cmd_template_name
atom$hfs_cmd_tag

America Online Confidential 20-2  America Online, Inc. 1993-98




February 1998 FDO91 Manual, Vol. 2

atom$hfs_cmd_response_id

atom$hfs_cmd_reference_id
atom$hfs_cmd_fdo (with form stream)

   HFS replies with the save
results atom$hfs_cmd_start_save_result

atom$hfs_cmd_tag
atom$hfs_cmd_form_gid
atom$hfs_cmd_template_name
atom$hfs_cmd_form_name
atom$hfs_cmd_result_code

atom$hfs_cmd_end_save_result

   VP Designer sends request atom$hfs_cmd_form_name
with hj token to install form

Attributes:

Mapping form objects atom$hfs_attr_checkbox_mapping

atom$hfs_attr_field_mapping

atom$hfs_attr_variable_mapping

Marking stream areas atom$hfs_attr_end_in_stream

atom$hfs_attr_end_post_stream

atom$hfs_attr_end_pre_stream

atom$hfs_attr_start_in_stream

atom$hfs_attr_start_post_stream

atom$hfs_attr_start_pre_stream

Setting flags atom$hfs_attr_flags

atom$hfs_attr_object_flags

Assigning a database atom$hfs_attr_database_type

Assigning a canned-form atom$hfs_attr_server_name
server

Defining window size and atom$hfs_attr_style_id
positioning styles

 America Online, Inc. 1993-98 20-3 America Online Confidential




Chapter 20: Host Forms Server (HFS) Protocol February 1998

Defining a preset global ID atom$hfs_attr_preset_global_id

Defining a plus group atom$hfs_attr_plus_group_number

atom$hfs_attr_plus_group_type

Naming and commenting atom$hfs_attr_object_comment
objects

atom$hfs_attr_layer_name

atom$hfs_attr_object_name

The HFS protocol atoms are described in alphabetical order in the rest of this
chapter.

America Online Confidential 20-4  America Online, Inc. 1993-98




February 1998 FDO91 Manual, Vol. 2

atom$hfs_attr_checkbox_mapping
30 ($1E)

Description

atom$hfs_attr_checkbox_mapping maps the checkbox or radio button
object relative ID to a known text string.

Syntax

atom$hfs_attr_checkbox_mapping <dword1, string>

<dword1> Specifies the relative ID of the object to be mapped.
The 4-byte value is 1 or greater.

<string> Specifies the associated text.

Return Value

None.

Example

The following VP Designer example maps object 5 to the text Remote
enabled:

atom$uni_start_stream_wait_on
atom$hfs_attr_field_mapping <1, 16>
atom$hfs_attr_variable_mapping <4, 20>

ê atom$hfs_attr_checkbox_mapping <5, “Remote enabled”>
atom$hfs_attr_style_id <0-43-1234>
atom$hfs_attr_server_name <"Rainman">
atom$hfs_attr_start_pre_stream
atom$uni_void
atom$hfs_attr_end_pre_stream
atom$man_start_object <ind_group, "Form">

atom$mat_orientation <vff>
atom$mat_precise_width <500>
atom$mat_precise_height <300>
atom$mat_bool_precise <yes>
atom$mat_bool_resize_vertical <no>
atom$mat_bool_resize_horizontal <no>
atom$mat_relative_tag <1>
atom$mat_dirty_query <yes>
atom$hfs_attr_start_in_stream
atom$uni_void
atom$hfs_attr_end_in_stream

 America Online, Inc. 1993-98 20-5 America Online Confidential




Chapter 20: Host Forms Server (HFS) Protocol February 1998

atom$hfs_attr_object_comment <"The quick brown fox jumps
over the lazy dog.">

atom$hfs_attr_object_name <"Julius Caesar">
atom$hfs_attr_end_object
atom$hfs_attr_start_post_stream
atom$uni_void
atom$hfs_attr_end_post_stream

atom$uni_end_stream

America Online Confidential 20-6  America Online, Inc. 1993-98




February 1998 FDO91 Manual, Vol. 2

atom$hfs_attr_database_type
31 ($1F)

Description

atom$hfs_attr_database_type specifies the database where the form will
reside.

Syntax

atom$hfs_attr_database_type <dword>

<dword> Specifies the database where the form will reside.
Possible values are:

0 Client-based form

1 Host-based form

Return Value

None.

Example

The following VP Designer example specifies the host database as the storage
target for the form:

atom$uni_start_stream_wait_on
atom$hfs_attr_field_mapping <1, 16>
atom$hfs_attr_variable_mapping <4, 20>
atom$hfs_attr_style_id <0-43-1234>

ê atom$hfs_attr_database_type <1>
atom$hfs_attr_server_name <"Rainman">
atom$hfs_attr_start_pre_stream
atom$uni_void
atom$hfs_attr_end_pre_stream
atom$man_start_object <ind_group, "Form">

atom$mat_orientation <vff>
atom$mat_precise_width <500>
atom$mat_precise_height <300>
atom$mat_bool_precise <yes>
atom$mat_bool_resize_vertical <no>
atom$mat_bool_resize_horizontal <no>
atom$mat_relative_tag <1>
atom$mat_dirty_query <yes>

 America Online, Inc. 1993-98 20-7 America Online Confidential




Chapter 20: Host Forms Server (HFS) Protocol February 1998

atom$hfs_attr_start_in_stream
atom$uni_void
atom$hfs_attr_end_in_stream
atom$hfs_attr_object_comment <"The quick brown fox jumps

over the lazy dog.">
atom$hfs_attr_object_name <"Julius Caesar">
atom$hfs_attr_end_object
atom$hfs_attr_start_post_stream
atom$uni_void
atom$hfs_attr_end_post_stream

atom$uni_end_stream

America Online Confidential 20-8  America Online, Inc. 1993-98




February 1998 FDO91 Manual, Vol. 2

atom$hfs_attr_end_in_stream
15 ($0F)

Description

atom$hfs_attr_end_in_stream marks the end of the in-stream segment of a
form definition.  Note that atom$hfs_attr_start_in_stream marks the start of
the in-stream.

Syntax

atom$hfs_attr_end_in_stream

Return Value

None.

Example

The following VP Designer example marks the end of the in-stream section of
the code:

atom$uni_start_stream_wait_on
atom$hfs_attr_field_mapping <1, 16>
atom$hfs_attr_variable_mapping <4, 20>
atom$hfs_attr_style_id <0-43-1234>
atom$hfs_attr_server_name <"Rainman">
atom$hfs_attr_start_pre_stream
atom$uni_void
atom$hfs_attr_end_pre_stream
atom$man_start_object <ind_group, "Form">

atom$mat_orientation <vff>
atom$mat_precise_width <500>
atom$mat_precise_height <300>
atom$mat_bool_precise <yes>
atom$mat_bool_resize_vertical <no>
atom$mat_bool_resize_horizontal <no>
atom$mat_relative_tag <1>
atom$mat_dirty_query <yes>
atom$hfs_attr_start_in_stream
.
.
.

ê atom$hfs_attr_end_in_stream
atom$hfs_attr_object_comment <"The quick brown fox jumps

over the lazy dog.">
atom$hfs_attr_object_name <"Julius Caesar">
atom$hfs_attr_end_object

 America Online, Inc. 1993-98 20-9 America Online Confidential




Chapter 20: Host Forms Server (HFS) Protocol February 1998

atom$hfs_attr_start_post_stream
atom$uni_void
atom$hfs_attr_end_post_stream

atom$uni_end_stream

America Online Confidential 20-10  America Online, Inc. 1993-98




February 1998 FDO91 Manual, Vol. 2

atom$hfs_attr_end_post_stream
17 ($11)

Description

atom$hfs_attr_end_post_stream marks the end of the post-stream segment
of a form definition.  Note that atom$hfs_attr_start_post_stream marks the
start of the post-stream.

Syntax

atom$hfs_attr_end_post_stream

Return Value

None.

Example

The following VP Designer example marks the end of the post-stream section
of the code:

atom$uni_start_stream_wait_on
atom$hfs_attr_field_mapping <1, 16>
atom$hfs_attr_variable_mapping <4, 20>
atom$hfs_attr_style_id <0-43-1234>
atom$hfs_attr_server_name <"Rainman">
atom$hfs_attr_start_pre_stream
atom$uni_void
atom$hfs_attr_end_pre_stream
atom$man_start_object <ind_group, "Form">

atom$mat_orientation <vff>
atom$mat_precise_width <500>
atom$mat_precise_height <300>
atom$mat_bool_precise <yes>
atom$mat_bool_resize_vertical <no>
atom$mat_bool_resize_horizontal <no>
atom$mat_relative_tag <1>
atom$mat_dirty_query <yes>
atom$hfs_attr_start_in_stream
atom$uni_void
atom$hfs_attr_end_in_stream
atom$hfs_attr_object_comment <"The quick brown fox jumps

over the lazy dog.">
atom$hfs_attr_object_name <"Julius Caesar">
atom$hfs_attr_end_object
atom$hfs_attr_start_post_stream
.

 America Online, Inc. 1993-98 20-11 America Online Confidential




Chapter 20: Host Forms Server (HFS) Protocol February 1998

.

.
ê atom$hfs_attr_end_post_stream

atom$uni_end_stream

America Online Confidential 20-12  America Online, Inc. 1993-98




February 1998 FDO91 Manual, Vol. 2

atom$hfs_attr_end_pre_stream
13 ($0D)

Description

atom$hfs_attr_end_pre_stream marks the end of the pre-stream segment of
a form definition.  Note that atom$hfs_attr_start_pre_stream marks the start
of the pre-stream.

Syntax

atom$hfs_attr_end_pre_stream

Return Value

None.

Example

The following VP Designer example marks the end of the pre-stream section
of the code:

atom$uni_start_stream_wait_on
atom$hfs_attr_field_mapping <1, 16>
atom$hfs_attr_variable_mapping <4, 20>
atom$hfs_attr_style_id <0-43-1234>
atom$hfs_attr_server_name <"Rainman">
atom$hfs_attr_start_pre_stream
.
.
.

ê atom$hfs_attr_end_pre_stream
atom$man_start_object <ind_group, "Form">

atom$mat_orientation <vff>
atom$mat_precise_width <500>
atom$mat_precise_height <300>
atom$mat_bool_precise <yes>
atom$mat_bool_resize_vertical <no>
atom$mat_bool_resize_horizontal <no>
atom$mat_relative_tag <1>
atom$mat_dirty_query <yes>
atom$hfs_attr_start_in_stream
atom$uni_void
atom$hfs_attr_end_in_stream
atom$hfs_attr_object_comment <"The quick brown fox jumps

over the lazy dog.">
atom$hfs_attr_object_name <"Julius Caesar">
atom$hfs_attr_end_object

 America Online, Inc. 1993-98 20-13 America Online Confidential




Chapter 20: Host Forms Server (HFS) Protocol February 1998

atom$hfs_attr_start_post_stream
atom$uni_void
atom$hfs_attr_end_post_stream

atom$uni_end_stream

America Online Confidential 20-14  America Online, Inc. 1993-98




February 1998 FDO91 Manual, Vol. 2

atom$hfs_attr_field_mapping
0 ($00)

Description

atom$hfs_attr_field_mapping maps a specified object to a field on the form
for the host server.

Syntax

atom$hfs_attr_field_mapping <dword1, dword2>

<dword1> Specifies the relative ID of the object to be mapped.
The 4-byte value is 1 or greater.

<dword2> Specifies the field mapping data.  The 4-byte value is 1
or greater.

Return Value

None.

Example

The following VP Designer example maps object 1 to field 16:

atom$uni_start_stream_wait_on
ê atom$hfs_attr_field_mapping <1, 16>

atom$hfs_attr_variable_mapping <4, 20>
atom$hfs_attr_style_id <0-43-1234>
atom$hfs_attr_server_name <"Rainman">
atom$hfs_attr_start_pre_stream
atom$uni_void
atom$hfs_attr_end_pre_stream
atom$man_start_object <ind_group, "Form">

atom$mat_orientation <vff>
atom$mat_precise_width <500>
atom$mat_precise_height <300>
atom$mat_bool_precise <yes>
atom$mat_bool_resize_vertical <no>
atom$mat_bool_resize_horizontal <no>
atom$mat_relative_tag <1>
atom$mat_dirty_query <yes>
atom$hfs_attr_start_in_stream
atom$uni_void
atom$hfs_attr_end_in_stream
atom$hfs_attr_object_comment <"The quick brown fox jumps

 America Online, Inc. 1993-98 20-15 America Online Confidential




Chapter 20: Host Forms Server (HFS) Protocol February 1998

over the lazy dog.">
atom$hfs_attr_object_name <"Julius Caesar">
atom$hfs_attr_end_object
atom$hfs_attr_start_post_stream
atom$uni_void
atom$hfs_attr_end_post_stream

atom$uni_end_stream

America Online Confidential 20-16  America Online, Inc. 1993-98




February 1998 FDO91 Manual, Vol. 2

atom$hfs_attr_flags
6 ($06)

Description

atom$hfs_attr_flags sets flags to define various attributes on a form.

Syntax

atom$hfs_attr_flags <dword>

<dword> Specifies an attribute flag to be set.  Flag values are:

2 insert_global_id — Specifies that a form has
a preset global ID.

128 direct_accessible — Specifies that a form
has a Favorite Places heart (icon).

Return Value

None.

Example

The following VP Designer example specifies that the form has a preset global
ID:

atom$uni_start_stream_wait_on
atom$hfs_attr_field_mapping <1, 16>

ê atom$hfs_attr_flags <2>
atom$hfs_attr_variable_mapping <4, 20>
atom$hfs_attr_style_id <0-43-1234>
atom$hfs_attr_plus_group_number <34>
atom$hfs_attr_plus_group_type <2>
atom$hfs_attr_server_name <"Rainman">
atom$hfs_attr_start_pre_stream
atom$uni_void
atom$hfs_attr_end_pre_stream

 America Online, Inc. 1993-98 20-17 America Online Confidential




Chapter 20: Host Forms Server (HFS) Protocol February 1998

atom$hfs_attr_layer_name
39 ($27)

Description

atom$hfs_attr_layer_name defines the current object as a layer-defined
object within VP Designer. This atom also specifies the object name.

Syntax

atom$hfs_attr_layer_name <string>

<string> Specifies the layered object name.

Return Value

None.

Example

The following VP Designer example defines the current object as a layered
object called Foobar:

atom$uni_start_stream_wait_on
atom$hfs_attr_field_mapping <1, 16>
atom$hfs_attr_variable_mapping <4, 20>
atom$hfs_attr_style_id <0-43-1234>
atom$hfs_attr_server_name <"Rainman">
atom$hfs_attr_start_pre_stream
atom$uni_void
atom$hfs_attr_end_pre_stream
atom$man_start_object <org_group, "">

ê atom$hfs_attr_layered_name <”Foobar”>
atom$mat_orientation <vff>
atom$mat_precise_width <500>
atom$mat_precise_height <300>
atom$mat_bool_precise <yes>
atom$mat_bool_resize_vertical <no>
atom$mat_bool_resize_horizontal <no>
atom$mat_relative_tag <1>
atom$mat_dirty_query <yes>
atom$hfs_attr_start_in_stream
atom$uni_void
atom$hfs_attr_end_in_stream
atom$hfs_attr_object_comment <"The quick brown fox jumps

over the lazy dog.">
atom$hfs_attr_object_name <"Julius Caesar">
atom$man_end_object

America Online Confidential 20-18  America Online, Inc. 1993-98




February 1998 FDO91 Manual, Vol. 2

atom$hfs_attr_end_object
atom$hfs_attr_start_post_stream
atom$uni_void
atom$hfs_attr_end_post_stream

atom$uni_end_stream

 America Online, Inc. 1993-98 20-19 America Online Confidential




Chapter 20: Host Forms Server (HFS) Protocol February 1998

atom$hfs_attr_object_comment
34 ($22)

Description

atom$hfs_attr_object_comment specifies the comment text that describes
the current object in the stream.

Syntax

atom$hfs_attr_object_comment <string>

<string> Specifies the text of the comment.

Return Value

None.

Example

The following VP Designer example specifies the comment text that describes
the current object:

atom$uni_start_stream_wait_on
atom$hfs_attr_field_mapping <1, 16>
atom$hfs_attr_variable_mapping <4, 20>
atom$hfs_attr_style_id <0-43-1234>
atom$hfs_attr_server_name <"Rainman">
atom$hfs_attr_start_pre_stream
atom$uni_void
atom$hfs_attr_end_pre_stream
atom$man_start_object <ind_group, "Form">

atom$mat_orientation <vff>
atom$mat_precise_width <500>
atom$mat_precise_height <300>
atom$mat_bool_precise <yes>
atom$mat_bool_resize_vertical <no>
atom$mat_bool_resize_horizontal <no>
atom$mat_relative_tag <1>
atom$mat_dirty_query <yes>
atom$hfs_attr_start_in_stream
atom$uni_void
atom$hfs_attr_end_in_stream

ê atom$hfs_attr_object_comment <"The quick brown fox jumps
over the lazy dog.">

atom$hfs_attr_object_name <"Julius Caesar">
atom$hfs_attr_end_object
atom$hfs_attr_start_post_stream

America Online Confidential 20-20  America Online, Inc. 1993-98




February 1998 FDO91 Manual, Vol. 2

atom$uni_void
atom$hfs_attr_end_post_stream

atom$uni_end_stream

 America Online, Inc. 1993-98 20-21 America Online Confidential




Chapter 20: Host Forms Server (HFS) Protocol February 1998

atom$hfs_attr_object_flags
44 ($2C)

Description

atom$hfs_attr_object_flags sets flags to define various attributes on a form.

Syntax

atom$hfs_attr_object_flags <dword>

<dword> Specifies an object flag to be set.  Flag value is:

1 slideshow — Specifies that the object is a
graphic view.

Return Value

None.

Example

The following VP Designer example specifies that the current object is a
graphic-view object:

atom$uni_start_stream_wait_on
atom$hfs_attr_field_mapping <1, 16>
atom$hfs_attr_variable_mapping <4, 20>
atom$hfs_attr_style_id <0-43-1234>
atom$hfs_attr_server_name <"Rainman">
atom$hfs_attr_start_pre_stream
atom$uni_void
atom$hfs_attr_end_pre_stream
atom$man_start_object <ind_group, "Form">

atom$man_start_object <view, ””>
ê atom$hfs_attr_object_flags <1>

atom$mat_precise_width <500>
atom$mat_precise_height <300>
atom$mat_bool_precise <yes>
atom$mat_bool_resize_vertical <no>
atom$mat_bool_resize_horizontal <no>
atom$mat_relative_tag <1>
atom$hfs_attr_start_in_stream
atom$uni_void
atom$hfs_attr_end_in_stream
atom$hfs_attr_object_comment <"The quick brown fox jumps

over the lazy dog.">

America Online Confidential 20-22  America Online, Inc. 1993-98




February 1998 FDO91 Manual, Vol. 2

atom$hfs_attr_object_name <"Julius Caesar">
atom$hfs_attr_end_object
atom$hfs_attr_start_post_stream
atom$uni_void
atom$hfs_attr_end_post_stream

atom$uni_end_stream

 America Online, Inc. 1993-98 20-23 America Online Confidential




Chapter 20: Host Forms Server (HFS) Protocol February 1998

atom$hfs_attr_object_name
35 ($23)

Description

atom$hfs_attr_object_name specifies the name of the current object in the
form.

Syntax

atom$hfs_attr_object_name <string>

<string> Specifies the name of the current object.

Return Value

None.

Example

The following VP Designer example specifies the name (Julius Caesar) to the
current object:

atom$uni_start_stream_wait_on
atom$hfs_attr_field_mapping <1, 16>
atom$hfs_attr_variable_mapping <4, 20>
atom$hfs_attr_style_id <0-43-1234>
atom$hfs_attr_server_name <"Rainman">
atom$hfs_attr_start_pre_stream
atom$uni_void
atom$hfs_attr_end_pre_stream
atom$man_start_object <ind_group, "Form">

atom$mat_orientation <vff>
atom$mat_precise_width <500>
atom$mat_precise_height <300>
atom$mat_bool_precise <yes>
atom$mat_bool_resize_vertical <no>
atom$mat_bool_resize_horizontal <no>
atom$mat_relative_tag <1>
atom$mat_dirty_query <yes>
atom$hfs_attr_start_in_stream
atom$uni_void
atom$hfs_attr_end_in_stream
atom$hfs_attr_object_comment <"The quick brown fox jumps

over the lazy dog.">
ê atom$hfs_attr_object_name <"Julius Caesar">

atom$hfs_attr_end_object
atom$man_end_object

America Online Confidential 20-24  America Online, Inc. 1993-98




February 1998 FDO91 Manual, Vol. 2

atom$hfs_attr_start_post_stream
atom$uni_void
atom$hfs_attr_end_post_stream

atom$uni_end_stream

 America Online, Inc. 1993-98 20-25 America Online Confidential




Chapter 20: Host Forms Server (HFS) Protocol February 1998

atom$hfs_attr_plus_group_number
37 ($25)

Description

atom$hfs_attr_plus_group_number defines a plus group number for the
form.

Syntax

atom$hfs_attr_plus_group_number <dword>

<dword> Specifies the plus group number.  Values are 1 or
greater.

Return Value

None.

Example

The following VP Designer example specifies the plus group number 34 for
the form:

atom$uni_start_stream_wait_on
atom$hfs_attr_field_mapping <1, 16>
atom$hfs_attr_variable_mapping <4, 20>
atom$hfs_attr_style_id <0-43-1234>
atom$hfs_attr_server_name <"Rainman">
atom$hfs_attr_start_pre_stream
atom$uni_void
atom$hfs_attr_end_pre_stream
atom$man_start_object <ind_group, "Form">

ê atom$hfs_attr_plus_group_number <34>
atom$hfs_attr_plus_group_type <2>
atom$mat_orientation <vff>
atom$mat_precise_width <500>
atom$mat_precise_height <300>
atom$mat_bool_precise <yes>
atom$mat_bool_resize_vertical <no>
atom$mat_bool_resize_horizontal <no>
atom$mat_relative_tag <1>
atom$mat_dirty_query <yes>
atom$hfs_attr_start_in_stream
atom$uni_void
atom$hfs_attr_end_in_stream
atom$hfs_attr_object_comment <"The quick brown fox jumps

over the lazy dog.">

America Online Confidential 20-26  America Online, Inc. 1993-98




February 1998 FDO91 Manual, Vol. 2

atom$hfs_attr_object_name <"Julius Caesar">
atom$hfs_attr_end_object
atom$hfs_attr_start_post_stream
atom$uni_void
atom$hfs_attr_end_post_stream

atom$uni_end_stream

 America Online, Inc. 1993-98 20-27 America Online Confidential




Chapter 20: Host Forms Server (HFS) Protocol February 1998

atom$hfs_attr_plus_group_type
38 ($26)

Description

atom$hfs_attr_plus_group_type defines a plus group type for the form.

Syntax

atom$hfs_attr_plus_group_type <dword>

<dword> Specifies the plus group type.  Values are:

0 Same

1 Pay area

2 Free area

Return Value

None.

Example

The following VP Designer example specifies the plus group type (free) for
the form:

atom$uni_start_stream_wait_on
atom$hfs_attr_field_mapping <1, 16>
atom$hfs_attr_variable_mapping <4, 20>
atom$hfs_attr_style_id <0-43-1234>
atom$hfs_attr_server_name <"Rainman">
atom$hfs_attr_start_pre_stream
atom$uni_void
atom$hfs_attr_end_pre_stream
atom$man_start_object <ind_group, "Form">

atom$hfs_attr_plus_group_number <34>
ê atom$hfs_attr_plus_group_type <2>

atom$mat_orientation <vff>
atom$mat_precise_width <500>
atom$mat_precise_height <300>
atom$mat_bool_precise <yes>
atom$mat_bool_resize_vertical <no>
atom$mat_bool_resize_horizontal <no>
atom$mat_relative_tag <1>
atom$mat_dirty_query <yes>

America Online Confidential 20-28  America Online, Inc. 1993-98




February 1998 FDO91 Manual, Vol. 2

atom$hfs_attr_start_in_stream
atom$uni_void
atom$hfs_attr_end_in_stream
atom$hfs_attr_object_comment <"The quick brown fox jumps

over the lazy dog.">
atom$hfs_attr_object_name <"Julius Caesar">
atom$hfs_attr_end_object
atom$hfs_attr_start_post_stream
atom$uni_void
atom$hfs_attr_end_post_stream

atom$uni_end_stream

 America Online, Inc. 1993-98 20-29 America Online Confidential




Chapter 20: Host Forms Server (HFS) Protocol February 1998

atom$hfs_attr_preset_global_id
4 ($04)

Description

atom$hfs_attr_preset_global_id requests that the host assign a preset global
ID (GID) for the current form.

Syntax

atom$hfs_attr_preset_global_id <dword>

<dword> Specifies the GID of the current form.

Return Value

None.

Example

The following VP Designer example requests a preset GID (0-43-4535) for
the current form:

atom$uni_start_stream_wait_on
ê atom$hfs_attr_preset_global_id <0-43-4535>

atom$hfs_attr_field_mapping <1, 16>
atom$hfs_attr_variable_mapping <4, 20>
atom$hfs_attr_style_id <0-43-1234>
atom$hfs_attr_server_name <"Rainman">
atom$hfs_attr_start_pre_stream
atom$uni_void
atom$hfs_attr_end_pre_stream

America Online Confidential 20-30  America Online, Inc. 1993-98




February 1998 FDO91 Manual, Vol. 2

atom$hfs_attr_server_name
41 ($29)

Description

atom$hfs_attr_server_name specifies the name of the canned form server.

Syntax

atom$hfs_attr_server_name <string>

<string> Specifies the server name holding the canned forms.

Return Value

None.

Example

The following VP Designer example specifies the name of the server
(Rainman) that holds the canned forms:

atom$uni_start_stream_wait_on
ê atom$hfs_attr_server_name <”Rainman”>

atom$hfs_attr_field_mapping <1, 16>
atom$hfs_attr_variable_mapping <4, 20>
atom$hfs_attr_style_id <0-43-1234>
atom$hfs_attr_server_name <"Rainman">
atom$hfs_attr_start_pre_stream
atom$uni_void
atom$hfs_attr_end_pre_stream
atom$man_start_object <ind_group, "Form">

atom$hfs_attr_layered_object <”Foobar”>
atom$mat_orientation <vff>
atom$mat_precise_width <500>
atom$mat_precise_height <300>
atom$mat_bool_precise <yes>
atom$mat_bool_resize_vertical <no>
atom$mat_bool_resize_horizontal <no>
atom$mat_relative_tag <1>
atom$mat_dirty_query <yes>
atom$hfs_attr_start_in_stream
atom$uni_void
atom$hfs_attr_end_in_stream
atom$hfs_attr_object_comment <"The quick brown fox jumps

over the lazy dog.">
atom$hfs_attr_object_name <"Julius Caesar">
atom$hfs_attr_end_object

 America Online, Inc. 1993-98 20-31 America Online Confidential




Chapter 20: Host Forms Server (HFS) Protocol February 1998

atom$hfs_attr_start_post_stream
atom$uni_void
atom$hfs_attr_end_post_stream

atom$uni_end_stream

America Online Confidential 20-32  America Online, Inc. 1993-98




February 1998 FDO91 Manual, Vol. 2

atom$hfs_attr_start_in_stream
14 ($0E)

Description

atom$hfs_attr_start_in_stream marks the start of the in-stream segment of a
form definition.  Note that atom$hfs_attr_end_in_stream marks the end of
the in-stream.

Syntax

atom$hfs_attr_start_in_stream

Return Value

None.

Example

The following VP Designer example marks the start of the in-stream section of
the code:

atom$uni_start_stream_wait_on
atom$hfs_attr_field_mapping <1, 16>
atom$hfs_attr_variable_mapping <4, 20>
atom$hfs_attr_style_id <0-43-1234>
atom$hfs_attr_server_name <"Rainman">
atom$hfs_attr_start_pre_stream
atom$uni_void
atom$hfs_attr_end_pre_stream
atom$man_start_object <ind_group, "Form">

atom$mat_orientation <vff>
atom$mat_precise_width <500>
atom$mat_precise_height <300>
atom$mat_bool_precise <yes>
atom$mat_bool_resize_vertical <no>
atom$mat_bool_resize_horizontal <no>
atom$mat_relative_tag <1>
atom$mat_dirty_query <yes>

ê atom$hfs_attr_start_in_stream
.
.
.

atom$hfs_attr_end_in_stream
atom$hfs_attr_object_comment <"The quick brown fox jumps

over the lazy dog.">
atom$hfs_attr_object_name <"Julius Caesar">
atom$hfs_attr_end_object

 America Online, Inc. 1993-98 20-33 America Online Confidential




Chapter 20: Host Forms Server (HFS) Protocol February 1998

atom$hfs_attr_start_post_stream
atom$uni_void
atom$hfs_attr_end_post_stream

atom$uni_end_stream

America Online Confidential 20-34  America Online, Inc. 1993-98




February 1998 FDO91 Manual, Vol. 2

atom$hfs_attr_start_post_stream
16 ($10)

Description

atom$hfs_attr_start_post_stream marks the start of the post-stream segment
of a form definition.  Note that atom$hfs_attr_end_post_stream marks the
end of the post-stream.

Syntax

atom$hfs_attr_start_post_stream

Return Value

None.

Example

The following VP Designer example marks the start of the post-stream section
of the code:

atom$uni_start_stream_wait_on
atom$hfs_attr_field_mapping <1, 16>
atom$hfs_attr_variable_mapping <4, 20>
atom$hfs_attr_style_id <0-43-1234>
atom$hfs_attr_server_name <"Rainman">
atom$hfs_attr_start_pre_stream
atom$uni_void
atom$hfs_attr_end_pre_stream
atom$man_start_object <ind_group, "Form">

atom$mat_orientation <vff>
atom$mat_precise_width <500>
atom$mat_precise_height <300>
atom$mat_bool_precise <yes>
atom$mat_bool_resize_vertical <no>
atom$mat_bool_resize_horizontal <no>
atom$mat_relative_tag <1>
atom$mat_dirty_query <yes>
atom$hfs_attr_start_in_stream
atom$uni_void
atom$hfs_attr_end_in_stream
atom$hfs_attr_object_comment <"The quick brown fox jumps

over the lazy dog.">
atom$hfs_attr_object_name <"Julius Caesar">
atom$hfs_attr_end_object

ê atom$hfs_attr_start_post_stream
.

 America Online, Inc. 1993-98 20-35 America Online Confidential




Chapter 20: Host Forms Server (HFS) Protocol February 1998

.

.
atom$hfs_attr_end_post_stream

atom$uni_end_stream

America Online Confidential 20-36  America Online, Inc. 1993-98




February 1998 FDO91 Manual, Vol. 2

atom$hfs_attr_start_pre_stream
12 ($0C)

Description

atom$hfs_attr_start_pre_stream marks the start of the pre-stream segment
of a form definition.  Note that atom$hfs_attr_end_pre_stream marks the
end of the pre-stream.

Syntax

atom$hfs_attr_start_pre_stream

Return Value

None.

Example

The following VP Designer example marks the start of the pre-stream section
of the code:

atom$uni_start_stream_wait_on
atom$hfs_attr_field_mapping <1, 16>
atom$hfs_attr_variable_mapping <4, 20>
atom$hfs_attr_style_id <0-43-1234>
atom$hfs_attr_server_name <"Rainman">

ê atom$hfs_attr_start_pre_stream
.
.
.
atom$hfs_attr_end_pre_stream
atom$man_start_object <ind_group, "Form">

atom$mat_orientation <vff>
atom$mat_precise_width <500>
atom$mat_precise_height <300>
atom$mat_bool_precise <yes>
atom$mat_bool_resize_vertical <no>
atom$mat_bool_resize_horizontal <no>
atom$mat_relative_tag <1>
atom$mat_dirty_query <yes>
atom$hfs_attr_start_in_stream
atom$uni_void
atom$hfs_attr_end_in_stream
atom$hfs_attr_object_comment <"The quick brown fox jumps

over the lazy dog.">
atom$hfs_attr_object_name <"Julius Caesar">
atom$hfs_attr_end_object

 America Online, Inc. 1993-98 20-37 America Online Confidential




Chapter 20: Host Forms Server (HFS) Protocol February 1998

atom$hfs_attr_start_post_stream
atom$uni_void
atom$hfs_attr_end_post_stream

atom$uni_end_stream

America Online Confidential 20-38  America Online, Inc. 1993-98




February 1998 FDO91 Manual, Vol. 2

atom$hfs_attr_style_id
4 ($04)

Description

atom$hfs_attr_style_id defines the global ID (GID) of an existing form to
apply as the style ID for the window size and positioning of the new form.

Syntax

atom$hfs_attr_style_id <dword>

<dword> Specifies the GID to apply as the form style.

Return Value

None.

Example

The following VP Designer example specifies GID 0-43-1234 as the style of
the new form:

atom$uni_start_stream_wait_on
atom$hfs_attr_field_mapping <1, 16>
atom$hfs_attr_variable_mapping <4, 20>

ê atom$hfs_attr_style_id <0-43-1234>
atom$hfs_attr_server_name <"Rainman">
atom$hfs_attr_start_pre_stream
atom$uni_void
atom$hfs_attr_end_pre_stream
atom$man_start_object <ind_group, "Form">

atom$mat_orientation <vff>
atom$mat_precise_width <500>
atom$mat_precise_height <300>
atom$mat_bool_precise <yes>
atom$mat_bool_resize_vertical <no>
atom$mat_bool_resize_horizontal <no>
atom$mat_relative_tag <1>
atom$mat_dirty_query <yes>
atom$hfs_attr_start_in_stream
atom$uni_void
atom$hfs_attr_end_in_stream
atom$hfs_attr_object_comment <"The quick brown fox jumps

over the lazy dog.">
atom$hfs_attr_object_name <"Julius Caesar">
atom$hfs_attr_end_object
atom$hfs_attr_start_post_stream

 America Online, Inc. 1993-98 20-39 America Online Confidential




Chapter 20: Host Forms Server (HFS) Protocol February 1998

atom$uni_void
atom$hfs_attr_end_post_stream

atom$uni_end_stream

America Online Confidential 20-40  America Online, Inc. 1993-98




February 1998 FDO91 Manual, Vol. 2

atom$hfs_attr_variable_mapping
28 ($1C)

Description

atom$hfs_attr_variable_mapping maps a specified variable object to a data
value on the form for the host variables.

Syntax

atom$hfs_attr_variable_mapping <dword1, dword2>

<dword1> Specifies the variable object ID of the object to be
mapped.  The 4-byte value is 1 or greater.

<dword2> Specifies the variable value.  The 4-byte value is 1 or
greater.

Return Value

None.

Example

The following VP Designer example maps variable object 4 to a value of 20:

atom$uni_start_stream_wait_on
atom$hfs_attr_field_mapping <1, 16>

ê atom$hfs_attr_variable_mapping <4, 20>
atom$hfs_attr_style_id <0-43-1234>
atom$hfs_attr_server_name <"Rainman">
atom$hfs_attr_start_pre_stream
atom$uni_void
atom$hfs_attr_end_pre_stream
atom$man_start_object <ind_group, "Form">

atom$mat_orientation <vff>
atom$mat_precise_width <500>
atom$mat_precise_height <300>
atom$mat_bool_precise <yes>
atom$mat_bool_resize_vertical <no>
atom$mat_bool_resize_horizontal <no>
atom$mat_relative_tag <1>
atom$mat_dirty_query <yes>
atom$hfs_attr_start_in_stream
atom$uni_void
atom$hfs_attr_end_in_stream
atom$hfs_attr_object_comment <"The quick brown fox jumps

 America Online, Inc. 1993-98 20-41 America Online Confidential




Chapter 20: Host Forms Server (HFS) Protocol February 1998

over the lazy dog.">
atom$hfs_attr_object_name <"Julius Caesar">
atom$hfs_attr_end_object
atom$hfs_attr_start_post_stream
atom$uni_void
atom$hfs_attr_end_post_stream

atom$uni_end_stream

America Online Confidential 20-42  America Online, Inc. 1993-98




February 1998 FDO91 Manual, Vol. 2

atom$hfs_cmd_access_rights
42 ($2A)

Description

atom$hfs_cmd_access_rights is sent by HFS to the client so that VP
Designer can be run.

Note:  The access rights to protected areas of the service, such as VP
Designer, are granted by a Host Security System (HSS) server.  For more
information about HSS, see the Host Subsystems manual.

Syntax

atom$hfs_cmd_access_rights <dword1 dword2>

<dword1 dword2> The first 4 bytes (dword1) specifies a security rights
number.  The second 4 bytes (dword2) specifies a rights
value.

Return Value

None.

Example

The following HFS example grants the client access to VP Designer:

atom$uni_start_stream
ê atom$hfs_cmd_access_rights <8 bytes of encrypted values>

atom$uni_end_stream

 America Online, Inc. 1993-98 20-43 America Online Confidential




Chapter 20: Host Forms Server (HFS) Protocol February 1998

atom$hfs_cmd_end_form_data
19 ($13)

Description

atom$hfs_cmd_end_form_data is sent by HFS to indicate the end of a load
form sequence.  A load form sequence from HFS is a response to a VP
Designer request to load a form from the host.  The sequence contains a series
of hfs_cmd atoms and object definitions that send the form from the host to
the client.  Note that an atom$hfs_cmd_start_form_data is required at the
start of the load form atom sequence.

Syntax

atom$hfs_cmd_end_form_data

Return Value

None.

Example

The following HFS example marks the beginning of a load form sequence:

atom$uni_start_stream
atom$hfs_cmd_start_form_data
atom$hfs_cmd_form_gid <43-5931>
atom$hfs_cmd_form_name <tim_black2>
atom$hfs_cmd_template_name <”1”>
atom$hfs_cmd_read_only_form <no>
atom$hfs_fdo

<
atom$uni_start_stream

atom$man_start_object <ind_group, “Inky Blackness”>
atom$mat_orientation <vff>
atom$mat_precise_width <500>
atom$mat_precise_height <300>
atom$mat_bool_precise <yes>
atom$mat_bool_resize_vertical <no>
atom$mat_bool_resize_horizontal <no>
atom$mat_color_face <1, 0, 0>
atom$mat_bool_background_flood <yes>
atom$mat_start_object <ornament, “The color Black”>

atom$mat_precise_x <228>
atom$mat_precise_y <130>
atom$mat_orientation <hlf>
atom$mat_font_sis <arial, 9, normal>
atom$mat_color_text <225, 255, 255>

America Online Confidential 20-44  America Online, Inc. 1993-98




February 1998 FDO91 Manual, Vol. 2

atom$man_end_object
atom$man_update_display

atom$man_update_woff_end_stream
>

ê atom$hfs_cmd_end_form_data
atom$uni_end_stream

 America Online, Inc. 1993-98 20-45 America Online Confidential




Chapter 20: Host Forms Server (HFS) Protocol February 1998

atom$hfs_cmd_end_get_fdo
23 ($17)

Description

atom$hfs_cmd_end_get_fdo is sent by HFS to mark the end of a form
definition request sequence.  Note that atom$hfs_cmd_start_get_fdo is
required at the start of the request sequence.

Syntax

atom$hfs_cmd_end_get_fdo

Return Value

None.

Example

The following HFS example marks the end of a form display object definition
request sequence:

atom$uni_start_stream
atom$hfs_cmd_start_get_fdo
atom$hfs_cmd_tag <138366636>
atom$hfs_cmd_form_gid <0>
atom$hfs_cmd_form_name <tim_black2>
atom$hfs_cmd_template_name <”default”>
atom$hfs_cmd_response_id <28>
atom$hfs_cmd_reference_id <2>

ê atom$hfs_cmd_end_get_fdo
atom$uni_end_stream

America Online Confidential 20-46  America Online, Inc. 1993-98




February 1998 FDO91 Manual, Vol. 2

atom$hfs_cmd_end_save_result
21 ($15)

Description

atom$hfs_cmd_end_save_result is sent by HFS to indicate the end of a save
form sequence.  A save form sequence from HFS is a response to a VP
Designer token (he) request, which contains a series of hfs_cmd atoms that
save a form.  Note that atom$hfs_cmd_start_save_result is required at the
beginning of the save form sequence.

Syntax

atom$hfs_cmd_end_save_result

Return Value

None.

Example

The following HFS to VP Designer example marks the end of a save form
sequence:

atom$uni_start_stream
atom$hfs_cmd_start_save_result
atom$hfs_cmd_tag <138366636>
atom$hfs_cmd_form_gid <0>
atom$hfs_cmd_form_name <tim_black2>
atom$hfs_cmd_template_name <”default”>
atom$hfs_cmd_result_code <0>

ê atom$hfs_cmd_end_save_result
atom$uni_end_stream

 America Online, Inc. 1993-98 20-47 America Online Confidential




Chapter 20: Host Forms Server (HFS) Protocol February 1998

atom$hfs_cmd_fdo
7 ($07)

Description

atom$hfs_cmd_fdo is sent by HFS to send a specific atom stream that defines
the form.

Syntax

atom$hfs_cmd_fdo <stream>

<stream> Contains an atom stream that defines the form.

Return Value

None.

Example

The following HFS to VP Designer example contains the stream that defines
the form:

atom$uni_start_stream
atom$hfs_cmd_start_form_data
atom$hfs_cmd_form_gid <43-5931>
atom$hfs_cmd_form_name <tim_black2>
atom$hfs_cmd_template_name <”1”>
atom$hfs_cmd_read_only_form <no>

ê atom$hfs_cmd_fdo
<
atom$uni_start_stream

atom$man_start_object <ind_group, “Inky Blackness”>
atom$mat_orientation <vff>
atom$mat_precise_width <500>
atom$mat_precise_height <300>
atom$mat_bool_precise <yes>
atom$mat_bool_resize_vertical <no>
atom$mat_bool_resize_horizontal <no>
atom$mat_color_face <1, 0, 0>
atom$mat_bool_background_flood <yes>
atom$mat_start_object <ornament, “The color Black”>

atom$mat_precise_x <228>
atom$mat_precise_y <130>
atom$mat_orientation <hlf>
atom$mat_font_sis <arial, 9, normal>
atom$mat_color_text <225, 255, 255>

atom$man_end_object

America Online Confidential 20-48  America Online, Inc. 1993-98




February 1998 FDO91 Manual, Vol. 2

atom$man_update_display
atom$man_update_woff_end_stream
>

atom$hfs_cmd_end_form_data
atom$uni_end_stream

 America Online, Inc. 1993-98 20-49 America Online Confidential




Chapter 20: Host Forms Server (HFS) Protocol February 1998

atom$hfs_cmd_form_gid
1 ($01)

Description

atom$hfs_cmd_form_gid is sent by VP Designer to specify a global ID
(GID) of the form to open.

Syntax

atom$hfs_cmd_form_gid <dword>

<dword> Specifies the GID of the form.

Return Value

None.

Example

The following VP Designer to HFS example specifies GID 0-43-4535 of a
form to open:

atom$uni_start_stream
ê atom$hfs_cmd_form_gid <0-43-4535>

atom$hfs_cmd_form_name <tim_black2>
atom$hfs_cmd_template_name <”default”>
atom$hfs_cmd_tag <9688552>

atom$uni_end_stream

America Online Confidential 20-50  America Online, Inc. 1993-98




February 1998 FDO91 Manual, Vol. 2

atom$hfs_cmd_form_name
2 ($02)

Description

atom$hfs_cmd_form_name is sent by VP Designer to assign a name to a
form, or it is sent by HFS to define the name of the form as the target context
of other command streams.

Syntax

atom$hfs_cmd_form_name <string>

<string> Specifies the name of the form.

Return Value

None.

Example

The following VP Designer to HFS example assigns the name tim_black2 to a
form:

atom$uni_start_stream
atom$hfs_cmd_form_gid <0-0-0>

ê atom$hfs_cmd_form_name <tim_black2>
atom$hfs_cmd_template_name <”default”>
atom$hfs_cmd_tag <9688552>

atom$uni_end_stream

 America Online, Inc. 1993-98 20-51 America Online Confidential




Chapter 20: Host Forms Server (HFS) Protocol February 1998

atom$hfs_cmd_read_only_form
40 ($28)

Description

atom$hfs_cmd_read_only_form determines whether the form is opened in a
read-only state.

Syntax

atom$hfs_cmd_read_only_form <boolean>

<boolean> Specifies whether the form is opened in a read-only
state.  Values are:

Yes The form is read-only.

No The form is editable.  (Default)

Return Value

None.

Example

The following VP Designer example specifies that the form is read-only:

atom$uni_start_stream
atom$hfs_cmd_start_form_data

ê atom$hfs_cmd_read_only_form <yes>
atom$hfs_cmd_form_gid <43-5931>
atom$hfs_cmd_form_name <tim_black2>
atom$hfs_cmd_template_name <”1”>
atom$hfs_cmd_read_only_form <no>
atom$hfs_fdo

<
atom$uni_start_stream

atom$man_start_object <ind_group, “Inky Blackness”>
atom$mat_orientation <vff>
atom$mat_precise_width <500>
atom$mat_precise_height <300>
atom$mat_bool_precise <yes>
atom$mat_bool_resize_vertical <no>
atom$mat_bool_resize_horizontal <no>
atom$mat_color_face <1, 0, 0>
atom$mat_bool_background_flood <yes>
atom$mat_start_object <ornament, “The color Black”>

America Online Confidential 20-52  America Online, Inc. 1993-98




February 1998 FDO91 Manual, Vol. 2

atom$mat_precise_x <228>
atom$mat_precise_y <130>
atom$mat_orientation <hlf>
atom$mat_font_sis <arial, 9, normal>
atom$mat_color_text <225, 255, 255>

atom$man_end_object
atom$man_update_display

atom$man_update_woff_end_stream
>

atom$hfs_cmd_end_form_data
atom$uni_end_stream

 America Online, Inc. 1993-98 20-53 America Online Confidential




Chapter 20: Host Forms Server (HFS) Protocol February 1998

atom$hfs_cmd_reference_id
32 ($20)

Description

atom$hfs_cmd_reference_id is sent by HFS and VP Designer to track
commands in the form-building sequences.

Syntax

atom$hfs_cmd_reference_id <dword>

<dword> Specifies the reference ID in the form-building
sequence.  Integer values are 0 or greater.

Return Value

None.

Example

The following HFS example identifies the reference ID (2) in an object
definition request to VP Designer:

atom$uni_start_stream
atom$hfs_cmd_start_get_fdo
atom$hfs_cmd_tag <138366636>
atom$hfs_cmd_form_gid <0>
atom$hfs_cmd_form_name <tim_black2>
atom$hfs_cmd_template_name <”default”>
atom$hfs_cmd_response_id <28>

ê atom$hfs_cmd_reference_id <2>
atom$hfs_cmd_end_get_fdo

atom$uni_end_stream

America Online Confidential 20-54  America Online, Inc. 1993-98




February 1998 FDO91 Manual, Vol. 2

atom$hfs_cmd_response_id
27 ($1B)

Description

atom$hfs_cmd_response_id is sent by HFS and VP Designer to track
commands in the form-building sequences.

Syntax

atom$hfs_cmd_response_id <dword>

<dword> Specifies the response ID in the form-building
sequence.  Integer values are 0 or greater.

Return Value

None.

Example

The following HFS example identifies the response ID (28) in an object
definition request to VP Designer:

atom$uni_start_stream
atom$hfs_cmd_start_get_fdo
atom$hfs_cmd_tag <138366636>
atom$hfs_cmd_form_gid <0>
atom$hfs_cmd_form_name <tim_black2>
atom$hfs_cmd_template_name <”default”>

ê atom$hfs_cmd_response_id <28>
atom$hfs_cmd_reference_id <2>
atom$hfs_cmd_end_get_fdo

atom$uni_end_stream

 America Online, Inc. 1993-98 20-55 America Online Confidential




Chapter 20: Host Forms Server (HFS) Protocol February 1998

atom$hfs_cmd_result_code
10 ($0A)

Description

atom$hfs_cmd_result_code is sent by HFS to reply to VP Designer with the
results of the operation.

Syntax

atom$hfs_cmd_result_code <dword>

<dword> Specifies the result code.  A zero indicates a successful
operation.  Values 1 or greater are error codes.

Return Value

None.

Example

The following HFS example replies to VP Designer with a zero indicating a
successful save operation:

atom$uni_start_stream
atom$hfs_cmd_start_save_result
atom$hfs_cmd_tag <9688552>
atom$hfs_cmd_form_gid <0-0-0>
atom$hfs_cmd_template_name <”default”>
atom$hfs_cmd_form_name <tim_black2>

ê atom$hfs_cmd_result_code <0>
atom$hfs_cmd_end_save_result

atom$uni_end_stream

America Online Confidential 20-56  America Online, Inc. 1993-98




February 1998 FDO91 Manual, Vol. 2

atom$hfs_cmd_save_as
11 ($0B)

Description

atom$hfs_cmd_save_as is sent by VP Designer to request a save operation.
Note that the host responds to this request with a prompt for a form name.

Syntax

atom$hfs_cmd_save_as

Return Value

None.

Example

The following VP Designer example requests HFS to save a form:

atom$uni_start_stream
atom$hfs_cmd_form_gid <0-0-0>
atom$hfs_cmd_form_name <tim_black2>
atom$hfs_cmd_template_name <”default”>
atom$hfs_cmd_tag <9688552>

ê atom$hfs_cmd_save_as
atom$uni_end_stream

 America Online, Inc. 1993-98 20-57 America Online Confidential




Chapter 20: Host Forms Server (HFS) Protocol February 1998

atom$hfs_cmd_start_form_data
18 ($12)

Description

atom$hfs_cmd_start_form_data is sent by HFS to indicate the start of a load
form sequence.  A load form sequence from HFS is a response to a VP
Designer request to load a form from the host.  The sequence contains a series
of hfs_cmd atoms and object definitions that send the form from the host to
the client.  Note that atom$hfs_cmd_end_form_data is required at the end of
the load form atom sequence.

Syntax

atom$hfs_cmd_start_form_data

Return Value

None.

Example

The following HFS to VP Designer example marks the beginning of a load
form sequence:

atom$uni_start_stream
ê atom$hfs_cmd_start_form_data

atom$hfs_cmd_form_gid <43-5931>
atom$hfs_cmd_form_name <tim_black2>
atom$hfs_cmd_template_name <”1”>
atom$hfs_cmd_read_only_form <no>
atom$hfs_fdo

<
atom$uni_start_stream

atom$man_start_object <ind_group, “Inky Blackness”>
atom$mat_orientation <vff>
atom$mat_precise_width <500>
atom$mat_precise_height <300>
atom$mat_bool_precise <yes>
atom$mat_bool_resize_vertical <no>
atom$mat_bool_resize_horizontal <no>
atom$mat_color_face <1, 0, 0>
atom$mat_bool_background_flood <yes>
atom$mat_start_object <ornament, “The color Black”>

atom$mat_precise_x <228>
atom$mat_precise_y <130>
atom$mat_orientation <hlf>

America Online Confidential 20-58  America Online, Inc. 1993-98




February 1998 FDO91 Manual, Vol. 2

atom$mat_font_sis <arial, 9, normal>
atom$mat_color_text <225, 255, 255>

atom$man_end_object
atom$man_update_display

atom$man_update_woff_end_stream
>

atom$hfs_cmd_end_form_data
atom$uni_end_stream

 America Online, Inc. 1993-98 20-59 America Online Confidential




Chapter 20: Host Forms Server (HFS) Protocol February 1998

atom$hfs_cmd_start_get_fdo
22 ($16)

Description

atom$hfs_cmd_start_get_fdo is sent by HFS to mark the beginning of the
request for the form definitions.  Note that atom$hfs_cmd_end_get_fdo is
required at the end of the request sequence.

Syntax

atom$hfs_cmd_start_get_fdo

Return Value

None.

Example

The following HFS to VP Designer example marks the beginning of a form
display object definition request sequence:

atom$uni_start_stream
ê atom$hfs_cmd_start_get_fdo

atom$hfs_cmd_tag <138366636>
atom$hfs_cmd_form_gid <0>
atom$hfs_cmd_form_name <tim_black2>
atom$hfs_cmd_template_name <”default”>
atom$hfs_cmd_response_id <28>
atom$hfs_cmd_reference_id <2>
atom$hfs_cmd_end_get_fdo

atom$uni_end_stream

America Online Confidential 20-60  America Online, Inc. 1993-98




February 1998 FDO91 Manual, Vol. 2

atom$hfs_cmd_start_save_result
20 ($14)

Description

atom$hfs_cmd_start_save_result is sent by HFS to indicate the start of a
save form sequence.  A save sequence from HFS is a response to a VP
Designer token (he) request, which contains a series of hfs_cmd atoms that
save a form.  Note that atom$hfs_cmd_end_save_result is required at the
end of the save form sequence.

Syntax

atom$hfs_cmd_start_save_result

Return Value

None.

Example

The following HFS to VP Designer example marks the beginning of a save
form sequence:

atom$uni_start_stream
ê atom$hfs_cmd_start_save_result

atom$hfs_cmd_tag <138366636>
atom$hfs_cmd_form_gid <0>
atom$hfs_cmd_form_name <tim_black2>
atom$hfs_cmd_template_name <”default”>
atom$hfs_cmd_result_code <0>
atom$hfs_cmd_end_save_result

atom$uni_end_stream

 America Online, Inc. 1993-98 20-61 America Online Confidential




Chapter 20: Host Forms Server (HFS) Protocol February 1998

atom$hfs_cmd_tag
8 ($08)

Description

atom$hfs_cmd_tag is sent by VP Designer to assign an ID to track
commands being sent.

Syntax

atom$hfs_cmd_tag <dword>

<dword> Specifies the ID of the command set.

Return Value

None.

Example

The following VP Designer to HFS example assigns an ID to the command
set:

atom$uni_start_stream
atom$hfs_cmd_form_gid <0-0-0>
atom$hfs_cmd_form_name <tim_black2>
atom$hfs_cmd_template_name <”default”>

ê atom$hfs_cmd_tag <9688552>
atom$uni_end_stream

America Online Confidential 20-62  America Online, Inc. 1993-98




February 1998 FDO91 Manual, Vol. 2

atom$hfs_cmd_template_name
2 ($02)

Description

atom$hfs_cmd_template_name is sent by VP Designer to assign a template
name to a form, or it is sent by HFS to define the template name of the form as
the target context of other command streams.

Syntax

atom$hfs_cmd_template_name <string>

<string> Specifies the template name of the form.

Return Value

None.

Example

The following VP Designer to HFS example assigns a template name (default)
to the form:

atom$uni_start_stream
atom$hfs_cmd_form_gid <0-0-0>
atom$hfs_cmd_form_name <tim_black2>

ê atom$hfs_cmd_template_name <”default”>
atom$hfs_cmd_tag <9688552>

atom$uni_end_stream

 America Online, Inc. 1993-98 20-63 America Online Confidential



===== END PDF: hfs.pdf =====

===== BEGIN PDF: intro.pdf =====



Manual: FDO91 Manual
Chapter 1:  Introduction describes the basics of form development, the FDO91 language and its
structure, and the contents of this manual.
Last updated: February 1998




C H A P T E R  1

Introduction

FDO91 is a programming language designed to control all client computer

functionality for the Windows™ and for Macintosh platforms of the online
service.  You can enhance existing client functionality by using this language.

FDO91 evolved from the FDO88 language, which is the original online service

forms display language developed for the Apple II platform.  The acronym
FDO stands for "Form Display Operation."

FDO91 atoms are the commands that form the basis of the FDO91 language.
An atom stream is created when a number of atoms are put together in a
sequence that performs a specific function.  Atom streams can be stored and
sent from the host system servers or from the local client database.  Atom
streams sent from a host system server or from the client are assembled into
data packets.

Figure 1.1 shows the host system server to client PC connection types, which
are a phone line network and a TCP/IP network that carry the atom streams:

AOLNet Internet

(Phone Lines)

TCP/IP

Client PC Modem
Atom Streams

Host
Host

TCP/IP

Client PC
Host System Servers

(HP/UNIX, Stratus, Tandem)

Figure 1.1 – Atom Streams in the Host to Client PC Connections

America Online Confidential 1-1  America Online, Inc. 1993-98




Chapter 1: Introduction February 1998

Form Development

The major use of the FDO91 language is for the development of forms, or
windows, for the online service.  This section presents an atom stream that
builds a simple form and information about how a form is developed.

The Form
An atom stream, which consists of a series of FDO91 atoms, determines the
content and design of a form.  Figure 1.2 shows a sample form (dialog box) as
an online member sees it, followed by the FDO91 atom stream that produced
the form, and a brief description of each atom’s function:

Atom Stream Atom Function
atom$uni_start_stream Starts the atom stream.
atom$man_start_object <ind_group, "Exit Creates a window.
Gateway">

atom$mat_orientation <vff> Makes the window vertically oriented.
atom$mat_position <5> Centers the window on the screen.
atom$man_start_object <ornament, "Are Creates a text field with specified text.
you sure you want to sign off?">

atom$mat_size 14x 02x Sets the size of the text field.
atom$mat_font_id <1> Sets the text field's font ID.
atom$mat_font_size <14> Sets the text field's font size.
atom$mat_font_style <1> Sets the text field's font style.
atom$man_start_sibling <org_group> Creates an organizational group.
atom$mat_orientation <hef> Makes the group horizontally oriented.
atom$man_start_object <trigger, "Yes"> Creates a button with a "Yes" label.
atom$mat_bool_default <yes> Sets the previous object as the default.
atom$man_start_sibling <trigger, "No"> Creates a button with a "No" label.
atom$man_start_sibling <trigger, "Exit Creates a button with an "Exit
Application">

Application" label.
atom$man_end_object Terminates the organizational group.
atom$man_update_display Sends the objects to the screen.
atom$uni_wait_off Turns off the wait cursor.
atom$uni_end_stream Specifies the end of the atom stream.

Figure 1.2 – FDO91 Form Example

America Online Confidential 1-2  America Online, Inc. 1993-98




February 1998 FDO91 Manual, Vol. 1

A typical atom stream for a form consists of:

• A command that creates a window (form)

• One or more commands that set attributes of the form

• Several commands that create objects (such as buttons, list boxes, view
fields) or actions on a form

• One or more commands that set attributes for the objects on a form

All forms have a form ID called a global ID (GID).  Identifiers 32-0199 and
40-2000 are examples of GIDs for forms.  Typically, GIDs that begin with 32
provide the basic core of a form (canned-form functionality) and often they are
client-based forms.  GIDs that begin with 40 through 43 typically provide more
online content for information providers.  Note that forms produced with the
VP Designer tool begin with GIDs of 43.

All streams have a unique stream identifier called a stream ID (SID) so that a
number of concurrent form activities can be tracked and processed between the
client and host.  Stream IDs can be generated by the host or client.

Objects, IDs, and Their Context

Objects are an integral part of form design.  Within the atom streams, the
objects are defined in a hierarchical order (tree structure) that begins with a
window (root) object.  Window objects can have object groups that contain
subordinate (children) objects, which together provide the form features and
content.  Figure 1.3 shows some common types of form display objects such as
ornamental pictures and text, list boxes, buttons, and input fields.  For more
specific information about object names, see Chapter 3, "Attribute Manager
Protocol," which defines the available form display objects.

 America Online, Inc. 1993-98 1-3 America Online Confidential




Chapter 1: Introduction February 1998

Radio Button

Radio Button

Check Box
Ornamental Picture

List Box
Check Box

Ornamental Text

Button Enter xyz:  Input Field (edit_view)

Figure 1.3 – Objects on Forms

When you modify objects on a form, you must establish an operating focus
(context) in your atom streams to a specific object so that the form compiler
tool can synchronize its operation to the correct object on your form.  In your
code stream, set the context to the specific object, and then end that context
when the defined operations on the object are complete (before you code the
next object in the sequence).  All objects on a form can be identified with a
unique relative ID.  In the following example, there are two button (trigger)
objects in the form being defined as relative ID 1 and 2:

atom$man_start_object <trigger>
ê atom$mat_relative_tag <1>

atom$man_end_object
atom$man_start_object <trigger>

ê atom$mat_relative_tag <2>
atom$man_end_object

In the following example, the context is set to relative ID 14 to add mail folder
items to this object.  Then the context is changed to relative ID 13 to make
object 13 nonselectable:

atom$uni_start_stream
ê atom$man_set_context_relative <14>

atom$man_build_savemail_menu
atom$man_end_context

ê atom$man_set_context_relative <13>
atom$mat_bool_disabled <yes>
atom$man_end_context
atom$man_update_display
atom$uni_end_stream

Art (graphic) and binary record objects are also identified with a GID.
Identifiers 1-0-01234 and 20-0-00335 are examples of GIDs for art and binary

America Online Confidential 1-4  America Online, Inc. 1993-98




February 1998 FDO91 Manual, Vol. 1

records.  Typically, GIDs that begin with 1 are art-based objects, and GIDs
that begin with 20 are records stored in a database.  The following example
assigns an art GID of 1-0-02201 to a button (trigger) object:

atom$mat_start_object <trigger>
atom$mat_relative_tag <1>

ê atom$mat_art_id <1-0-02201>
atom$mat_precise_x <370>
atom$mat_precise_y <105>
atom$mat_art_animation_rate <250>
atom$mat_art_animation_seq <1 5 0 1>
atom$mat_repeat_animation <yes>
.
.
.
atom$mat_end_object

Objects on a form can be placed in one of two layout forms: precise
positioning and relative grouping.

Precise positioning requires exact pixel placement on both the x and y axes.
The following example defines the placement of all objects on the form as
precise positioned:

atom$man_start_object <ind_group, "Roll Over Beethoven">
atom$mat_bool_background_pic <yes>
atom$mat_art_id <1-0-2196>

ê atom$mat_bool_precise <yes>
atom$mat_precise_width <500>
atom$mat_precise_height <333>
atom$man_start_object <ornament, "Music Forums”>
atom$mat_precise_x <9>
atom$mat_precise_y <10>
atom$mat_precise_width <204>
atom$mat_precise_height <18>
.
.
.
atom$man_end_object

Relative grouping requires horizontal and vertical justification (hff and vff
format) for object placement.  The following example evenly spaces the
placement of trigger objects along the horizontal axis (hee):

atom$man_start_object <ind_group>
atom$man_start_object <org_group>

ê atom$mat_orientation <hee>
atom$man_start_object <trigger>
atom$mat_title <"Button 1">
atom$man_end_object
atom$man_start_object <trigger>
atom$mat_title <"Button 2">
atom$man_end_object
atom$man_start_object <trigger>

 America Online, Inc. 1993-98 1-5 America Online Confidential




Chapter 1: Introduction February 1998

atom$mat_title <"Button 3">
atom$man_end_object

You can combine the two groupings within a form; however, you cannot
combine them within the context of the group.  Once an item in the object tree
is made precise, all objects subordinate to it must be precise.

Form Compilers

There are two form compiler tools that you can use to create and edit atom
streams for form development: VP Designer and form_edit.

VP Designer is a Graphical User Interface (GUI) tool that lets you create,
modify, and browse forms while still online.  form_edit is a Stratus-based tool
that lets you create and modify forms offline.

After you create the form with either tool, you compile it and then display it on
a client platform.  The tools also let you decompile an existing form so you can
view both its object tree structure and its raw data structure, which is the atom
stream.  

When you use either tool, forms are constructed in a general tree structure,
which begins with a root (the window), which splits into branches (groups)
that hold the leaves (the objects the member sees on the form).

When you initially execute form_edit, the main screen appears with a window
object already created.  You can add objects to the object tree structure by
making menu selections.

When you use form_edit to create or edit a tree structure, you view the form
or object definitions in Pre-stream, In-stream, and Post-stream entry fields.
Each object in the tree must be relative to the three entry fields.  The Pre-
stream is used for the typical initial code to prepare or define global IDs before
the form is transferred to the client.  In-stream code is where the actual form
construction takes place.  Post-stream is where the maintenance, upkeep, and
cleanup tasks are performed.

For more information about the use of VP Designer, see Chapter 4 of the
America Online manual Remote Managed Gateways.

For more information about the use of form_edit, see the America Online
manual Building an Online Service.

America Online Confidential 1-6  America Online, Inc. 1993-98




February 1998 FDO91 Manual, Vol. 1

FDO91 Features

The main design features of FDO91 include:

• Support of multiple, concurrent atom streams

• Use of a single, centralized command structure (atom$) that drives all
client functionality

• Use of abstract object classes to allow for platform independence

• Use of a true object tree model for complex and flexible object
relationships

• Use of consistent operations across object classes

• Ability for action criteria to include custom behavior that can be
programmer-defined

• Support of numeric, string, and raw data variables

• Support of branching and looping

• Ability for atoms to return values and to substitute a return value as a
command parameter

• Ability to create, delete, change, and query objects at any time

• Ability to perform data extraction

FDO91 Structure

FDO91 atoms are sent back and forth to enable interaction between the client
and the host.  Atoms are grouped into protocols, which are sets of commands
that perform related logical functions.  The atoms and protocols are described
in the following sections.

Atoms

Atoms follow a format that consists of the string "atom$" followed by the atom
name and its arguments.  Atoms can also return values to which other atoms

 America Online, Inc. 1993-98 1-7 America Online Confidential




Chapter 1: Introduction February 1998

can respond.  Although most atoms have arguments and return values, some
do not.

An example of the syntax of an atom is as follows:

atom$var_number_set <register, data>

where

atom$var_number_set is the atom command.

<register> is a required first argument.

<data> is a required second argument.

For more information about the conventions used for command syntax, see
"Conventions in This Manual" on page 1-15.

Data Types and Lengths of Arguments

An argument of an atom is specified in this manual as numeric, data (raw or
byte), string, or boolean.  Numeric values are decimal whole numbers, which
are 0 or greater.  Data (raw or byte) values are hexadecimal numbers, which
are identified with an x following each byte value (for example, 0C5E would be
coded 0Cx 5Ex).  String values are a series of alphanumeric characters
bracketed with quotes, for example, "Today’s stock quotes."  Boolean values
are a two-state notation and are distinguished with a yes or a no value.

Argument data lengths are one byte (8 bits) or greater.  One to four bytes are
typical argument lengths.  The following data length notations are used in this
manual:

byte — 8 bits

word — 16 bits (2 bytes)

dword — 32 bits (4 bytes)

Protocols

Each FDO91 protocol provides specific functionality for the online service.
For example, the Chat protocol provides the chat room functionality of the
online service.  Each protocol has a unique 2-byte protocol ID that is used to

America Online Confidential 1-8  America Online, Inc. 1993-98




February 1998 FDO91 Manual, Vol. 1

reference the specific atom handler (for America Online for Macintosh) or
client tool (for America Online for Windows).

The following table lists the FDO91 protocols, in alphabetical order, with the
protocol ID, atom prefix, description, and the chapter in which the protocol is
defined:

Table 1.1 – FDO91 Protocols

Proto Chap
FDO91 Protocol ID Atom Prefix Description No.

Action 2 atom$act Associates actions with 2
objects

ActiveX 54 atom$activex Implements forms with 37
ActiveX™  controls

Address 39 atom$ad Maintains address list 9
ARTdoc 31 atom$doc Opens and plays data 38

streams from the
ARTdoc database

Attribute Manager 16 atom$mat Sets attributes on forms 3
Async 13 atom$async Miscellaneous functions 10
Asynchronous Data 66 atom$adp Handles large chunks of 42

data transfers
Buffer 4 atom$buf Handles data packets 4
Chart 23 atom$chart Provides charting 12

functions
Chat 11 atom$chat Provides chat functions 11
Code Manager 10 atom$cm Handles code 13

management
Comm. Control 34 atom$ccl Handles CCL 14
Language
Conditional 15 atom$if Handles conditional 5

operations
Data Manager 3 atom$de Handles data extraction 15
Database Manager 5 atom$idb Maintains online 16

database
Device Independent 57 atom$dice Handles client computer 34
Connectivity Engine connectivity
Display Manager 1 atom$man Handles forms display 6
External API 26 atom$exapi Handles external 17

applications
File Manager 8 atom$fm Handles file 18

management
File Transfer 7 atom$xfer Handles file transfer 19

 America Online, Inc. 1993-98 1-9 America Online Confidential




Chapter 1: Introduction February 1998

Table 1.1 – FDO91 Protocols (Continued)

Proto Chap
FDO91 Protocol ID Atom Prefix Description No.

Gallery 56 atom$gallery Handles thumbnail 36
images and their display

Host Forms Server 51 atom$hfs Handles host forms 20
Image Manager 22 atom$image Sets attributes for 21

graphic displays
Image Transfer 21 atom$imgxfer Handles image display 22
List Manager 9 atom$lm Handles list management 23
Message Interchange 17 atom$mip Handles message data 24

transport
Multimedia 24 atom$morg Maintains personal filing 25
organizer cabinet
Multimedia Interface 20 atom$mmi Handles multimedia files 26

and display
Pictalk 29 atom$pictalk Handles slideshow data 39

streams
P3 35 atom$p3 Handles P3 28

communication
Progressive 27 atom$dod Handles progressive 27
Rendering rendering
Radio 28 atom$radio Captures and plays radio 40

program streams
Rich 25 atom$rich Handles enhanced text 29

attributes
Shorthand Manager 14 atom$sm Replaces lengthy atom 30

streams
Spell 61 atom$spell Invokes the spell dialog 41

box
Tool Manager 42 atom$mt Manages client tools 31
Universal 0 atom$uni Controls atom streams 7
Variable 12 atom$var Associates variables 8

with objects
Video 53 atom$vid Handles video images 35

and display
Visual 47 atom$vrm Manages Rainman forms 32
Rainman
WWW 48 atom$www Handles web browser 33

forms

America Online Confidential 1-10  America Online, Inc. 1993-98




February 1998 FDO91 Manual, Vol. 1

About This Manual

This manual describes the FDO91 protocols and provides detailed definitions
and examples of the atoms within each protocol.  The manual is organized into
two volumes:

• Volume 1 contains the general purpose protocols responsible for overall
stream management functions, such as starting and stopping atom streams,
setting action criteria, and specifying object attributes.

• Volume 2 contains a wide variety of miscellaneous protocols that perform
specialized functions, such as handling P3 communications, maintaining
address lists, and managing web browser forms.

Who Should Use This Manual

This manual is intended as a reference guide for programmers who want to
develop additional functionality for the online service client application.  This
manual is also intended for online service staff who create and maintain areas,
forms, and pathways for the online service.

Security Issues

This manual contains confidential material and is intended for use only by
America Online employees.  As the owner of this manual, it is your
responsibility to take the necessary precautions to ensure that it does not leave
your possession.

Chapter Overview

This manual is divided into 2 volumes, 42 chapters, and 2 appendixes, as
follows:

Volume 1

Chapter 1, "Introduction," describes the basics of form development, the
FDO91 language and its structure, and the contents of this manual.

Chapter 2, "Action Protocol," defines the action protocol atoms and provides
information for associating actions with FDO91 objects.

 America Online, Inc. 1993-98 1-11 America Online Confidential




Chapter 1: Introduction February 1998

Chapter 3, "Attribute Manager Protocol," defines the attribute manager
protocol atoms and provides information for specifying form attributes.

Chapter 4, "Buffer Protocol," defines the buffer protocol atoms and provides
information for handling data packets.

Chapter 5, "Conditional Protocol," defines the conditional protocol atoms and
provides information for handling conditional operations.

Chapter 6, "Display Manager Protocol," defines the display manager protocol
atoms and provides information for handling forms display.

Chapter 7, "Universal Protocol," defines the universal protocol atoms and
provides information for controlling atom streams.

Chapter 8, "Variable Protocol," defines the variable protocol atoms and
provides information for associating variables with objects.

Chapter 9, "Address Protocol," defines the address protocol atoms and
provides information for maintaining address lists.

Chapter 10, "Async Protocol," defines the async protocol atoms and provides
information on miscellaneous FDO91 functions.

Volume 2

Chapter 11, "Chart Protocol," defines chart protocol atoms and provides
information for building charts with numeric data from the online service.

Chapter 12, "Chat Protocol," defines chat protocol atoms and provides
information for chat functionality.

Chapter 13, "Code Manager Protocol," defines code manager protocol atoms
and provides information for handling code management.

Chapter 14, "Communications Control Language (CCL) Protocol," defines
CCL protocol atoms and provides information for the CCL.

Chapter 15, "Data Manager Protocol," defines data manager protocol atoms
and provides information for handling data extraction.

Chapter 16, "Database Manager Protocol," defines database manager protocol
atoms and provides information for maintaining the online database.

America Online Confidential 1-12  America Online, Inc. 1993-98




February 1998 FDO91 Manual, Vol. 1

Chapter 17, "External API Protocol," defines external API protocol atoms and
provides information for external third-party applications.

Chapter 18, "File Manager Protocol," defines file manager protocol atoms and
provides information for handling file management.

Chapter 19, "File Transfer Protocol," defines file transfer protocol atoms and
provides information for handling file transfer.

Chapter 20, "Host Forms Server Protocol," defines host forms server protocol
atoms and provides host forms information.

Chapter 21, "Image Manager Protocol," defines image manager protocol
atoms and provides information for handling hotspots and image display.

Chapter 22, "Image Transfer Protocol," defines image transfer protocol atoms
and provides information for handling image display.

Chapter 23, "List Manager Protocol," defines list manager protocol atoms and
provides information for managing lists such as lists of e-mail messages.

Chapter 24, "Message Interchange Protocol," defines message interchange
protocol atoms and provides information for handling message data transport.

Chapter 25, "MORG Protocol," defines the MORG (multimedia organizer)
protocol atoms and provides information for maintaining personal filing
cabinets.

Chapter 26, "Multimedia Interface (MMI) Protocol," defines the multimedia
interface protocol atoms and provides information for handling and playing
multimedia files.

Chapter 27, "P3 Protocol," defines P3 protocol atoms and provides
information for handling P3 communication.

Chapter 28, "Progressive Rendering Protocol," defines progressive rendering
protocol atoms and provides information for rendering forms progressively.

Chapter 29, "Rich Protocol," defines rich protocol atoms and provides
information for rendering text with hypertext markup language (HTML) tags.

Chapter 30, "Shorthand Protocol," defines shorthand protocol atoms and
provides information for replacing lengthy atom streams.

 America Online, Inc. 1993-98 1-13 America Online Confidential




Chapter 1: Introduction February 1998

Chapter 31, "Tool Manager Protocol," is not included in this release.  It will
define tool manager protocol atoms and provide information for tool
management.

Chapter 32, "Visual Rainman Protocol," is not included in this release.  It will
define visual Rainman protocol atoms and provide information on the online
publishing tools used to maintain areas of the online service.

Chapter 33, "WWW Protocol," defines World Wide Web protocol atoms and
provides information for handling Web browser forms.

Chapter 34, "Device Independent Connectivity (DICE) Protocol," defines
atoms that initiate and manage all client computer connections.

Chapter 35, "Video (VID) Protocol," defines the atoms that manage and
transmit video and still-camera images between members.

Chapter 36, "Gallery Protocol," defines the atoms that manage thumbnail
images and arrange them in gallery views.

Chapter 37, "ActiveX Protocol," defines the atoms that manage ActiveX™
controls for 32-bit Windows applications.

Chapter 38, "ARTdoc Protocol," defines the atoms that open and play
ARTdoc database record streams.

Chapter 39, "Pictalk Protocol," defines the atoms that open and play
multimedia files or slideshow data streams.

Chapter 40, "Radio Protocol," defines the atoms that capture and play radio
program streams from live broadcasts and stored files.

Chapter 41, "Spell Protocol," defines the atoms that bring up the spell
preferences dialog box.

Chapter 42, "Asynchronous Data Protocol," defines the atoms that manage the
asynchronous transfer of large blocks of data between the host and client PCs.

Appendix A, "Examples," provides examples of MIP and List Manager atom
streams.

Appendix B, "Internationalization (i18n) Atoms," defines i18n atoms and
provides information for localizing data sent from the host system to
international clients of the online service.

America Online Confidential 1-14  America Online, Inc. 1993-98




February 1998 FDO91 Manual, Vol. 1

Conventions in This Manual

Atom commands in this manual appear in the following format:

atom$prot_command <arguments>

Note that when you are using VP Designer, you do not code the prefix
(atom$) with each atom entry.

The following conventions are used throughout this manual in defining atom
command syntax:

<arguments> Angle brackets enclose all arguments whether
the argument is required or optional.

<arg1, arg2[, arg3]> When you code atoms with multiple arguments
using VP Designer, commas separate each
argument.  Note that chapters with a header date
before April 1997 do not show this convention,
because they were written for form_edit.  An
argument shown in square brackets indicates that
the argument is optional.

<arg1> <arg2> [<arg3>] When you code atoms with multiple arguments
using form_edit, space delimiters and/or angle
brackets separate each argument without
commas.  Note that chapters with a header date
before April 1997 still use this convention with
angle brackets around each argument.  An
argument shown in square brackets indicates an
optional argument.

(<arg1> | <arg2>) Parentheses are used around arguments that
have an association, and a vertical bar indicates
an either/or choice between arguments.

<arg1> <arg2> ... Trailing periods indicate additional arguments
can be specified.

In examples throughout this manual, arguments appear enclosed in angle
brackets (< >) as required for VP Designer.  However, you do not have to use
angle brackets around argument values when you are creating or editing an
atom stream using form_edit.

 America Online, Inc. 1993-98 1-15 America Online Confidential




Chapter 1: Introduction February 1998

An atom’s argument can be defined to have a set of numeric and associated
label values.  For example, atom$mat_trigger_style has a list of 10 defined
argument values from which you select trigger styles.  The values are defined 0
through 9 with associated value labels.  For example, either the value 8 or the
value label text_on_picture can be used to apply text on the art of a trigger
object.  Note that defined value labels in the text of this manual appear in a
monospace (Courier) font as illustrated in this paragraph.  This convention
does not apply to chapters with a header date before July 1997.

Providing Feedback

If you have comments, corrections or questions related to this manual, please
send e-mail to screen name DevelopHlp.  Please include the name of this
manual when providing your feedback.

America Online Confidential 1-16  America Online, Inc. 1993-98



===== END PDF: intro.pdf =====

===== BEGIN PDF: man.pdf =====





Chapter 6:

Display Manager Protocol

The Display Manager (MAN) protocol (protocol ID 1) consists of atoms 
that are responsible for handling objects displayed on online service forms. 
Display Manager protocol atoms control the creation and management of 
objects and basic form display. Multiple hierarchies of display objects are 
maintained. 

Display Manager Protocol Atoms

The Display Manager (MAN) protocol functions and their associated atoms 
follow:

Table 6-1: Display Manager Protocol Functions and Atoms

Function Atoms Page

Object definition, atom$man_end_object 6-29
creation, start or end atom$man_insert_object_after 6-44

atom$man_insert_object_before 6-45

atom$man_preset_gid 6-63

atom$man_preset_relative 6-64

atom$man_start_alpha 6-83

atom$man_start_first 6-86

atom$man_start_last 6-89

atom$man_start_object 6-92

atom$man_start_sibling 6-94

Object context setting atom$man_change_context_relative 6-10
or ending atom$man_check_and_set_context_rid 6-11

atom$man_end_context 6-26

atom$man_set_context_globalid 6-70

atom$man_set_context_index 6-72

atom$man_set_context_relative 6-74


© America Online, Inc. 1999 6-1 America Online Confidential




Chapter 6: Display Manager Protocol November 1999


Table 6-1: Display Manager Protocol Functions and Atoms

Function Atoms Page

atom$man_set_context_response_id 6-75

Object tree navigation atom$man_get_child_count 6-33

atom$man_get_first_window 6-36

atom$man_get_next_window 6-39

Objects or windows atom$man_close 6-15
closing atom$man_close_children 6-16

Window minimization atom$man_is_window_iconic 6-49

Focus on objects atom$man_do_magic_response_id 6-21
setting or detecting atom$man_do_magic_token_arg 6-22

atom$man_get_top_window 6-42

atom$man_is_rendered 6-46

atom$man_make_focus 6-57

atom$man_place_cursor 6-60

Response ID objects atom$man_do_magic_response_id 6-21
management atom$man_get_first_response_id 6-35

atom$man_get_next_response_id 6-38

atom$man_get_request_window 6-40

atom$man_get_response_window 6-41

atom$man_ignore_response 6-43

atom$man_is_response_ignored 6-47

atom$man_is_response_pending 6-48

atom$man_response_pop 6-68

atom$man_set_context_response_id 6-75

atom$man_set_response_id 6-80

Object data content — atom$man_append_data 6-4
clearing or appending atom$man_clear_file_name 6-12

atom$man_clear_object 6-13

atom$man_clear_relative 6-14

atom$man_end_data 6-27

atom$man_replace_data 6-67

Secure IP sessions atom$man_append_secure_data 6-5
management atom$man_end_ip_session 6-28

atom$man_set_append_secure_data 6-69

atom$man_start_ip_session 6-88

Object display update atom$man_close_update 6-17

atom$man_update_display 6-97

atom$man_update_end_object 6-98

atom$man_update_fonts 6-99


America Online Confidential 6-2 © America Online, Inc. 1999




November 1999 FDO91 Manual


Table 6-1: Display Manager Protocol Functions and Atoms

Function Atoms Page

atom$man_update_woff_end_stream 6-100

atom$man_post_update_gid 6-61

atom$man_force_update 6-31

Pop-up menu items— atom$man_build_favorites_menu 6-6
appending atom$man_build_savemail_menu 6-8

Object edit atom$man_do_edit_menu 6-19
management atom$man_set_edit_position 6-77

atom$man_set_edit_position_to_end 6-78

Object titles atom$man_get_index_by_title 6-37
management atom$man_preset_title 6-65

atom$man_set_default_title 6-76

atom$man_use_default_title 6-101

Object attributes of the atom$man_get_attribute 6-32
Attribute Manager 
(MAT) atom protocol 
management

Form management atom$man_display_popup_menu 6-18

atom$man_spell_check 6-82

atom$man_preset_authoring_form 6-62

atom$man_build_font_list 6-7

DOD object rendering atom$man_force_old_style_dod 6-30

Timer management atom$man_enable_continuous_timer 6-24

atom$man_enable_one_shot_timer 6-25

atom$man_kill_timer 6-54

Session and logging atom$man_item_get 6-50
management atom$man_item_set 6-52

atom$man_logging_command 6-55

atom$man_set_item_type 6-79

Domain management atom$man_set_edit_position 6-77

URL preset atom$man_preset_url 6-66
management

The MAN protocol atoms are described in alphabetical order in the rest of 
this chapter.


© America Online, Inc. 1999 6-3 America Online Confidential




Chapter 6: Display Manager Protocol November 1999


atom$man_append_data
20 ($14)

atom$man_append_data appends data to or inserts data in the current 
object. Both text and binary data, which are used to display downloading 
graphic images, are supported. 

If the given object has already been rendered, a visual update for the 
current object is implied after each atom$man_append_data. Otherwise, 
the appended data is buffered and displayed immediately upon visual 
creation of the object (the first explicit atom$man_update_display on page 
6-97 for the independent ancestor of the object).

Syntax

atom$man_append_data <data>

<data> Specifies variable-length data to be added to the 
object's content.

Return Value

None.

Example

The following example adds text [Enter word(s):] to the Keyword form: 

atom$man_start_sibling <org_group, “”>
atom$man_start_object <ornament, “”>
atom$mat_size <10, 1>
atom$mat_vertical_spacing <5>
atom$mat_font_id <arial>
atom$mat_font_size <10>
atom$mat_font_style <bold>
atom$man_append_data <"Enter words(s):"> 
atom$man_start_sibling <edit_view, “”>


America Online Confidential 6-4 © America Online, Inc. 1999




November 1999 FDO91 Manual


atom$man_append_secure_data
102 ($66) 

atom$man_append_secure_data decrypts incoming data from the host 
and displays the secure data in the current field. Typically, this atom is used 
for transmitting secure IP data. 

Syntax

atom$man_append_secure_data <data>

<data> Specifies the encrypted data to be decrypted and 
displayed in the current field.

Return Value

None.

Example

The following example decrypts the incoming data (for example, an 
account or social security number) from the host and displays the secure 
data in the field:

atom$man_start_object <view, “”>
atom$man_append_secure_data <”--~“ÚÚx -Æ#$j7”> 
atom$mat_bool_writeable <no>
atom$man_end_object


© America Online, Inc. 1999 6-5 America Online Confidential




Chapter 6: Display Manager Protocol November 1999


atom$man_build_favorites_menu
106 ($6A)

atom$man_build_favorites_menu dynamically adds Favorite Places 
menu items to the current object (popup menu). This atom is used in the 
action stream that is invoked when the popup menu sends the 
WM_INITPOPUPMENU message. 

Syntax

atom$man_build_favorites_menu

Return Value

None.

Example

The following example creates the dynamic menu of your favorite places:

atom$man_start_object <dss_list, “Favorite Places”>
atom$mat_relative_tag <15>
atom$mat_bool_inactive_for_guest <yes>
atom$act_replace_select_action
atom$uni_start_stream
atom$man_set_context_relative <15>
atom$man_build_favorites_menu 
atom$man_end_context
atom$uni_end_stream
atom$man_end_object


America Online Confidential 6-6 © America Online, Inc. 1999




November 1999 FDO91 Manual


atom$man_build_font_list 
94 ($5E)

atom$man_build_font_list dynamically adds a font list to a single 
selectable list dropdown menu on a rich toolbar (or wherever you are 
putting it).

Syntax

atom$man_build_font_list 

Return Value

None.

Example

The following example dynamically adds a font list to a single selectable 
list dropdown menu on a rich toolbar (or wherever you are putting it):

atom$man_start_object <dynamic_list, "">
atom$mat_orientation <vff>
atom$mat_size <21, 1>
atom$mat_relative_tag <22>
atom$mat_relative_tag <22>
atom$mat_title_pos <left | center>
atom$mat_horizontal_spacing <0>
atom$man_build_font_list <>
atom$mat_sort_order <reverse>
atom$act_replace_select_action


© America Online, Inc. 1999 6-7 America Online Confidential




Chapter 6: Display Manager Protocol November 1999


atom$man_build_savemail_menu
105 ($69)

atom$man_build_savemail_menu dynamically adds all the mail folder 
items to the current object such as a Personal Filing Cabinet (PFC) popup 
menu. This atom is used in the action stream that is invoked when the 
popup menu sends the WM_INITPOPUPMENU message. 

Syntax

atom$man_build_savemail_menu

Return Value

None.

Example

The following example adds a mail folder to the PFC popup menu:

atom$man_start_object <dss_list, “Save to Personal Filing 
Cabinet”>
atom$mat_relative_tag <14>
atom$mat_bool_inactive_for_guest <yes>
atom$act_replace_select_action
atom$uni_start_stream
atom$man_set_context_relative <14>
atom$man_build_savemail_menu 
atom$man_end_context
atom$uni_end_stream
atom$man_start_object <trigger, “Incoming/Saved Mail”>
atom$act_replace_select_action
atom$uni_start_stream
atom$mip_action_command <44>
atom$uni_end_stream
atom$man_end_object


America Online Confidential 6-8 © America Online, Inc. 1999




November 1999 FDO91 Manual


atom$man_build_signatures_menu
108 ($6C) 

atom$man_build_signatures_menu creates a dynamic popup menu of 
the member's current signature files to place the signature file directly into 
the body of an e-mail.

Syntax

atom$man_build_signatures_menu 

Return Value

None.

Example

The following example creates a dynamic popup menu of the member's 
current signature files to place the signature file directly into the body of an 
e-mail:

atom$man_start_object <dss_list> ""  
atom$mat_relative_tag 505
atom$mat_bool_popup_menu <yes>
atom$act_replace_select_action
atom$uni_start_stream 
atom$man_set_context_relative <505> 
atom$man_build_signatures_menu 
atom$man_end_context 
atom$uni_end_stream
atom$man_end_object


© America Online, Inc. 1999 6-9 America Online Confidential




Chapter 6: Display Manager Protocol November 1999


atom$man_change_context_relative
12 ($0C)

atom$man_change_context_relative is a shorthand atom that changes the 
context from the current object to one of its siblings without the use of 
atom$man_end_context on page 6-26. Context is a term used to indicate on 
which object processing occurs. All processing acts on the object in 
context. 

Syntax
atom$man_change_context_relative <relative_ID>

<relative_ID> Specifies the relative ID of the new context 
object.

Return Value

The relative ID of the new context object.

Example

The following example changes the context from ID 13 to various objects 
on the form and specifically enables or disables the selection of these 
objects:

atom$man_set_context_relative <13>
atom$mat_bool_disabled <yes>
atom$man_change_context_relative <16> 
atom$mat_bool_disabled <yes>
atom$man_change_context_relative <18> 
atom$mat_bool_disabled <yes>
atom$man_change_context_relative <11> 
atom$mat_bool_disabled <no>
atom$man_end_context


America Online Confidential 6-10 © America Online, Inc. 1999




November 1999 FDO91 Manual


atom$man_check_and_set_context_rid
68 ($44)

atom$man_check_and_set_context_rid checks the existence (typically 
in a window) of a relative ID specified in the argument and, when found, 
sets the context to that relative ID. If the specified object is not found, the 
context is not set. 

Syntax

atom$man_check_and_set_context_rid <relative_ID>

<relative_ID> Specifies a relative ID to put into context.

Return Value

The relative ID when found. If the relative ID is not found, the value is 0.

Example

The following example searches for an object with a relative ID of 3 and 
changes the context to that object when it is found: 

atom$man_check_and_set_context_rid <3>
atom$if_last_return_true_then <1>
atom$man_append_data <"New text for field 3...">
atom$uni_sync_skip <1>


© America Online, Inc. 1999 6-11 America Online Confidential




Chapter 6: Display Manager Protocol November 1999


atom$man_clear_file_name
69 ($45)

atom$man_clear_file_name clears the file's instance for the current 
window. This atom is typically used by client developers.

Syntax

atom$man_clear_file_name

Return Value

None.

Example

The following example clears the file's instance for the current window:

atom$man_clear_file_name 


America Online Confidential 6-12 © America Online, Inc. 1999




November 1999 FDO91 Manual


atom$man_clear_object
15 ($0F)

atom$man_clear_object clears the content of the current object. Most 
frequently used with views, this atom clears any text displayed in the view. 
The object content is not actually cleared until a visual update (explicit 
through atom$man_update_display on page 6-97 or implicit through the 
use of atom$man_append_data on page 6-4) takes place for the current 
object.

Syntax

atom$man_clear_object

Return Value

None.

Example

The following example clears the content from the current object:

atom$man_clear_object


© America Online, Inc. 1999 6-13 America Online Confidential




Chapter 6: Display Manager Protocol November 1999


atom$man_clear_relative
14 ($0E)

atom$man_clear_relative is a shorthand atom that clears the content of a 
view with a specific relative ID in the current context.

Syntax
atom$man_clear_relative <relative_ID>

<relative_ID> Specifies the relative ID of the object whose 
content is to be cleared.

Return Value

None.

Example

The following example clears the content of field 4 for the current window:

atom$man_clear_relative <4>


America Online Confidential 6-14 © America Online, Inc. 1999




November 1999 FDO91 Manual


atom$man_close
3 ($03)

atom$man_close marks an object to be deleted. The next time a display 
update is triggered for the subtree that contains the object, the object and all 
of its children are deleted.

When an object is deleted, it is removed from the display tree, and its 
visual representation is removed from the screen. Deleting an object in a 
window automatically triggers a full update for the window, and the 
positions of objects in the window are adjusted to fill the space occupied by 
the departing object.

The most common use of this atom is to close (pop) an entire window.

Syntax

atom$man_close [<global_ID>]

[<global_ID>] Specifies the optional global ID of the object to 
close. If the ID is omitted, the current object is 
assumed.

Return Value

None.

Example

The following example closes the current window: 

atom$uni_start_stream
atom$man_close 
atom$uni_end_stream


© America Online, Inc. 1999 6-15 America Online Confidential




Chapter 6: Display Manager Protocol November 1999


atom$man_close_children
4 ($04)

atom$man_close_children marks children of an object to be deleted. The 
object itself is not marked. For more information about deleting objects, 
see atom$man_close on page 6-15.

Syntax
atom$man_close_children [<global_ID>]

[<global_ID>] Specifies the optional global ID of the parent 
object. If the ID is omitted, the current object is 
assumed.

Return Value

None.

Example

The following example marks the children of an object for deletion:

atom$man_close_children <0-0-52>

The result of this example is that all children belonging to object 0-0-52, 
which is the online cluster, are marked for deletion. Use this atom when a 
member signs off of the online service. 


America Online Confidential 6-16 © America Online, Inc. 1999




November 1999 FDO91 Manual


atom$man_close_update
28 ($1C)

atom$man_close_update is a shorthand atom that marks the current 
object to be deleted and automatically performs a display update. For more 
information about deleting objects, see atom$man_close on page 6-15.

Syntax

atom$man_close_update [<global_ID>]

[<global_ID>] Specifies the optional global ID of the object to be 
deleted. If the ID is omitted, the global ID 
defaults to the current object.

Return Value

None.

Example

The following example marks an object for deletion and then updates the 
display:

atom$uni_start_stream
atom$man_close_update <32-243> 
atom$uni_end_stream


© America Online, Inc. 1999 6-17 America Online Confidential




Chapter 6: Display Manager Protocol November 1999


atom$man_display_popup_menu
99 ($63)

atom$man_display_popup_menu invokes the current object as a popup 
menu. In order to display the menu, it must have been previously defined 
(with mat_bool_popup_menu <yes>). 

Syntax

atom$man_display_popup_menu 

Return Value

None.

Example

The following example invokes a defined list with assigned RID as a 
popup menu:

atom$man_start_object <trigger>
atom$act_replace_popup_menu_action
atom$uni_start_stream
atom$man_set_context relative <10>
atom$man_display_popup_menu
atom$man_end_context
atom$uni_end_stream
atom$man_end_object


America Online Confidential 6-18 © America Online, Inc. 1999




November 1999 FDO91 Manual


atom$man_do_edit_menu
35 ($23)

atom$man_do_edit_menu executes a specified item in the Edit menu. 
The Edit menu is selectable from the menu bar, located across the top of 
the main window of the online service.

Syntax

atom$man_do_edit_menu <menu_command>

<menu_command> Specifies one of the menu items of the Edit menu. 
Values are as follows:

0 DVL_EDIT_MENU_INIT—Checks the object 
to determine what should be highlighted on 
the Edit menu.

1 DVL_EDIT_MENU_CUT—Executes the Edit 
menu's Cut command for the current 
object.

2 DVL_EDIT_MENU_COPY—Executes the Edit 
menu's Copy command for the current 
object.

3 DVL_EDIT_MENU_PASTE—Executes the Edit 
menu's Paste command for the current 
object.

4 DVL_EDIT_MENU_SELECT_ALL—Executes 
the Edit menu's Select All command for the 
current object.

5 DVL_EDIT_MENU_UNDO—Executes the Edit 
menu's Undo command for the current 
object.

6 DVL_EDIT_MENU_DELETE—Executes the 
Edit menu's Delete command for the 
current object.

9 DVL_EDIT_MENU_FIND—Executes the Edit 
menu's Find in Top Window command for 
the current object.


© America Online, Inc. 1999 6-19 America Online Confidential




Chapter 6: Display Manager Protocol November 1999


10 DVL_EDIT_MENU_REDO—Executes the Edit 
menu's Redo command for the current 
object.

11 DVL_EDIT_MENU_SPELL—Executes the Edit 
menu's Spell Check command for the 
current object.

12 DVL_EDIT_MENU_IMAGE—Executes the Edit 
menu's View Pictures or Insert Picture 
command for the current object.

13 DVL_EDIT_MENU_BACKIMAGE—Executes the 
Edit menu's Insert Background Picture 
command for the current object.

Return Value

None.

Example

The following example executes the Cut command in the Edit menu:

atom$uni_start_stream
atom$man_do_edit_menu <1> 
atom$uni_end_stream


America Online Confidential 6-20 © America Online, Inc. 1999




November 1999 FDO91 Manual


atom$man_do_magic_response_id
6 ($06)

atom$man_do_magic_response_id performs explicit magic to invoke a 
window. Magic occurs when the inactive window is made active again (the 
topmost form) without redrawing it from the host so that multiple instances 
of the same window do not occur. If the window being invoked already 
exists on the screen, the atom stream that normally creates the window is 
terminated.

This atom is used in conjunction with atom$man_set_response_id on page 
6-80 to associate a trigger that invokes the window.

Syntax

atom$man_do_magic_response_ID [<response_ID>]

[<response_ID>] Specifies the optional response ID to use. If the 
argument is omitted, the response ID defaults to 
the object that triggered the action.

Return Value

If magic was performed, the value is non-zero.

Example

The following example examines the entire screen for the existence of a 
window on the screen (based on a trigger action) and, if it exists, brings the 
window to the front:

atom$uni_start_stream_wait_on
atom$man_do_magic_response_id <8422> 
atom$uni_invoke_no_context <40-5792>
atom$uni_start_stream
atom$man_set_context_global_id <1>
atom$man_set_response_id <8422>
atom$man_start_object <ind_group, “Keyword”>
atom$mat_orientation <vff>


© America Online, Inc. 1999 6-21 America Online Confidential




Chapter 6: Display Manager Protocol November 1999


atom$man_do_magic_token_arg
5 ($05)

atom$man_do_magic_token_arg performs magic based on a token or a 
token and argument. Magic occurs when an inactive window is made 
active again (the topmost form) without redrawing it from the host so that 
multiple instances of the same window do not occur.

This atom checks the magic table for a window that resulted from the 
token/argument specified. If found, the window is brought to the front, and 
the current stream is terminated. 

For information about how a token/argument becomes associated with a 
window, see atom$man_set_response_id on page 6-80.

Syntax

atom$man_do_magic_token_arg <token [gid]>

<token [gid]> Specifies a 2-byte token for routing to a host 
server (a hex value that is a code of two ASCII 
characters). If the length of the atom's argument is 
greater than 2 bytes, the Display Manager 
protocol assumes that a 4-byte global ID 
argument is included after the token. For 
example, a 4-byte hex value 14x 00x 01x 4Fx 
defines a global ID of 20-0-00355.

Return Value

If magic was performed, the value is non-zero.

Example

The following example examines the screen for the existence of a window 
based on a host server routing window of (66x 6Cx) and a global ID 20-0-
00355 (14x 00x 01x 4Fx) and, if it exists, the window is brought to the 
front of the screen:

atom$man_do_magic_token_arg <66x 6Cx 14x 00x 01x 4Fx>

The result of this example is that an action resulting from the argument 
causes magic to be performed. If a window (identified by a response ID) is 


America Online Confidential 6-22 © America Online, Inc. 1999




November 1999 FDO91 Manual


associated with that token argument in the magic table, the inactive 
window is brought to the front. 


© America Online, Inc. 1999 6-23 America Online Confidential




Chapter 6: Display Manager Protocol November 1999


atom$man_enable_continuous_timer
76 ($4C)

atom$man_enable_continuous_timer enables a timer that generates an 
event continuously. The timer has a specified duration. When the duration 
expires, a specified event takes place. Timer attributes are specified by 
atom$mat_timer_duration and atom$mat_timer_event. 

For a continuous timer, initial timer attributes need only be set before the 
timer is first enabled. You can change timer attributes at any time.

atom$man_enable_one_shot_timer on page 6-25 also enables a timer but it 
cannot run continuously. It must be rearmed with timer attributes each time 
it is invoked.

Syntax

atom$man_enable_continuous_timer

Return Value

None.

Example

The following example sets up a continuous timer:

atom$mat_timer_duration <1000>
atom$mat_timer_event <200>
atom$man_enable_continuous_timer 

The result of this example is that a continuous timer’s attributes are set up 
and the timer is enabled twice. First, the timer’s duration and event are 
established. Later, the continuous timer is enabled. After 1000 milliseconds 
(1 second), event 200 occurs. Later, the continuous timer is again enabled 
with the same attributes as before.


America Online Confidential 6-24 © America Online, Inc. 1999




November 1999 FDO91 Manual


atom$man_enable_one_shot_timer
75 ($4B)

atom$man_enable_one_shot_timer enables a timer that generates an 
event once. The timer has a specified duration. When the duration expires, 
a specified event takes place. Timer attributes are specified by 
atom$mat_timer_duration and atom$mat_timer_event. 

For a one-shot timer, timer attributes must be set each time before the timer 
is enabled.

atom$man_enable_continuous_timer on page 6-24 also enables a timer but 
it can run continuously. It does not have to be rearmed with timer attributes 
each time it is invoked.

Syntax

atom$man_enable_one_shot_timer 

Return Value

None.

Example

The following example sets up a one-shot timer:

atom$mat_timer_duration <1000>
atom$mat_timer_event <200>
atom$man_enable_one_shot_timer 

The result of this example is that a one-shot timer’s attributes are set up and 
the timer is enabled. First, the timer’s duration and event are established, 
then later the timer is enabled. Once enabled, the timer lasts 1000 
milliseconds (1 second) and then event 200 occurs.


© America Online, Inc. 1999 6-25 America Online Confidential




Chapter 6: Display Manager Protocol November 1999


atom$man_end_context
29 ($1D)

atom$man_end_context returns context to the object that was in context 
before the last context-setting atom, such as 
atom$man_set_context_globalid on page 6-70.

Syntax

atom$man_end_context

Return Value

None.

Example

The following example ends the context associated with global ID 32-123 
and returns the context to the previous object in context:

atom$man_set_context_globalid <32-123>
.
.
.
atom$man_end_context

The result of this example is that context returns to the object that was in 
context before global ID 32-123.


America Online Confidential 6-26 © America Online, Inc. 1999




November 1999 FDO91 Manual


atom$man_end_data
73 ($49)

atom$man_end_data indicates the end of a data download of a graphic 
image that is rendered as it downloads. Such on-the-fly graphic images, for 
example gif, jpeg, and art files, appear in the window as they are being 
downloaded. 

Syntax

atom$man_end_data

Return Value

None.

Example

The following example displays an on-the-fly graphic image during its 
download cycle:

atom$man_set_context_relative <1>
atom$man_append_data <Binary data goes here...>
atom$man_append_data <More binary data goes here...>
atom$man_end_data 


© America Online, Inc. 1999 6-27 America Online Confidential




Chapter 6: Display Manager Protocol November 1999


atom$man_end_ip_session
104 ($68) 

atom$man_end_ip_session marks the end of a secure IP session, which 
signals the host to conclude the IP processing that was initiated with 
atom$man_start_ip_session on page 6-88.

Syntax

atom$man_end_ip_session <gid>

<gid> Specifies the global ID (4-byte hex value) of the 
cache record in the database. For example, a value 
of 14x 00x 01x 4Fx defines a global ID of 20-0-
00335, where 14x equals 20, 00x equals 0, and 
01x 4Fx equals 00335.

Return Value

None.

Example

The following example ends the IP session using GID 20-0-00335 (14x 
00x 01x 4Fx) for the cache database record:

atom$man_start_ip_session <59x 23x 14x 00x 01x 4Fx>
atom$man_start_object <edit_view, "">
atom$mat_size <3Cx 0Ex>
atom$mat_secure_field <0>
atom$mat_bool_writeable <yes>
atom$man_end_object
atom$man_update_display
atom$man_end_ip_session <14x 00x 01x 4Fx>
atom$uni_wait_off
atom$uni_end_stream


America Online Confidential 6-28 © America Online, Inc. 1999




November 1999 FDO91 Manual


atom$man_end_object
2 ($02)

atom$man_end_object marks the end of the definition of the current 
object. The context returns back to the object that was in context before 
atom$man_start_object on page 6-92, which opened the current object.

Syntax

atom$man_end_object

Return Value

None.

Example

The following example marks the end of the definition of a window that 
has a global ID of 32-123:

atom$man_start_object <32-123>
.
.
.
atom$man_end_object


© America Online, Inc. 1999 6-29 America Online Confidential




Chapter 6: Display Manager Protocol November 1999


atom$man_force_old_style_dod
 92 ($5C)

atom$man_force_old_style_dod specifies that the requested artwork will 
be rendered using old-style data on demand (DOD) and that the 
progressive rendering method of DOD will not be used. Old-style DOD 
displays the blue update gauges and the Please wait while we add new art... 
message. This atom is sent by the client.

Syntax

atom$man_force_old_style_dod

Return Value

None.

Example

The following example specifies that artwork data will be rendered using 
an old-style DOD:

atom$uni_start_stream
.
.
.
atom$man_start_object <independent>
atom$man_force_old_style_dod
.
.
.
atom$uni_end_stream


America Online Confidential 6-30 © America Online, Inc. 1999




November 1999 FDO91 Manual


atom$man_force_update 
78 ($4E)

atom$man_force_update causes the client to complete processing of all 
deferred events (show_window's and set_redraw's) before causing the 
current (top) form to be updated.  (This atom was created specifically to 
ensure the main menu gets updated before the welcome screen appears.)

Syntax

atom$man_force_update 

Return Value

None.

Example 

The following example causes the client to complete the processing of all 
deferred events before updating the top form:

atom$uni_start_stream <00x>
atom$act_get_db_value <14x, 00x, 00x, 42x>
if_last_return_true_then <1>
atom$uni_invoke_no_context <32-5483>
atom$man_force_update 
atom$uni_sync_skip <1>
atom$uni_wait_on <>


© America Online, Inc. 1999 6-31 America Online Confidential




Chapter 6: Display Manager Protocol November 1999


atom$man_get_attribute
64 ($40)

atom$man_get_attribute checks the state of the specified attribute for the 
current object. It changes a MAT atom’s set functionality to a get 
functionality. 

Syntax for VP Designer

atom$man_get_attribute <atom>

Syntax for form_edit

atom$man_get_attribute prot$<protocol> atom$<attribute atom>

<protocol> This argument value is not used for VP Designer. 
For form_edit, this argument value specifies the 
MAT protocol name proto_mat. 

<attribute atom> Specifies a MAT atom that sets an object attribute 
to a get object attribute function so that the 
existing object attribute value is now retrieved.

Return Value

The existing 4-byte value of the atom’s attribute value. 

Examples

The following example examines the value of the current object to see if 
the object is selectable (Yes or 1) or disabled (No or 0):

atom$man_get_attribute <atom$mat_bool_disabled>

The following example examines the art animation rate. If the rate is 0, the 
rate is changed to 150:

atom$uni_start_stream
atom$man_set_context_relative <61>
atom$man_get_attribute <atom$mat_art_animation_rate> 
atom$if_last_return_false_then <1>
atom$mat_art_animation_rate <150>
atom$mat_bool_repeat_animation <yes>
atom$man_update_display
atom$uni_sync_skip <1>
atom$man_end_context
atom$uni_end_stream


America Online Confidential 6-32 © America Online, Inc. 1999




November 1999 FDO91 Manual


atom$man_get_child_count
67 ($43)

atom$man_get_child_count determines the number of children that 
belong to an object. 

Syntax

atom$man_get_child_count 

Return Value

The number of children that belong to the object.

Example

The following example determines the number of children in the current 
object: 

atom$man_get_child_count 


© America Online, Inc. 1999 6-33 America Online Confidential




Chapter 6: Display Manager Protocol November 1999


atom$man_get_display_characteristics
107 ($6B)

atom$man_get_display_characteristics gets the width and height of the 
client area.

Syntax

atom$man_get_display_characteristics <x y>

<x y> The first byte (x) indicates which kind of 
information is needed, where x is:

• 0 indicates client width

• 1 indicates client height

• 2 indicates the query of the desktop horizontal 
resolution

• 3 indicates the vertical resolution

The second byte (y) is the percentage of the 
information that is required in the first byte.

Return Value

2d byte (percentage of attribute)

Example

The following example gets the client width and sizes the form to 80% of 
that width:

atom$man_get_display_characteristics 0 80
atom$uni_use_last_atom_value prot$mat atom$mat_width 


America Online Confidential 6-34 © America Online, Inc. 1999




November 1999 FDO91 Manual


atom$man_get_first_response_id
55 ($37)

atom$man_get_first_response_id looks up the first (oldest) response ID 
listed in the magic table. Note that in addition to response IDs, the magic 
table contains global IDs, tokens, and active/ignored states of all the open 
AOL windows on the screen. This atom is commonly used in a loop with 
atom$man_get_next_response_id on page 6-38.

Syntax

atom$man_get_first_response_id

Return Value

The first response ID found in the top of the magic table. If no response ID 
is found, the value is 0.

Example

The following example looks up the oldest response ID in the magic table:

atom$man_get_first_response_id 
atom$uni_save_result
atom$uni_start_loop
atom$uni_get result
atom$if_last_return_true_then <1>
.
.
.
(atom functions to perform for each window)
.
.
.
atom$man_get_next_response_id
atom$uni_save_result
atom$uni_end_loop
atom$uni_sync_skip <1>


© America Online, Inc. 1999 6-35 America Online Confidential




Chapter 6: Display Manager Protocol November 1999


atom$man_get_first_window
60 ($3C)

atom$man_get_first_window looks up the first independent object 
(window) located under the root of the object tree. This atom is commonly 
used in a loop with atom$man_get_next_window on page 6-39.

Syntax

atom$man_get_first_window 

Return Value

The global ID of the first window found in the object tree. If no window is 
found, the value is 0.

Example

The following example looks up the first window in the object tree:

atom$man_get_first_window
atom$uni_save_result
atom$uni_start_loop
atom$uni_get result
atom$if_last_return_true_then <1>
.
.
.
(atom functions to perform for each window)
.
.
.
atom$man_get_next_window
atom$uni_save_result
atom$uni_end_loop
atom$uni_sync_skip <1>


America Online Confidential 6-36 © America Online, Inc. 1999




November 1999 FDO91 Manual


atom$man_get_index_by_title
37 ($25)

atom$man_get_index_by_title performs a case-sensitive search for a 
string in the children of a group or list, returning the index of the item in the 
list. If no object with the specified title is found, the atom returns 0. The 
current object must be a group or list existing at the time this atom is 
invoked.

Syntax

atom$man_get_index_by_title <string>

<string> Specifies the search string.

Return Value

The index of the item. If none is found, the value is 0. 

Example

The following example searches the children’s objects for a particular text 
string:

atom$man_get_index_by_title <"New User">

The result of this example is that 2 is returned if the text string New User is 
the second item in a group.


© America Online, Inc. 1999 6-37 America Online Confidential




Chapter 6: Display Manager Protocol November 1999


atom$man_get_next_response_id
56 ($38)

atom$man_get_next_response_id finds the next response ID in the magic 
table. Note that in addition to response IDs, the magic table contains global 
IDs, tokens, and active/ignored states of all the open AOL windows on the 
screen. This atom must be preceded by atom$man_get_first_response_id 
on page 6-35, which looks up the first response ID located in the magic 
table. This atom is commonly used in a loop when a series of atom 
functions must be performed on more than one window.

Syntax

atom$man_get_next_response_id

Return Value

The next response ID found in the magic table. If no response ID is found, 
the value is 0.

Example

The following example finds the next response ID in the magic table:

atom$man_get_first_response_id
atom$uni_save_result
atom$uni_start_loop
atom$uni_get result
atom$if_last_return_true_then <1>
.
.
.
(atom functions to perform for each window)
.
.
.
atom$man_get_next_response_id
atom$uni_save_result
atom$uni_end_loop
atom$uni_sync_skip <1>


America Online Confidential 6-38 © America Online, Inc. 1999




November 1999 FDO91 Manual


atom$man_get_next_window
61 ($3D)

atom$man_get_next_window finds the next window in the object tree. 
This atom must be preceded by atom$man_get_first_window on page 6-
36, which looks up the first window located under the root in the object 
tree. This atom is commonly used in a loop when a series of atom functions 
must be performed on more than one window.

Syntax

atom$man_get_next_window

Return Value

The global ID of the next window found. If no window is found, the value 
is 0.

Example

The following example finds the next window in the object tree:

atom$man_get_first_window
atom$uni_save_result
atom$uni_start_loop
atom$uni_get result
atom$if_last_return_true_then <1>
.
.
.
(atom functions to perform for each window)
.
.
.
atom$man_get_next_window
atom$uni_save_result
atom$uni_end_loop
atom$uni_sync_skip <1>


© America Online, Inc. 1999 6-39 America Online Confidential




Chapter 6: Display Manager Protocol November 1999


atom$man_get_request_window
58 ($3A)

atom$man_get_request_window finds the window that initiated a 
particular request. This atom is commonly used in conjunction with 
atom$man_get_first_response_id on page 6-35 and 
atom$man_get_next_response_id on page 6-38.

Syntax
atom$man_get_request_window <response_ID>

<response_ID> Specifies the responding window's response ID.

Return Value

The global ID of the window that initiated a request. If no initiating 
window is found, the value is 0.

Example

The following example finds the global ID of a window that initiated a 
request:

atom$man_get_request_window <5>
atom$uni_use_last_atom_value <atom$man_set_context_globalid>


America Online Confidential 6-40 © America Online, Inc. 1999




November 1999 FDO91 Manual


atom$man_get_response_window
57 ($39) 

atom$man_get_response_window finds the global ID of a window that 
responded to a particular request. This atom is commonly used in 
conjunction with atom$man_get_first_response_id on page 6-35 and 
atom$man_get_next_response_id on page 6-38.

Syntax

atom$man_get_response_window <response_ID>

<response_ID> Specifies the responding window's response ID. 

Return Value

The global ID of the responding window. If no responding window is 
found, the value is 0.

Example

The following example finds the global ID of a window that responded to a 
request:

atom$man_get_response_window <5>
atom$uni_use_last_atom_value <atom$man_set_context_globalid>


© America Online, Inc. 1999 6-41 America Online Confidential




Chapter 6: Display Manager Protocol November 1999


atom$man_get_top_window
54 ($36)

atom$man_get_top_window finds the topmost window on the screen. 

Syntax

atom$man_get_top_window 

Return Value

The global ID of the topmost window. If no window is found, the value is 
0.

Example

The following example searches for the topmost window:

atom$man_get_top_window
atom$uni_save_result
atom$if_last_return_true_then <1>
atom$uni_get_result
atom$uni_use_last_atom_value <atom$man_close_update>
atom$uni_sync_skip <1>


America Online Confidential 6-42 © America Online, Inc. 1999




November 1999 FDO91 Manual


atom$man_ignore_response
59 ($3B)

atom$man_ignore_response sets the state of a particular response to be 
ignored. An atom stream has one of three states: pending, ignored, or 
magic (in focus).

Syntax

atom$man_ignore_response <response_id>

<response_id> Specifies the response ID of the stream to be 
ignored.

Return Value

Non-zero (true) if the response is set to be ignored. If the response ID is not 
recognized, the value is 0 (false).

Example

The following example sets the window with a response ID of 5 to the 
ignored state:

atom$man_ignore_response <5> 


© America Online, Inc. 1999 6-43 America Online Confidential




Chapter 6: Display Manager Protocol November 1999


atom$man_insert_object_after
44 ($2C)

atom$man_insert_object_after creates an object and inserts it as the next 
sibling of the current object. Like atom$man_start_object on page 6-92, 
this atom sets context to the object created so that attributes can be set for 
the object. Use atom$man_end_object on page 6-29 to close the object 
definition.

Syntax

atom$man_insert_object_after [<global_ID>]

[<global_ID>] Specifies the optional global ID of the existing 
object.

Return Value

None.

Example

The following example creates and inserts an object as the next sibling to 
the current object:

atom$man_set_context_relative <5>
atom$man_insert_object_after
atom$mat_object_type <trigger>
.
.
.
atom$man_end_object


America Online Confidential 6-44 © America Online, Inc. 1999




November 1999 FDO91 Manual


atom$man_insert_object_before
52 ($34)

atom$man_insert_object_before creates an object and inserts it as the 
previous sibling of the current object. Like atom$man_start_object on page 
6-92, this atom sets context to the object created so that attributes can be set 
for the object. Use atom$man_end_object on page 6-29 to close the object 
definition.

Syntax

atom$man_insert_object_before [<global_ID>]

[<global_ID>] Specifies the optional global ID of the existing 
object.

Return Value

None.

Example

The following example creates and inserts an object as the preceding 
sibling to the current object:

atom$man_set_context_relative <5>
atom$man_insert_object_before
atom$mat_object_type <trigger>
.
.
.
atom$man_end_object


© America Online, Inc. 1999 6-45 America Online Confidential




Chapter 6: Display Manager Protocol November 1999


atom$man_is_rendered
48 ($30)

atom$man_is_rendered checks the context and determines whether the 
current object (window) is rendered on the screen. This atom is used in 
special cases where you need to test to see if an object is on the screen.

Syntax

atom$man_is_rendered 

Return Value

Non-zero (true) if the window is rendered. If the object is not rendered (not 
found), the value is 0 (false).

Example

The following example checks to see if the current object is on the screen:

atom$man_is_rendered 


America Online Confidential 6-46 © America Online, Inc. 1999




November 1999 FDO91 Manual


atom$man_is_response_ignored
63 ($3F)

atom$man_is_response_ignored checks the magic table, which keeps 
track of the state of all atom streams, to see if a response is ignored. A 
stream has one of three states: pending, ignored, or magic (in focus). 

This atom is commonly used in a loop with 
atom$man_get_first_response_id on page 6-35 and 
atom$man_get_next_response_id on page 6-38.

Syntax

atom$man_is_response_ignored <response_id>

<response_id> Specifies a response ID to determine whether the 
state of the response is ignored.

Return Value

Non-zero (true) if the response is ignored. If the response is not ignored, 
the value is 0 (false). 

Example

The following example checks the magic table to see if the response with 
an ID of 7 is ignored:

atom$man_is_response_ignored <7> 


© America Online, Inc. 1999 6-47 America Online Confidential




Chapter 6: Display Manager Protocol November 1999


atom$man_is_response_pending
62 ($3E)

atom$man_is_response_pending checks the magic table, which keeps 
track of the state of all atom streams, to see if a certain response is pending. 
A stream has one of three states: pending, ignored, or magic (in focus). 

This atom is commonly used in a loop with 
atom$man_get_first_response_id on page 6-35 and 
atom$man_get_next_response_id on page 6-38.

Syntax

atom$man_is_response_pending <response_id>

<response_id> Specifies a response ID to determine whether the 
state of the response is pending.

Return Value

Non-zero (true) if the response is pending. If the response is not pending, 
the value is 0 (false).

Example

The following example checks the magic table to see if response ID 7 is 
pending:

atom$man_is_response_pending <7> 


America Online Confidential 6-48 © America Online, Inc. 1999




November 1999 FDO91 Manual


atom$man_is_window_iconic
71 ($47)

atom$man_is_window_iconic indicates if the window is minimized.

Syntax

atom$man_is_window_iconic <global_ID>

<global_ID> Specifies the global ID of the window to check.

Return Value

Non-zero (true) if the window is minimized. If it is not minimized, the 
value is 0 (false).

Example

The following example checks a window to see if it is minimized:

atom$man_is_window_iconic <32-2541>


© America Online, Inc. 1999 6-49 America Online Confidential




Chapter 6: Display Manager Protocol November 1999


atom$man_item_get
32 ($20)

atom$man_item_get checks the current value of the Display Manager 
protocol register that you specify. This atom is used to determine the 
current Display Manager protocol environment.

If no argument is specified, the last register type set by a preceding 
atom$man_set_item_type on page 6-79 atom is used.

Syntax

atom$man_item_get [<dm_register>]

[<dm_register>] Specifies the Display Manager protocol register 
whose value you are checking. The register types 
are:

dmi_session_log_id Session log ID

dmi_chat_log_id Chat log ID

dmi_logging_chat Chat session logging 
state

dmi_logging_session Entire session logging 
state

dmi_logging_ims Instant Message™ 
logging state

dmi_on_line Online state

dmi_paid_area Paid area state

dmi_font_size Font size

dmi_scroll_text Text scroll state


America Online Confidential 6-50 © America Online, Inc. 1999




November 1999 FDO91 Manual


Return Value

The current value of the register specified. The possible values are:

Register Type Data Type Value Description

dmi_session_log_id Numeric The ID of the session 
log.

dmi_chat_log_id Numeric The ID of the chat log.

dmi_logging_chat Boolean True if a chat session is 
being logged; false if 
not.

dmi_logging_session Boolean True if an entire session 
is being logged; false if 
not.

dmi_logging_ims Boolean True if Instant 
Messages are being 
logged; false if not.

dmi_on_line Boolean True if online; false if 
not.

dmi_paid_area Boolean True if in a paid area; 
false if not.

dmi_font_size The size of the font.

dmi_scroll_text Boolean True if text is 
scrollable; false if not.

Example

The following example checks to see if a member is online:

atom$man_item_get <dmi_on_line>

The result of this example is that non-zero (true) is returned if the member 
is online, and 0 (false) is returned if the member is offline.


© America Online, Inc. 1999 6-51 America Online Confidential




Chapter 6: Display Manager Protocol November 1999


atom$man_item_set
33 ($21)

atom$man_item_set sets the value of a particular Display Manager 
protocol register. This companion atom must be preceded with 
atom$man_set_item_type on page 6-79.

Syntax

atom$man_item_set <dm_reg_value>

<dm_reg_value> Specifies the value that you want to set the 
register to. Depending on the register type 
specified by atom$man_set_item_type, the 
possible values are:

Register Type Data Type Value Description

dmi_session_log_id Numeric The ID of the session 
log.

dmi_chat_log_id Numeric The ID of the chat log.

dmi_logging_chat Boolean True if a chat session is 
being logged; false if 
not.

dmi_logging_session Boolean True if an entire session 
is being logged; false if 
not.

dmi_logging_ims Boolean True if Instant 
Messages are being 
logged; false if not.

dmi_on_line Boolean True if online; false if 
not.

dmi_paid_area Boolean True if in a paid area; 
false if not.

dmi_font_size The size of the font.

dmi_scroll_text Boolean True if text is 
scrollable; false if not.


America Online Confidential 6-52 © America Online, Inc. 1999




November 1999 FDO91 Manual


Return Value

None.

Example

The following example sets the value of the dmi_on_line register to a true 
(1) state:

atom$man_set_item_type <dmi_on_line>
atom$man_item_set <1> 


© America Online, Inc. 1999 6-53 America Online Confidential




Chapter 6: Display Manager Protocol November 1999


atom$man_kill_timer
77 ($4D)

atom$man_kill_timer disables the timer for the current object.

Syntax

atom$man_kill_timer

Return Value

None.

Example

The following example disables the timer for the current object:

atom$man_set_context_relative <1>
atom$mat_timer_duration <1000>
atom$mat_timer_event <200>
.
.
.
atom$man_kill_timer
atom$man_end_context


America Online Confidential 6-54 © America Online, Inc. 1999




November 1999 FDO91 Manual


atom$man_logging_command
36 ($24)

atom$man_logging_command determines what type of logging to 
perform. Members access logging from the File menu of the online service.

Syntax

atom$man_logging_command <command> 

<command> Specifies the logging command to execute. Logging 
command values are:

0 man_logging_open Opens a logging file.

1 man_logging_append Appends to a logging file.

2 man_logging_close Closes a logging file.

3 man_log_type_session Indicates that succeeding 
atom$man_logging_com
mand atoms refer to the 
logging of the session (see 
example below).

4 man_log_type_chat Indicates that succeeding 
atom$man_logging_com
mand atoms refer to the 
logging of chat 
conversation.

5 man_log_type_im Begins logging Instant 
Messages.

6 man_log_type_im_off Stops logging Instant 
Messages.

7 man_logging_flush Clears all logging files.

Return Value

None.


© America Online, Inc. 1999 6-55 America Online Confidential




Chapter 6: Display Manager Protocol November 1999


Example

The following example opens a log file for session logging:

atom$fm_create_file
atom$man_logging_command <3>
atom$man_logging_command <0>
atom$man_set_context_relative <1>
atom$fm_item_get <filename>
atom$uni_use_last_atom_string <atom$mat_title>
atom$man_end_context


America Online Confidential 6-56 © America Online, Inc. 1999




November 1999 FDO91 Manual


atom$man_make_focus
53 ($35)

atom$man_make_focus marks an object to receive focus the next time a 
display update of the subtree is performed. When a window receives focus, 
the window moves in front of all other online service windows. When an 
object in a window receives focus, a dotted line is typically drawn around 
the object. 

Syntax

atom$man_make_focus [<global_ID>]

[<global_ID>] Specifies the optional global ID of the object to 
receive focus.

Return Value

None.

Example

The following example sets focus on window 32-234:

atom$man_set_context_globalid <32-234>
atom$man_make_focus
atom$man_update_display <32-234>


© America Online, Inc. 1999 6-57 America Online Confidential




Chapter 6: Display Manager Protocol November 1999


atom$man_obj_stack_pop
98 ($62) 

atom$man_obj_stack_pop pops, peeks, or clears the top object on the 
global stack. If the argument is omitted, this atom removes (pops) the top 
value off the stack and returns the value. 

Syntax

atom$man_obj_stack_pop [<word]

[<word>] Specifies the optional stack operation type. Values are:

0 Peek Returns the value from the top of the stack 
without removing it.

1 Pop Returns the value at the top and removes it 
from the stack (default).

2 Clear Clears the entire stack of all values.

Return Value

Returns the 32-bit value or global ID from the top of the stack. If the stack 
is cleared (empty), the value is 0.

Example

The following example pops the value at the top of the stack:

atom$man_start_ip_session <59x 23x 14x 00x 01x 4Fx>
atom$man_obj_stack_pop 
atom$uni_end_stream


America Online Confidential 6-58 © America Online, Inc. 1999




November 1999 FDO91 Manual


atom$man_obj_stack_push 
97 ($61) 

atom$man_obj_stack_push pushes a 32-bit value onto a global stack. If 
the argument is omitted, the value pushed onto the stack is the global ID 
(GID) of the current object (form). 

Syntax

atom$man_obj_stack_push [<dword>]

[<dword>] Specifies the 32-bit value to be pushed to the 
stack. If the optional argument is omitted, the 
global ID of the current object is pushed to the 
stack. 

Return Value

Returns the 32-bit value or global ID pushed to the stack. If there is no 
object in context or an error has occurred, the value is 0.

Example

The following example pushes GID 20-0-00335 (14x 00x 01x 4Fx) to the 
stack:

atom$man_start_ip_session <59x 23x 14x 00x 01x 4Fx>
atom$man_obj_stack_push <14x 00x 01x 4Fx>
atom$uni_end_stream


© America Online, Inc. 1999 6-59 America Online Confidential




Chapter 6: Display Manager Protocol November 1999


atom$man_place_cursor
24 ($18)

atom$man_place_cursor is a shorthand atom that immediately sets focus 
to an object that does not require a display update. 

Syntax

atom$man_place_cursor <relative_ID>

<relative_ID> Specifies the relative ID of the object to receive 
focus. Context must be set to a parent or ancestor 
of the desired object. (The independent object is 
usually used.)

Return Value

The relative ID of the object in focus. 

Example

The following example immediately sets focus on the object that has a 
relative ID of 4:

atom$man_set_context_globalid <32-234> 
atom$man_place_cursor <4>


America Online Confidential 6-60 © America Online, Inc. 1999




November 1999 FDO91 Manual


atom$man_post_update_gid 
72 ($48)

atom$man_post_update_gid does a post version of 
atom$man_update_display. This atom allows the current stream, all other 
streams, all pending client messages, and all currently pending client post 
messages to be processed by the client before performing a routine of 
atom$man_update_display on the argument.

Unlike atom$man_update_display, this atom has a mandatory GID 
argument of the form to be updated (a non-argument does not imply the 
current form).

Syntax

atom$man_post_update_gid <$gid>

<$gid> Specifies the gid.

Return Value

None.

Example

The following example posts the update gid:

atom$man_post_update_gid <$gid>


© America Online, Inc. 1999 6-61 America Online Confidential




Chapter 6: Display Manager Protocol November 1999


atom$man_preset_authoring_form 
83 ($53)

atom$man_preset_authoring_form designates an authoring form for the 
next object to be created. This atom is used only by Visual Publisher 
Designer (VPD) developers.

Syntax

atom$man_preset_authoring_form <string>

<string> Specifies the text for the next object to be created.

Return Value

None.

Example

The following example designates an authoring form for the next object to 
be created:

atom$man_present_authoring_form


America Online Confidential 6-62 © America Online, Inc. 1999




November 1999 FDO91 Manual


atom$man_preset_gid
22 ($16)

atom$man_preset_gid designates a global ID for the next object to be 
created. If the specified global ID is already assigned to an object in the 
display tree, the context is set to that object.

Syntax

atom$man_preset_gid <global_ID>

<global_ID> Specifies the global ID for the next object.

Return Value

The global ID when the object already exists. If the global ID does not 
exist, the value is 0. 

Example

The following example presets the global ID for the next object that is 
created:

atom$man_preset_gid <32-123>
atom$man_start_object <ind_group>


© America Online, Inc. 1999 6-63 America Online Confidential




Chapter 6: Display Manager Protocol November 1999


atom$man_preset_relative
51 ($33)

atom$man_preset_relative designates the relative ID to be used for the 
next object created. If an object with that relative ID already exists as a 
child or descendent of the current object, the context is set to that object.

Syntax

atom$man_preset_relative <relative_ID>

<relative_ID> Specifies the relative ID to be used for the next 
object.

Return Value

The relative ID when the object already exists. If the relative ID does not 
exist, the value is 0.

Example

The following example presets the relative ID for the next object that is 
created:

atom$man_preset_relative <4> 
atom$man_start_object <ornament>


America Online Confidential 6-64 © America Online, Inc. 1999




November 1999 FDO91 Manual


atom$man_preset_title
23 ($17)

atom$man_preset_title designates a title to be used for the next object 
created.

Syntax

atom$man_preset_title <string>

<string> Specifies the title.

Return Value

The title string.

Example

The following example presets the title (People Connection) for the next 
object that is created:

atom$man_preset_title <"People Connection"> 
atom$man_start_object <ind_group>


© America Online, Inc. 1999 6-65 America Online Confidential




Chapter 6: Display Manager Protocol November 1999


atom$man_preset_url 
90 ($5A)

atom$man_preset_url designates an URL to be used for the next object 
created.

Syntax

atom$man_preset_url <URL>

<URL> Specifies the URL.

Return Value

None.

Example

The following example designates an URL to be used for the next object 
created:

atom$uni_start_stream <00x>
atom$man_preset_gid <32-6123>
atom$uni_start_stream <>
atom$man_set_default_title <"View Buddies">
atom$man_preset_url <"aol://1722:buddyview">
atom$uni_end_stream <>


America Online Confidential 6-66 © America Online, Inc. 1999




November 1999 FDO91 Manual


atom$man_replace_data
21 ($15)

atom$man_replace_data replaces the content of the current object 
(usually a view). If the object has already been rendered, the replaced data 
does not take effect until a display update of the associated subtree is 
performed.

Syntax

atom$man_replace_data <data>

<data> Specifies the data in any number of bytes.

Return Value

None.

Example

The following example replaces the data for the current object:

atom$man_replace_data <"202-555-0956">

The result of this example is that the text in the current view is replaced 
with 202-555-0956.


© America Online, Inc. 1999 6-67 America Online Confidential




Chapter 6: Display Manager Protocol November 1999


atom$man_response_pop
27 ($1B)

atom$man_response_pop destroys the window containing the trigger that 
initiated a request. Typically, it is sent by the host as part of a response to a 
request to pop a form. An atom$man_set_response_id on page 6-80 atom 
must precede this atom in the stream so that the response is associated with 
the request.

Syntax

atom$man_response_pop [<response_ID>]

<response_ID> Specifies an optional response ID to override the 
preceding atom$man_set_response_id atom.

Return Value

The response ID; otherwise, 0.

Example

The following example destroys a window (ID 2014) that initiated a 
request:

atom$man_set_response_id <2014>
.
.
.
atom$man_response_pop 


America Online Confidential 6-68 © America Online, Inc. 1999




November 1999 FDO91 Manual


atom$man_set_append_secure_data
101 ($65) 

atom$man_set_append_secure_data displays the information provider’s 
(IP) brand ID in a field on a form. This atom lets the online service send 
secure field data between an information provider and client applications 
through the rmg server on the host.

Syntax

atom$man_set_append_secure_data <brand_id>

<brand_id> Specifies the brand ID for the form. Brand IDs 
can be up to 80 characters in length. 

Return Value

None.

Example

The following example displays the brand ID (AolVisa) in the current 
field:

atom$man_start_object <view, "">
atom$man_set_append_secure_data <"AolVisa"> 
atom$mat_bool_writeable <no>
atom$man_end_object


© America Online, Inc. 1999 6-69 America Online Confidential




Chapter 6: Display Manager Protocol November 1999


atom$man_set_context_globalid
9 ($09)

atom$man_set_context_globalid sets context to the object specified with 
the global ID. If the object is not found, the stream is terminated.

Syntax

atom$man_set_context_globalid <global_ID>

<global_ID> Specifies the global ID.

Return Value

The global ID.

Example

The following example sets the context to an object that has a global ID of 
32-123:

atom$man_set_context_globalid <32-123>
atom$man_set_context_relative <50>
.
.
.
atom$man_end_context


America Online Confidential 6-70 © America Online, Inc. 1999




November 1999 FDO91 Manual


atom$man_set_context_first_selection
111 ($6F)

atom$man_set_context_first_selection is used for handling the walking 
through of tree controls or list boxes.

Syntax

atom$man_set_context_first_selection <RID>

<RID> Specifies the RID for tree controls or list boxes.

Return Value

atom$man_set_context_first_selection returns true if successful and false 
if failed.

Object(s) Handled

The objects handled are treecontrols and listboxes.

Example

The following example sets the conext for the first command in the tree 
control action for the object with the specified RID:

atom$uni_start_stream
atom$man_set_context_first_selection 10
atom$if_last_return_true_then <20>
atom$uni_start_loop
atom$man_treectrl_action_command <1>
atom$man_end_context
atom$man_set_context_next_selection
atom$if_last_return_true_then <10>
atom$uni_end_loop
atom$uni_sync_skip <10>
atom$man_end_context
atom$uni_sync_skip <20>
atom$uni_end_stream
atom$man_end_object


© America Online, Inc. 1999 6-71 America Online Confidential




Chapter 6: Display Manager Protocol November 1999


atom$man_set_context_index
11 ($0B)

atom$man_set_context_index sets context to one of the children of the 
current object or list using the index number of the child. The current 
object must be a group or list. The stream is terminated if the index entry is 
out of range.

Syntax

atom$man_set_context_index <index_#>

<index_#> Specifies the index number of the child object.

Return Value

The index number.

Example

The following example sets the context to the third object in the current 
group:

atom$man_set_context_index <3> 
.
.
.
atom$man_end_context


America Online Confidential 6-72 © America Online, Inc. 1999




November 1999 FDO91 Manual


atom$man_set_context_next_selection
112 ($70)

atom$man_set_context_next_selection is used for handling the walking 
through of tree controls or list boxes.

Syntax
atom$man_set_context_next_selection

Return Value

None.

Object(s) Handled

The objects handled are treecontrols and listboxes.

Example

The following example sets the conext for the next command in the tree 
control action:

atom$uni_start_stream
atom$man_set_context_first_selection 10
atom$if_last_return_true_then <20>
atom$uni_start_loop
atom$man_treectrl_action_command <1>
atom$man_end_context
atom$man_set_context_next_selection
atom$if_last_return_true_then <10>
atom$uni_end_loop
atom$uni_sync_skip <10>
atom$man_end_context
atom$uni_sync_skip <20>
atom$uni_end_stream


© America Online, Inc. 1999 6-73 America Online Confidential




Chapter 6: Display Manager Protocol November 1999


atom$man_set_context_relative
10 ($0A)

atom$man_set_context_relative sets the context to one of the children or 
descendants of the current object using a relative ID. This atom is used 
with group, independent, or list objects. The stream is terminated if no 
object with the specified relative ID is found.

Syntax

atom$man_set_context_relative <relative_ID>

<relative_ID> Specifies the relative ID.

Return Value

The relative ID.

Example

The following example sets the context to an object that has a relative ID of 
2:

atom$man_set_context_relative <2>

The result of this example is that context is set to the object with an ID of 2 
on the current window.


America Online Confidential 6-74 © America Online, Inc. 1999




November 1999 FDO91 Manual


atom$man_set_context_response_id
8 ($08)

atom$man_set_context_response_id sets the context to the independent 
ancestor of the object that initiated a request. The request is identified by 
the response ID defined by atom$man_set_response_id on page 6-80 
which was executed earlier in the stream. Optionally, an argument may be 
supplied to set context to a different response ID.

Syntax

atom$man_set_context_response_id [<response_ID>]

[<response_ID>] Specifies an optional override response ID.

Return Value

The response ID given in the argument; otherwise, 0.

Example

The following example sets the context to the independent ancestor of an 
object that triggered a response:

atom$man_set_response_id <1234>
.
.
.
atom$man_set_context_response_id 


© America Online, Inc. 1999 6-75 America Online Confidential




Chapter 6: Display Manager Protocol November 1999


atom$man_set_default_title
66 ($42)

atom$man_set_default_title changes the text of the default title, which is 
stored in a buffer. 

Normally, when a trigger (namely, a button) is selected, the text of the 
trigger becomes the default title for the next window. For example, if a 
member selects a button with a title of Unread Articles, the title of the 
resulting window also says Unread Articles. atom$man_set_default_title 
can be used to override the default title.

Syntax

atom$man_set_default_title <string>

<string> Specifies the new title of the current object.

Return Value

None.

Example

The following example replaces the current object's default title with the 
new title, Exciting Articles to Read:

atom$man_set_default_title <"Exciting Articles to Read">


America Online Confidential 6-76 © America Online, Inc. 1999




November 1999 FDO91 Manual


atom$man_set_edit_position 
81 ($51)

atom$man_set_edit_position, along with 
atom$man_set_edit_position_to_end, can only be used on an input_box 
object; these atoms replace the cursor at the position specified. 
atom$man_set_edit_position takes a word argument specifying the 
number of characters from the beginning of the current string in the 
input_box. 

Syntax

atom$man_set_edit_position <$dword>

<$dword> Specifies the text string in which the cursor is 
placed.

Return Value

None.

Example

The following example specifies that the cursor falls after the 14th 
character of the string in the input_box:

atom$man_set_edit_position <$dwordxxxxxxxxx>


© America Online, Inc. 1999 6-77 America Online Confidential




Chapter 6: Display Manager Protocol November 1999


atom$man_set_edit_position_to_end
82 ($52)

atom$man_set_edit_position_to_end, along with 
atom$man_set_edit_position, can only be used on an input_box object; 
these atoms replace the cursor at the position specified. 
atom$man_set_edit_position_to_end takes a word argument specifying 
the number of characters from the beginning of the current string in the 
input_box. 

Syntax

atom$man_set_edit_position_to_end <$dword>

<$dword> Specifies the text string at whose end the cursor 
falls.

Return Value

None.

Example

The following example specifies that the cursor falls at the end of the string 
in the input_box:

atom$man_set_edit_position <$dword>


America Online Confidential 6-78 © America Online, Inc. 1999




November 1999 FDO91 Manual


atom$man_set_item_type
65 ($41)

atom$man_set_item_type specifies a particular Display Manager 
protocol register whose value is to be set or changed. This companion atom 
must precede atom$man_item_set on page 6-52.

Syntax

atom$man_set_item_type <dm_register>

<dm_register> Specifies the particular register whose value you want 
to set. Register types and their function are as follows:

dmi_session_log_id Session log ID

dmi_chat_log_id Chat log ID

dmi_logging_chat Usage state of the chat log

dmi_logging_session Usage state of the session 
log

dmi_logging_ims Usage state of the Instant 
Messages log

dmi_on_line Online state

dmi_paid_area Paid area state

dmi_font_size Font size

dmi_scroll_text Text scroll state

Return Value

None.

Example

The following example defines the type of a register as dmi_on_line to be 
set to a true (1) value. 

atom$man_set_item_type <dmi_on_line> 
atom$man_item_set <1> 


© America Online, Inc. 1999 6-79 America Online Confidential




Chapter 6: Display Manager Protocol November 1999


atom$man_set_response_id
7 ($07)

atom$man_set_response_id notifies the client computer that the current 
stream is a response to the client computer’s request. Each object has an 
associated response ID. When a special buffer flag is set (or any shorthand 
action is used), the response ID precedes any data that is sent to the host.

Additionally, if a magic action is used, an entry is added to the magic table 
indicating that a response is expected for the requesting object's response 
ID. When a stream is later received containing an 
atom$man_set_response_id atom for that response ID, the next 
independent object to be created is associated in the magic table with the 
requesting object.

This association allows a number of operations to be performed: 

• Magic is facilitated.

• The requesting window can be popped (destroyed).

• The requesting window can be modified. 

The magic table entry is retained until the resulting independent object is 
deleted.

Syntax

atom$man_set_response_id <response_ID>

<response_ID> Specifies the response ID.

Return Value

None.

Example

The following example associates response ID 1234 with a trigger object 
on the requesting window:

atom$uni_start_stream
atom$man_start_object <trigger>
atom$man_set_response_id <1234> 
atom$man_end_object
atom$uni_end_stream


America Online Confidential 6-80 © America Online, Inc. 1999




November 1999 FDO91 Manual


atom$man_sort_items
109 ($6D)

atom$man_sort_items is used for generic sorting of objects.  Atom used 
to sort

Syntax

atom$man_sort_items <sorting_flags> 

<sorting_flags> Specifies the sorting flags as follows:

byte0 Ascending/descending

byte1 Field number

byte2 Delimiter

byte3 Permanent flag (default is 
No)

Return Value

None.

Objects Handled

The objects handled are Tree Control and Listbox.

Example

The following example sets the sort flag by field number:

atom$man_start_object <trigger> "Sort"
atom$act_replace_select_action
atom$uni_start_stream
atom$man_set_context_relative <30>
atom$man_sort_items <1>
atom$man_end_context
atom$uni_end_stream
atom$man_end_object


© America Online, Inc. 1999 6-81 America Online Confidential




Chapter 6: Display Manager Protocol November 1999


atom$man_spell_check
96 ($60)

atom$man_spell_check invokes the current object as a spell-check form 
from a rich view.

Syntax

atom$man_spell_check 

Return Value

None.

Example

The following example invokes a spell-check form:

atom$uni_start_stream
atom$man_set_context relative <12>
atom$man_spell_check 
atom$man_end_context
atom$uni_end_stream


America Online Confidential 6-82 © America Online, Inc. 1999




November 1999 FDO91 Manual


atom$man_start_alpha
40 ($28)

atom$man_start_alpha creates an object as a child of the current object. 
The position of the object relative to its siblings is determined 
alphabetically. This atom requires that the object's title be specified as part 
of the atom or in a preceding atom$man_preset_title on page 6-65.

Syntax

atom$man_start_alpha <object_type[, string]>

<object_type> Specifies an object type. Values are as follows:

0 org_group An organizational group

1 ind_group An independent group (for 
example, a window)

2 dms_list A dynamic, multi-select list 
(for example, a list box 
where more than one item 
is selectable)

3 sms_list A static, multi-select list 
(for example, a check box)

4 dss_list A dynamic, single-select 
list (for example, a list box 
where only one item is 
selectable)

5 sss_list A static, single-select list 
(for example, radio buttons)

6 trigger An actionable object (for 
example, a button, icon, or 
menu item)

7 ornament A static or decorative object 
(for example, a picture, or 
static text)


© America Online, Inc. 1999 6-83 America Online Confidential




Chapter 6: Display Manager Protocol November 1999


8 view A view field (used for 
display of larger amounts of 
text or a graphic where, if 
necessary, scroll bars are 
available)

9 edit_view An editable view field 
(used for input text fields 
where members can enter 
text)

12 range A range (used for display of 
graphic representation of a 
value, such as a bar gauge)

13 select_range A selectable range (used for 
an easy user interface for 
entering numeric data, such 
as a spin gadget)

17 tool_group A toolbar used on any form 
or frame window including 
tab controls

18 tab_group A tab group used for tab 
control of a group of tabbed 
pages, frames or forms (for 
example, list boxes with 
tabs)

19 tab_page A tab page used as a tabbed 
page, frame or form such as 
a list box with a labeled tab

[<string>] Specifies an optional title.

Return Value

None.

Example

The following example creates a new object as a child of the current object 
and inserts it alphabetically among its siblings:


America Online Confidential 6-84 © America Online, Inc. 1999




November 1999 FDO91 Manual


atom$man_start_alpha <trigger, "The Wine Club">

The result of this example is that a trigger object with the title The Wine 
Club is created and inserted alphabetically among its siblings.


© America Online, Inc. 1999 6-85 America Online Confidential




Chapter 6: Display Manager Protocol November 1999


atom$man_start_first
34 ($22)

atom$man_start_first creates an object and inserts it as the first child of 
the current object.

Syntax

atom$man_start_first <object_type[, string]>

<object_type> Specifies an object type. Values are as follows:

0 org_group An organizational group

1 ind_group An independent group (for 
example, a window)

2 dms_list A dynamic, multi-select list 
(for example, a list box 
where more than one item 
is selectable)

3 sms_list A static, multi-select list 
(for example, a check box)

4 dss_list A dynamic, single-select 
list (for example, a list box 
where only one item is 
selectable)

5 sss_list A static, single-select list 
(for example, radio buttons)

6 trigger An actionable object (for 
example, a button, icon, 
menu item)

7 ornament A static or decorative object 
(for example, a picture, 
static text)

8 view A view field (used for 
display of larger amounts of 
text or a graphic where, if 
necessary, scroll bars are 
available)


America Online Confidential 6-86 © America Online, Inc. 1999




November 1999 FDO91 Manual


9 edit_view An editable view field 
(used for input text fields 
where members can enter 
text)

12 range A range (used for display of 
graphic representation of a 
value, such as a bar gauge)

13 select_range A selectable range (used for 
an easy user interface for 
entering numeric data, such 
as a spin gadget)

17 tool_group A toolbar used on any form 
or frame window including 
tab controls

18 tab_group A tab group used for tab 
control of a group of tabbed 
pages, frames or forms (for 
example, list boxes with 
tabs)

19 tab_page A tab page used as a tabbed 
page, frame or form such as 
a list box with a labeled tab

[<string>] Specifies an optional title.

Return Value

None.

Example

The following example creates a new object as a child of the current object 
and inserts it before its siblings:

atom$man_start_first <trigger, "The Wine Club">

The result of this example is that a trigger object with the title The Wine 
Club is created and inserted first, before its siblings.


© America Online, Inc. 1999 6-87 America Online Confidential




Chapter 6: Display Manager Protocol November 1999


atom$man_start_ip_session 
103 ($67) 

atom$man_start_ip_session establishes a secure information provider 
(IP) session between the client and the host. This atom is sent by the host as 
part of a form definition and must be paired with 
atom$man_set_append_secure_data on page 6-69 to create an environment 
that can be completed with a handshake between the client and the IP 
through the rmg server.

Syntax

atom$man_start_ip_session <token/gid>

<token> Specifies a hex token value in the first 2 bytes of 
the argument. This value defines a routing token 
to the host server the client should use regarding 
this session. The value is a code of 2 ASCII 
characters. For example, the value 59x 23x 
defines a routing token of Y#. 

<gid> Specifies a hex global ID (GID) value in the last 4 
bytes of the argument. This value defines the GID 
of the cache record in the database that the client 
must use regarding this session. For example, the 
value 14x 00x 01x 4Fx defines a global ID of 20-
0-00335, where 14x equals 20, 00x equals 0, and 
01x 4Fx equals 00335.

Return Value

None.

Example

The following example establishes an IP session to transmit secure data to 
the client application using a Y# routing token and a GID of 20-0-00335: 

atom$man_start_ip_session <59x 23x 14x 00x 01x 4Fx> 
atom$man_start_object <edit_view, "">
atom$mat_size <3Cx 0Ex>
atom$mat_secure_field <0>
atom$mat_bool_writeable <yes>
atom$man_end_object


America Online Confidential 6-88 © America Online, Inc. 1999




November 1999 FDO91 Manual


atom$man_start_last
41 ($29)

atom$man_start_last creates an object and inserts it as the last child of 
the current object. This is the default behavior of atom$man_start. The 
command atom$man_start_last is provided as a means of overriding a 
list's sort order when necessary.

Syntax

atom$man_start_last <object_type[, string]>

<object_type> Specifies an object type. Values are as follows:

0 org_group An organizational group

1 ind_group An independent group (for 
example, a window)

2 dms_list A dynamic, multi-select list 
(for example, a list box 
where more than one item 
is selectable)

3 sms_list A static, multi-select list 
(for example, a check box)

4 dss_list A dynamic, single-select 
list (for example, a list box 
where only one item is 
selectable)

5 sss_list A static, single-select list 
(for example, radio buttons)

6 trigger An actionable object (for 
example, a button, icon, 
menu item)

7 ornament A static or decorative object 
(for example, a picture, 
static text)


© America Online, Inc. 1999 6-89 America Online Confidential




Chapter 6: Display Manager Protocol November 1999


8 view A view field (used for 
display of larger amounts of 
text or a graphic where, if 
necessary, scroll bars are 
available)

9 edit_view An editable view field 
(used for input text fields 
where members can enter 
text)

12 range A range (used for display of 
graphic representation of a 
value, such as a bar gauge)

13 select_range A selectable range (used for 
an easy user interface for 
entering numeric data, such 
as a spin gadget)

17 tool_group A toolbar used on any form 
or frame window including 
tab controls

18 tab_group A tab group used for tab 
control of a group of tabbed 
pages, frames or forms (for 
example, list boxes with 
tabs)

19 tab_page A tab page used as a tabbed 
page, frame or form such as 
a list box with a labeled tab

[<string>] Specifies an optional title.

Return Value

None.

Example

The following example creates a new object as a child of the current object 
and inserts it after its siblings:


America Online Confidential 6-90 © America Online, Inc. 1999




November 1999 FDO91 Manual


atom$man_start_last <trigger, "The Wine Club">

The result of this example is that a trigger object with the title The Wine 
Club is created and inserted last, after its siblings.


© America Online, Inc. 1999 6-91 America Online Confidential




Chapter 6: Display Manager Protocol November 1999


atom$man_start_object
0 ($00)

atom$man_start_object creates an object as a child of the current object. 
The position of the new object relative to other children of the current 
object is dependent on the sort order of the current object. If no sort order 
has been explicitly set for the object, children are added after all other 
siblings (the equivalent of atom$man_start_first on page 6-86 behavior). 

Syntax

atom$man_start_object <object_type[, string]>

<object_type> Specifies an object type. Values are as follows:

0 org_group An organizational group

1 ind_group An independent group (for 
example, a window)

2 dms_list A dynamic, multi-select list 
(for example, a list box where 
more than one item is 
selectable)

3 sms_list A static, multi-select list (for 
example, a check box)

4 dss_list A dynamic, single-select list 
(for example, a list box where 
only one item is selectable)

5 sss_list A static, single-select list (for 
example, radio buttons)

6 trigger  An actionable object (for 
example, a button, icon, menu 
item)

7 ornament A static or decorative object 
(for example, a picture, static 
text)

8 view A view field (used for display 
of larger amounts of text or a 
graphic where, if necessary, 
scroll bars are available)


America Online Confidential 6-92 © America Online, Inc. 1999




November 1999 FDO91 Manual


9 edit_view An editable view field (used 
for input text fields where 
members can enter text)

12 range A range (used for display of 
graphic representation of a 
value, such as a bar gauge)

13 select_range  A selectable range (used for 
an easy user interface for 
entering numeric data, such as 
a spin gadget)

17 tool_group A toolbar used on any form or 
frame window including tab 
controls

18 tab_group A tab group used for tab 
control of a group of tabbed 
pages, frames or forms (for 
example, list boxes with tabs)

19 tab_page A tab page used as a tabbed 
page, frame or form such as a 
list box with a labeled tab

[<string>] Specifies an optional title.

Return Value

None.

Example

The following example defines a new trigger object:

atom$man_start_object <trigger> 
.
.
.
atom$man_end_object


© America Online, Inc. 1999 6-93 America Online Confidential




Chapter 6: Display Manager Protocol November 1999


atom$man_start_sibling
1 ($01)

atom$man_start_sibling creates an object and attaches it to the display 
tree as the next sibling of the current object. An atom$man_end_object on 
page 6-29 for the current object is implied.

Syntax

atom$man_start_sibling <object_type[, string]>

<object_type> Specifies an object type. Values are as follows:

0 org_group An organizational group

1 ind_group An independent group (for 
example, a window)

2 dms_list A dynamic, multi-select list (for 
example, a list box where more 
than one item is selectable)

3 sms_list A static, multi-select list (for 
example, a check box)

4 dss_list A dynamic, single-select list (for 
example, a list box where only 
one item is selectable)

5 sss_list A static, single-select list (for 
example, radio buttons)

6 trigger An actionable object (for 
example, a button, icon, menu 
item)

7 ornament A static or decorative object (for 
example, a picture, static text)

8 view A view field (used for display of 
larger amounts of text or a 
graphic where, if necessary, 
scroll bars are available)

9 edit_view An editable view field (used for 
input text fields where members 
can enter text)


America Online Confidential 6-94 © America Online, Inc. 1999




November 1999 FDO91 Manual


12 range A range (used for display of 
graphic representation of a 
value, such as a bar gauge)

13 select_range A selectable range (used for an 
easy user interface for entering 
numeric data, such as a spin 
gadget)

17 tool_group A toolbar used on any form or 
frame window including tab 
controls

18 tab_group A tab group used for tab control 
of a group of tabbed pages, 
frames or forms (for example, 
list boxes with tabs)

19 tab_page A tab page used as a tabbed 
page, frame or form such as a 
list box with a labeled tab

[<string>] Specifies an optional title.

Return Value

None.

Example

The following example creates a new object as a sibling of the current 
object and inserts it next in the object tree:

atom$man_start_sibling <trigger, "Software Center">

The result of this example is that a trigger object with the title Software 
Center is created and inserted after the current object.


© America Online, Inc. 1999 6-95 America Online Confidential




Chapter 6: Display Manager Protocol November 1999


atom$man_treectrl_action_command
110 ($6E)

atom$man_treectrl_action_command is used for tree_control to 
create various actions.

Syntax

atom$man_treectrl_action-command <object_type[, string]>

<command> Specifies the commands such as edit, add, or delete 
with an integer as follows:

1 action: edit the item's label

2 action:  add an item to the 
tree control

N action: as defined

Return Value

None.

Object(s) Handled

This atom handles the tree_control object.

Example 

The following example creates the action to edit the item’s label:

atom$man_start_object <trigger> "Edit"
atom$act_replace_select_action
atom$uni_start_stream
atom$man_treectrl_action_command < 1>
atom$uni_end_stream
atom$man_end_object


America Online Confidential 6-96 © America Online, Inc. 1999




November 1999 FDO91 Manual


atom$man_update_display
17 ($11)

atom$man_update_display visually updates the objects contained in a 
subtree of the display tree.

Syntax

atom$man_update_display [<global_ID>]

[<global_ID>] Specifies the optional global ID of the subtree to 
be updated. If the argument is omitted, the root of 
the subtree (to update) defaults to the current 
object.

Return Value

None.

Example

The following example visually updates the display of objects in the 
current object (ID 61):

atom$uni_start_stream
atom$man_set_context_relative <61>
atom$mat_bool_repeat_animation <no>
atom$mat_art_animation_rate <0>
atom$mat_art_frame <0>
atom$man_update_display 
atom$man_end_context
atom$uni_end_stream


© America Online, Inc. 1999 6-97 America Online Confidential




Chapter 6: Display Manager Protocol November 1999


atom$man_update_end_object
19 ($13)

atom$man_update_end_object performs a visual update of the subtree of 
the display tree and also ends the current object context. The current object 
is used as the root of the subtree to update.

Syntax

atom$man_update_end_object

Return Value

None.

Example

The following example ends the current object and visually updates the 
display of objects in a particular subtree:

atom$uni_start_stream
atom$man_set_context_relative <61>
atom$mat_bool_repeat_animation <no>
atom$mat_art_animation_rate <0>
atom$mat_art_frame <0>
atom$man_update_end_object 
atom$uni_end_stream


America Online Confidential 6-98 © America Online, Inc. 1999




November 1999 FDO91 Manual


atom$man_update_fonts
74 ($4A)

atom$man_update_fonts reloads font information from the database 
record that contains it. The database record is changed using atoms from 
the Database Manager command set, and then atom$man_update_fonts is 
invoked.

Syntax

atom$man_update_fonts

Return Value

None.

Example

The following example reloads font information:

atom$man_update_fonts


© America Online, Inc. 1999 6-99 America Online Confidential




Chapter 6: Display Manager Protocol November 1999


atom$man_update_woff_end_stream
18 ($12)

atom$man_update_woff_end_stream is a shorthand atom that performs 
a visual update of the current object and all of its descendants. Then it turns 
the global wait state off and terminates the stream.

Syntax

atom$man_update_woff_end_stream

Return Value

None.

Example

The following example visually updates the current object and all of its 
descendants, turns off the global wait state, and terminates the atom stream:

atom$man_start_sibling <trigger, “?”>
atom$act_replace_select_action
atom$uni_start_stream_wait_on
atom$sm_send_k1 <2-4936>
atom$mat_trigger_style <rectangle>
atom$mat_font_sis <arial, 12, bold>
atom$man_end_object
atom$man_update_woff_end_stream 


America Online Confidential 6-100 © America Online, Inc. 1999




November 1999 FDO91 Manual


atom$man_use_default_title
16 ($10)

atom$man_use_default_title presets the title for an object about to be 
created to the saved title. For example, when a trigger's action is invoked, 
the title of the trigger is saved for later reference. 

Syntax

atom$man_use_default_title

Return Value

The default title string.

Example

The following example presets the title of an object to a title that has 
already been saved:

atom$man_use_default_title 
atom$man_start_object <ind_group>
.
.
.
atom$man_end_object

MAN_SORT_ITEMS

ID#:  109

Return Value: None

Objects Handled:  Tree Control, Listbox

Description:  This atom is used for generic sorting.  Atom used to sort

objects by:

Arguments: <sorting_flags>  dword specifying the sorting flags.

        byte0: ascending | descending

        byte1: field number


© America Online, Inc. 1999 6-101 America Online Confidential




Chapter 6: Display Manager Protocol November 1999


        byte2: delimiter

        byte3: Permanent flag, Default= NO

 Example of Usage:

         atom$man_start_object <trigger> "Sort"

         atom$act_replace_select_action

           atom$uni_start_stream

                   atom$man_set_context_relative <30>

             atom$man_sort_items <1>

                   atom$man_end_context

           atom$uni_end_stream

        atom$man_end_object

---------------------

MAN_TREECTRL_ACTION_COMMAND

ID#:  110

Return Value: None

Object Handled: Tree Control

Description:  This atom is used for tree control to create various actions.

Arguments:  <command> integer representing actions like:

         edit | add | delete

we may add other actions later.

command =1   means action: edit the item's label

command =2   means action:  add an item to the tree control.

and so on.

Example of Usage:


America Online Confidential 6-102 © America Online, Inc. 1999




November 1999 FDO91 Manual


         atom$man_start_object <trigger> "Edit"

         atom$act_replace_select_action

           atom$uni_start_stream

             atom$man_treectrl_action_command < 1>

           atom$uni_end_stream

        atom$man_end_object


© America Online, Inc. 1999 6-103 America Online Confidential




Chapter 6: Display Manager Protocol November 1999


atom$man_sort_items
109 ($6D)

atom$man_sort_items. 

Syntax

atom$man_

Return Value

Example

The following example

MAN_SORT_ITEMS

ID#:  109

Return Value: None

Objects Handled:  Tree Control, Listbox

Description:  This atom is used for generic sorting.  Atom used to sort

objects by:

Arguments: <sorting_flags>  dword specifying the sorting flags.

        byte0: ascending | descending

        byte1: field number

        byte2: delimiter

        byte3: Permanent flag, Default= NO

 Example of Usage:

         atom$man_start_object <trigger> "Sort"

         atom$act_replace_select_action


America Online Confidential 6-104 © America Online, Inc. 1999




November 1999 FDO91 Manual


           atom$uni_start_stream

                   atom$man_set_context_relative <30>

             atom$man_sort_items <1>

                   atom$man_end_context

           atom$uni_end_stream

        atom$man_end_object


© America Online, Inc. 1999 6-105 America Online Confidential




Chapter 6: Display Manager Protocol November 1999


atom$man_
? ($?)

atom$man_use_. 

Syntax

atom$man_

Return Value

Example

The following example


America Online Confidential 6-106 © America Online, Inc. 1999



===== END PDF: man.pdf =====

===== BEGIN PDF: mat.pdf =====





Chapter 3:

Attribute Manager (MAT) 
Protocol

The Attribute Manager (MAT) protocol (protocol ID 16) consists of atoms 
that let you assign certain characteristics to objects on a form. Objects on a 
form can be used to perform a range of functions from displaying text to 
executing actions associated with a button. For example, you can use the 
atom$mat_style_id command to change the style of a text object. 

Form Display Objects

Objects that are used with online service forms include buttons, static text, 
and list boxes. Several form display objects can be nested on a single form 
and multiple hierarchies of objects are maintained. 

Table 3-1 lists the online service form display objects and includes the 
object number, object name, and a description of the object:

Table 3-1: Form Display Objects

Number Object Description

0 org_group Organizational group—A group 
containing other objects.

1 ind_group Independent group—A 
window.

2 dms_list Dynamic, multiselect list—A 
list box where more than one 
item is selected.

3 sms_list Static, multiselect list—A 
group containing check boxes.


© America Online, Inc. 1999 3-1 America Online Confidential




Chapter 3: Attribute Manager (MAT) Protocol November 1999


Table 3-1: Form Display Objects (Continued)

Number Object Description

4 dss_list Dynamic, single-select list—A 
list box, standard popup, or 
editable popup.

5 sss_list Static, single-select list—A 
group containing radio buttons.

6 trigger Trigger—An actionable object, 
such as an icon, button, list 
item, menu item, or check box.

7 ornament Ornament—A static or 
decorative object, such as a 
picture or static text.

8 view View—A view field used for 
display of larger amounts of 
text or a graphic with scroll bars 
if necessary.

9 edit_view Editable View—An editable 
view field used as a text input 
field where members can enter 
text.

12 range Range—Used as a graphic 
representation of a value, such 
as a bar gauge.

13 select_range Selectable Range—Used as a 
user interface for entering 
numeric data, such as a spin 
gadget.

17 tool_group Toolbar—Used on any form or 
frame window including tab 
controls.

18 tab_group Tab Group—Used for tab 
control of a group of tabbed 
pages, frames, or forms (for 
example, list boxes with tabs).

19 tab_page Tab Page—Used as a tabbed 
page, frame, or form such as a 
list box with a labeled tab.


America Online Confidential 3-2 © America Online, Inc. 1999




November 1999 FDO91 Manual


Attribute Manager Protocol Atoms

The Attribute Manager (MAT) protocol functions and their associated 
atoms follow:

Table 3-2: Attribute Manager Protocol Functions and Atoms

Function Atoms Page

Displaying art and atom$mat_art_animation_rate 3-7
graphics atom$mat_art_animation_seq 3-8

atom$mat_art_frame 3-10

atom$mat_art_id 3-22

atom$mat_bool_background_pic 3-29

atom$mat_bool_background_tile 3-30

atom$mat_bool_graphic_view 3-63

atom$mat_bool_invert 3-71

atom$mat_bool_repeat_animation 3-90

Displaying progressive atom$mat_art_hint_font_size 3-11
rendering hints atom$mat_art_hint_height 3-12

atom$mat_art_hint_select_placeholder 3-14

atom$mat_art_hint_title 3-15

atom$mat_art_hint_title_x 3-16

atom$mat_art_hint_title_y 3-20

atom$mat_art_hint_width 3-21

Displaying toolbars atom$mat_bool_child_line_feed 3-31

atom$mat_bool_child_movable 3-33

atom$mat_bool_child_removable 3-34

atom$mat_bool_children_movable 3-35

atom$mat_bool_children_removable 3-37

atom$mat_bool_customizable 3-39

atom$mat_bool_detachable 3-43

atom$mat_bool_detached 3-45

atom$mat_bool_dock_horizontal 3-66

atom$mat_bool_dock_vertical 3-51

atom$mat_bool_menu 3-76

atom$mat_bool_palette 3-83

atom$mat_bool_palette_art 3-84

atom$mat_bool_tool_group 3-97

Displaying windows: atom$mat_form_icon 3-123
placement atom$mat_position 3-147

atom$mat_style_id 3-168


© America Online, Inc. 1999 3-3 America Online Confidential




Chapter 3: Attribute Manager (MAT) Protocol November 1999


Table 3-2: Attribute Manager Protocol Functions and Atoms (Continued)

Function Atoms Page

Sizing atom$mat_bool_resize_horizontal 3-91

atom$mat_bool_resize_vertical 3-92

Navigation atom$mat_bool_modal 3-77

atom$mat_bool_non_closeable 3-80

atom$mat_dirty_query 3-114

Displaying scrollbars atom$mat_bool_horizontal_scroll 3-66

atom$mat_bool_vertical_scroll 3-99

Displaying menus atom$mat_bool_dropdown_button 3-56

atom$mat_bool_popup_menu 3-86

atom$mat_popup_pfc_path 3-146

atom$mat_popup_relative_id 3-145

Displaying objects atom$mat_bool_default 3-40

atom$mat_bool_disabled 3-47

atom$mat_bool_draw_focus 3-54

atom$mat_bool_gradual_shadow 3-62

atom$mat_bool_modified 3-78

atom$mat_bool_no_border 3-79

atom$mat_bool_permanent 3-85

atom$mat_frame_style 3-124

Placement atom$mat_bool_hidden 3-64

atom$mat_bool_invisible 3-72

atom$mat_bool_precise 3-87

atom$mat_horizontal_spacing 3-127

atom$mat_orientation 3-141

atom$mat_precise_x 3-151

atom$mat_precise_y 3-153

atom$mat_text_on_picture_pos 3-171

Sizing atom$mat_bool_expand_to_fit 3-58

atom$mat_height 3-126

atom$mat_precise_height 3-149

atom$mat_precise_width 3-150

atom$mat_size 3-165

Color atom$mat_bool_background_flood 3-28

atom$mat_bool_background_pic 3-29

atom$mat_color_face 3-104

atom$mat_color_frame_hilight 3-105

atom$mat_color_frame_shadow 3-106


America Online Confidential 3-4 © America Online, Inc. 1999




November 1999 FDO91 Manual


Table 3-2: Attribute Manager Protocol Functions and Atoms (Continued)

Function Atoms Page

Trigger color atom$mat_color_bottom_edge 3-103

atom$mat_color_selected 3-107

atom$mat_color_top_edge 3-110

List-box items atom$mat_bool_contiguous 3-38

atom$mat_bool_default_send 3-41

atom$mat_bool_list_icons 3-75

atom$mat_sort_order 3-166

URL history lists atom$mat_bool_ignore_url_list 3-68

Tabbed pages atom$mat_bool_page_control 3-81

atom$mat_tab_get_cur_sel 3-169

atom$mat_tab_set_cur_sel 3-170

Text views and text atom$mat_bool_double_space 3-53

atom$mat_bool_drop_at_top 3-55

atom$mat_bool_encode_unicode 3-57

atom$mat_bool_exportable 3-59

atom$mat_bool_first_script 3-60

atom$mat_bool_force_scroll 3-61

atom$mat_bool_importable 3-69

atom$mat_bool_language_popup 3-73

atom$mat_bool_list_allow_entry 3-74

atom$mat_bool_protected_input 3-89

atom$mat_bool_url_sink 3-98

atom$mat_bool_writeable 3-100

atom$mat_capacity 3-102

atom$mat_color_text 3-108

atom$mat_color_text_shadow 3-109

atom$mat_field_script 3-116

atom$mat_font_id 3-117

atom$mat_font_sis 3-119

atom$mat_font_size 3-121

atom$mat_font_style 3-122

atom$mat_link_content_to_rid 3-132

atom$mat_paragraph 3-144

atom$mat_ruler 3-157

atom$mat_scroll_threshold 3-160

atom$mat_sink 3-164

Range fields and spin atom$mat_increment 3-128
gadgets atom$mat_minimum 3-137


© America Online, Inc. 1999 3-5 America Online Confidential




Chapter 3: Attribute Manager (MAT) Protocol November 1999


Table 3-2: Attribute Manager Protocol Functions and Atoms (Continued)

Function Atoms Page

atom$mat_maximum 3-136

Help bubbles atom$mat_context_help 3-113

Defining shortcut keys atom$mat_command_key 3-111

atom$mat_shortcut_key 3-163

Transmitting field input atom$mat_secure_form 3-162
data

Spacing atom$mat_left_spacing 3-131

atom$mat_top_spacing 3-174

atom$mat_right_spacing 3-156

atom$mat_bottom_spacing 3-101

atom$mat_spacing 3-167

Factory ID atom$mat_factory_id 3-115

The MAT protocol atoms are described in alphabetical order in the rest of 
this chapter.


America Online Confidential 3-6 © America Online, Inc. 1999




November 1999 FDO91 Manual


atom$mat_art_animation_rate
98 ($62)

atom$mat_art_animation_rate defines the rate at which animation 
occurs.

Syntax

atom$mat_art_animation_rate <x>

<x> Specifies the interval of time in milliseconds that 
each animation frame appears. A value of 0 is the 
default, which specifies that the animation does 
not occur.

Object(s) Handled

The objects handled by this atom are org_group and ind_group.

Return Value

None.

Example

The following example defines the animation rate to 250 milliseconds:

atom$mat_start_object <trigger>
atom$mat_relative_tag <1>
atom$mat_art_id <1-0-2201>
atom$mat_precise_x <370>
atom$mat_precise_y <105>
atom$mat_art_animation_rate <250> 
atom$mat_art_animation_seq <1 5 0 1>
atom$mat_repeat_animation <yes>
.
.
.
atom$mat_end_object


© America Online, Inc. 1999 3-7 America Online Confidential




Chapter 3: Attribute Manager (MAT) Protocol November 1999


atom$mat_art_animation_seq
99 ($63)

atom$mat_art_animation_seq determines which frames are displayed 
and the duration for which they are displayed. Animation frames are 
contained in the art specified using atom$mat_art_id.

Syntax

atom$mat_art_animation_seq <f1 d1 [f2 d2]...[fn dn]>

<f1 d1> Specifies a 2-byte value that indicates a frame to 
display and the duration for which to display the 
frame.

The first byte is the frame number and the second 
byte is the duration in multiples of the rate 
specified using atom$mat_animation_rate.

[f2 d2]...[fn dn] Specifies other optional 2-byte values to indicate 
other frames and durations that can be added in 
series.

If no argument is specified for this atom, the default sequence occurs 
starting with frame 0 and ending with the last frame.

Object(s) Handled

The objects handled by this atom are org_group and ind_group.

Return Value

None.

Example

The following example defines the animation sequence of two frames. 
Frame 1 occurs first and is set to a 1.25 second duration. Frame 0 occurs 
next for 250 milliseconds:

atom$mat_start_object <trigger>
atom$mat_relative_tag <1>
atom$mat_art_id <1-0-2201>
atom$mat_precise_x <370>


America Online Confidential 3-8 © America Online, Inc. 1999




November 1999 FDO91 Manual


atom$mat_precise_y <105>
atom$mat_art_animation_rate <250>
atom$mat_art_animation_seq <1 5 0 1> 
atom$mat_repeat_animation <yes>
.
.
.
atom$mat_end_object


© America Online, Inc. 1999 3-9 America Online Confidential




Chapter 3: Attribute Manager (MAT) Protocol November 1999


atom$mat_art_frame
97 ($61)

atom$mat_art_frame defines the frame number where animation begins 
or the frame number to display when not animating (for example, the three-
icon window that appears when someone is connecting to the service). If 
this atom is not used, animation begins, by default, at the first frame (frame 
0). 

Syntax

atom$mat_art_frame <x>

<x> Specifies the frame number. Values are 1 or 
greater.

Object(s) Handled

The objects handled by this atom are org_group and ind_group.

Return Value

None.

Example

The following example starts frame animation at frame number 1:

atom$man_start_object <trigger>
atom$mat_relative_tag <1>
atom$mat_art_id <1-0-2201>
atom$mat_art_animation_rate <250>
atom$mat_art_frame <1> 
.
.
.
atom$man_end_object


America Online Confidential 3-10 © America Online, Inc. 1999




November 1999 FDO91 Manual


atom$mat_art_hint_font_size
128 ($80)

atom$mat_art_hint_font_size specifies the point size of the text for the 
placeholder (hint) artwork that appears during the progressive rendering of 
data on demand (DOD) artwork. This atom overrides any existing defaults 
set with other atoms, such as atom$mat_font_sis, and is always used in 
conjunction with atom$mat_art_hint_title on page 3-15. This atom is sent 
from the host and is useful for fitting text in a limited space inside the 
artwork.

Syntax

atom$mat_art_hint_font_size <x>

<x> The point size of the text for the placeholder 
artwork.

Object(s) Handled

The objects handled by this atom are trigger, ornament, org_group, and 
ind_group.

Return Value

None.

Example

The following example defines the point size of the text for the placeholder 
artwork to 8:

atom$man_start_object <trigger, “”>
atom$mat_relative_tag <1>
atom$mat_art_id <1-0-1234>
atom$mat_art_hint_width <x>
atom$mat_art_hint_height <y>
atom$mat_art_hint_title <“Travel Information”>
atom$mat_art_hint_font_size <8> 


© America Online, Inc. 1999 3-11 America Online Confidential




Chapter 3: Attribute Manager (MAT) Protocol November 1999


atom$mat_art_hint_height
122 ($7A) 

atom$mat_art_hint_height specifies the height of the placeholder (hint) 
artwork that appears during the progressive rendering of data on demand 
(DOD) artwork. This atom is sent by the host and is always used in 
conjunction with atom$mat_art_hint_width on page 3-21.

Syntax

atom$mat_art_hint_height <y>

<y> The height of the artwork to be downloaded. 
Values are 1 or greater. A value of 1 is equal to the 
height of one pixel.

Object(s) Handled

The objects handled by this atom are trigger, org_group, and 
ind_group.

Return Value

None.

Example

The following example defines the height of the artwork to be downloaded 
as 20 pixels:

atom$man_start_object <trigger, “”>
atom$mat_relative_tag <1>
atom$mat_art_hint_width <32>
atom$mat_art_hint_height <20> 
atom$mat_art_hint_title <“Travel Information”>
atom$mat_art_id <1-0-1234>


America Online Confidential 3-12 © America Online, Inc. 1999




November 1999 FDO91 Manual


atom$mat_art_hint_placeholder_id
124 ($7C)

atom$mat_art_hint_placeholder_id sets the graphic ID (GID) of the art 
used as a placeholder before the real art is sent through a DOD.

Syntax

atom$mat_art_hint_placeholder_id <x>

<x> The graphic ID (GID) of the art used as a 
placeholder.

Object(s) Handled

The objects handled by this atom are trigger, ornament, org_group, and 
ind_group.

Return Value

None.

Example

The following example sets the GID of the art used as a placeholder before 
the real art is sent through a DOD:

atom$man_start_object <trigger, “”>
atom$mat_relative_tag <1>
atom$mat_art_hint_width <x>
atom$mat_art_hint_height <y>
atom$mat_art_hint_title “Travel Information”
atom$mat_art_hint_placeholder_id <1>


© America Online, Inc. 1999 3-13 America Online Confidential




Chapter 3: Attribute Manager (MAT) Protocol November 1999


atom$mat_art_hint_select_placeholder
132 ($84)

atom$mat_art_select_placeholder selects placeholder (hint) artwork 
from a list of canned placeholders that are defined within a table in the 
UDO (update disk operation). Placeholder artwork appears during the 
progressive rendering of data on demand (DOD) artwork. This atom is sent 
from the host.

Syntax

atom$mat_art_hint_select_placeholder <placeholder_id>

<placeholder_id> The ID of the canned placeholder artwork. The 
default value is 0, which specifies a default 
placeholder.

Object(s) Handled

The objects handled by this atom are trigger, ornament, org_group, and 
ind_group.

Return Value

None.

Example

The following example selects the default placeholder artwork for display 
during a progressive rendering, DOD operation:

atom$man_start_object <trigger, “”>
atom$mat_relative_tag <1>
atom$mat_art_hint_width <x>
atom$mat_art_hint_height <y>
atom$mat_art_hint_title “Travel Information”
atom$mat_art_hint_select_placeholder <0> 
atom$mat_art_id <1-0-1234>


America Online Confidential 3-14 © America Online, Inc. 1999




November 1999 FDO91 Manual


atom$mat_art_hint_title
123 ($7B)

atom$mat_art_hint_title defines the hint text associated with the 
placeholder (hint) artwork that appears during the progressive rendering of 
data on demand (DOD) artwork. The text wraps but must fit the 
dimensions specified with atom$mat_art_hint_width and 
atom$mat_art_hint_height; otherwise, the text does not appear. This 
atom is sent by the host.

Syntax

atom$mat_art_hint_title <title>

<title> The hint text of the artwork to be downloaded.

Object(s) Handled

The objects handled by this atom are trigger, ornament, org_group, and 
ind_group.

Return Value

None.

Example

The following example defines "Travel Information" as the hint text of the 
artwork during a progressive rendering, DOD operation:

atom$man_start_object <trigger, “”>
atom$mat_relative_tag <1>
atom$mat_art_id <1-0-1234>
atom$mat_art_hint_width <x>
atom$mat_art_hint_height <y>
atom$mat_art_hint_title <“Travel Information”> 


© America Online, Inc. 1999 3-15 America Online Confidential




Chapter 3: Attribute Manager (MAT) Protocol November 1999


atom$mat_art_hint_title_font_id
129 ($81)

atom$mat_art_hint_title_font_id sets the ID of the DOD hint text.

Syntax

atom$mat_art_hint_title_font_id <x>

<x> The ID of the DOD hint text.

Object(s) Handled

The objects handled by this atom are trigger, ornament, org_group, and 
ind_group.

Return Value

None.

Example
The following example sets the font ID of the DOD hint text:

atom$man_start_object <trigger, “”>
atom$mat_relative_tag <1>
atom$mat_art_id <1-0-1234>
atom$mat_art_hint_width <64>
atom$mat_art_hint_height <64>
atom$mat_art_hint_title_x <2> 
atom$mat_art_hint_title_y <2>
atom$mat_art_hint_title <“Travel Information”>
atom$mat_art_hint_title_font_id <1> 


America Online Confidential 3-16 © America Online, Inc. 1999




November 1999 FDO91 Manual


atom$mat_art_hint_title_font_size
128 ($80)

atom$mat_art_hint_title_font_size sets the font size of the DOD hint 
text.

Syntax

atom$mat_art_hint_title_font_size <x>

<x> The font size of the title of the placeholder 
artwork. Values are 1 or greater.

Object(s) Handled

The objects handled by this atom are trigger, ornament, org_group, and 
ind_group.

Return Value

None.

Example
The following example sets the title font size as eight:

atom$man_start_object <trigger, “”>
atom$mat_relative_tag <1>
atom$mat_art_id <1-0-1234>
atom$mat_art_hint_width <64>
atom$mat_art_hint_height <64>
atom$mat_art_hint_title_x <2> 
atom$mat_art_hint_title_y <2>
atom$mat_art_hint_title <“Travel Information”>
atom$mat_art_hint_title_font_id <1> 
atom$mat_art_hint_title_font_size <8> 


© America Online, Inc. 1999 3-17 America Online Confidential




Chapter 3: Attribute Manager (MAT) Protocol November 1999


atom$mat_art_hint_title_font_style
130($82)

atom$mat_art_hint_title_font_style sets the font style of the DOD hint 
text. See atom$mat_font_id on page 3-117 for the list of font styles.

Syntax

atom$mat_art_hint_font_style_x <x>

<x> The font style of the title of the placeholder 
artwork. Values are 1 or greater.

Object(s) Handled

The objects handled by this atom are trigger, ornament, org_group, and 
ind_group.

Return Value

None.

Example
The following example sets the title font style to courier:

atom$man_start_object <trigger, “”>
atom$mat_relative_tag <1>
atom$mat_art_id <1-0-1234>
atom$mat_art_hint_width <64>
atom$mat_art_hint_height <64>
atom$mat_art_hint_title_x <2> 
atom$mat_art_hint_title_y <2>
atom$mat_art_hint_title <“Travel Information”>
atom$mat_art_hint_title_font_id <1> 
atom$mat_art_hint_title_font_size <8> 
atom$mat_art_hint_title_font_style <1> 


America Online Confidential 3-18 © America Online, Inc. 1999




November 1999 FDO91 Manual


atom$mat_art_hint_title_x
125 ($7D)

atom$mat_art_hint_title_x defines the horizontal (x-axis) location of the 
title of the placeholder (hint) artwork that appears during the progressive 
rendering of data on demand (DOD) artwork.

This atom is optional and is used with atom$mat_art_hint_title_y on page 
3-20. If specified, it can be used to cause the text of the title to overlay the 
artwork. If this atom is not specified, the title appears in the location where 
it fits best in relation to the artwork, namely, first in the lower right corner, 
then the upper right corner, and then across the bottom. This atom is sent 
by the host.

Syntax

atom$mat_art_hint_title_x <x>

<x> The horizontal pixel position of the title of the 
placeholder artwork. Values are 1 or greater.

Object(s) Handled

The objects handled by this atom are trigger, ornament, org_group, and 
ind_group.

Return Value

None.

Example

The following example defines the title of the placeholder artwork to be 
two pixels across from the upper left corner:

atom$man_start_object <trigger, “”>
atom$mat_relative_tag <1>
atom$mat_art_id <1-0-1234>
atom$mat_art_hint_width <64>
atom$mat_art_hint_height <64>
atom$mat_art_hint_title_x <2> 
atom$mat_art_hint_title_y <2>
atom$mat_art_hint_title <“Travel Information”>


© America Online, Inc. 1999 3-19 America Online Confidential




Chapter 3: Attribute Manager (MAT) Protocol November 1999


atom$mat_art_hint_title_y
127 ($7F)

atom$mat_art_hint_title_y defines the vertical (y-axis) location of the 
title of the placeholder (hint) artwork that appears during the progressive 
rendering of data on demand (DOD) artwork.

This atom is optional and is used with atom$mat_art_hint_title_font_id on 
page 3-16. If specified, it can be used to cause the text of the title to overlay 
the artwork. If this atom is not specified, the title appears in the location 
where it fits best in relation to the artwork, namely first in the lower right 
corner, then the upper right corner, and then across the bottom. This atom is 
sent by the host.

Syntax

atom$mat_art_hint_title_y <y>

<y> The vertical pixel position of the title of the 
placeholder artwork. Values are 1 or greater.

Object(s) Handled

The objects handled by this atom are trigger, ornament, org_group, and 
ind_group.

Return Value

None.

Example

The following example defines the title of the placeholder artwork to be 
two pixels down from the upper left corner:

atom$man_start_object <trigger, “”>
atom$mat_relative_tag <1>
atom$mat_art_id <1-0-1234>
atom$mat_art_hint_width <64>
atom$mat_art_hint_height <64>
atom$mat_art_hint_title_x <2>
atom$mat_art_hint_title_y <2> 
atom$mat_art_hint_title, “Travel Information”>


America Online Confidential 3-20 © America Online, Inc. 1999




November 1999 FDO91 Manual


atom$mat_art_hint_width
121 ($79)

atom$mat_art_hint_width defines the width of the placeholder (hint) 
artwork that appears during the progressive rendering of data on demand 
(DOD) artwork. This atom is sent by the host and is always used in 
conjunction with atom$mat_art_hint_height on page 3-12.

Syntax

atom$mat_art_hint_width <x>

<x> The width of the artwork to be downloaded. 
Values are 1 or greater. A value of 1 is equal to the 
width of one pixel.

Object(s) Handled

The objects handled by this atom are trigger, ornament, org_group, and 
ind_group.

Return Value

None.

Example

The following example determines the width (32 pixels) of the artwork to 
be downloaded:

atom$man_start_object <trigger, “”>
atom$mat_relative_tag <1>
atom$mat_art_hint_width <32> 
atom$mat_art_hint_height <20>
atom$mat_art_hint_title <“title”>
atom$mat_art_id <1-0-1234>


© America Online, Inc. 1999 3-21 America Online Confidential




Chapter 3: Attribute Manager (MAT) Protocol November 1999


atom$mat_art_id
14 ($0E) 

atom$mat_art_id defines the global ID of the art piece associated with the 
object you are creating. The format for an art ID is <1-byte, 1-byte, 2-
bytes>. Local art IDs are specified as <255-x-x>, which are stored and sent 
from the client database, not the host.

Syntax

atom$mat_art_id <art_ID>

<art_ID> Specifies the global ID of the art. The default 
value is 0, which specifies that no art is associated 
with the object.

Object(s) Handled

The objects handled by this atom are org_group and ind_group.

Return Value

The art ID.

Example

The following example assigns an art ID to a button:

atom$man_start_object <trigger>
atom$mat_art_id <1-0-1234> 


America Online Confidential 3-22 © America Online, Inc. 1999




November 1999 FDO91 Manual


atom$mat_art_seq
183 ($87)

atom$mat_art_seq specifies frames of art to be used for various trigger 
states. This atom is used in the 5.0 clients primarily to provide rollover 
button functionality across multiple trigger styles.

Syntax

atom$mat_art_seq <x>

<x> Specifies the art frame to be used for mouseup, 
rollover, disabled, and mousedown states, in that 
order, through a series of up to four bytes. If a 
particular frame is not specified, the mouseup 
frame is used in that position.

Object(s) Handled

The objects handled by this atom are org_group and ind_group.

Return Value

None.

Example

atom$man_start_object <trigger>
atom$mat_relative_tag <1>
atom$mat_art_id <1-0-2201>
atom$mat_art_animation_rate <250>
atom$mat_art_seq <1> 
.
.
.
atom$man_end_object


© America Online, Inc. 1999 3-23 America Online Confidential




Chapter 3: Attribute Manager (MAT) Protocol November 1999


atom$mat_auto_complete
185 ($B9)

atom$mat_art_id enables Netscape-like autocomplete for edit boxes. The 
edit box performs autocomplete; the atom is left open ended to allow other 
controls to search history lists using search algorithms.

Syntax

atom$mat_auto_complete <x, y>

<x> Specifies the search list, where x is:

0 - Use web/search words/keywords history list

1 - Use mail address book search list 

2 - Use other search list 

<y> Specifies the <search_method>, where y is:

0 - Use web search to ignore http://www. during 
matches

1 - Use standard sorted search 

Example 

The following example tells the display manager to use the web/search 
words/keywords history list and tells the web search to ignore http://www. 
during matches:

atom$man_set_context_relative <2>
atom$mat_auto_complete <0, 0>
atom$man_end_context


America Online Confidential 3-24 © America Online, Inc. 1999




November 1999 FDO91 Manual


atom$mat_bool_active_offline
157 ($9D)

atom$mat_bool_active_offline determines whether the current object is 
enabled when the member is offline.

Syntax

atom$mat_bool_active_offline <boolean>

<boolean> Specifies whether the current object is enabled when 
the member is offline. Values are:

Yes This object is enabled when the member is 
offline (default).

No This object is not enabled when the member 
is offline.

Object(s) Handled

The object handled by this atom is trigger.

Return Value

None.

Example

The following example makes the current trigger object (AOL icon) 
inactive when the member is offline:

atom$mat_object_type <trigger, “”>
atom$mat_trigger_style <plain_picture>
atom$mat_relative_tag <61>
atom$mat_bool_palette_art <yes>
atom$mat_horizontal_spacing <1>
atom$mat_vertical_spacing <0>
atom$mat_bool_active_offline <no> 
atom$mat_bool_child_movable <no>
atom$mat_context_help <”Go to the AOL home page.”>


© America Online, Inc. 1999 3-25 America Online Confidential




Chapter 3: Attribute Manager (MAT) Protocol November 1999


atom$mat_bool_active_online
158 ($9E)

atom$mat_bool_active_online determines whether the current object is 
enabled when the member is online.

Syntax

atom$mat_bool_active_online <boolean>

<boolean> Specifies whether the current object is enabled when 
the member is offline. Values are:

Yes This object is enabled when the member is 
offline (default).

No This object is not enabled when the member 
is offline.

Object(s) Handled

The object handled by this atom is trigger.

Return Value

None.

Example

The following example makes the current trigger object (AOL icon) active 
when the member is online:

atom$mat_object_type <trigger, “”>
atom$mat_trigger_style <plain_picture>
atom$mat_relative_tag <61>
atom$mat_bool_palette_art <yes>
atom$mat_horizontal_spacing <1>
atom$mat_vertical_spacing <0>
atom$mat_bool_active_online <yes> 
atom$mat_bool_child_movable <no>
atom$mat_context_help <”Go to the AOL home page.”>


America Online Confidential 3-26 © America Online, Inc. 1999




November 1999 FDO91 Manual


atom$mat_bool_auto_closeable
172 ($AC)

atom$mat_bool_auto_closeable identifies which forms can or cannot be 
closed when the total number of forms opened has reached a limit and the 
client needs to close some of the open forms. Only a dozen forms (added 
with atom$mat_bool_auto_closeable <no>) are expected to be not 
automatically closeable. By default, all forms are automatically closeable. 
See also: atom$mat_bool_non_closeable on page 3-80.

Syntax

atom$mat_bool_auto_closeable <boolean> 

<boolean> Specifies whether the current independent window 
object can be automatically closed when the client 
window limit has been reached. Attribute is ignored on 
nonindependent windows. Values are:

Yes This independent window can be closed 
automatically (default).

No This independent window cannot be closed 
automatically.

Object(s) Handled

Independent window.

Return Value

Unchanged. 

Example

atom$man_start_object <ind_group, "non-auto-close-form"> 
...
atom$mat_bool_auto_closeable <no>
...
atom$man_end_object


© America Online, Inc. 1999 3-27 America Online Confidential




Chapter 3: Attribute Manager (MAT) Protocol November 1999


atom$mat_bool_background_flood
94 ($5E)

atom$mat_bool_background_flood fills the background of the current 
object with a color. The color is specified using atom$mat_color_face. 
This atom is used with groups, windows, or certain views (namely, list 
boxes and static text). It cannot be used with editable views.

Syntax

atom$mat_bool_background_flood <boolean>

<boolean> Specifies whether the background of an object is 
flooded with color. Values are:

Yes The background of an object is flooded with 
color.

No The background of an object is not flooded 
with color (default).

Object(s) Handled

The objects handled by this atom are org_group, ind_group, and view.

Return Value

None.

Example

The following example fills the background of the window titled 
"Background Flooded Window" with the color blue:

atom$man_start_object <ind_group, "Background Flooded 
Window">
atom$mat_bool_background_flood <yes> 
atom$mat_color_face <0 0 80>


America Online Confidential 3-28 © America Online, Inc. 1999




November 1999 FDO91 Manual


atom$mat_bool_background_pic
93 ($5D)

atom$mat_bool_background_pic fills the background of the current 
object with a picture. A picture must be specified using atom$mat_art_id 
on page 3-22. 

Syntax

atom$mat_bool_background_pic <boolean>

<boolean> Specifies whether the background of an object is 
flooded with color. Values are:

Yes The background of an object is flooded with 
color.

No The background of an object is not flooded 
with color (default).

Return Value

None.

Object(s) Handled

The objects handled by this atom are org_group and ind_group.

Example

The following example fills the background of the window titled 
"Background Flooded Window" with the piece of art with an ID of 1-0-
2196:

atom$man_start_object <ind_group, "Background Flooded Window">
atom$mat_bool_background_pic <yes>
atom$mat_art_id <1-0-2196>


© America Online, Inc. 1999 3-29 America Online Confidential




Chapter 3: Attribute Manager (MAT) Protocol November 1999


atom$mat_bool_background_tile
101 ($65)

atom$mat_bool_background_tile fills the background of the current 
object with a picture and arranges it in a tiled formation. A picture must be 
specified using atom$mat_art_id on page 3-22. 

Syntax

atom$mat_bool_background_tile <boolean>

<boolean> Specifies whether the background picture is tiled. 
Values are:

Yes The background picture is tiled.

No The background picture is not tiled (default).

Object(s) Handled

The objects handled by this atom are org_group and ind_group.

Return Value

None.

Example

The following example fills the background of a window titled "Layered 
Backgrounds" with the piece of art with an ID of 1-0-2207; the art is 
arranged in a tiled formation:

atom$man_start_object <ind_group, "Layered Backgrounds">
atom$mat_bool_background_tile <yes> 
atom$mat_art_id <1-0-2207>


America Online Confidential 3-30 © America Online, Inc. 1999




November 1999 FDO91 Manual


atom$mat_bool_child_line_feed
151 ($97)

atom$mat_bool_child_line_feed forces a child object to a new line (row) 
in the toolbar or parent object. Typically, it is used to start a new row of 
buttons on a toolbar.

Syntax

atom$mat_bool_child_line_feed <boolean>

<boolean> Specifies whether to start a new line with the current 
child object. Values are:

Yes Start a new line with this child.

No Do not start a new line with this child 
(default).

Object(s) Handled

The objects handled by this atom are children objects of tool_group.

Return Value

None.

Example

The following example forces the third button (child object) on a toolbar to 
the next line (row) of buttons:

atom$uni_start_stream
atom$man_start_object <ind_group, "">
atom$man_start_object <tool_group, "">
atom$mat_orientation <hff>
atom$mat_frame_style <4>
atom$man_start_object <trigger, “Do”>
atom$mat_relative_tag <1>
atom$act_replace_select_action

atom$uni_start_stream
atom$async_error_box <”Action for the first button”>
atom$uni_end_stream

atom$man_end_object
atom$man_start_object <trigger, “Undo”>
atom$mat_relative_tag <2>
atom$act_replace_select_action


© America Online, Inc. 1999 3-31 America Online Confidential




Chapter 3: Attribute Manager (MAT) Protocol November 1999


atom$uni_start_stream
atom$async_error_box <”Action for the second button”>
atom$uni_end_stream

atom$man_end_object
atom$man_start_object <trigger, “Go To”>
atom$mat_bool_child_line_feed <yes> 
atom$mat_relative_tag <3>
atom$act_replace_select_action

atom$uni_start_stream
atom$async_error_box <”Action for the third button”>
atom$uni_end_stream

atom$man_end_object
atom$man_end_object


America Online Confidential 3-32 © America Online, Inc. 1999




November 1999 FDO91 Manual


atom$mat_bool_child_movable
150 ($96)

atom$mat_bool_child_movable determines whether the current child 
object is movable in a toolbar or parent window.

Syntax

atom$mat_bool_child_movable <boolean>

<boolean> Specifies whether the current child object can be 
moved in the toolbar or parent window. Values are:

Yes This object can be moved in the parent 
window (default).

No This object cannot be moved in the parent 
window.

Object(s) Handled

The objects handled by this atom are children objects of tool_group.

Return Value

None.

Example

The following example makes the current child object (AOL icon) fixed in 
the toolbar so that it cannot be moved:

atom$mat_object_type <trigger, “”>
atom$mat_trigger_style <plain_picture>
atom$mat_relative_tag <61>
atom$mat_bool_palette_art <yes>
atom$mat_horizontal_spacing <1>
atom$mat_vertical_spacing <0>
atom$mat_bool_active_online <yes>
atom$mat_bool_child_movable <no> 
atom$mat_context_help <”Go to the AOL home page.”>


© America Online, Inc. 1999 3-33 America Online Confidential




Chapter 3: Attribute Manager (MAT) Protocol November 1999


atom$mat_bool_child_removable
149 ($95)

atom$mat_bool_child_removable determines whether the current child 
object is removable from a toolbar or parent window.

Syntax

atom$mat_bool_child_removable <boolean>

<boolean> Specifies whether the current child object can be 
removed from the toolbar or parent window. Values 
are:

Yes This object can be removed from the parent 
window (default).

No This object cannot be removed from the 
parent window.

Object(s) Handled

The objects handled by this atom are children objects of tool_group.

Return Value

None.

Example

The following example makes the child object (button) removable from the 
toolbar:

atom$man_start_object <ind_group, "">
atom$man_start_object <tool_group, "">
atom$mat_bool_detached <yes>
atom$mat_orientation <hff>
atom$mat_frame_style <4>
atom$man_start_object <trigger, “Do”>
atom$mat_bool_child_removable <yes> 
atom$mat_relative_tag <1>
atom$act_replace_select_action

atom$uni_start_stream
atom$async_error_box <”Action for the first button”>
atom$uni_end_stream

atom$man_end_object


America Online Confidential 3-34 © America Online, Inc. 1999




November 1999 FDO91 Manual


atom$mat_bool_children_movable
148 ($94)

atom$mat_bool_children_movable determines whether children objects 
are movable in the toolbar (or current object).

Syntax

atom$mat_bool_children_movable <boolean>

<boolean> Specifies whether children can be moved in the toolbar 
(or current object). Values are:

Yes The children can be moved in the current 
object (default).

No The children cannot be moved in the current 
object.

Object(s) Handled

The object handled by this atom is tool_group. 

Return Value

None.

Example

The following example makes the children objects (buttons) movable in 
the toolbar:

atom$man_start_object <ind_group, "">
atom$man_start_object <tool_group, "">
atom$mat_bool_children_movable <yes> 
atom$mat_orientation <hff>
atom$mat_frame_style <4>
atom$man_start_object <trigger, “Do”>
atom$mat_relative_tag <1>
atom$act_replace_select_action

atom$uni_start_stream
atom$async_error_box <”Action for the first button”>
atom$uni_end_stream

atom$man_end_object
atom$man_start_object <trigger, “Undo”>
atom$mat_relative_tag <2>
atom$act_replace_select_action


© America Online, Inc. 1999 3-35 America Online Confidential




Chapter 3: Attribute Manager (MAT) Protocol November 1999


atom$uni_start_stream
atom$async_error_box <”Action for the second button”>
atom$uni_end_stream

atom$man_end_object


America Online Confidential 3-36 © America Online, Inc. 1999




November 1999 FDO91 Manual


atom$mat_bool_children_removable
147 ($93)

atom$mat_bool_children_removable determines whether children 
objects are removable from the toolbar (or current object).

Syntax

atom$mat_bool_children_removable <boolean>

<boolean> Specifies whether children can be removed from the 
toolbar (or current object). Values are:

Yes The children can be removed from the current 
object (default).

No The children cannot be removed from the 
current object.

Object(s) Handled

The object handled by this atom is tool_group.

Return Value

None.

Example

The following example makes children objects (buttons) removable from 
the toolbar:

atom$uni_start_stream
atom$man_start_object <ind_group, "">
atom$man_start_object <tool_group, "">
atom$mat_bool_children_removable <yes> 
atom$mat_orientation <hff>
atom$mat_frame_style <4>
atom$man_start_object <trigger, “Do”>
atom$mat_relative_tag <1>
atom$act_replace_select_action

atom$uni_start_stream
atom$async_error_box <”Action for the first button”>
atom$uni_end_stream

atom$man_end_object


© America Online, Inc. 1999 3-37 America Online Confidential




Chapter 3: Attribute Manager (MAT) Protocol November 1999


atom$mat_bool_contiguous
41 ($29) 

atom$mat_bool_contiguous forces all items in a dynamic multiselect list 
(dms_list) to be contiguous. When a member selects (for example, 
highlights) the second and fourth items in a list, the third item becomes 
highlighted as well.

Syntax

atom$mat_bool_contiguous <boolean>

<boolean> Specifies whether the contiguous feature for list items 
that are multiselectable is in use. Values are:

Yes The contiguous feature for list items is in use.

No The contiguous feature for list items is not in 
use (default).

Object(s) Handled

The object handled by this atom is dms_list.

Return Value

None.

Example

The following example makes the items in a dynamic, multiselect list 
contiguous:

atom$man_start_object <dms_list>
atom$mat_bool_contiguous <yes> 


America Online Confidential 3-38 © America Online, Inc. 1999




November 1999 FDO91 Manual


atom$mat_bool_customizable
143 ($8F)

atom$mat_bool_customizable determines whether the toolbar or parent 
window (current object) and its children objects can be moved and 
modified. 

Syntax

atom$mat_bool_customizable <boolean>

<boolean> Specifies whether the current object (toolbar or parent 
window) and its children objects can be moved and 
modified. Values are:

Yes The object and children can be moved and 
modified (default).

No The object and children cannot be modified.

Object(s) Handled

The object handled by this atom is tool_group.

Return Value

None.

Example

The following example establishes the toolbar and its children as 
customizable so they can be moved and modified:

atom$uni_start_stream
atom$man_start_object <ind_group, "">
atom$man_start_object <tool_group, "">
atom$mat_bool_customizable <yes> 
atom$mat_orientation <hff>
atom$mat_frame_style <4>
atom$man_start_object <trigger, “Do”>
atom$mat_relative_tag <1>
atom$act_replace_select_action

atom$uni_start_stream
atom$async_error_box <”Action for the first button”>
atom$uni_end_stream

atom$man_end_object


© America Online, Inc. 1999 3-39 America Online Confidential




Chapter 3: Attribute Manager (MAT) Protocol November 1999


atom$mat_bool_default
2 ($02) 

atom$mat_bool_default defines a button or icon (trigger objects only) on 
a form as the default action. The default button is the one whose action is 
executed when a member presses ENTER. Only one trigger can be specified 
for any independent group (ind_group) object.

Syntax

atom$mat_bool_default <boolean>

<boolean> Specifies whether the object is the default. Values are:

Yes The object is the default.

No The object is not the default (default).

Object(s) Handled

The object handled by this atom is trigger.

Return Value

None.

Example

The following example defines a default button:

atom$man_start_object <trigger>
atom$mat_bool_default <yes> 


America Online Confidential 3-40 © America Online, Inc. 1999




November 1999 FDO91 Manual


atom$mat_bool_default_send
43 ($2B) 

atom$mat_bool_default_send sends an item on a window to the host 
server that, otherwise, is not sent or blocks the transmission mode of an 
item to the host. Also, this atom can override the behavior of 
atom$de_ez_send_form, which sends data from any children of the 
current object to the host. 

Syntax

atom$mat_bool_default_send <boolean>

<boolean> Specifies whether the object on the window is sent to 
the host when the trigger object sending the 
window's data is selected by a member. Values are:

Yes The object on the window is sent to the host. 
This is the default value when the current 
object is dms_list or edit_view.

No The object on the window is not sent to the 
host. This is the default value when the 
current object is dss_list.

Object(s) Handled

The objects handled by this atom are dms_list, dss_list, and 
edit_view.

Return Value

None.

Example

The following example overrides the default behavior of the 
atom$de_ez_send_form atom:

atom$man_start_object <dss_list>
atom$mat_bool_default_send <no> 


© America Online, Inc. 1999 3-41 America Online Confidential




Chapter 3: Attribute Manager (MAT) Protocol November 1999


Note: The atom stream that defines a window's object always precedes the 
atom stream containing the atom$de_ez_send_form command, which 
sends the form's data.


America Online Confidential 3-42 © America Online, Inc. 1999




November 1999 FDO91 Manual


atom$mat_bool_detachable
144 ($90)

atom$mat_bool_detachable determines whether the toolbar or current 
object is detachable from the parent window.

Syntax

atom$mat_bool_detachable <boolean>

<boolean> Specifies whether the toolbar or current object is 
detachable from the parent window. Values are:

Yes The object is detachable from the parent 
(default).

No The object is not detachable from the parent.

Object(s) Handled

The object handled by this atom is tool_group.

Return Value

None.

Example

The following example makes a toolbar detachable from the parent 
window:

atom$uni_start_stream
atom$man_start_object <ind_group, "">
atom$man_start_object <tool_group, "">
atom$mat_bool_detachable <yes> 
atom$mat_orientation <hff>
atom$mat_frame_style <4>
atom$man_start_object <trigger, “Do”>
atom$mat_relative_tag <1>
atom$act_replace_select_action

atom$uni_start_stream
atom$async_error_box <”Action for the first button”>
atom$uni_end_stream

atom$man_end_object
atom$man_start_object <trigger, “Undo”>
atom$mat_relative_tag <2>
atom$act_replace_select_action


© America Online, Inc. 1999 3-43 America Online Confidential




Chapter 3: Attribute Manager (MAT) Protocol November 1999


atom$uni_start_stream
atom$async_error_box <”Action for the second button”>
atom$uni_end_stream

atom$man_end_object
atom$man_end_object


America Online Confidential 3-44 © America Online, Inc. 1999




November 1999 FDO91 Manual


atom$mat_bool_detached
142 ($8E)

atom$mat_bool_detached detaches the toolbar or current object from the 
parent window.

Syntax

atom$mat_bool_detached <boolean>

<boolean> Specifies whether the toolbar or current object is 
detached from the parent window. Values are:

Yes The object is detached from the parent. 

No The object is not detached from the parent 
(default).

Object(s) Handled

The object handled by this atom is tool_group.

Return Value

None.

Example

The following example detaches a toolbar from the parent window:

atom$uni_start_stream
atom$man_start_object <ind_group, "">
atom$man_start_object <tool_group, "">
atom$mat_bool_detached <yes> 
atom$mat_orientation <hff>
atom$mat_frame_style <4>
atom$man_start_object <trigger, “Do”>
atom$mat_relative_tag <1>
atom$act_replace_select_action

atom$uni_start_stream
atom$async_error_box <”Action for the first button”>
atom$uni_end_stream

atom$man_end_object
atom$man_start_object <trigger, “Undo”>
atom$mat_relative_tag <2>
atom$act_replace_select_action

atom$uni_start_stream


© America Online, Inc. 1999 3-45 America Online Confidential




Chapter 3: Attribute Manager (MAT) Protocol November 1999


atom$async_error_box <”Action for the second button”>
atom$uni_end_stream

atom$man_end_object
atom$man_end_object


America Online Confidential 3-46 © America Online, Inc. 1999




November 1999 FDO91 Manual


atom$mat_bool_disabled
1 ($01) 

atom$mat_bool_disabled specifies an object as nonselectable on a form 
and makes the object appear dim or unhighlighted. This atom is commonly 
used on a trigger object.

An example of the use of this command is the Send button on the Compose 
Mail window. When the member is offline, that button is disabled because 
mail can be composed offline but not sent. Once the member logs on to the 
online service, that button is no longer disabled.

Syntax

atom$mat_bool_disabled <boolean>

<boolean> Specifies whether the object on the window is 
selectable. Values are:

Yes The object on the window is not selectable. 
This is the default value when the current 
object is dms_list, dss_list, or edit_view.

No The object on the window is selectable. This 
is the default value when the current object is 
org_group, ind_group, sms_list, 
sss_list, trigger, ornament, view, 
range, or select_range.

Object(s) Handled

All objects are handled by this atom.

Return Value

None.

Example

The following example inhibits the action of object number 4 in the form: 

atom$man_start_object <trigger>
atom$mat_relative_tag <4>
.



© America Online, Inc. 1999 3-47 America Online Confidential




Chapter 3: Attribute Manager (MAT) Protocol November 1999


.

.
atom$man_set_context_globalid <32-123>
atom$man_set_context_relative <4>
atom$mat_bool_disabled <yes> 


America Online Confidential 3-48 © America Online, Inc. 1999




November 1999 FDO91 Manual


atom$mat_bool_dock_horizontal
145 ($91)

atom$mat_bool_dock_horizontal determines whether the toolbar or 
current object can be attached to the top and bottom edges of the parent 
window.

Syntax

atom$mat_bool_dock_horizontal <boolean>

<boolean> Specifies whether the toolbar or current object can be 
attached to the top and bottom edges of the parent 
window. Values are:

Yes The object can be attached to the top and 
bottom edges of the parent window (default).

No The object cannot be attached to the top and 
bottom edges of the parent window.

Object(s) Handled

The object handled by this atom is tool_group.

Return Value

None.

Example

The following example makes the toolbar attachable to the top and bottom 
edges of the parent window:

atom$uni_start_stream
atom$man_start_object <ind_group, "">
atom$man_start_object <tool_group, "">
atom$mat_bool_dock_horizontal <yes> 
atom$mat_orientation <hff>
atom$mat_frame_style <4>
atom$man_start_object <trigger, “Do”>
atom$mat_relative_tag <1>
atom$act_replace_select_action

atom$uni_start_stream
atom$async_error_box <”Action for the first button”>
atom$uni_end_stream


© America Online, Inc. 1999 3-49 America Online Confidential




Chapter 3: Attribute Manager (MAT) Protocol November 1999


atom$man_end_object
atom$man_start_object <trigger, “Undo”>
atom$mat_relative_tag <2>
atom$act_replace_select_action

atom$uni_start_stream
atom$async_error_box <”Action for the second button”>
atom$uni_end_stream

atom$man_end_object
atom$man_end_object


America Online Confidential 3-50 © America Online, Inc. 1999




November 1999 FDO91 Manual


atom$mat_bool_dock_vertical
146 ($92)

atom$mat_bool_dock_vertical determines whether the toolbar or current 
object can be attached to the left and right edges of the parent window.

Syntax

atom$mat_bool_dock_vertical <boolean>

<boolean> Specifies whether the toolbar or current object can be 
attached to the left and right edges of the parent 
window. Values are:

Yes The object can be attached to the left and right 
edges of the parent window (default).

No The object cannot be attached to the left and 
right edges of the parent window.

Object(s) Handled

The object handled by this atom is tool_group.

Return Value

None.

Example

The following example makes the toolbar attachable to the left and right 
edges of the parent window:

atom$uni_start_stream
atom$man_start_object <ind_group, "">
atom$man_start_object <tool_group, "">
atom$mat_bool_dock_vertical <yes> 
atom$mat_orientation <hff>
atom$mat_frame_style <4>
atom$man_start_object <trigger, “Do”>
atom$mat_relative_tag <1>
atom$act_replace_select_action

atom$uni_start_stream
atom$async_error_box <”Action for the first button”>
atom$uni_end_stream

atom$man_end_object


© America Online, Inc. 1999 3-51 America Online Confidential




Chapter 3: Attribute Manager (MAT) Protocol November 1999


atom$man_start_object <trigger, “Undo”>
atom$mat_relative_tag <2>
atom$act_replace_select_action

atom$uni_start_stream
atom$async_error_box <”Action for the second button”>
atom$uni_end_stream

atom$man_end_object
atom$man_end_object


America Online Confidential 3-52 © America Online, Inc. 1999




November 1999 FDO91 Manual


atom$mat_bool_double_space
44 ($2C) 

atom$mat_bool_double_space selects double-spacing for text view 
objects. The double-spacing feature is used in the chat area of the online 
service. It is available as a member preference in the chat rooms.When 
"Double-space incoming messages" is selected on the Chat Preferences 
menu, the data in the text view object displaying member chat conversation 
appears in double-spaced format.

Syntax

atom$mat_bool_double_space <boolean>

<boolean> Specifies whether double-spacing is selected for the 
text view. Values are:

Yes Double-spacing is selected.

No Double-spacing is not selected (default).

Object(s) Handled

The objects handled by this atom are view and edit_view.

Return Value

None.

Example

The following example selects double-spacing for a view object:

atom$man_start_object <view>
atom$mat_bool_double_space <yes> 


© America Online, Inc. 1999 3-53 America Online Confidential




Chapter 3: Attribute Manager (MAT) Protocol November 1999


atom$mat_bool_draw_focus
165 ($A5)

atom$mat_bool_draw_focus draws a focus rectangle (when the button is 
in focus) on the current button (trigger) object. Normally, focus 
rectangles for trigger styles 3, 6, 8, and 9 are not drawn on the button for 
aesthetic reasons. 

Syntax

atom$mat_bool_draw_focus <boolean>

<boolean> Specifies whether a focus rectangle is drawn on the 
trigger object. Values are:

Yes The focus rectangle is drawn on the button.

No The focus rectangle is not drawn on the 
button (default).

Object(s) Handled

The object handled by this atom is trigger.

Return Value

None.

Example

The following example draws a focus rectangle around a pictured button:

atom$man_start_sibling <trigger, "">
atom$mat_precise_x <10>
atom$mat_precise_y <75>
atom$mat_precise_width <174>
atom$mat_precise_height <50>
atom$mat_trigger_style <plain_picture>
atom$mat_art_id <1-0-30871>
atom$mat_bool_draw_focus <yes> 


America Online Confidential 3-54 © America Online, Inc. 1999




November 1999 FDO91 Manual


atom$mat_bool_drop_at_top
114 ($72) 

atom$mat_bool_drop_at_top determines whether mail dragged from the 
current object is dropped at the top of the Favorite Places list of the 
Personal Filing Cabinet (PFC) of the online service. The PFC is used to 
organize and maintain objects such as mail documents, download files, and 
Favorite Places (bookmarks).

Syntax

atom$mat_bool_drop_at_top <boolean>

<boolean> Specifies whether mail is dropped at the top of the 
Favorite Places list. Values are:

Yes Mail is dropped at the top of the list.

No Mail is not dropped at the top of the list 
(default).

Object(s) Handled

The object handled by this atom is ind_group.

Return Value

None.

Example

The following example specifies that mail be dropped at the top of the list:

atom$man_start_object <ind_group>
atom$mat_bool_drop_at_top <yes> 
atom$man_end_object


© America Online, Inc. 1999 3-55 America Online Confidential




Chapter 3: Attribute Manager (MAT) Protocol November 1999


atom$mat_bool_dropdown_button
160 ($A0)

atom$mat_bool_dropdown_button gives a button (trigger) the attribute 
of triggering a drop-down listbox.  Use 
atom$mat_bool_dropdown_button when defining the function of the 
toolbar buttons.

Syntax

atom$mat_bool_dropdown_button <boolean>

<boolean> Specifies whether the current object is a standard menu 
or a popup menu triggered from a drop-down button. 
Values are:

Yes The object is a popup menu triggered from a 
drop-down button.

No The object is not a popup menu triggered 
from a drop-down button (default).

Object(s) Handled

The object handled by this atom is trigger.

Return Value

None.

Example

The following example defines the menu object as a drop-down menu that 
is triggered from the button:

atom$man_start_object <trigger, “DropDown Button”>
atom$mat_bool_dropdown_button> <yes> 
atom$act_replace_select_action 
atom$uni_start_stream
atom$man_set_context_relative <10>
atom$man_display_popup_menu
atom$man_end_context
atom$uni_end_stream


America Online Confidential 3-56 © America Online, Inc. 1999




November 1999 FDO91 Manual


atom$mat_bool_encode_unicode
134 ($86) 

atom$mat_bool_encode_unicode is described in Appendix B, 
"Internationalization (i18n) Atoms."


© America Online, Inc. 1999 3-57 America Online Confidential




Chapter 3: Attribute Manager (MAT) Protocol November 1999


atom$mat_bool_expand_to_fit
110 ($6E) 

atom$mat_bool_expand_to_fit expands an object's minor axis to make it 
fit into a specific area of a form.

Syntax

atom$mat_bool_expand_to_fit <boolean>

<boolean> Specifies whether to expand an object’s minor axis. 
Values are:

Yes Expand the object.

No Do not expand the object (default).

Object(s) Handled

All objects are handled by this atom.

Return Value

None.

Example

The following example expands a view object to fit into a specific area of a 
form:

atom$man_start_object <org_group>
atom$man_start_object <view>
atom$mat_bool_expand_to_fit <yes> 
.
.
.
atom$man_end_object


America Online Confidential 3-58 © America Online, Inc. 1999




November 1999 FDO91 Manual


atom$mat_bool_exportable
37 ($25) 

atom$mat_bool_exportable makes the data extraction feature available 
that lets a member copy or cut data (using an Edit menu) from one text 
view object to another.

Syntax

atom$mat_bool_exportable <boolean>

<boolean> Specifies whether the cut or copy text feature between 
objects is available. Values are:

Yes The cut or copy text feature is available 
(default).

No The cut or copy text feature is not available.

Object(s) Handled

The objects handled by this atom are view and edit_view.

Return Value

None.

Example

The following example inhibits the cutting or copying of text in a view:

atom$man_start_object <view>
atom$mat_bool_exportable <no> 


© America Online, Inc. 1999 3-59 America Online Confidential




Chapter 3: Attribute Manager (MAT) Protocol November 1999


atom$mat_bool_first_script
106 ($6A) 

atom$mat_bool_first_script is described in Appendix B, 
"Internationalization (i18n) Atoms."


America Online Confidential 3-60 © America Online, Inc. 1999




November 1999 FDO91 Manual


atom$mat_bool_force_scroll
33 ($21) 

atom$mat_bool_force_scroll selects automatic scrolling as data is added 
to the text view object. The automatic scrolling feature is used in the chat 
rooms of the online service. It is used in the text view object where member 
chat conversation appears. As members chat back and forth, the data 
automatically scrolls upward. If force scroll is not on, the member must 
manually scroll down the text view by clicking the down arrow on the 
scroll bar.

Syntax

atom$mat_bool_force_scroll <boolean>

<boolean> Specifies whether automatic scrolling is selected. 
Values are:

Yes Automatic scrolling is selected.

No Automatic scrolling is not selected (default).

Object(s) Handled

The objects handled by this atom are dms_list, dss_list, view, and 
edit_view.

Return Value

None.

Example

The following example selects automatic scrolling for a view:

atom$man_start_object <view>
atom$mat_bool_force_scroll <yes> 


© America Online, Inc. 1999 3-61 America Online Confidential




Chapter 3: Attribute Manager (MAT) Protocol November 1999


atom$mat_bool_gradual_shadow
86 ($56)

atom$mat_bool_gradual_shadow creates a shadowing effect for the 
current trigger object that blends in with its background. This atom 
works only with video modes that are running at least 65,000 colors. This 
atom has no effect if the trigger style type is set to trigger_style_framed 
or trigger_style_plain_pict. 

Syntax

atom$mat_bool_gradual_shadow <boolean>

<boolean> Specifies whether gradual shadowing is selected. 
Values are:

Yes Gradual shadowing is selected.

No Gradual shadowing is not selected (default).

Object(s) Handled

The object handled by this atom is trigger.

Return Value

None.

Example

The following example selects gradual shadowing for an object:

atom$man_start_object <trigger>
atom$mat_relative_tag <1>
atom$mat_trigger_style <2>
atom$mat_art_id <1-0-2199>
atom$mat_precise_x <370>
atom$mat_precise_y <10>
atom$mat_bool_gradual_shadow <yes> 
atom$man_end_object


America Online Confidential 3-62 © America Online, Inc. 1999




November 1999 FDO91 Manual


atom$mat_bool_graphic_view
27 ($1B)

atom$mat_bool_graphic_view defines the current object as a graphic 
view.

Syntax

atom$mat_bool_graphic_view <boolean>

<boolean> Specifies whether the object is a graphic view. Values 
are:

Yes The object is a graphic view.

No The object is not a graphic view (default).

Object(s) Handled

The objects handled by this atom are view and edit_view.

Return Value

None.

Example

The following example defines a view as a graphic display:

atom$man_start_object <view>
atom$mat_bool_graphic_view <yes> 


© America Online, Inc. 1999 3-63 America Online Confidential




Chapter 3: Attribute Manager (MAT) Protocol November 1999


atom$mat_bool_hidden
7 ($07) 

atom$mat_bool_hidden hides an object on a window and reserves the 
space where that object would have appeared. When an object is hidden, a 
blank space appears instead of the object. 

For example, five buttons exist on a form as part of a horizontal group and 
are centered. If the middle button is hidden, the remaining four buttons 
remain in their positions as if the middle button were still there. A gap of 
blank space appears in the location of the hidden button. 

See atom$mat_bool_invisible on page 3-72 for similar functionality.

Syntax

atom$mat_bool_hidden <boolean>

<boolean> Specifies whether the object is hidden. Values are:

Yes The object is hidden.

No The object is not hidden (default).

Object(s) Handled

The objects handled by this atom are org_group, dms_list, dss_list, 
trigger, ornament, view, edit_view, range, and select_range.

Return Value

None.

Example

The following example hides an object on a window: 

atom$man_start_object <trigger>
atom$mat_relative_tag <2>
atom$mat_title <"List Responses">
atom$mat_bool_hidden <yes> 


America Online Confidential 3-64 © America Online, Inc. 1999




November 1999 FDO91 Manual


atom$mat_bool_hide_url
171 ($AB)

atom$mat_bool_hide_url hides an URL from the history list, and it 
cannot be seen or edited in favorite places.

Syntax

atom$mat_bool_hide_url <boolean>

<boolean> Specifies whether the object is hidden. Values are:

Yes The URL does not show in the history list and 
cannot be seen or edited in favorite places.

No The URL shows in the history list and can be 
seen or edited in favorite places (default).

Object(s) Handled

The object handled by this atom is ind_group.

Return Value

Unchanged.

Example

The following example hides the URL from the history list, and it cannot 
be seen or edited in favorite places:

atom$man_start_object
atom$mat_bool_hide_url <yes>
atom$man_end_object


© America Online, Inc. 1999 3-65 America Online Confidential




Chapter 3: Attribute Manager (MAT) Protocol November 1999


atom$mat_bool_horizontal_scroll
32 ($20) 

atom$mat_bool_horizontal_scroll selects a horizontal scroll bar when a 
view object is displayed on a form.

This feature is used when a .gif (GIF) file, displayed using the online 
service GIF viewer, is wider than the space available to display it.

Syntax

atom$mat_bool_horizontal_scroll <boolean>

<boolean> Specifies whether the horizontal scroll bar is selected. 
Values are:

Yes The horizontal scroll bar is selected.

No The horizontal scroll bar is not selected 
(default).

Object(s) Handled

The objects handled by this atom are view and edit_view.

Return Value

None.

Example

The following example selects a horizontal scroll bar for the view object:

atom$man_start_object <edit_view>
atom$mat_bool_graphic_view <yes>
atom$mat_bool_horizontal_scroll <yes> 


America Online Confidential 3-66 © America Online, Inc. 1999




November 1999 FDO91 Manual


atom$mat_bool_ignore_url
175 ($AF)

atom$mat_bool_ignore_url ignores an URL; no favorite places heart 
appears on the form, which allows a form to appear in the history but not be 
a favorite place. The atom was created to handle the "Welcome" screen for 
Casablanca.

Syntax

atom$mat_bool_ignore_url <boolean>

<boolean> Specifies whether the URL is ignored. Values are:

Yes The URL is ignored.

No The URL is not ignored (default).

Object(s) Handled

The object handled by this atom is ind_group.

Return Value

None.

Example

The following example ignores the URL:

atom$man_start_object
atom$mat_bool_ignore_url <yes>
atom$man_end_object


© America Online, Inc. 1999 3-67 America Online Confidential




Chapter 3: Attribute Manager (MAT) Protocol November 1999


atom$mat_bool_ignore_url_list
162 ($A2)

atom$mat_bool_ignore_url_list determines that this window object is not 
an item for any uniform resource locater (URL) history list or most 
recently used URL list. If the window is not eligible for Favorite Places (by 
default), its URL is not an URL list item.

Syntax

atom$mat_bool_ignore_url_list <boolean>

<boolean> Specifies whether the window object is an item for the 
URL list. Values are:

Yes The window is not an URL list item.

No The window is an URL list item (default).

Object(s) Handled

The object handled by this atom is ind_group.

Return Value

None.

Example

The following example defines the window object (Shadow Game) as not 
an URL history list item:

atom$man_start_object <ind_group, "Shadow Game">
atom$mat_bool_ignore_url_list <yes>
atom$man_preset_url <”aol://1722:amer”>


America Online Confidential 3-68 © America Online, Inc. 1999




November 1999 FDO91 Manual


atom$mat_bool_importable
38 ($26) 

atom$mat_bool_importable makes the data extraction feature available 
that lets a member paste data (using an Edit menu) into the current text 
view object.

Syntax

atom$mat_bool_importable <boolean>

<boolean> Specifies whether the paste feature is available for the 
current view. Values are:

Yes The paste feature is available (default).

No The paste feature is not available.

Object(s) Handled

The objects handled by this atom are view and edit_view.

Return Value

None.

Example

The following example makes the paste feature available for editing in a 
view object:

atom$man_start_object <view>
atom$mat_bool_importable <yes> 


© America Online, Inc. 1999 3-69 America Online Confidential




Chapter 3: Attribute Manager (MAT) Protocol November 1999


atom$mat_bool_inactive_for_guest
159 ($9F)

atom$mat_bool_inactive_for_guest determines whether the current 
object is disabled when the member is a guest.

Syntax

atom$mat_bool_inactive_for_guest <boolean>

<boolean> Specifies whether the current object is disabled when 
the member is a guest. Values are:

Yes This object is disabled when the member is a 
guest.

No This object is not disabled when the member 
is a guest (default).

Object(s) Handled

The object handled by this atom is trigger.

Return Value

None.

Example

The following example makes the current trigger object (AOL icon) 
inactive when the member is a guest:

atom$mat_object_type <trigger, “”>
atom$mat_trigger_style <plain_picture>
atom$mat_relative_tag <61>
atom$mat_bool_palette_art <yes>
atom$mat_horizontal_spacing <1>
atom$mat_vertical_spacing <0>
atom$mat_bool_inactive_for_guest <yes> 
atom$mat_bool_child_movable <no>
atom$mat_context_help <”Go to the AOL home page.”>


America Online Confidential 3-70 © America Online, Inc. 1999




November 1999 FDO91 Manual


atom$mat_bool_invert
63 ($3F) 

atom$mat_bool_invert reverses the colors of artwork when it is 
displayed.

Syntax

atom$mat_bool_invert <boolean>

<boolean> Specifies whether the art colors are reversed. Values 
are:

Yes The art colors are reversed.

No The art colors are not reversed (default).

Object(s) Handled

The objects handled by this atom are trigger and ornament.

Return Value

None.

Example

The following example reverses the colors of a piece of art for display:

atom$man_start_object <ornament>
atom$mat_art_id <1-0-1234>
atom$mat_bool_invert <yes> 
.
.
.
atom$man_update_display


© America Online, Inc. 1999 3-71 America Online Confidential




Chapter 3: Attribute Manager (MAT) Protocol November 1999


atom$mat_bool_invisible
6 ($06) 

atom$mat_bool_invisible hides an object on a window and removes the 
space where that object would have appeared in the window. When an 
object is defined invisible, other objects on the window are rearranged for 
proper alignment. 

For example, five buttons exist on a window as part of a horizontal group 
and are centered. If the middle button is made invisible, the remaining four 
buttons are realigned as if the middle button never existed. This feature 
prevents a gap of blank space from appearing where the invisible button 
used to be. 

See atom$mat_bool_hidden on page 3-64 for similar functionality.

Syntax

atom$mat_bool_invisible <boolean>

<boolean> Specifies whether an object is invisible. Values are:

Yes The object is invisible.

No The object is not invisible (default).

Object(s) Handled

The objects handled by this atom are dms_list, dss_list, trigger, 
ornament, view, edit_view, range, and select_range.

Return Value

None.

Example

The following example defines object number 3 as invisible in a window:

atom$man_start_object <trigger>
atom$mat_relative_tag <3>
atom$mat_title <"List Responses">
atom$mat_bool_invisible <yes> 


America Online Confidential 3-72 © America Online, Inc. 1999




November 1999 FDO91 Manual


atom$mat_bool_language_popup
117 ($75) 

atom$mat_bool_language_popup is described in Appendix B, 
"Internationalization (i18n) Atoms."


© America Online, Inc. 1999 3-73 America Online Confidential




Chapter 3: Attribute Manager (MAT) Protocol November 1999


atom$mat_bool_list_allow_entry
108 ($6C) 

atom$mat_bool_list_allow_entry defines whether a dss_list object is 
an editable popup list or a standard popup list. It is used in conjunction with 
atom$mat_height on page 3-126. 

Syntax

atom$mat_bool_list_allow_entry <boolean>

<boolean> Specifies whether the dss_list object is an editable 
popup list. Values are:

Yes The object is an editable popup list.

No The object is a standard (noneditable) popup 
list (default).

Object(s) Handled

The object handled by this atom is dss_list.

Return Value

None.

Example 

The following example defines the current dss_list object as a standard 
popup list:

atom$man_start_object <dss_list>
atom$mat_height <1>
atom$mat_bool_list_allow_entry <no> 

Example 2

The following example defines the current dss_list object as an editable 
popup list:

atom$man_start_object <dss_list>
atom$mat_height <1>
atom$mat_bool_list_allow_entry <yes> 


America Online Confidential 3-74 © America Online, Inc. 1999




November 1999 FDO91 Manual


atom$mat_bool_list_icons
26 ($1A) 

atom$mat_bool_list_icons leaves space for mini-icons, such as the search 
icon that looks like an open book, next to list box items. 

This atom is used when the list box is created. Then, as each list box item is 
created, atom$mat_art_id on page 3-22 is used to specify the art ID for the 
mini-icon you select. 

Syntax

atom$mat_bool_list_icons <boolean>

<boolean> Specifies whether a space is provided for mini-icons in 
a list box. Values are:

Yes Mini-icon space is provided (default).

No Mini-icon space is not provided.

Object(s) Handled

The objects handled by this atom are dms_list and dss_list.

Return Value

None.

Example

The following example puts mini-icons in the list box items:

atom$man_start_object <dss_list>
atom$mat_bool_list_icons <yes> 
atom$man_start_object <trigger>
atom$mat_title <"About the Library">
atom$mat_art_id <0-1-1234>
atom$man_end_object
atom$man_start_object <trigger>
atom$mat_title <"Files to Download">
atom$mat_art_id <0-1-1235>
atom$man_end_object
atom$man_start_object <trigger>
atom$mat_title <"Search the Library">
atom$mat_art_id <0-1-1236>
atom$man_end_object


© America Online, Inc. 1999 3-75 America Online Confidential




Chapter 3: Attribute Manager (MAT) Protocol November 1999


atom$mat_bool_menu
42 ($2A) 

atom$mat_bool_menu places the object being created on the main menu 
bar of the online service. Once an object is placed on the main menu bar, it 
cannot be removed. 

Syntax

atom$mat_bool_menu [<yes>]

[<yes>] Specifies that the object being created is added to 
the main menu bar. The only optional value is yes.

Return Value

None.

Object(s) Handled

The object handled by this atom is ind_group.

Example

The following example places an object on the main menu bar of the online 
service:

atom$man_start_object <dss_list>
atom$mat_title <"Extras">
atom$mat_bool_menu <yes> 
atom$man_start_object <trigger>
atom$mat_title <"Show Tools">
atom$man_end_object
atom$man_start_object <trigger>
atom$mat_title <"Fit Image to View">
atom$man_end_object


America Online Confidential 3-76 © America Online, Inc. 1999




November 1999 FDO91 Manual


atom$mat_bool_modal
5 ($05) 

atom$mat_bool_modal forces a window to be a modal window. A modal 
window requires interaction from a member (for example, selecting a 
button) before the member can interact with any other window in the 
application.

Syntax

atom$mat_bool_modal <boolean>

<boolean> Specifies whether the window is modal. Values are:

Yes The window is modal.

No The window is not modal (default).

Object(s) Handled

The object handled by this atom is ind_group.

Return Value

None.

Example

The following example defines the window as modal:

atom$mat_start_object <ind_group>
atom$mat_bool_modal <yes> 


© America Online, Inc. 1999 3-77 America Online Confidential




Chapter 3: Attribute Manager (MAT) Protocol November 1999


atom$mat_bool_modified
75 ($4B)

atom$mat_bool_modified notifies the Display Manager whether the 
content of an edit_view has changed.

Syntax

atom$mat_bool_modified <boolean>

<boolean> Specifies whether the content of a view has changed. 
Values are:

Yes The view content has changed.

No The view content has not changed (default).

Object(s) Handled

The object handled by this atom is edit_view.

Return Value

None.

Example

The following example notifies the Display Manager that the content of 
object 3 has not changed:

atom$mat_set_context_relative <3>
atom$mat_bool_modified <no> 


America Online Confidential 3-78 © America Online, Inc. 1999




November 1999 FDO91 Manual


atom$mat_bool_no_border
74 ($4A)

atom$mat_bool_no_border determines whether or not to remove the 
border from the current object.

Syntax

atom$mat_bool_no_border <boolean>

<boolean> Specifies whether the object has a border. Values are: 

Yes Remove the border from the current object. 
This value is the default if the current object 
is ornament.

No Do not remove the border from the current 
object. This value is the default if the current 
object is dms_list, dss_list, view, or 
edit_view.

Object(s) Handled

The objects handled by this atom are dms_list, dss_list, ornament, 
view, and edit_view.

Return Value

None.

Example

The following example removes a border from a view object:

atom$man_start_object <view>
atom$mat_bool_no_border <yes> 


© America Online, Inc. 1999 3-79 America Online Confidential




Chapter 3: Attribute Manager (MAT) Protocol November 1999


atom$mat_bool_non_closeable
36 ($24) 

atom$mat_bool_non_closeable prevents a window from being closed by 
a member. The window can be closed implicitly using atom$man_close.  

Syntax

atom$mat_bool_non_closeable <boolean>

<boolean> Specifies whether the window can be closed by a 
member. Values are: 

Yes The window cannot be closed.

No The window can be closed (default).

Object(s) Handled

The object handled by this atom is ind_group.

Return Value

None.

Example

The following example defines the window as noncloseable:

atom$mat_start_object <ind_group>
atom$mat_title <"Welcome!">
atom$mat_bool_non_closeable <yes> 


America Online Confidential 3-80 © America Online, Inc. 1999




November 1999 FDO91 Manual


atom$mat_bool_page_control
140 ($8C)

atom$mat_bool_page_control defines a tab_group object as a page 
control for a set of tabbed pages.

Syntax

atom$mat_bool_page_control <boolean>

<boolean> Specifies whether the tab_group object is a page 
control. Values are:

Yes The tab_group object is a page control.

No The tab_group object is not a page control 
(default).

Object(s) Handled

The objects handled by this atom are tab_group and tab_page.

Return Value

None.

Example

The following example defines the tab_group object as a page control of 
two tabbed pages:

atom$man_start_object <tab_group, “Tab Pages”>
atom$mat_bool_page_control> <yes> 
atom$mat_bool_writeable <no> 
atom$man_start_object <tab_page, “Tab 1”>
atom$mat_relative_tag <1>
atom$mat_bool_writeable <no> 
atom$mat_bool_background_flood <yes> 
atom$mat_color_face <234, 231, 210>
atom$mat_color_text <0, 0, 0>
atom$man_start_object <trigger, “Send”>
atom$mat_trigger_style <512>
atom$mat_art_id <1-0-4970>.
atom$man_end_object
atom$man_start_object <ornament, “”>
atom$mat_color_frame_shadow <194, 199, 24>


© America Online, Inc. 1999 3-81 America Online Confidential




Chapter 3: Attribute Manager (MAT) Protocol November 1999


.

.

.
atom$man_end_object
atom$man_end_object
atom$man_end_object
atom$man_start_object <tab_page, “Tab 2”>
atom$mat_orientation <vee>
atom$mat_relative_tag <3>
.
.
.
atom$uni_end_stream


America Online Confidential 3-82 © America Online, Inc. 1999




November 1999 FDO91 Manual


atom$mat_bool_palette
28 ($1C)

atom$mat_bool_palette creates a palette window. A palette window is a 
floating independent window that appears on top of all other online service 
windows and is movable in and out of the client window region. The 
background defaults to a system gray color. There are no control buttons in 
the title bar because it is a noncloseable window with no window size 
control. 

Syntax

atom$mat_bool_palette <boolean>

<boolean> Specifies whether the window is a palette window. 
Values are:

Yes The window is a palette window.

No The window is not a palette window (default).

Object(s) Handled

The object handled by this atom is ind_group.

Return Value

None.

Example

The following example defines a window as a palette window:

atom$man_start_object <ind_group>
atom$mat_bool_palette <yes> 


© America Online, Inc. 1999 3-83 America Online Confidential




Chapter 3: Attribute Manager (MAT) Protocol November 1999


atom$mat_bool_palette_art
119 ($77)

atom$mat_bool_palette_art defines the current object (button) as an 
object of a palette window, which forces the current object background 
color to the system gray default. 

Syntax

atom$mat_bool_palette_art <boolean>

<boolean> Specifies whether the current object is an object of a 
palette window. Values are:

Yes The object is a palette window object.

No This object is not a palette window object 
(default).

Object(s) Handled

The object handled by this atom is trigger.

Return Value

None.

Example

The following example defines the trigger object as a palette window 
object, which makes the trigger background gray:

atom$mat_object_type <trigger, “”>
atom$mat_trigger_style <plain_picture>
atom$mat_relative_tag <61>
atom$mat_bool_palette_art <yes> 
atom$mat_horizontal_spacing <1>
atom$mat_vertical_spacing <0>
atom$mat_bool_active_online <yes>
atom$mat_bool_child_movable <no>
atom$mat_context_help <”Go to the AOL home page.”>


America Online Confidential 3-84 © America Online, Inc. 1999




November 1999 FDO91 Manual


atom$mat_bool_permanent
1 ($47) 

atom$mat_bool_permanent defines an object as permanent so that it can 
never be deleted by an atom stream. This atom is used on the root object 
because the root of the object tree must always be present.

Syntax

atom$mat_bool_permanent <boolean>

<boolean> Specifies whether the object is permanent. Values are:

Yes The object is permanent.

No The object is not permanent (default).

Object(s) Handled

All objects are handled by this atom.

Return Value

None.

Example

The following example defines the root object as permanent:

atom$man_start_object <root>
atom$mat_bool_permanent <yes> 


© America Online, Inc. 1999 3-85 America Online Confidential




Chapter 3: Attribute Manager (MAT) Protocol November 1999


atom$mat_bool_popup_menu
161 ($A1)

atom$mat_bool_popup_menu defines a menu object as a popup menu.

Syntax

atom$mat_bool_popup_menu <boolean>

<boolean> Specifies whether the current object is a standard menu 
or a popup menu. Values are:

Yes The object is a popup menu.

No The object is not a popup menu (default). 

Object(s) Handled

The object handled by this atom is dss_list.

Return Value

None.

Example

The following example defines the menu object as a popup menu:

atom$man_start_object <dss_list, “”>
atom$mat_relative_tag <10> 
atom$mat_bool_popup_menu> <yes> 
atom$man_start_object <trigger, "Menu Item 1">
.
.
.
atom$man_end_object
atom$man_start_object <trigger, "Menu Item 2">
.
.
.
atom$man_end_object
atom$man_end_context


America Online Confidential 3-86 © America Online, Inc. 1999




November 1999 FDO91 Manual


atom$mat_bool_precise
77 ($4D)

atom$mat_bool_precise positions children of an independent or 
organizational group with precise coordinates. Use atom$mat_precise_x on 
page 3-151 and atom$mat_precise_y on page 3-153 to specify the precise 
pixel coordinates for each child.

Syntax

atom$mat_bool_precise <boolean>

<boolean> Specifies whether to position the current object’s 
children with precise coordinates. Values are:

Yes Position the children with precise coordinates.

No Do not position the children with precise 
coordinates (default). 

Object(s) Handled

The objects handled by this atom are org_group, ind_group, sms_list, 
and sss_list.

Return Value

None.

Example

The following example specifies precise coordinates for positioning 
objects:

atom$man_start_object <ind_group, "Roll Over Beethoven">
atom$mat_bool_background_pic <yes>
atom$mat_art_id <1-0-2196>
atom$mat_bool_precise <yes> 
atom$mat_precise_width <500>
atom$mat_precise_height <333>
atom$man_start_object <ornament, "MUSIC FORUMS">
atom$mat_orientation <hcc>
atom$mat_precise_x <9>
atom$mat_precise_y <10>
atom$mat_precise_width <204>
atom$mat_precise_height <18>


© America Online, Inc. 1999 3-87 America Online Confidential




Chapter 3: Attribute Manager (MAT) Protocol November 1999


.

.

.
atom$man_end_object
.
.  (The definition of more objects goes here...)
.
atom$man_end_object


America Online Confidential 3-88 © America Online, Inc. 1999




November 1999 FDO91 Manual


atom$mat_bool_protected_input
34 ($22) 

atom$mat_bool_protected_input protects and hides member input 
entries in a view for editable view fields.  

Syntax

atom$mat_bool_protected_input <boolean>

<boolean> Specifies whether the input to the editable view field is 
protected. Values are:

Yes The editable view field input is protected.

No The editable view field input is not protected 
(default).

Object(s) Handled

The object handled by this atom is edit_view.

Return Value

None.

Example

The following example protects information from being seen when it is 
entered in the view field by a member:

atom$man_start_object <edit_view>
atom$mat_bool_protected_input <yes> 


© America Online, Inc. 1999 3-89 America Online Confidential




Chapter 3: Attribute Manager (MAT) Protocol November 1999


atom$mat_bool_repeat_animation
100 ($64)

atom$mat_bool_repeat_animation repeats the animation sequence of the 
current object.

Syntax

atom$mat_bool_repeat_animation <boolean>

<boolean> Specifies whether the animation sequence is repeated. 
Values are:

Yes The animation sequence is repeated.

No The animation sequence is not repeated 
(default).

Object(s) Handled

The objects handled by this atom are org_group and ind_group.

Return Value

None.

Example

The following example repeats the animation sequence of the trigger 
object:

atom$man_start_object <trigger>
.
.
.
atom$mat_art_animation_rate <250>
atom$mat_art_animation_seq <1 5 0 1>
atom$mat_bool_repeat_animation <yes> 
.
.
.
atom$man_end_object


America Online Confidential 3-90 © America Online, Inc. 1999




November 1999 FDO91 Manual


atom$mat_bool_resize_horizontal
($04) 

atom$mat_bool_resize_horizontal determines whether an object can 
grow or shrink horizontally in a window when a member resizes the 
window.

Syntax

atom$mat_bool_resize_horizontal <boolean>

<boolean> Specifies whether an object can grow or shrink 
horizontally when the window it is on is resized. Values 
are:

Yes The object can grow or shrink horizontally. 
This value is the default if the current object 
is ind_group, dms_list, dss_list, view, or 
edit_view.

No The object cannot grow or shrink 
horizontally. This value is the default if the 
current object is org_group, sms_list, 
sss_list, trigger, ornament, range, or 
select_range.

Object(s) Handled

All objects are handled by this atom.

Return Value

None.

Example

The following example inhibits horizontal resizing of an object whenever 
the window is resized by a member:

atom$man_start_object <edit_view>
atom$mat_bool_resize_horizontal <no> 


© America Online, Inc. 1999 3-91 America Online Confidential




Chapter 3: Attribute Manager (MAT) Protocol November 1999


atom$mat_bool_resize_vertical
3 ($03) 

atom$mat_bool_resize_vertical determines whether an object on a 
window can grow or shrink vertically when a member resizes the window.

Syntax

atom$mat_bool_resize_vertical <boolean>

<boolean> Specifies whether an object can grow or shrink 
vertically when the window it is on is resized. Values 
are:

Yes The object can grow or shrink vertically. This 
value is the default if the current object is 
ind_group, dms_list, dss_list, view, or 
edit_view.

No The object cannot grow or shrink vertically. 
This value is the default if the current object 
is org_group, sms_list, sss_list, 
trigger, ornament, range, or 
select_range.

Object(s) Handled

All objects are handled by this atom.

Return Value

None.

Example

The following example inhibits vertical resizing of an object when the 
window is resized by a member:

atom$man_start_object <edit_view>
atom$mat_bool_resize_vertical <no> 


America Online Confidential 3-92 © America Online, Inc. 1999




November 1999 FDO91 Manual


atom$mat_bool_savabletopfc
176 ($B0)

atom$mat_bool_savabletopfc determines whether the Save To PFC menu 
option is enabled when the form containing this atom is the top form. It is 
used as a parameter of atom$man_get_attribute. 

Syntax

atom$man_get_attribute atom$mat_bool_savabletopfc

Object(s) Handled

The object handled by this atom is ind_group.

Return Value

Unchanged.

Example

The following example tells the display manager that the Save To PFC 
menu option is enabled when the form containing this atom is the top form:

atom$man_set_context_globalid <41-6139>
atom$man_get_attribute atom$mat_bool_savabletopfc
atom$if_last_return_true_then <1,2>


© America Online, Inc. 1999 3-93 America Online Confidential




Chapter 3: Attribute Manager (MAT) Protocol November 1999


atom$mat_bool_signoff_menu
173 ($AD)

atom$mat_bool_signoff_menu sets the boolean flag to identify the menu 
entry that contains the signoff menu text. Only a menu with this option 
flagged has its menu text changed to the string specified after the switch /O 
"new_text". This atom is needed to satisfy a requirement from Product 
Marketing, and it changes the Sign Off menu from just "Sign Off" to "Sign 
Off of AOL" or anything else Product Marketing wants to say.

Syntax

atom$mat_bool_signoff_menu <boolean>

<boolean> Identifies the menu entry that contains the signoff 
menu text. Values are:

Yes It is a signoff menu.

No It is not a signoff menu (default).

Object(s) Handled

The object handled by this atom is trigger.

Return Value

Unchanged.

Example

The following example changes the Sign Off menu from just "Sign Off" to 
Product Marketing wants it to say:

atom$man_start_object
atom$mat_bool_signoff_menu <yes>
atom$man_end_object


America Online Confidential 3-94 © America Online, Inc. 1999




November 1999 FDO91 Manual


atom$mat_bool_spinner
141 ($8D)

atom$mat_bool_spinner identifies the current animated art object as a 
spinner, for example, the spinning AOL icon in the AOL 5.0 client.

Syntax

atom$mat_bool_spinner <boolean>

<boolean> Identifies the current animated art object as a spinner. 
Values are:

Yes It is a spinner.

No It is not a spinner (default).

Object(s) Handled

The object handled by this atom is tab_group.

Return Value

None.

Example 

The following example identifies the animated art object as a spinner:

atom$man_start_object <trigger>
atom$mat_relative_tag <1>
atom$mat_art_id <1-0-2201>
atom$mat_art_animation_rate <250>
atom$mat_bool_spinner <1> 
.
.
.
atom$man_end_object


© America Online, Inc. 1999 3-95 America Online Confidential




Chapter 3: Attribute Manager (MAT) Protocol November 1999


atom$mat_bool_static_url
177 ($B1)

atom$mat_bool_static_url lets you change the URL on hybrid forms if 
there is no current URL. 

Syntax

atom$mat_bool_static_url <boolean>

<boolean> Specifies whether the URL remains as set. Values are:

Yes It is a static URL.

No It is not a static URL (default).

Object(s) Handled

The object handled by this atom is ind_group.

Return Value

Unchanged.

Example

The following example identifies that the http://www.aol.com URL 
remains as set:

atom$man_start_object
atom$mat_url "http://www.aol.com"
atom$mat_bool_static_url <yes>
atom$man_end_object


America Online Confidential 3-96 © America Online, Inc. 1999




November 1999 FDO91 Manual


atom$mat_bool_tool_group
126 ($7E) 

atom$mat_bool_tool_group specifies that the current organizational 
group (org_group) object appears as a toolbar.

Syntax

atom$mat_bool_tool_group <boolean>

<boolean> Specifies whether the current object appears as a 
toolbar. Values are:

Yes The object appears as a toolbar.

No The object does not appear as a toolbar 
(default).

Object(s) Handled

The object handled by this atom is org_group.

Return Value

None.

Example

The following example specifies that the current (org_group) object 
appears as a toolbar:

atom$man_start_object <org_group>
.
.
.
atom$mat_bool_tool_group <yes> 


© America Online, Inc. 1999 3-97 America Online Confidential




Chapter 3: Attribute Manager (MAT) Protocol November 1999


atom$mat_bool_url_sink
113 ($71) 

atom$mat_bool_url_sink determines whether uniform resource locators 
(URLs) can be dragged from a list, such as a Favorite Places list, and 
dropped on the current object.

Syntax

atom$mat_bool_url_sink <boolean>

<boolean> Specifies whether URLs can be dropped on the object. 
Values are:

Yes URLs can be dropped on the object.

No URLs cannot be dropped on the object 
(default).

Object(s) Handled

All objects are handled by this atom.

Return Value

None.

Example

The following example enables URLs to be dragged from a list object and 
dropped on the current object:

atom$man_start_object <ind_group>
atom$mat_bool_url_sink <yes> 
atom$man_end_object


America Online Confidential 3-98 © America Online, Inc. 1999




November 1999 FDO91 Manual


atom$mat_bool_vertical_scroll
0 ($00) 

atom$mat_bool_vertical_scroll selects vertical scroll bars for use with 
any view object displayed on a form.

Syntax

atom$mat_bool_vertical_scroll <boolean>

<boolean> Specifies whether the vertical scroll bar is displayed. 
Values are:

Yes The vertical scroll bar is displayed (default).

No The vertical scroll bar is not displayed.

Object(s) Handled

The objects handled by this atom are dms_list, dss_list, view, and 
edit_view.

Return Value

None.

Example

The following example inhibits a vertical scroll bar from appearing with an 
editable view:

atom$man_start_object <edit_view>
atom$mat_bool_vertical_scroll <no> 


© America Online, Inc. 1999 3-99 America Online Confidential




Chapter 3: Attribute Manager (MAT) Protocol November 1999


atom$mat_bool_writeable
39 ($27) 

atom$mat_bool_writeable defines the view as a main editable field in a 
window. This field can be saved or printed if a member selects Save or 
Print.

The body of the mail message on the Compose Mail form is an example of 
a main editable field.

Syntax

atom$mat_bool_writeable <boolean>

<boolean> Specifies whether an object is the main editable field 
on the window. Values are:

Yes The object is the main editable field.

No The object is not the main editable field 
(default).

Object(s) Handled

The object handled by this atom is edit_view.

Return Value

None.

Example

The following example defines the view as a main editable field:

atom$man_start_object <ind_group>
atom$mat_title <"Compose Mail">
atom$man_start_object <edit_view>
atom$mat_bool_writeable <yes> 

The result of this atom stream is that when a member selects Print from the 
main menu bar of the online service application, the content of the 
Compose Mail form prints.


America Online Confidential 3-100 © America Online, Inc. 1999




November 1999 FDO91 Manual


atom$mat_bottom_spacing
189 ($BD)

atom$mat_bottom_spacing sets the bottom spacing in the Tokyo 
(Windows) client.

Syntax

atom$mat_bottom_spacing <x>

<x> Specifies the bottom spacing in pixels.

Return Value

None.

Object(s) Handled

None.

Example

The following example creates a button with 2 pixels of space (padding) on 
the bottom:

atom$man_start_object <trigger, "Hello">
atom$mat_left_spacing <4>
atom$mat_top_spacing <2>
atom$mat_right_spacing <4>
atom$mat_bottom_spacing <2>
atom$man_end_object


© America Online, Inc. 1999 3-101 America Online Confidential




Chapter 3: Attribute Manager (MAT) Protocol November 1999


atom$mat_capacity
9 ($09) 

atom$mat_capacity specifies a limit on the number of characters an 
editable view field can contain.

Syntax

atom$mat_capacity <x>

<x> Specifies how many characters are allowed for 
this field. Values are 1 or greater.

Object(s) Handled

The object handled by this atom is edit_view.

Return Value

None.

Example

The following example specifies a character limit of 32000 on an editable 
view:

atom$man_start_object <edit_view>
atom$mat_capacity <32000> 


America Online Confidential 3-102 © America Online, Inc. 1999




November 1999 FDO91 Manual


atom$mat_color_bottom_edge
85 ($55)

atom$mat_color_bottom_edge defines the color of the bottom and right 
edges of the current button object.

Syntax

atom$mat_color_bottom_edge <r g b>

<r g b> Specifies a color using a 3-byte RGB value as follows:

r First byte defines the red value.

g Second byte defines the green value.

b Third byte defines the blue value.

Object(s) Handled

The objects handled by this atom are ind_group, dms_list, sms_list, 
dss_list, sss_list, trigger, ornament, view, edit_view, range, and 
select_range.

Return Value

None.

Example

The following example defines the button’s bottom and right edges as 
green:

atom$man_start_object <trigger>
atom$mat_art_id <1-0-2199>
atom$mat_color_bottom_edge <0 255 0> 


© America Online, Inc. 1999 3-103 America Online Confidential




Chapter 3: Attribute Manager (MAT) Protocol November 1999


atom$mat_color_face
82 ($52)

atom$mat_color_face defines the face color of the current object. The 
face of a button or group is the main area, minus the edges. The face of a 
window is the background of the window.

Syntax

atom$mat_color_face <r g b>

<r g b> Specifies a color using a 3-byte RGB value as follows:

r First byte defines the red value.

g Second byte defines the green value.

b Third byte defines the blue value.

Object(s) Handled

The objects handled by this atom are org_group, ind_group, dms_list, 
dss_list, and trigger.

Return Value

None.

Example

The following example defines the face color of a trigger as green:

atom$man_start_object <trigger, "Continue">
atom$mat_color_face <0 80 0> 


America Online Confidential 3-104 © America Online, Inc. 1999




November 1999 FDO91 Manual


atom$mat_color_frame_hilight
95 ($5F)

atom$mat_color_frame_hilight defines the highlighted color of the frame 
for the current object. Frame styles can have a highlighted edge and/or a 
shadowed edge. For more information about frame styles, see 
atom$mat_frame_style on page 3-124.

Syntax

atom$mat_color_frame_hilight <r g b>

<r g b> Specifies a color using a 3-byte RGB value as follows:

r First byte defines the red value.

g Second byte defines the green value.

b Third byte defines the blue value.

Object(s) Handled

All objects are handled by this atom.

Return Value

None.

Example

The following example defines the color of a frame’s highlighted edge:

atom$man_start_object <ornament, "MUSIC FORUMS">
atom$mat_orientation <hcc>
atom$mat_precise_x <9>
atom$mat_precise_y <10>
atom$mat_precise_width <204>
atom$mat_precise_height <18>
atom$mat_font_sis <0 10 1>
atom$mat_color_text <248 120 120>
atom$mat_color_face <1 1 1>
atom$mat_color_frame_hilight <124 126 0> 
atom$mat_color_frame_shadow <255 255 255>
atom$mat_frame_style <7>


© America Online, Inc. 1999 3-105 America Online Confidential




Chapter 3: Attribute Manager (MAT) Protocol November 1999


atom$mat_color_frame_shadow
96 ($60)

atom$mat_color_frame_shadow defines the shadowed color of the frame 
for the current object. Frame styles can have a highlighted edge and/or a 
shadowed edge. For more information about frame styles, see 
atom$mat_frame_style on page 3-124.

Syntax

atom$mat_color_frame_shadow <r g b>

<r g b> Specifies a color using a 3-byte RGB value as follows:

r First byte defines the red value.

g Second byte defines the green value.

b Third byte defines the blue value.

Object(s) Handled

All objects are handled by this atom.

Return Value

None.

Example

The following example defines the color of a frame’s shadowed edge:

atom$man_start_object <ornament, “MUSIC FORUMS”>
atom$mat_orientation <hcc>
atom$mat_precise_x <9>
atom$mat_precise_y <10>
atom$mat_precise_width <204>
atom$mat_precise_height <18>
atom$mat_font_sis <0 10 1>
atom$mat_color_text <248 120 120>
atom$mat_color_face <1 1 1>
atom$mat_color_frame_hilight <124 126 0>
atom$mat_color_frame_shadow <255 255 255> 
atom$mat_frame_style <7>


America Online Confidential 3-106 © America Online, Inc. 1999




November 1999 FDO91 Manual


atom$mat_color_selected
89 ($59)

atom$mat_color_selected defines the color of the current button object 
that appears when the button is selected by a member. 

Syntax

atom$mat_color_selected <r g b>

<r g b> Specifies a color using a 3-byte RGB value as follows:

r First byte defines the red value.

g Second byte defines the green value.

b Third byte defines the blue value.

Object(s) Handled

All objects are handled by this atom.

Return Value

None.

Example

The following example defines a button color (yellow/black) that appears 
only when it is selected:

atom$man_start_object <trigger>
atom$mat_color_selected <124 126 0> 


© America Online, Inc. 1999 3-107 America Online Confidential




Chapter 3: Attribute Manager (MAT) Protocol November 1999


atom$mat_color_text
83 ($53)

atom$mat_color_text defines the text color for the current object.

Syntax

atom$mat_color_text <r g b>

<r g b> Specifies a color using a 3-byte RGB value as follows:

r First byte defines the red value.

g Second byte defines the green value.

b Third byte defines the blue value.

Object(s) Handled

The objects handled by this atom are dms_list, sms_list, dss_list, 
sss_list, trigger, ornament, view, edit_view, range, and 
select_range.

Return Value

None.

Example

The following example defines the text to appear black:

atom$man_start_object <dss_list>
atom$mat_color_face <248 232 208>
atom$mat_color_text <64 64 64> 
atom$man_start_object <trigger, "About This Area">


America Online Confidential 3-108 © America Online, Inc. 1999




November 1999 FDO91 Manual


atom$mat_color_text_shadow
90 ($5A)

atom$mat_color_text_shadow applies a colorized shadow to the text of 
the current object. By default, text is not shadowed.

Syntax

atom$mat_color_text_shadow <r g b>

<r g b> Specifies a shadow color using a 3-byte RGB value as 
follows:

r First byte defines the red value.

g Second byte defines the green value.

b Third byte defines the blue value.

Object(s) Handled

The object handled by this atom is ornament.

Return Value

None.

Example

The following example specifies the text to be shadowed in a particular 
color:

atom$man_start_object <ornament, "MUSIC FORUMS">
atom$mat_orientation <hcc>
atom$mat_precise_x <9>
atom$mat_precise_y <10>
atom$mat_precise_width <204>
atom$mat_precise_height <18>
atom$mat_font_sis <0 10 1>
atom$mat_color_text <248 120 120>
atom$mat_color_text_shadow <192 192 192> 
atom$mat_color_face <1 1 1>
atom$mat_color_frame_hilight <124 126 0>
atom$mat_color_frame_shadow <255 255 255>
atom$mat_frame_style <7>


© America Online, Inc. 1999 3-109 America Online Confidential




Chapter 3: Attribute Manager (MAT) Protocol November 1999


atom$mat_color_top_edge
84 ($54)

atom$mat_color_top_edge defines the color for the top and left edges of 
the current button object.

Syntax

atom$mat_color_top_edge <r g b>

<r g b> Specifies a color using a 3-byte RGB value as follows:

r First byte defines the red value.

g Second byte defines the green value.

b Third byte defines the blue value.

Object(s) Handled

The object handled by this atom is trigger.

Return Value

None.

Example

The following example defines the color of a button’s top and left edges:

atom$man_start_object <trigger>
atom$mat_art_id <1-0-2199>
atom$mat_color_top_edge <124 126 0> 


America Online Confidential 3-110 © America Online, Inc. 1999




November 1999 FDO91 Manual


atom$mat_command_key
53 ($35) 

atom$mat_command_key assigns a key or key combination to activate a 
particular object. This feature lets you set up shortcut keys for members to 
use.

Command keys are typically defined for menu bar items. When a 
command key is pressed, the Display Manager first looks for the object on 
the top window, and if the object is not found, it looks on the menu bar. If 
an object on the menu bar has an assigned command key, the command key 
is automatically displayed on the drop-down menu to the right of the 
object's title.

Syntax

atom$mat_command_key <first_key[, modifier_key]>

<first_key> Specifies an ASCII key that the member must press 
to activate an object.

[<modifier_key>] Specifies if a second key must be used in 
conjunction with the first key and, if so, designates 
which key. Values are:

0 No second key is used. The member types 
only the ASCII key specified in the first 
argument.

1 The second key is the CTRL key and must be 
used in conjunction with the ASCII key 
identified in the first argument (default).

2 The second key is the SHIFT key and must be 
used in conjunction with the ASCII key 
identified in the first argument.

Object(s) Handled

The object handled by this atom is trigger.

Return Value

None.


© America Online, Inc. 1999 3-111 America Online Confidential




Chapter 3: Attribute Manager (MAT) Protocol November 1999


Example

The following example assigns command keys for an object on a window:

atom$man_start_object <trigger>
atom$mat_title <"Keyword">
atom$mat_command_key <k, 2> 

The result of this example is that the action associated with the object titled 
"Keyword" is initiated when a member simultaneously presses the SHIFT 
and K keys.


America Online Confidential 3-112 © America Online, Inc. 1999




November 1999 FDO91 Manual


atom$mat_context_help
102 ($66) 

atom$mat_context_help invokes a help bubble (or balloon help) when a 
member positions the cursor over a specific object or location on a form. 
The argument to this atom is the help text that appears in the help bubble.

Syntax

atom$mat_context_help <help_text>

<help_text> The text string that appears in the help bubble.

Object(s) Handled

The objects handled by this atom are dms_list, sms_list, dss_list, 
sss_list, trigger, ornament, view, edit_view, range, and 
select_range.

Return Value

None.

Example

The following example associates a help bubble with the mail write button 
on the toolbar of the online service:

atom$man_start_object <trigger>
atom$mat_context_help <"Write mail and send files."> 
.
.
.
atom$man_end_object


© America Online, Inc. 1999 3-113 America Online Confidential




Chapter 3: Attribute Manager (MAT) Protocol November 1999


atom$mat_dirty_query
54 ($36) 

atom$mat_dirty_query determines whether a member is prompted when 
attempting to close a window when any editable field on the window has 
been changed. This allows the member to save information in the window 
before it is closed.

Syntax

atom$mat_dirty_query <boolean>

<boolean> Specifies whether the member is prompted before the 
window is closed. Values are:

Yes The member is prompted.

No The member is not prompted (default).

Object(s) Handled

The object handled by this atom is ind_group.

Return Value

None.

Example

The following example specifies that a prompt to a member is required 
whenever the member attempts to close the window while the editable 
fields on the window have changes:

atom$man_start_object <ind_group>
atom$mat_title <"NEW.DOC">
atom$mat_dirty_query <yes> 
atom$man_start_object <edit_view>
atom$mat_bool_writeable <yes>
atom$man_end_object
atom$man_start_object <trigger>


America Online Confidential 3-114 © America Online, Inc. 1999




November 1999 FDO91 Manual


atom$mat_factory_id
191 ($BF)

atom$mat_factory_id notifies the Display Manager that a particular 
object is managed by another GUID. The factory ID is a 16 byte GUID (as 
created by Microsoft's UUIDGEN tool, for example). This ID is used to 
look up the tool or object that used to create the window (independent 
group in this example) when the man_update_display is processed. A 
GUID is used because it can be uniquely generated by anyone and a global 
list does not have to be maintained by AOL. Unlike mat_tool_id, which is 
generally applied to "views", mat_factory_id can be used for any type of 
FDO object.

Syntax

atom$mat_factory_id <x>

<x> Specifies the GUID that manages the object. 

Object(s) Handled

The objects handled by this atom are view and edit_view.

Return Value

None.

Example

The following example notifies the Display Manager that a particular 
object is managed by another factory ID:

man_start_object <ind_group, "Hello">
mat_factory_id <23x, EAx, 9Bx, 04x, 67x, CCx, 4Ax, 50x, F7x, 
A8x, 97x, 00x, 87x, 35x, 11x, D1x>
...
...
...
man_update_display
man_end_object


© America Online, Inc. 1999 3-115 America Online Confidential




Chapter 3: Attribute Manager (MAT) Protocol November 1999


atom$mat_field_script
104 ($68) 

atom$mat_field_script is described in Appendix B, "Internationalization 
(i18n) Atoms."


America Online Confidential 3-116 © America Online, Inc. 1999




November 1999 FDO91 Manual


atom$mat_font_id
48 ($30) 

atom$mat_font_id defines the font ID for the current object. This atom 
has been superseded by atom$mat_font_sis on page 3-119, which lets you 
set the font ID, the font size, and font style.

Syntax

atom$mat_font_id <font_id>

<font_id> Specifies the font ID in which to display the text. 
Values are:

0 arial (If not found, ms_sans_serif)

1 courier

2 times_roman (If not found, ms_serif)

3 system

4 fixed_system

5 ms_serif

6 ms_sans_serif

7 small_fonts

8 courier_new

9 script

10 ms_mincho

11 ms_gothic

Object(s) Handled

The objects handled by this atom are dms_list, dss_list, trigger, 
ornament, view, edit_view, range, and select_range.


© America Online, Inc. 1999 3-117 America Online Confidential




Chapter 3: Attribute Manager (MAT) Protocol November 1999


Return Value

None.

Example

The following example defines an MS serif font for the object title News:

atom$man_start_object <trigger>
atom$mat_title <"News">
atom$mat_font_id <5> 


America Online Confidential 3-118 © America Online, Inc. 1999




November 1999 FDO91 Manual


atom$mat_font_sis
10 ($0A) 

atom$mat_font_sis defines the font ID, size, and style for the current 
object. This atom can be used with any field that displays text. This atom 
supersedes atom$mat_font_id, atom$mat_font_size, and 
atom$mat_font_style, and should be used to set the font ID, font size, and 
font style.

Syntax

atom$mat_font_sis <font_id[, size][, style]>

<font_id> Specifies the font ID in which to display the text. 
Values are:

0 arial (If not found, ms_sans_serif)

1 courier

2 times_roman (If not found, ms_serif)

3 system

4 fixed_system

5 ms_serif

6 ms_sans_serif

7 small_fonts

8 courier_new

9 script

10 ms_mincho

11 ms_gothic

[<size>] Specifies the point size in which to display the text.

[<style>] Specifies the style in which to display the text. Values 
are:

0 normal


© America Online, Inc. 1999 3-119 America Online Confidential




Chapter 3: Attribute Manager (MAT) Protocol November 1999


1 bold

2 italic

4 underline

If the style values are added together, the text displays a combination of the 
styles. For example, a value of 3 displays text in bold and italic.

Object(s) Handled

The objects handled by this atom are dms_list, dss_list, trigger, 
ornament, view, edit_view, range, and select_range.

Return Value

None.

Example

The following example defines an Arial font, 8 point font size, and bold 
font style to an object's title:

atom$man_start_object <trigger>
atom$mat_title <"What's New">
atom$mat_font_sis <0, 8, 1> 


America Online Confidential 3-120 © America Online, Inc. 1999




November 1999 FDO91 Manual


atom$mat_font_size
49 ($31) 

atom$mat_font_size defines the font size for the current object. This atom 
has been superseded by atom$mat_font_sis on page 3-119, which lets you 
set the font size, the font ID, and font style.

Syntax

atom$mat_font_size <size>

<size> Specifies the point size in which to display the 
text.

Object(s) Handled

The objects handled by this atom are dms_list, dss_list, trigger, 
ornament, view, edit_view, range, and select_range.

Return Value

None.

Example

The following example defines a font size 8 for an object's title:

atom$man_start_object <trigger>
atom$mat_title <"News">
atom$mat_font_size <8> 


© America Online, Inc. 1999 3-121 America Online Confidential




Chapter 3: Attribute Manager (MAT) Protocol November 1999


atom$mat_font_style
50 ($32) 

atom$mat_font_style defines the font style for the current object. This 
atom has been superseded by atom$mat_font_sis on page 3-119, which lets 
you set the font style, the font ID, and font size.

Syntax

atom$mat_font_style <style>

<style> Specifies the style in which to display the text. This is 
an optional argument. Values are:

0 normal

1 bold

2 italic

4 underline

If the style values are added together, the text displays a 
combination of the styles. For example, a value of 3 
displays text in bold and italic style.

Object(s) Handled

The objects handled by this atom are dms_list, dss_list, trigger, 
ornament, view, edit_view, range, and select_range.

Return Value

None.

Example

The following example sets the font's style to bold:

atom$man_start_object <trigger>
atom$mat_title <"News">
atom$mat_font_style <4> 


America Online Confidential 3-122 © America Online, Inc. 1999




November 1999 FDO91 Manual


atom$mat_form_icon
115 ($73) 

atom$mat_form_icon specifies the art ID for the mini-icon located in the 
upper-left corner of a window common to all Windows 95 applications. 
This atom is intended for use with the 32-bit (Windows 95) client version 
of the service.

Syntax

atom$mat_form_icon <art_id>

<art_id> Specifies the art ID for the icon.

Object(s) Handled

The object handled by this atom is ind_group.

Return Value

None.

Example

The following example assigns the art ID for the icon for the trigger 
object:

atom$man_start_object <trigger>
atom$mat_relative_tag <1>
atom$mat_trigger_style <2>
atom$mat_art_id <1-2-3456>
atom$mat_form_icon <1-0-2199> 
atom$mat_precise_x <370>
atom$mat_precise_y <10>
.
.
.
atom$man_end_object


© America Online, Inc. 1999 3-123 America Online Confidential




Chapter 3: Attribute Manager (MAT) Protocol November 1999


atom$mat_frame_style
87 ($57)

atom$mat_frame_style determines the type of frame style for the current 
object.

Syntax

atom$mat_frame_style <type>

<type> Specifies the type of frame style to use. Values are:

0 none—Single line border (Windows default)

1 single_line_pop_out—Single line border 
with pop-out shadowing

2 single_line_pop_in—Single line border 
with pop-in shadowing

3 pop_in—No border with pop-in shadowing

4 pop_out—No border with pop-out 
shadowing

5 double_line—Double-line border

6 shadow—Standard shadowing

7 highlight—Highlighting for static text

Object(s) Handled

All objects are handled by this atom.

Return Value

None.

Example

The following example defines the frame style (no border with pop-in 
shadowing) for a dynamic, single-select list:


America Online Confidential 3-124 © America Online, Inc. 1999




November 1999 FDO91 Manual


atom$man_start_object <dss_list>
atom$mat_frame_style <3> 


© America Online, Inc. 1999 3-125 America Online Confidential




Chapter 3: Attribute Manager (MAT) Protocol November 1999


atom$mat_height
16 ($10) 

atom$mat_height specifies the height of the current object. You can use 
this atom to establish how many text lines you want to appear in a view 
field. atom$mat_height and atom$mat_width work independently on a 
window.

Syntax

atom$mat_height <x>

<x> Specifies the height for the current object. Values 
are 1 or greater. A value of 1 is equal to the height 
of one line of text in the standard system font.

Object(s) Handled

The objects handled by this atom are dms_list, dss_list, trigger, 
ornament, view, edit_view, range, and select_range.

Return Value

None.

Example

The following example specifies the height of a view object:

atom$man_start_object <view>
atom$mat_height <10> 
atom$mat_width <60>

This example sets the height of the view to 10 characters. The height is 
based on the size of the standard system font.


America Online Confidential 3-126 © America Online, Inc. 1999




November 1999 FDO91 Manual


atom$mat_horizontal_spacing
57 ($39) 

atom$mat_horizontal_spacing changes the horizontal spacing between 
the current object and any object to its right. You can use this atom to 
change the spacing between objects on a window. 

Syntax

atom$mat_horizontal_spacing <x> 

<x> Specifies the amount of horizontal spacing in 
multiples of normal spacing. Values are 1 or 
greater. For example, a value of 1 is equal to the 
normal (default) space between two objects, 2 is 
equal to twice the normal space, and so on. A 
value of 0 equals no spacing, which is used for 
objects on the toolbar.

Object(s) Handled

The objects handled by this atom are dms_list, dss_list, trigger, 
ornament, view, edit_view, range, and select_range.

Return Value

None.

Example

The following example changes the horizontal spacing of two buttons:

atom$man_start_object <ind_group>
atom$mat_orientation <hff>
atom$mat_position <hfc>
atom$man_start_object <trigger>
atom$mat_title <"Button 1">
atom$mat_horizontal_spacing <3> 
atom$man_end_object
atom$man_start_object <trigger>
atom$mat_title <"Button 2">


© America Online, Inc. 1999 3-127 America Online Confidential




Chapter 3: Attribute Manager (MAT) Protocol November 1999


atom$mat_increment
73 ($49) 

atom$mat_increment defines the incremental value for editable range 
fields (spin gadgets). atom$mat_minimum on page 3-137 and 
atom$mat_maximum on page 3-136 are used in conjunction with this 
atom.

The application of this atom can be seen on the Download Preferences 
window of the Windows client of the online service, where a member can 
set the number of downloads on which to retain information.

Syntax

atom$mat_increment <x>

<x> Specifies the incremental numeric value for the 
editable range field. Values are 0 or greater with a 
default value of 10.

Object(s) Handled

The object handled by this atom is select_range.

Return Value

None.

Example

The following example defines an incremental value of 10 for an editable 
range:

atom$man_start_object <select_range>
atom$mat_minimum <0>
atom$mat_maximum <100>
atom$mat_increment <10> 


America Online Confidential 3-128 © America Online, Inc. 1999




November 1999 FDO91 Manual


atom$mat_intl_font_sis
178 ($B2)

atom$mat_intl_font_sis defines the secondary font ID, size, and style for 
the current object.  By default, the current object should use the font 
defined by atom$mat_font_sis (or atom$mat_font_id, 
atom$mat_font_size, atom$mat_font_style).  When international text is 
sent to the object, based on the text type, the secondary font may be used to 
display the international text.

Syntax

atom$mat_intl_font_sis <font_id[, size][, style]>

<font_id> Specifies the font ID in which to display the text. 
Values are:

0 arial (If not found, ms_sans_serif)

1 courier

2 times_roman (If not found, ms_serif)

3 system

4 fixed_system

5 ms_serif

6 ms_sans_serif

7 small_fonts

8 courier_new

9 script

10 ms_mincho

11 ms_gothic

[<size>] Specifies the point size in which to display the text.

[<style>] Specifies the style in which to display the text. Values 
are as follows:

0 normal


© America Online, Inc. 1999 3-129 America Online Confidential




Chapter 3: Attribute Manager (MAT) Protocol November 1999


1 bold

2 italic

4 underline

Object(s) Handled

The objects handled by this atom are dms_list, dss_list, trigger, 
ornament, view, edit_view, range, and select_range.

Return Value

None.

Example

The following example defines an Arial font, 8 point font size, and bold 
font style to an object's title:

atom$man_start_object <trigger>
atom$mat_title <"What's New">
atom$mat_intl_font_sis <0, 8, 1> 


America Online Confidential 3-130 © America Online, Inc. 1999




November 1999 FDO91 Manual


atom$mat_left_spacing
186 ($BA)

atom$mat_left_spacing sets the left spacing in the Tokyo (Windows) 
client.

Syntax

atom$mat_left_spacing <x>

<x> Specifies the left spacing in pixels.

Return Value

None.

Object(s) Handled

Example

The following example creates a button with 4 pixels of space (padding) on 
the left:

atom$man_start_object <trigger, "Hello">
atom$mat_left_spacing <4>
atom$mat_top_spacing <2>
atom$mat_right_spacing <4>
atom$mat_bottom_spacing <2>
atom$man_end_object


© America Online, Inc. 1999 3-131 America Online Confidential




Chapter 3: Attribute Manager (MAT) Protocol November 1999


atom$mat_link_content_to_rid
76 ($4C)

atom$mat_link_content_to_rid links multiple text fields and saves them 
as one piece of text. When you link text fields, the first text field must 
always be defined as the main editable view, using 
atom$mat_bool_writeable.

This atom is currently used in many Rainman forms. For more information 
about Rainman, see the America Online manual, Bringing Information 
Online Using Rainman.

Syntax

atom$mat_link_content_to_rid <x>

<x> Specifies the relative ID of the next text field to 
link the current text field to. Values are 1 or 
greater.

Object(s) Handled

The objects handled by this atom are view and edit_view.

Return Value

None.

Example

The following example links multiple text fields together:

atom$uni_start_stream
.
.
.
atom$man_start_object <edit_view>
atom$mat_relative_tag <1>
atom$mat_bool_writeable <yes>
atom$mat_link_content_to_rid <2> 
atom$mat_end_object
atom$man_start_object <edit_view>
atom$mat_relative_tag <2>
atom$mat_link_content_to_rid <3> 
atom$mat_end_object
.
.  (Definition of object with relative ID 3 goes here...)


America Online Confidential 3-132 © America Online, Inc. 1999




November 1999 FDO91 Manual


.
atom$uni_end_stream


© America Online, Inc. 1999 3-133 America Online Confidential




Chapter 3: Attribute Manager (MAT) Protocol November 1999


atom$mat_log_object
65 ($41) 

atom$mat_log_object specifies the logging for an object. The argument 
defines which log holds the object data, or the argument can turn logging 
off. The object must be the main view on the window. 

Syntax

atom$mat_log_object [<log_flag>]

[<log_flag>] Specifies which log to use or turns off object logging. 
Values are:

0 session_log—Session log (Default)

1 chat_log—Chat log

2 im_log—Instant Message™ log

3 no_log—Do not log

Object(s) Handled

The objects handled by this atom are view and edit_view.

Return Value

None.

Example

The following example specifies that data be logged to the session log for a 
view object:

atom$man_start_object <view>
atom$mat_bool_writeable <yes>
atom$mat_log_object <0> 


America Online Confidential 3-134 © America Online, Inc. 1999




November 1999 FDO91 Manual


atom$mat_managed_by
55 ($37) 

atom$mat_managed_by notifies the Display Manager that a particular 
object is managed by another protocol (tool).

Syntax

atom$mat_managed_by <x>

<x> Specifies the protocol ID that manages the object. 
Protocol IDs are maintained in the atoms.h file 
and are listed in Table 3-1 on page 3-1 of this 
manual.

Object(s) Handled

The objects handled by this atom are view and edit_view.

Return Value

None.

Example

The following example notifies the Display Manager that an object is 
managed by another protocol with an ID of 20 (Multimedia Interface):

atom$man_start_object <view>
atom$mat_managed_by <20> 


© America Online, Inc. 1999 3-135 America Online Confidential




Chapter 3: Attribute Manager (MAT) Protocol November 1999


atom$mat_maximum
60 ($3C) 

atom$mat_maximum specifies the maximum value of a range field. This 
atom is used in conjunction with atom$mat_minimum on page 3-137.

The application of this atom can be seen on the Download Preferences 
window of the Windows client of the online service, where a member can 
set the number of downloads on which to retain information. This atom can 
also be used with noneditable ranges (for example, gauges, or meters).

Syntax

atom$mat_maximum <x>

<x> Specifies the highest allowable number for the 
range field. Values are 0 or greater. The default 
value is 100 except when the current object type 
is range or select_range.

Object(s) Handled

All objects are handled by this atom.

Return Value

None.

Example

The following example specifies a minimum and maximum value for a 
range:

atom$man_start_object <select_range>
atom$mat_minimum <0>
atom$mat_maximum <100> 


America Online Confidential 3-136 © America Online, Inc. 1999




November 1999 FDO91 Manual


atom$mat_minimum
59 ($3B) 

atom$mat_minimum specifies the minimum value of a range field. This 
atom is used in conjunction with atom$mat_maximum on page 3-136.

The application of this atom can be seen on the Download Preferences 
window of the Windows client of the online service, where a member can 
set the number of downloads on which to retain information. This atom can 
also be used with noneditable ranges (for example, gauges or meters).

Syntax

atom$mat_minimum <dword>

<dword> Specifies the lowest allowable value for the range 
field. Values are 0 or greater with a default value 
of 0.

Object(s) Handled

The objects handled by this atom are range and select_range.

Return Value

None.

Example

The following example specifies a minimum and maximum value for a 
range:

atom$man_start_object <select_range>
atom$mat_minimum <0> 
atom$mat_maximum <100>


© America Online, Inc. 1999 3-137 America Online Confidential




Chapter 3: Attribute Manager (MAT) Protocol November 1999


atom$mat_object_id
12 ($0C) 

atom$mat_object_id defines the global ID for the current object.

Syntax

atom$mat_object_id <global_ID>

<global_ID> Specifies the global ID for the current object. The 
default value is 0.

Object(s) Handled

All objects are handled by this atom.

Return Value

None.

Example

The following example assigns a global ID of 32-137 to the window:

atom$man_start_object <ind_group>
atom$mat_object_id <32-137> 


America Online Confidential 3-138 © America Online, Inc. 1999




November 1999 FDO91 Manual


atom$mat_object_type
45 ($2D) 

atom$mat_object_type defines the object type of the current object.

Syntax

atom$mat_object_type <object_type>

<object_type> Specifies the object type for the current object. The 
object type can be specified using the object ID or 
object name, as follows:

0 org_group—An organizational group.

1 ind_group—An independent group (for 
example, a window).

2 dms_list—A dynamic, multiselect list (for 
example, a list box where more than one item 
is selectable).

3 sms_list—A static, multiselect list (for 
example, a check box).

4 dss_list—A dynamic, single-select list (for 
example, a list box where only one item is 
selectable).

5 sss_list—A static, single-select list (for 
example, radio buttons).

6 trigger—An actionable object (for example, 
a button, icon, menu item).

7 ornament—A static or decorative object (for 
example, a picture, static text).

8 view—A view field (used for display of 
larger amounts of text or a graphic where, if 
necessary, scroll bars are available).

9 edit_view—An editable view field (used for 
input text fields where members can enter 
text).


© America Online, Inc. 1999 3-139 America Online Confidential




Chapter 3: Attribute Manager (MAT) Protocol November 1999


12 range — A range (used for display of graphic 
representation of a value, such as a bar 
gauge).

13 select_range — A selectable range (used 
for an easy user interface for entering numeric 
data, such as a spin gadget).

17 tool_group — A toolbar (used on any form 
or frame window including tab controls).

18 tab_group — A tab control (defines an 
object group of tab pages, frames or forms).

19 tab_page — A tabbed page, frame or form 
(used on a list box with a labeled tab).

Object(s) Handled

All objects are handled by this atom.

Return Value

None.

Example

The following example assigns view as an object type to an object:

atom$man_insert_object_before <32-123>
atom$mat_object_type <view> 


America Online Confidential 3-140 © America Online, Inc. 1999




November 1999 FDO91 Manual


atom$mat_orientation
8 ($08) 

atom$mat_orientation defines justification and orientation for groups, 
static lists, and ornament text fields.

Syntax

atom$mat_orientation <o_hj_vj>

<o_hj_vj> Specifies the group's orientation and justification. The 
argument requires three characters. The first character 
defines the orientation axis with the following values:

h Horizontal

v Vertical

The second character defines the type of justification 
on the horizontal axis with the following values:

c Center

l Left

r Right

f Full (similar to even justification but no space 
is left between outside objects and the edge of 
the screen)

e Even (evenly spaced)

n None

The third character defines the type of justification on 
the vertical axis with the following values:

c Center

t Top

b Bottom

f Full (similar to even justification but no space 
is left between outside objects and the edge of 
the screen)


© America Online, Inc. 1999 3-141 America Online Confidential




Chapter 3: Attribute Manager (MAT) Protocol November 1999


e Even (evenly spaced)

n None

This 8-bit argument can also have binary values 
assigned as follows:

Bits 7 and 6 Define the orientation axis with values 
as follows:

0 Horizontal

1 Vertical

Bits 5 - 0 Define the type of justification. Bits 5, 
4, and 3 define the horizontal and bits 2, 
1, and 0 define the vertical justification 
type, with 3-bit values for each set as 
follows:

2 Center

3 Left

4 Right

5 Full 

6 Even

Object(s) Handled

The objects handled by this atom are org_group, ind_group, ornament, 
sms_list, sss_list, view, and edit_view.

Return Value

None.

Example

The following example defines the orientation and justification for objects 
on a form:

atom$man_start_object <ind_group>


America Online Confidential 3-142 © America Online, Inc. 1999




November 1999 FDO91 Manual


atom$man_start_object <org_group>
atom$mat_orientation <hee> 
atom$man_start_object <trigger>
atom$mat_title <"Button 1">
atom$man_end_object
atom$man_start_object <trigger>
atom$mat_title <"Button 2">
atom$man_end_object
atom$man_start_object <trigger>
atom$mat_title <"Button 3">
atom$man_end_object

The result of this example is shown in Figure 3-1. It is a form with an 
organizational group made up of three buttons. The buttons are 
horizontally oriented and have even justification horizontally and 
vertically, as shown in Figure 3-1:

button 1 but ton 2 but ton 3

Figure 3-1: Horizontal Group Orientation


© America Online, Inc. 1999 3-143 America Online Confidential




Chapter 3: Attribute Manager (MAT) Protocol November 1999


atom$mat_paragraph
66 ($42)

atom$mat_paragraph determines whether text in a view field wraps to an 
indent after the first line of text. 

Note that this atom is used on chat views to allow room for the screen name 
that appears to the left of a member's comments.

Syntax

atom$mat_paragraph <boolean>

<boolean> Specifies whether the text wraps to an indent. Values 
are:

Yes Specifies that text indent is on.

No Specifies that text indent is off (default).

Object(s) Handled

The objects handled by this atom are view and edit_view.

Return Value

None.

Example

The following example wraps the text to an indent in a view field for chat:

atom$man_start_object <view, “”>
atom$mat_size <50, 17, 8192>
atom$mat_relative_tag <256>
atom$mat_scroll_threshold <4096>
atom$mat_bool_force_scroll <yes>
atom$mat_paragraph <yes> 
atom$mat_log_object <chat_log>
atom$mat_ruler <15, 45>
atom$mat_bool_force_scroll <yes>
atom$mat_bool_writeable <yes>
atom$man_end_object


America Online Confidential 3-144 © America Online, Inc. 1999




November 1999 FDO91 Manual


atom$mat_popup_relative_id
163 ($A3)

atom$mat_popup_relative_id assigns a relative ID to a popup menu 
object.

Syntax

atom$mat_popup_relative_id <x>

<x> Specifies the relative ID of the popup menu. 
Values are 1 or greater.

Object(s) Handled

The objects handled by this atom are dss_list and trigger.

Return Value

None.

Example

The following example defines the relative ID of the popup menu:

atom$uni_start_stream
.
.
.
atom$man_start_object <trigger, “”>
atom$mat_popup_relative_id <2> 
atom$mat_popup_pfc_path <”C:\AOL40\organize\”>
atom$man_end_context
.
.
.
atom$uni_end_stream


© America Online, Inc. 1999 3-145 America Online Confidential




Chapter 3: Attribute Manager (MAT) Protocol November 1999


atom$mat_popup_pfc_path
164 ($A4)

atom$mat_popup_pfc_path defines the path to the top-level object to 
build a popup menu.

Syntax

atom$mat_popup_pfc_path <string>

<string> Specifies the path to the top-level object to build a 
popup menu.

Object(s) Handled

The object handled by this atom is dss_list and trigger.

Return Value

None.

Example

The following example defines the path to build a popup menu:

atom$uni_start_stream
.
.
.
atom$man_start_object <trigger, “”>
atom$mat_popup_relative_id <2>
atom$mat_popup_pfc_path <”C:\AOL40\organize”> 
atom$man_end_context
.
.
.
atom$uni_end_stream


America Online Confidential 3-146 © America Online, Inc. 1999




November 1999 FDO91 Manual


atom$mat_position
64 ($40)

atom$mat_position determines the window's position on the screen. This 
atom is only used for independent group (ind_group) objects. 

Syntax

atom$mat_position <position> 

<position> Specifies the window's position on the screen. Values 
are as follows:

0 Defines a cascaded display that arranges 
active windows in a cascading fashion with 
the current window on top.

1-9 Figure 3-2 shows a screen divided into 9 areas 
that relate to defined position values 1 
through 9.

1 2 3

4 5 6

7 8 9

Figure 3-2: Window Positioning

Object(s) handled

The object handled by this atom is ind_group. 


© America Online, Inc. 1999 3-147 America Online Confidential




Chapter 3: Attribute Manager (MAT) Protocol November 1999


Return Value

None. 

Example

The following example specifies the object’s position as in the top right 
window of the screen:

atom$man_start_object <ind_group> "" 
atom$mat_orientation <vff>  
atom$mat_position <3>   
...
atom$man_end_object


America Online Confidential 3-148 © America Online, Inc. 1999




November 1999 FDO91 Manual


atom$mat_precise_height
79 ($4F)

atom$mat_precise_height defines the height of the current object in 
pixels. To set both height and width, use atom$mat_size on page 3-165.

Syntax

atom$mat_precise_height <x>

<x> Specifies the height in pixels. Values are 1 or 
greater.

Object(s) Handled

All objects are handled by this atom.

Return Value

None.

Example

The following example defines a window to have a precise height of 333 
pixels:

atom$man_start_object <ind_group>
atom$mat_bool_precise <yes>
atom$mat_precise_height <333> 


© America Online, Inc. 1999 3-149 America Online Confidential




Chapter 3: Attribute Manager (MAT) Protocol November 1999


atom$mat_precise_width
78 ($4E)

atom$mat_precise_width defines the width of the current object in pixels. 
To set both height and width, use atom$mat_size on page 3-165.

Syntax

atom$mat_precise_width <x>

<x> Specifies the width in pixels. Values are 1 or 
greater.

Object(s) Handled

All objects are handled by this atom.

Return Value

None.

Example

The following example defines a window to have a precise width of 500 
pixels:

atom$man_start_object <ind_group>
atom$mat_bool_precise <yes>
atom$mat_precise_width <500> 


America Online Confidential 3-150 © America Online, Inc. 1999




November 1999 FDO91 Manual


atom$mat_precise_x
80 ($50)

atom$mat_precise_x determines the horizontal (x-axis) coordinate in 
pixels that is used to position children of a precise group. This atom is used 
in conjunction with atom$mat_precise_y on page 3-153.

Syntax

atom$mat_precise_x <x>

<x> Specifies the horizontal pixel coordinate used to 
position children of a precise group. Values are 0 
or greater.

Object(s) Handled

The objects handled by this atom are org_group, dms_list, sms_list, 
dss_list, sss_list, trigger, ornament, view, edit_view, range, 
and select_range.

Return Value

None.

Example

The following example defines the placement of the text ornament (Music 
Forums) to have a precise horizontal coordinate of 9 pixels in the Roll Over 
Beethoven window:

atom$man_start_object <ind_group, "Roll Over Beethoven">
atom$mat_bool_background_pic <yes>
atom$mat_art_id <1-0-2196>
atom$mat_bool_precise <yes>
atom$mat_precise_width <500>
atom$mat_precise_height <333>
atom$man_start_object <ornament, "Music Forums">
atom$mat_orientation <hcc>
atom$mat_precise_x <9> 
atom$mat_precise_y <10>
atom$mat_precise_width <204>
atom$mat_precise_height <18>
.
.
.
atom$man_end_object


© America Online, Inc. 1999 3-151 America Online Confidential




Chapter 3: Attribute Manager (MAT) Protocol November 1999


.

.  (The definition of more objects goes here...)

.
atom$man_end_object


America Online Confidential 3-152 © America Online, Inc. 1999




November 1999 FDO91 Manual


atom$mat_precise_y
81 ($51)

atom$mat_precise_y determines the vertical (y-axis) coordinate in pixels 
that is used to position children of a precise group. This atom is used in 
conjunction with atom$mat_precise_x on page 3-151.

Syntax

atom$mat_precise_y <y>

<y> Specifies the vertical pixel coordinate used to 
position children of a precise group. Values are 0 
or greater.

Object(s) Handled

The objects handled by this atom are org_group, dms_list, sms_list, 
dss_list, sss_list, trigger, ornament, view, edit_view, range, 
and select_range.

Return Value

None.

Example

The following example defines the placement of a dynamic list box to have 
a precise vertical coordinate of 33 pixels in the Mozart Forum window:  

atom$man_start_object <ind_group, "Mozart Forum">
atom$mat_bool_background_pic <yes>
atom$mat_art_id <1-0-2196>
atom$mat_bool_precise <yes>
atom$mat_precise_width <500>
atom$mat_precise_height <333>
atom$man_start_object <dss_list>
atom$mat_frame_style <3>
atom$mat_bool_no_border <yes>
atom$mat_color_face <248 232 208>
atom$mat_color_text <64 64 64>
atom$mat_precise_x <10>
atom$mat_precise_y <33> 
atom$mat_precise_width <200>
atom$mat_precise_height <248>
atom$man_start_object <trigger, "RockLink">
atom$man_end_object


© America Online, Inc. 1999 3-153 America Online Confidential




Chapter 3: Attribute Manager (MAT) Protocol November 1999


atom$man_start_object <trigger, "Critic’s Choice">
atom$man_end_object
.
.
.
atom$man_end_object
.
.  (The definition of more objects goes here...)
.
atom$man_end_object


America Online Confidential 3-154 © America Online, Inc. 1999




November 1999 FDO91 Manual


atom$mat_relative_tag
11 ($0B) 

atom$mat_relative_tag defines the relative ID of the current object. 
Objects on the same window must have unique relative IDs.

Syntax

atom$mat_relative_tag <dword>

<dword> Specifies the relative ID of the current object. 
Values are 0 or greater with a default value of 0.

Object(s) Handled

The objects handled by this atom are org_group, dms_list, sms_list, 
dss_list, sss_list, trigger, ornament, view, edit_view, range, 
and select_range.

Return Value

None.

Example

The following example defines relative IDs (1 and 2) for objects on a 
window:

atom$man_start_object <trigger>
atom$mat_relative_tag <1> 
atom$man_end_object
atom$man_start_object <trigger>
atom$mat_relative_tag <2> 
atom$man_end_object


© America Online, Inc. 1999 3-155 America Online Confidential




Chapter 3: Attribute Manager (MAT) Protocol November 1999


atom$mat_right_spacing
188 ($BC)

atom$mat_right_spacing sets the right spacing in the Tokyo (Windows) 
client.

Syntax

atom$mat_right_spacing <x>

<x> Specifies the right spacing in pixels.

Return Value

None.

Object(s) Handled

None.

Example

The following example creates a button with 4 pixels of space (padding) on 
the right:

atom$man_start_object <trigger, "Hello">
atom$mat_left_spacing <4>
atom$mat_top_spacing <2>
atom$mat_right_spacing <4>
atom$mat_bottom_spacing <2>
atom$man_end_object


America Online Confidential 3-156 © America Online, Inc. 1999




November 1999 FDO91 Manual


atom$mat_ruler
18 ($12) 

atom$mat_ruler sets one or more tab stops to the ruler of the current 
object. Each argument indicates one tab stop. If no argument is specified, 
any tabs that exist on the ruler for the current object are cleared.

This atom is used with list boxes, views, and labels. The text of the object 
must be embedded with tab characters for this feature to work properly.

Syntax

atom$mat_ruler <[tab_1][, tab_2]…[, tab_n]>

[<tab_1>] Specifies the first tab stop. A value of 1 is equal to 
one character of text in the standard system font.

[,tab_2]…[,tab_n] Specifies other optional tab stops that can be 
added in a series. A value of 1 is equal to one 
character of text in the standard system font.

Return Value

None.

Object(s) Handled

The objects handled by this atom are dms_list, dss_list, view, and 
edit_view.

Example

The following example sets the tab stops for text on a form:

atom$man_start_object <dss_list>
atom$mat_title <"Products for Sale">
atom$man_start_object <trigger>
atom$mat_ruler <7, 15> 
atom$mat_title <"8475→Sweatshirt→19.95">
atom$man_start_object <trigger>
atom$mat_title <"8411→T-shirt→10.95">
atom$man_start_object <trigger>
atom$mat_title <"8422→Nightshirt→15.95">


© America Online, Inc. 1999 3-157 America Online Confidential




Chapter 3: Attribute Manager (MAT) Protocol November 1999


The result of this example is shown in Figure 3-3:

Products for Sale

8475 Sweatshir t 19.95
8411 T-shirt 10.95
8422 Nightshirt 15.95

Figure 3-3: Tab Stops in a Form


America Online Confidential 3-158 © America Online, Inc. 1999




November 1999 FDO91 Manual


atom$mat_sage_context_help
184 ($B8)

atom$mat_sage_context_help enables the "What's This" feature in the 
help system for the K2 client.

Syntax

atom$mat_sage_context_help <string>

<string> Specifies the text string.

Return Value

None.

Object(s) Handled

None.

Example

The following example enables the "What's This" feature in the help 
system for the K2 client:

atom$man_start_object <view>
atom$mat_edit_view
atom$mat_sage_context_help <text>


© America Online, Inc. 1999 3-159 America Online Confidential




Chapter 3: Attribute Manager (MAT) Protocol November 1999


atom$mat_scroll_threshold
67 ($43) 

atom$mat_scroll_threshold determines how many bytes of text are 
retained in a view. Once data in the view reaches its maximum capacity 
(see atom$mat_capacity on page 3-102), some old data is trimmed from the 
view so new data can appear. This feature is used in the chat area of the 
online service.

Syntax

atom$mat_scroll_threshold <x>

<x> Specifies the number of bytes to retain in a view 
after its capacity is reached. The values are 1 or 
greater with a default value of 0.

Object(s) Handled

The objects handled by this atom are view and edit_view.

Return Value

None.

Example

The following example specifies a view to trim old data and accept new 
data when there is a limited buffer:

atom$man_start_object <view>
atom$mat_capacity <32000>
atom$mat_scroll_threshold <8000>


America Online Confidential 3-160 © America Online, Inc. 1999




November 1999 FDO91 Manual


atom$mat_secure_field
170 ($AA)

atom$mat_secure_field is used to mark a field for secure extraction. The 
atom is also used to set the level of encryption for extracting the field.

Syntax

atom$mat_secure_field <text>

<text> Specifies a two-byte argument that is a word that 
is used to indicate the cypher to be used when 
encrypting the extracted data.

Object(s) Handled

The object handled by this atom is view.

Return Value

None.

Example

The following example tells the display manager to secure a field:

atom$man_start_object <view>
atom$mat_edit_view
atom$mat_secure_field <text>


© America Online, Inc. 1999 3-161 America Online Confidential




Chapter 3: Attribute Manager (MAT) Protocol November 1999


atom$mat_secure_form
136 ($88)

atom$mat_secure_form forces all input field data on a form that is 
transferred to the host to be secure. 

Syntax

atom$mat_secure_form <x y>

<x> Specifies the token (two bytes) to send to the host 
server. The value is a code of two ASCII 
characters. Wu (57x 75x) defines a security tag 
for data transmission and is the default token.

<y> Specifies the numeric token argument (four 
bytes), which specifies the security level of the 
field data transmissions to send to the host server. 
The default security level is 0 or token argument 
of 00x 00x 00x 00x.

Object(s) Handled

The object handled by this atom is ind_group.

Return Value

None.

Example

The following example sends a Wu token with an argument value of 00 hex 
to establish a secure field transmission level of 0. In this example, 57x = W 
and 75x = u.

atom$uni_start_stream 
.
.
.
atom$man_start_object <ind_group>
atom$mat_size <A0x 78x>
atom$mat_relative_tag <101>
atom$mat_secure_form <57x 75x 00x 00x 00x 00x> 
00x>atom$uni_end_stream


America Online Confidential 3-162 © America Online, Inc. 1999




November 1999 FDO91 Manual


atom$mat_shortcut_key
68 ($44) 

atom$mat_shortcut_key defines the character that can be used by the 
member as a shortcut key for the current object. A member uses shortcut 
keys to select a menu item or a button on a window using keys on the 
keyboard, instead of pointing and clicking with the mouse.

Syntax

atom$mat_shortcut_key <key> 

<key> Specifies the ASCII value of the shortcut key.

Object(s) Handled

The object handled by this atom is trigger.

Return Value

None.

Example

The following example defines the shortcut key:

atom$man_start_object <dss_list>
atom$man_start_object <trigger>
atom$mat_title <"Go To">
atom$mat_shortcut_key <g>
atom$man_end_object

The result of this example is that members can activate the Go To menu 
item by pressing ALT-G.


© America Online, Inc. 1999 3-163 America Online Confidential




Chapter 3: Attribute Manager (MAT) Protocol November 1999


atom$mat_sink
111 ($6F) 

atom$mat_sink specifies the destination folder where a Favorite Places 
item is saved. The argument to this atom is the path of the Favorite Places 
section of the Personal Filing Cabinet (PFC) of the online service. The PFC 
is used to organize and maintain objects such as mail documents, download 
files, and Favorite Places (bookmarks).

Syntax

atom$mat_sink <path> 

<path> The path for the Favorite Places section.

Object(s) Handled

The object handled by this atom is ind_group.

Return Value

None.

Example

The following example specifies that the item is semt to the Incoming/
Saved mail section of Favorite Places:

atom$man_start_object <ind_group>
atom$mat_sink <"Favorite Places/Incoming/Saved Mail">
atom$man_end_object


America Online Confidential 3-164 © America Online, Inc. 1999




November 1999 FDO91 Manual


atom$mat_size
23 ($17) 

atom$mat_size defines the width and height of the current object. 

Syntax

atom$mat_size <width, height>

<width> Specifies the width for the current object. A value 
of 1 is equal to the width of one character of text 
in the standard system font. Values range from 0 
to 235.

<height> Specifies the height for the current object. A value 
of 1 is equal to the height of one line of text in the 
standard system font. Values range from 0 to 235.

Object(s) Handled

The objects handled by this atom are dms_list, dss_list, trigger, 
ornament, view, edit_view, range, and select_range.

Return Value

None.

Example

The following example defines a width of 25 and a height of 1 for an 
ornament object:

atom$man_start_sibling <ornament, “”>
atom$mat_size <25,1>
atom$mat_font_id <arial>
atom$mat_font_size <18>
atom$mat_font_style <bold>
atom$man_append_data <”keyword”>
atom$man_end_object 


© America Online, Inc. 1999 3-165 America Online Confidential




Chapter 3: Attribute Manager (MAT) Protocol November 1999


atom$mat_sort_order
69 ($45) 

atom$mat_sort_order establishes the sort order of items in a list.   

Syntax

atom$mat_sort_order <sort_value> 

<sort_value> Specifies the order in which the list items are sorted. 
Values are:

0 normal—The new item is added at the end of 
the list (default).

1 reverse—The new item is added at the 
beginning of the list.

2 alphabetical—The new item is added 
alphabetically.

Object(s) Handled

The objects handled by this atom are dms_list and dss_list.

Return Value

None.

Example

The following example sorts items in a list in alphabetical order:

atom$man_start_object <dss_list>
atom$mat_sort_order <2>
.
.
.
atom$man_set_context_globalid <32-123>
atom$man_start_object <trigger>
atom$man_end_object
atom$man_start_object <trigger>
atom$man_end_object
atom$man_start_object <trigger>
atom$man_end_object


America Online Confidential 3-166 © America Online, Inc. 1999




November 1999 FDO91 Manual


atom$mat_spacing
190 ($BE)

atom$mat_spacing adds an absolute pixel spacing to the size of any object 
in the Tokyo (Windows) client.

Syntax

atom$mat_spacing <w,x,y,z>

<w,x,y,z> Specifies the pixel spacing to be added to the left, 
top, right, and bottom of an object.

Return Value

None.

Object(s) Handled

Example

The following example creates a button with 4 pixels of space (padding) on 
the left and right, and 2 pixels on the top and bottom:

man_start_object <trigger, "Hello">
mat_spacing <4,2,4,2>
man_end_object


© America Online, Inc. 1999 3-167 America Online Confidential




Chapter 3: Attribute Manager (MAT) Protocol November 1999


atom$mat_style_id
58 ($3A) 

atom$mat_style_id defines the size and position of a window through the 
use of an ID from the Windows style database. The style ID is normally the 
global ID of the window. The style ID is preset on Rainman forms.

Syntax

atom$mat_style_id <style_ID>

<style_ID> Specifies the style ID to use. See the Windows 
style database for values. The default value is 0, 
which specifies that no style is used.

Object(s) Handled

The object handled by this atom is ind_group.

Return Value

None.

Example

The following example defines style 5 on a window:

atom$man_start_object <ind_group>
atom$mat_style_id <5>


America Online Confidential 3-168 © America Online, Inc. 1999




November 1999 FDO91 Manual


atom$mat_tab_get_cur_sel
155 ($9B)

atom$mat_tab_get_cur_sel gets the index value of the currently selected 
tabbed object or the tabbed page in focus.

Syntax

atom$mat_tab_get_cur_sel 

Object(s) Handled

The object handled by this atom is tab_group.

Return Value

Index value of the tabbed object in focus. Values are 0 or greater.

Example

The following example gets the index value of the currently selected 
tabbed object and stores it in register A:

atom$uni_start_stream
atom$man_set_context_relative <11>
atom$mat_tab_get_cur_sel 
atom$var_number_set_from_atom <A>
atom$uni_end_stream


© America Online, Inc. 1999 3-169 America Online Confidential




Chapter 3: Attribute Manager (MAT) Protocol November 1999


atom$mat_tab_set_cur_sel
154 ($9A)

atom$mat_tab_set_cur_sel puts a tabbed object in focus as the currently 
selected page or form.

Syntax

atom$mat_tab_set_cur_sel <x>

<x> Specifies an index value of the tabbed object. 
Values are 0 or greater.

Object(s) Handled

The object handled by this atom is tab_group.

Return Value

None.

Example

The following example sets the tab control index to 0 and focuses 
(activates) object 11 as the currently selected tabbed object:

atom$man_set_context_globalid <41-6134>
atom$man_set_context_relative <11>
atom$mat_tab_set_cur_sel <0>
atom$man_end_context


America Online Confidential 3-170 © America Online, Inc. 1999




November 1999 FDO91 Manual


atom$mat_text_on_picture_pos
135 ($87)

atom$mat_text_on_picture_pos determines the position of a button’s title 
and art. This atom is used only for a button object (trigger) with a trigger 
style of text_on_picture. 

Syntax

atom$mat_text_on_picture_pos <byte_bit_set>

<byte_bit_set> Specifies the position of the title and art on the 
button. Values of this 8-bit argument whose high 
4 bits specify the position of the art and whose 
low 4 bits specify the position of the title are 
defined as follows:

00x—art_middle_center

10x—art_upper_left

20x—art_upper_center

30x—art_upper_right

40x—art_middle_left

50x—art_middle_right

60x—art_lower_left

70x—art_lower_center

80x—art_lower_right

00x—title_middle_center

01x—title_upper_left

02x—title_upper_center

03x—title_upper_right

04x—title_middle_left

05x—title_middle_right

06x—title_lower_left

07x—title_lower_center

08x—title_lower_right

By default, the title and art are placed in the center of the button object 
(position value 00). 


© America Online, Inc. 1999 3-171 America Online Confidential




Chapter 3: Attribute Manager (MAT) Protocol November 1999


Figure 3-4 shows the face of a button object divided into nine areas that 
relate to the defined position values 0 through 8: 

1 2 3

4 0 5

6 7 8

Figure 3-4: Text or Art Positions on Button

Object(s) Handled

The object handled by this atom are trigger and ornament.

Return Value

None.

Example

The following example specifies the position of the text on the lower right 
portion of the art in the lower center section:

atom$man_start_object <trigger> "Test"
atom$mat_trigger_style <8> 
atom$mat_text_on_picture_pos 72x 
atom$mat_art_id <1-1-31435> 
atom$mat_bool_default <yes> 
...
atom$man_end_object


America Online Confidential 3-172 © America Online, Inc. 1999




November 1999 FDO91 Manual


atom$mat_title_hint
193 ($C1)

atom$mat_title_hint returns wm_gettext for screen readers even for 
objects that do not display a title when wm_gettext returns nothing. 

Syntax
atom$mat_title_hint <string> 

atom$mat_text_on_picture_pos <byte_bit_set>

<string> Specifies the hidden title to be stored.

Object(s) Handled

The objects handled by this atom are ind_group, dms_list, sms_list, 
dss_list, sss_list, trigger, ornament, view, edit_view, 

range and select_range.

Return Value

None.

Example

The following example returns the title for the specified object:

atom$man_start_object <ind_group>
atom$mat_title_hint <"welcome">


© America Online, Inc. 1999 3-173 America Online Confidential




Chapter 3: Attribute Manager (MAT) Protocol November 1999


atom$mat_top_spacing
187 ($BB)

atom$mat_top_spacing sets the top spacing above any object in the 
Tokyo (Windows) client. 

Syntax

atom$mat_top_spacing <x>

<x> Specifies the top spacing in pixels.

Return Value

None.

Object(s) Handled

Example

The following example creates a button with 2 pixels of space (padding) on 
the top:

atom$man_start_object <trigger, "Hello">
atom$mat_left_spacing <4>
atom$mat_top_spacing <2>
atom$mat_right_spacing <4>
atom$mat_bottom_spacing <2>
atom$man_end_object


America Online Confidential 3-174 © America Online, Inc. 1999




November 1999 FDO91 Manual


atom$mat_treectrl_set_ class
192 ($C0)

atom$mat_treectrl_set_ class is used for tree control to set the 
<class_type>.

Syntax

atom$mat_treectrl_set_ class <class_type> 

<class_type> Specifies a dword for the class_type so the object 
handler registers based on the class type.Values are:

1 Class type is folder.

2 Class type is buddy_online.

3 Class type is buddy_offline.

Return value

None.

Object Handled

The object handled by this atom is Tree Control.

Example

The following example sets the class type for specified object to 
buddy_online:

atom$man_start_object <21> "TreeCtrl"
atom$mat_treectrl_set_class <2>
....
atom$man_end_object


© America Online, Inc. 1999 3-175 America Online Confidential




Chapter 3: Attribute Manager (MAT) Protocol November 1999




America Online Confidential 3-176 © America Online, Inc. 1999



===== END PDF: mat.pdf =====

===== BEGIN PDF: p3.pdf =====



Manual: FDO91 Manual
Chapter 27: P3 Protocol defines P3 protocol atoms and provides information for handling
P3 communication.
Last updated: January 1994




C H A P T E R  2 7

P3 Protocol

The P3 communications protocol (protocol ID 35) consists of atoms that are
to ensure error-free transmission between the host and the client computer.
The data is formed into packets with an 8-byte header and a terminating
carriage return.  The minimum length of a packet is the header plus the
carriage return, the nominal length is 128 bytes, and the current maximum
length is 1024 bytes.

There are two classes of packets - numbered and unnumbered.  Data packets
are numbered; all other packets are not.  The data packets are numbered
consecutively and must be delivered in order.

A packet is considered invalid if it is received out of order, with an incorrect
length, or a bad cyclic redundancy check (CRC).  If a data packet is detected
as invalid by the P3 Tool, a retransmission of all data packets, beginning with
the number of the bad packet, is requested.  This ensures that the sequence of
the packets is maintained.

P3 Protocol Atoms

The P3 protocol atoms are described in alphabetical order in the rest of this
chapter.

America Online Confidential 27-1  America Online, Inc. 1993-94




Chapter 27: P3 Protocol January 1994

atom$p3_interleaved_mode
4 ($04)

Description

atom$p3_interleaved_mode allows the processing of Windows messages
between packets of data incoming from the host.  Normally, incoming data is
processed before any pending Windows messages.  This atom is necessary in
situations like a chat room, where incoming data is almost continuous and
would cause delays in the processing of Windows messages.

Syntax

atom$p3_interleaved_mode <boolean_arg>

<boolean_arg> Specifies True to enable interleaved mode, False to
disable it.

Return Value

Unchanged

Example

atom$p3_interleaved_mode true

America Online Confidential 27-2  America Online, Inc. 1993-94




January 1994 FDO91 Manual, Vol. 2

atom$p3_start
1 ($01)

Description

atom$p3_start activates the p3 protocol.  Upon activation, the P3 Tool
retrieves the init packet from the database and sends it to the host.  Once the
init packet is acknowledged, the P3 Tool notifies the application that
connection has been established with the host.

Syntax

atom$p3_start

Return Value

Unchanged

Example

atom$p3_start

 America Online, Inc. 1993-94 27-3 America Online Confidential




Chapter 27: P3 Protocol January 1994

atom$p3_stop
3 ($03)

Description

atom$p3_stop shuts down the P3 protocol.

Syntax

atom$p3_stop

Return Value

Unchanged

Example

atom$p3_stop

America Online Confidential 27-4  America Online, Inc. 1993-94




January 1994 FDO91 Manual, Vol. 2

atom$p3_write
2 ($02)

Description

atom$p3_write sends data to the host.  The data must fit into one packet or it
is not sent.

Syntax

atom$p3_write <data>

<data> Specifies binary or string data.

Return Value

Unchanged

Example

atom$p3_write "This is some data to send to the host"

 America Online, Inc. 1993-94 27-5 America Online Confidential



===== END PDF: p3.pdf =====

===== BEGIN PDF: uni.pdf =====



Manual: FDO91 Manual
Chapter 7: Universal Protocol defines the universal protocol atoms and provides information for
controlling atom streams.
Last updated: July 1997




C H A P T E R  7

Universal (UNI) Protocol

The Universal (UNI) protocol (protocol ID 0) consists of atoms that provide
basic utility and control functions common to all platforms that use the FDO91
language.  This functionality includes stream execution control and atom
management, such as starting, ending, and controlling atom streams and
managing large atoms.  The protocol also supports some data manipulation
operations and client session control.

Universal Protocol Atoms

The Universal (UNI) protocol functions and their associated atoms follow:

Function Atoms

Stream execution control atom$uni_abort_stream

atom$uni_change_stream_id

atom$uni_data

atom$uni_end_loop

atom$uni_end_stream

atom$uni_force_processing

atom$uni_get_current_stream_id

atom$uni_get_first_stream

atom$uni_get_next_stream

atom$uni_get_stream_window

America Online Confidential 7-1  America Online, Inc. 1993-97




Chapter 7: Universal (UNI) Protocol July 1997

atom$uni_hold

atom$uni_invoke_local

atom$uni_invoke_local_later

atom$uni_invoke_local_preserve

atom$uni_invoke_no_context

atom$uni_set_data_length

atom$uni_start_loop

atom$uni_start_stream

atom$uni_start_stream_wait_on

atom$uni_transaction_id

atom$uni_sync_skip

atom$uni_wait_off_end_stream

Data manipulation atom$uni_convert_last_atom_data
operations

atom$uni_convert_last_atom_string

atom$uni_data

atom$uni_get_result

atom$uni_save_result

atom$uni_use_last_atom_data

atom$uni_use_last_atom_string

atom$uni_use_last_atom_value

Large atom management atom$uni_end_large_atom

atom$uni_large_atom_segment

atom$uni_start_large_atom

America Online Confidential 7-2  America Online, Inc. 1993-97




July 1997 FDO91 Manual, Vol. 1

Client session control atom$uni_cancel_action

atom$uni_set_watchdog_interval

atom$uni_start_stream_wait_on

atom$uni_wait_off

atom$uni_wait_off_end_stream

atom$uni_wait_on

Language data type for atom$uni_end_typed_data
display

atom$uni_next_atom_typed

atom$uni_start_typed_data

Atom stream debugging atom$uni_break

atom$uni_diagnostic_msg

atom$uni_single_step

atom$uni_void

The UNI protocol atoms are described in alphabetical order in the rest of this
chapter.

 America Online, Inc. 1993-97 7-3 America Online Confidential




Chapter 7: Universal (UNI) Protocol July 1997

atom$uni_abort_stream
3 ($03)

Description

atom$uni_abort_stream causes the current atom stream to be terminated.
Note that if this atom is executed in a host-to-client stream, the stream is
terminated for the current packet only.  Any atoms stored in the buffer are
ignored without further processing.

Syntax

atom$uni_abort_stream

Return Value

None.

Example

The following example terminates the current stream if the last return value is
0:

atom$uni_start_stream
.
.
.
atom$if_last_return_false <5>

ê atom$uni_abort_stream
atom$uni_sync_skip <5>
.
.
.
atom$_uni_end_stream

The example is explained as follows:

atom$if_last_return_false <5>

This example tests the last return value for a true or false state.

If the result is true, which means the last return value is false, the atoms
that appear between atom$if_last_return_false <5> and
atom$uni_sync_skip <5> are executed, followed by the atoms that
appear after atom$uni_sync_skip <5>.

America Online Confidential 7-4  America Online, Inc. 1993-97




July 1997 FDO91 Manual, Vol. 1

If the result is false, which means the last return value is true, the atoms
that appear between atom$if_last_return_false <5> and
atom$uni_sync_skip <5> are skipped, and the atoms that follow
atom$uni_sync_skip <5> are executed.

ê atom$uni_abort_stream

This example aborts the atom stream if atom$if_last_return_false <5>
evaluates to true.

atom$uni_sync_skip <5>

This atom marks the end of the true atoms, which is where execution
skips to in the atom stream if atom$if_last_return_false <5> evaluates
to false.

 America Online, Inc. 1993-97 7-5 America Online Confidential




Chapter 7: Universal (UNI) Protocol July 1997

atom$uni_break
43 ($2B)

Description

atom$uni_break breaks the processing of the current stream and invokes a
programmer’s Windows debugger.

Syntax

atom$uni_break

Return Value

None.

Example

The following example breaks the execution of the current atom stream and
invokes a programmer’s Windows debugger when the numeric value of
register A is 0:

atom$uni_start_stream
.
.
.
atom$if_numa_false_then <5>

ê atom$uni_break
atom$uni_sync_skip <5>
.
.
.
atom$_uni_end_stream

America Online Confidential 7-6  America Online, Inc. 1993-97




July 1997 FDO91 Manual, Vol. 1

atom$uni_cancel_action
49 ($31)

Description

atom$uni_cancel_action executes the cancel action associated with the top-
most form.

Syntax

atom$uni_cancel_action

Return Value

None.

Example

The following example executes the cancel action associated with the top-most
form when a member pressed the ESC key:

atom$uni_start_stream
ê atom$uni_cancel_action

.

.

.
atom$uni_end_stream

 America Online, Inc. 1993-97 7-7 America Online Confidential




Chapter 7: Universal (UNI) Protocol July 1997

atom$uni_change_stream_id
35 ($23)

Description

atom$uni_change_stream_id causes the flow of execution to change from
the current atom stream to the specified atom stream.  If the terminate flag is
set to a non-zero value, the current stream is terminated and the specified
stream is activated.  (If the specified stream ID is not valid, the current stream
is terminated.)  If the terminate flag is set to 0, the specified stream is
activated, and the current stream is put on hold until the specified stream
completes processing.

Syntax

atom$uni_change_stream_id <flag[, stream_ID]>

<flag> Specifies a 1-byte termination flag.  Values are 0 or
greater.

[<stream_ID>] Specifies an optional stream ID.  Values are 1 or
greater.

Return Value

None.

Examples

The following example terminates the current stream (ID 24) and activates
stream ID 23 when register A is greater than 99:

America Online Confidential 7-8  America Online, Inc. 1993-97




July 1997 FDO91 Manual, Vol. 1

atom$uni_start_stream
.(This is stream 23)
.
.
atom$var_number_set <B, 99>

atom$uni_start_stream
. (This is stream 24)
.
.
atom$if_numa_gt_numb_then <5>

ê atom$uni_change_stream_id <1, 23>
atom$uni_sync_skip <5>
.
.
.
atom$uni_end_stream

. (This is stream 23)

.

.
atom$uni_end_stream

The following example puts the current stream (ID 24) on hold and activates
stream ID 23 when register A is greater than 99:

atom$uni_start_stream
.(This is stream 23)
.
.
atom$var_number_set <B, 99>

atom$uni_start_stream
. (This is stream 24)
.
.
atom$if_numa_gt_numb_then <5>

ê atom$uni_change_stream_id <0, 23>
atom$uni_sync_skip <5> .
.
.
atom$uni_end_stream

. (This is stream 23)

.

.
atom$uni_end_stream

 America Online, Inc. 1993-97 7-9 America Online Confidential




Chapter 7: Universal (UNI) Protocol July 1997

atom$uni_convert_last_atom_data
45 ($2D)

Description

atom$uni_convert_last_atom_data converts the last return value to
characters and returns a pointer to the character string.  This string is valid
until another string is converted.

Syntax

atom$uni_convert_last_atom_data

Return Value

Pointer to the character string.

Example

The following example converts the last return value to characters.  For this
example, the last return value is decimal 617:

atom$uni_start_stream
.
.
.
atom$man_set_context_relative <56>
atom$var_lookup_by_id <A, 23>
atom$var_number_get <A>
atom$uni_save_result
.
.
.
atom$man_change_context_relative <11>
atom$uni_get_result

ê atom$uni_convert_last_atom_data
atom$uni_use_last_atom_string <atom$man_replace_data>
atom$man_end_context
.
.
atom$man_update_display
atom$uni_end_stream

The result of this example is that a pointer to the string "617" is returned and
placed in object 11.

America Online Confidential 7-10  America Online, Inc. 1993-97




July 1997 FDO91 Manual, Vol. 1

atom$uni_convert_last_atom_string
42 ($2A)

Description

atom$uni_convert_last_atom_string converts the last string return value to a
numeric value and returns the result.  (Note that valid string values are null-
terminated.)

Syntax

atom$uni_convert_last_atom_string

Return Value

Numeric value of the string.

Example

The following example converts the last string return value to a numeric value.
For this example, the last return value points to the string "123:"

atom$uni_start_stream
.
.
.
atom$man_set_context_relative <56>
atom$var_lookup_by_id <A, 23>
atom$var_string_get <A>
atom$uni_save_result
.
.
.
atom$man_change_context_relative <11>
atom$uni_get_result

ê atom$uni_convert_last_atom_string
atom$uni_use_last_atom_value <atom$var_number_set, A>
atom$var_number_save <A, 10>
atom$man_end_context
.
.
atom$man_update_display
atom$uni_end_stream

The result of this example is that the return value is 123 in decimal, and it is
saved in register 10 for object 11.

 America Online, Inc. 1993-97 7-11 America Online Confidential




Chapter 7: Universal (UNI) Protocol July 1997

atom$uni_data
14 ($0E)

Description

atom$uni_data delivers raw data in a stream to the host.  The preceding
atoms set the machine state and context for the type of data expected.

Syntax

atom$uni_data <raw_data>

<raw_data> Specifies the raw data to be sent.

Return Value

Pointer to the raw data specified.

Example

The following example sends raw data to the host:

atom$reg_data_type <reg_data_city>
ê atom$uni_data <56x 69x 65x 6Ex 6Ex 61x>

The example is explained as follows:

atom$reg_data_type <reg_data_city>

Tells a host register process during new member registration to expect
data describing the member's city.

ê atom$uni_data <56x 69x 65x 6Ex 6Ex 61x>

Transmits the data (56x 69x 65x 6Ex 6Ex 61x) that indicates the new
member's city (Vienna) to the host.

America Online Confidential 7-12  America Online, Inc. 1993-97




July 1997 FDO91 Manual, Vol. 1

atom$uni_diagnostic_msg
36 ($24)

Description

atom$uni_diagnostic_msg lets you put status notification messages in
streams.  This atom is used for debugging purposes.

Syntax

atom$uni_diagnostic_msg <flag[, string]>

<flag> Specifies a 1-byte debug flag, which is currently not
used.  The default value is 0.

[<string>] Specifies an optional message string.

Return Value

None.

Example

The following example displays a status notification message for testing
purposes:

atom$uni_start_stream
.
.
.

ê atom$uni_diagnostic_msg <0, "Create toolbar">
.
.
.
atom$uni_end_stream

When this atom command is executed, the message "Create toolbar" appears
on screen.  You can insert this command into an atom stream prior to atoms
that create and display a toolbar.  If errors are occurring and you think the
toolbar is causing them, this command lets you easily pinpoint the problem.

 America Online, Inc. 1993-97 7-13 America Online Confidential




Chapter 7: Universal (UNI) Protocol July 1997

atom$uni_end_large_atom
6 ($06)

Description

atom$uni_end_large_atom completes the large atom being collected (started
with atom$uni_start_large_atom).  For efficiency purposes, the Atomizer
tool mathematically determines whether or not to construct a large atom.

Syntax

atom$uni_end_large_atom [<data>]

[<data>] Specifies optional unlimited data.

Return Value

Result of the atom processed.

Examples

The following example assembles large amounts of text into a large atom via
the Atomizer tool:

atom$uni_start_large_atom <atom$man_text, 32>
atom$uni_large_atom_segment <Text goes here...>

ê atom$uni_end_large_atom <Rest of text goes here...>

The example is explained as follows:

atom$uni_start_large_atom <atom$man_text, 32>

Starts a large atom that assembles data into 0 or more segments.

<atom$man_text> Indicates that the large atom is an
atom$man_text atom.

<32> Indicates that the length of the large atom is 32
bytes.

atom$uni_large_atom_segment <Text goes here...>

Assembles the data being sent into as many segments as necessary.

America Online Confidential 7-14  America Online, Inc. 1993-97




July 1997 FDO91 Manual, Vol. 1

ê atom$uni_end_large_atom <Rest of text goes here...>

Sends the rest of the text, if more exists, and ends the large atom.

 America Online, Inc. 1993-97 7-15 America Online Confidential




Chapter 7: Universal (UNI) Protocol July 1997

atom$uni_end_loop
9 ($09)

Description

atom$uni_end_loop designates the end of a series of atoms that can be
repeated.  This atom is used in conjunction with the atom$uni_start_loop
command.

Syntax

atom$uni_end_loop

Return Value

None.

Example

The following example illustrates the use of a stream execution loop, which
will append "Hello there" 10 times to the object in context:

atom$var_number_set <A, 10>
atom$var_number_set <B, 0>
atom$uni_start_loop
atom$man_append_data <"Hello there">
atom$var_number_decrement <A>
atom$if_numa_neq_numb_then <35>

ê atom$uni_end_loop
atom$uni_sync_skip <35>

The example is explained as follows:

atom$var_number_set <A, 10>

Sets the numeric area of register A to 10.

atom$var_number_set <B, 0>

Sets the numeric area of register B to 0.

atom$uni_start_loop

Defines the beginning of a loop that will repeatedly execute atoms until
a specified termination point is reached.  In this case, the loop will
continue until the numeric value of register A reaches 0.

America Online Confidential 7-16  America Online, Inc. 1993-97




July 1997 FDO91 Manual, Vol. 1

atom$man_append_data <"Hello there">

Appends the text "Hello there" to the current object.

atom$var_number_decrement <A>

Decrements the numeric value of register A by 1, which results in a
value of 9.

atom$if_numa_neq_numb_then <35>

Compares the numeric content of register A with the numeric content
of register B to see if they are equal.

After the first execution of the loop, the register A numeric content is 9
and register B numeric content is 0 so this command evaluates to false
and execution returns to the beginning of the loop.

The loop executes until the register A numeric content is decremented
to 0.  At that point, this command evaluates to true, and
atom$uni_end_loop is executed, followed by atom$uni_sync_skip
<35>.

ê atom$uni_end_loop

Defines the end of the loop.

atom$uni_sync_skip <35>

Processing continues here after atom$if_numa_neq_numb_then
<35> evaluates to true and the loop is terminated.

 America Online, Inc. 1993-97 7-17 America Online Confidential




Chapter 7: Universal (UNI) Protocol July 1997

atom$uni_end_stream
2 ($02)

Description

atom$uni_end_stream designates the end of the current atom stream.

Syntax

atom$uni_end_stream

Return Value

None.

Example

The following example terminates the processing of an atom stream:

atom$uni_start_stream
.
.
.

ê atom$uni_end_stream

America Online Confidential 7-18  America Online, Inc. 1993-97




July 1997 FDO91 Manual, Vol. 1

atom$uni_end_typed_data
24 ($18)

atom$uni_end_type_data is described in Appendix B, "Internationalization
(i18n) Atoms."

 America Online, Inc. 1993-97 7-19 America Online Confidential




Chapter 7: Universal (UNI) Protocol July 1997

atom$uni_force_processing
32 ($20)

Description

atom$uni_force_processing signals the client computer to change the normal
atom processing mode that processes each atom in the stream as it is received
to a mode that collects and then processes the buffered chunks of atoms from a
stream received.

Note that whenever this atom arrives, any buffered atoms are processed before
the processing mode is changed.  This lets this atom precisely define the
processing chunks where required.

Syntax

atom$uni_force_processing <word>

<word> Specifies the processing mode of the atom stream.
Values are as follows:

EVERY Processes all atoms as they arrive (as
normal).

AT_END Processes no atoms until the end of
the stream.

Return Value

None.

Example

The following example changes the execution mode to defer atom processing
until the end of the stream is reached:

atom$uni_start_stream
.
.
.

ê atom$uni_force_processing <AT_END>
atom$uni_end_stream
atom$uni_start_stream
.
.
.
atom$uni_end_stream

America Online Confidential 7-20  America Online, Inc. 1993-97




July 1997 FDO91 Manual, Vol. 1

atom$uni_get_current_stream_id
50 ($32)

Description

atom$uni_get_current_stream_id returns the ID of the current stream.

Syntax

atom$uni_get_current_stream_id

Return Value

ID of the current stream.

Example

The following example gets the ID of the current stream:

atom$uni_start_stream
.
.
.

atom$uni_start_stream
.
.
.

ê atom$uni_get_current_stream_id
.
.
.
atom$uni_end_stream

.

.

.
atom$uni_end_stream

 America Online, Inc. 1993-97 7-21 America Online Confidential




Chapter 7: Universal (UNI) Protocol July 1997

atom$uni_get_first_stream
46 ($2E)

Description

atom$uni_get_first_stream returns the ID of the first stream in the list of
open streams.

Syntax

atom$uni_get_first_stream

Return Value

ID of first open stream.

Example

The following example gets the ID of the first stream that was opened:

atom$uni_start_stream
.
.
.

atom$uni_start_stream
.
.
.

atom$uni_start_stream
.
.
.

ê atom$uni_get_first_stream
.
.
.
atom$uni_end_stream

.

.

.
atom$uni_end_stream

.

.

.
atom$uni_end_stream

America Online Confidential 7-22  America Online, Inc. 1993-97




July 1997 FDO91 Manual, Vol. 1

atom$uni_get_next_stream
47 ($2F)

Description

atom$uni_get_next_stream returns the ID of the next stream in the open
stream list.

Syntax

atom$uni_get_next_steam

Return Value

ID of next open stream.

Example

The following example gets the ID of the next stream:

atom$uni_start_stream
.
.
.

atom$uni_start_stream
.
.
.

atom$uni_start_stream
.
.
.
atom$uni_get_first_stream

ê atom$uni_get_next_stream
.
.
.
atom$uni_end_stream

.

.

.
atom$uni_end_stream

.

.

.
atom$uni_end_stream

The example is explained as follows:

 America Online, Inc. 1993-97 7-23 America Online Confidential




Chapter 7: Universal (UNI) Protocol July 1997

atom$uni_get_first_stream

Gets the ID of the first open stream.

ê atom$uni_get_next_stream

Gets the ID of the next open stream.

America Online Confidential 7-24  America Online, Inc. 1993-97




July 1997 FDO91 Manual, Vol. 1

atom$uni_get_result
21 ($15)

Description

atom$uni_get_result gets the result of the previous atom$uni_save_result
atom and then uses it for the next atom.

Syntax

atom$uni_get_result

Return Value

Value of the last saved atom result.

Example

The following example executes atom$uni_get_result that gets the numeric
value that was saved with atom$uni_save_result in a previous operation.  For
this example, the last save result is decimal 617.

atom$uni_start_stream
.
.
.
atom$man_set_context_relative <56>
atom$var_lookup_by_id <A, 23>
atom$var_number_get <A>
atom$uni_save_result
.
.
.
atom$man_change_context_relative <11>

ê atom$uni_get_result
atom$uni_convert_last_atom_data
atom$uni_use_last_atom_string <atom$man_replace_data>
atom$man_end_context
.
.
atom$man_update_display
atom$uni_end_stream

The result of this example is that a pointer to the string "617" is returned and
placed in object 11.

 America Online, Inc. 1993-97 7-25 America Online Confidential




Chapter 7: Universal (UNI) Protocol July 1997

atom$uni_get_stream_window
48 ($30)

Description

atom$uni_get_stream_window returns the global ID of the window
associated with the specified stream or that of the current stream if no stream
ID is specified.

Syntax

atom$uni_get_steam_window [<dword>]

[<dword>] Specifies an optional stream ID.

Return Value

Global ID of the window.

Example

The following example gets the global ID of a window that is associated with
the current stream:

atom$uni_start_stream
.
.
.

atom$uni_start_stream
.
.
.

ê atom$uni_get_stream_window
.
.
.
atom$uni_end_stream

.

.

.
atom$uni_end_stream

America Online Confidential 7-26  America Online, Inc. 1993-97




July 1997 FDO91 Manual, Vol. 1

atom$uni_hold
37 ($25)

Description

atom$uni_hold causes the specified atom stream to be placed on hold.  If no
stream ID is specified, the current stream is held.

Syntax

atom$uni_hold [<dword>]

[<dword>] Specifies an optional stream ID.

Return Value

None.

Examples

The following example places the current stream on hold:

atom$uni_start_stream
.
.
.

atom$uni_start_stream
.
.
.

ê atom$uni_hold
.(This stream on hold)
.
.
atom$uni_end_stream

.

.

.
atom$uni_end_stream

The following example places a stream with an ID of 23 on hold:

 America Online, Inc. 1993-97 7-27 America Online Confidential




Chapter 7: Universal (UNI) Protocol July 1997

atom$uni_start_stream
.(This is stream 23)
.
.

atom$uni_start_stream
.
.
.

ê atom$uni_hold <23>
.
.
.
atom$uni_end_stream

. (This stream on hold)

.

.
atom$uni_end_stream

America Online Confidential 7-28  America Online, Inc. 1993-97




July 1997 FDO91 Manual, Vol. 1

atom$uni_invoke_local
20 ($14)

Description

atom$uni_invoke_local invokes the atom stream contained in the specified
database record.  This may be a complete atom stream or a fragment.  The
context of the current object is assumed when this record is invoked.  The
context for the next atom processed is based on the final context of the
database record processed.

Syntax

atom$uni_invoke_local <dword>

<dword> Specifies a database record.

Return Value

Database record from which the atom stream was invoked.

Example

The following example invokes a stream retrieved from a database record:

atom$uni_start_stream
atom$man_set_context_relative <56>
.
.
.

ê atom$uni_invoke_local <3005>
.
.
.
atom$uni_end_stream

.

.

.
atom$uni_end_stream

The result of this example is that database record 3005 is looked up and given
to the Atomizer tool for processing.

 America Online, Inc. 1993-97 7-29 America Online Confidential




Chapter 7: Universal (UNI) Protocol July 1997

atom$uni_invoke_local_later
41 ($29)

Description

atom$uni_invoke_local_later invokes the atom stream contained in the given
database record when the next client computer idle period begins.  This may be
a complete atom stream or a fragment.  The context of the current object is
assumed when this record is invoked.

Syntax

atom$uni_invoke_local_later <dword>

<dword> Specifies a database record.

Return Value

Database record from which the atom stream was invoked.

Example

The following example retrieves a stream from a database record and invokes
it when the client computer is idle:

atom$uni_start_stream
atom$man_set_context_relative <56>
.
.
.

ê atom$uni_invoke_local_later <1206>
.
.
.
atom$man_end_context
atom$uni_end_stream
atom$uni_start_stream

. (This is stream 1206)

.

.
atom$uni_end_stream

The result of this example is that database record 1206 is looked up and given
to the Atomizer tool for processing when the client application is idle.

America Online Confidential 7-30  America Online, Inc. 1993-97




July 1997 FDO91 Manual, Vol. 1

atom$uni_invoke_local_preserve
40 ($28)

Description

atom$uni_invoke_local_preserve preserves the context of the current object
when the atom stream contained in the given database record is invoked.  This
may be a complete atom stream or a fragment.  After the database record is
processed, the next atom processed will have context restored to its normal
state (the current object).

Syntax

atom$uni_invoke_local_preserve <dword>

<dword> Specifies a database record.

Return Value

Database record from which the atom stream was invoked.

Example

The following example retrieves a stream from the database and invokes it
while preserving the context of the current object:

atom$uni_start_stream
atom$man_set_context_relative <56>
.
.
.

ê atom$uni_invoke_local_preserve <3141>
.
.
.
atom$uni_end_stream

.(This is object context 56)

.

.
atom$uni_end_stream

The result of this example is that database record 3141 is looked up and given
to the Atomizer tool for processing.

 America Online, Inc. 1993-97 7-31 America Online Confidential




Chapter 7: Universal (UNI) Protocol July 1997

atom$uni_invoke_no_context
19 ($13)

Description

atom$uni_invoke_no_context invokes the atom stream contained in the given
database record.  This may be a complete atom stream or a fragment.  The
context of the current object is ignored when this record is invoked.  The
context for the next atom processed is based on the final context of the
database record processed.

Syntax

atom$uni_invoke_no_context <dword>

<dword> Specifies a database record.

Return Value

Database record from which the atom stream was invoked.

Example

The following example retrieves a stream from the database and invokes it
while ignoring the context of the current object:

atom$uni_start_stream
atom$man_set_context_relative <56>
.
.
.

ê atom$uni_invoke_no_context <721>
.
.
.
atom$uni_end_stream

.

.

.
atom$uni_end_stream

The result of this example is that database record 721 is looked up and given to
the Atomizer tool for processing.

America Online Confidential 7-32  America Online, Inc. 1993-97




July 1997 FDO91 Manual, Vol. 1

atom$uni_large_atom_segment
5 ($05)

Description

atom$uni_large_atom_segment adds data to the large atom being processed.
Zero or more large atom segments can follow atom$uni_start_large_atom.
For efficiency purposes, the Atomizer tool mathematically determines whether
or not to construct a large atom.

Syntax

atom$uni_large_atom_segment <data>

<data> Specifies a large segment of data.

Return Value

None

Example

The following example splits large amounts of data into several atom
segments:

atom$uni_start_large_atom <atom$man_append_data, 32>
ê atom$uni_large_atom_segment <Data goes here...>

.

.
(More atom$uni_large_atom_segment atoms, if necessary)
.
.
atom$uni_end_large_atom

The example is explained as follows:

atom$uni_start_large_atom <atom$man_append_data, 32>

Starts a large atom that assembles data into 0 or more segments.

<atom$man_append_ Indicates that the large atom is an
data> atom$man_append_data atom.

<32> Indicates that the length of the large atom is 32
bytes.

 America Online, Inc. 1993-97 7-33 America Online Confidential




Chapter 7: Universal (UNI) Protocol July 1997

ê atom$uni_large_atom_segment <Data goes here...>

Assembles the data being sent into as many segments as necessary.

atom$uni_end_large_atom

Ends the large atom.

America Online Confidential 7-34  America Online, Inc. 1993-97




July 1997 FDO91 Manual, Vol. 1

atom$uni_next_atom_typed
22 ($16)

atom$uni_next_atom_typed is described in Appendix B,
"Internationalization (i18n) Atoms."

 America Online, Inc. 1993-97 7-35 America Online Confidential




Chapter 7: Universal (UNI) Protocol July 1997

atom$uni_save_result
12 ($0C)

Description

atom$uni_save_result saves the result of the last atom executed.  Only one
atom result can be saved at a time.

Syntax

atom$uni_save_result

Return Value

None.

Example

The following example saves the result of the last atom value for later use:

atom$uni_start_stream
.
.
.
atom$man_set_context_relative <56>
atom$var_lookup_by_id <A, 23>
atom$var_number_get <A>

ê atom$uni_save_result
.
.
.
atom$man_change_context_relative <11>
atom$uni_get_result
atom$uni_convert_last_atom_data
atom$uni_use_last_atom_string <atom$man_replace_data>
atom$man_end_context
.
.
atom$man_update_display
atom$uni_end_stream

America Online Confidential 7-36  America Online, Inc. 1993-97




July 1997 FDO91 Manual, Vol. 1

atom$uni_set_data_length
51 ($33)

Description

atom$uni_set_data_length sets the default data length for the current stream.

Syntax

atom$uni_set_data_length <data_length>

<data_length> Specifies the default data length in bytes.

Return Value

None.

Example

The following example sets the default data length for the current stream to 4
bytes:

atom$uni_start_stream
ê atom$uni_set_data_length <4>

.

.

.
atom$uni_end_stream

 America Online, Inc. 1993-97 7-37 America Online Confidential




Chapter 7: Universal (UNI) Protocol July 1997

atom$uni_set_watchdog_interval
53 ($35)

Description

atom$uni_set_watchdog_interval sets the amount of time that elapses before
the client's watchdog timer expires.  The watchdog timer is used to detect
when the host has failed to respond to a request.

When the watchdog interval has expired, an abort action is triggered.  The
standard abort action is to turn off the wait cursor and display a dialog stating
The host has failed to respond.  Please continue.  An abort action is defined
using atom$act_set_criterion <17>, which specifies a timeout action.

Syntax

atom$uni_set_watchdog_interval <dword>

<dword> Specifies the watchdog interval in a client-dependent
unit of time.  Values are 1 tick or greater.  (For
example, the unit of time for the Windows client
application is ticks, where 1 tick = 1/60th of a second.)

Return Value

None.

Example

The following example sets the watchdog interval to 45 seconds:

atom$uni_start_stream
.
.
.

ê atom$uni_set_watchdog_interval <2700>
.
.
.
atom$uni_end_stream

The result of this example is that the watchdog interval is set to 45 seconds
(2700 divided by 60 = 45).  This means that the client will wait for 45 seconds
for the host to respond before giving up and performing a specified abort
action.

America Online Confidential 7-38  America Online, Inc. 1993-97




July 1997 FDO91 Manual, Vol. 1

atom$uni_single_step
44 ($2C)

Description

atom$uni_single_step invokes or terminates single step execution of atoms in
the stream.  For each atom, the Single Stepper Dialog box appears and lets you
modify any Action register value and the atom’s data.   

Syntax

atom$uni_single_step [<boolean>]

[<boolean>] Invokes or terminates the single step atom execution
mode.  Values are as follows:

0 Invokes the single step execution mode. 
(Default)

1 Terminates the single step execution mode.

Return Value

None.

Examples

The following example invokes the single step atom execution mode:

atom$uni_single_step

The following example terminates the single step atom execution mode:

atom$uni_single_step <1>

 America Online, Inc. 1993-97 7-39 America Online Confidential




Chapter 7: Universal (UNI) Protocol July 1997

atom$uni_start_large_atom
4 ($04)

Description

atom$uni_start_large_atom marks the beginning of a large atom.  A large
atom is an atom that does not fit in a data packet.  The size limit for a large
atom is 64K bytes.  Each time a large atom is sent, it needs to be broken into a
stream of atoms that begins with atom$uni_start_large_atom and ends with
atom$uni_end_large_atom, with 0 or more atom$uni_large_atom_segment
atoms in between.

For efficiency purposes, the Atomizer tool mathematically determines whether
or not to construct a large atom.

Syntax for VP Designer

atom$uni_start_large_atom <atom, atom_length>

Syntax for form_edit

atom$uni_start_large_atom <proto> <atom> <atom_length>

<proto> This argument is not used for VP Designer.

For form_edit, this argument specifies a protocol name
to which the large atom belongs.  The possible protocol
names are prefixed prot$ and are defined on Stratus in
arclient>atoms_dir>protocols.file.  Some typical
values are as follows:

prot$uni — Universal Protocol

prot$display — Display Manager Protocol

prot$action — Action Protocol

prot$extract — Data Manager Protocol

prot$buffer — Buffer Protocol

prot$database — Database Manager Protocol

prot$xfer — File Transfer Protocol

America Online Confidential 7-40  America Online, Inc. 1993-97




July 1997 FDO91 Manual, Vol. 1

prot$file — File Manager Protocol

prot$list — List Manager Protocol

prot$code — Code Manager Protocol

prot$chat — Chat Protocol

prot$var — Variable Protocol

prot$async — Async Protocol

prot$shorthand — Shorthand Protocol

prot$if — IF Protocol

prot$mat — Display Attributes Protocol

prot$mip — Message Interchange Protocol

prot$reg — Registration Protocol

prot$mmi — Multimedia Interface Protocol

prot$imgxfer — Image Transfer Protocol

prot$image — Image Manager Protocol

prot$chart — Chart Protocol

prot$morg — Multimedia Organizer Protocol

prot$rich — Rich Protocol

prot$exapi — External API Protocol

prot$ccl — CCL Protocol

prot$p3 — P3 Protocol

prot$pakman — File Decompression Protocol

prot$address — Address Protocol

prot$mt — Debugging Protocol

 America Online, Inc. 1993-97 7-41 America Online Confidential




Chapter 7: Universal (UNI) Protocol July 1997

<atom> Specifies an atom used to interpret the atom stream
once it has been completely received.

<atom_length> Specifies an atom length that provides the receiver with
an upper limit on the length of the large atom.  Although
this value can be used for memory allocation purposes,
the true length of the large atom is measured.

Return Value

None.

Example

The following example assembles large amounts of text into a large atom:

ê atom$uni_start_large_atom <atom$man_text, 32>
atom$uni_large_atom_segment <Text goes here...>
atom$uni_end_large_atom

The example is explained as follows:

ê atom$uni_start_large_atom <atom$man_text, 32>

Starts a large atom that assembles data into 0 or more segments.

<atom$man_text> Indicates that the large atom is
atom$man_text.

<32> Indicates that the length of the large atom is 32
bytes.

atom$uni_large_atom_segment <Text goes here...>

Assembles the data being sent into as many segments as necessary.

atom$uni_end_large_atom

Ends the large atom.

America Online Confidential 7-42  America Online, Inc. 1993-97




July 1997 FDO91 Manual, Vol. 1

atom$uni_start_loop
8 ($08)

Description

atom$uni_start_loop designates the beginning of a series of atom executions
that can be repeated.  This atom is used in conjunction with
atom$uni_end_loop.  The only way to break out of the loop is with an atom
from the Conditional protocol.  For more information, see Chapter 5,
"Conditional (IF) Protocol."

Syntax

atom$uni_start_loop

Return Value

None.

Example

The following example appends "Hello there" 10 times to the object in context
using an atom processing loop:

atom$var_number_set <A, 10>
atom$var_number_set <B, 0>

ê atom$uni_start_loop
atom$man_append_data <"Hello there">
atom$var_number_decrement <A>
atom$if_numa_neq_numb_then <35>
atom$uni_end_loop
atom$uni_sync_skip <35>

The example is explained as follows:

atom$var_number_set <A, 10>

Sets the numeric area of register A to 10.

atom$var_number_set <B, 0>

Sets the numeric area of register B to 0.

 America Online, Inc. 1993-97 7-43 America Online Confidential




Chapter 7: Universal (UNI) Protocol July 1997

ê atom$uni_start_loop

Defines the beginning of a loop that will repeatedly execute atoms until
a specified termination point is reached.  In this case, the loop will
continue until the numeric value of register A reaches 0.

atom$man_append_data <"Hello there">

Appends the text "Hello there" to the current object.

atom$var_number_decrement <A>

Decrements the numeric value of register A by 1, which gives it a value
of 9.

atom$if_numa_neq_numb_then <35>

Compares the numeric content of register A to the numeric content of
register B to see if they are equal.

After the first execution of the loop, the numeric value of register A is
9 and the numeric value of register B is 0 so this command evaluates to
false and execution returns to the beginning of the loop.

The loop executes until the numeric value of register A is decremented
to 0.  At that point, this command evaluates to true, and
atom$uni_end_loop is executed, followed by atom$uni_sync_skip
<35>.

atom$uni_end_loop

Defines the end of the loop.

atom$uni_sync_skip <35>

Processing continues here after atom$if_numa_neq_numb_then
<35> evaluates to true and the loop is terminated.

America Online Confidential 7-44  America Online, Inc. 1993-97




July 1997 FDO91 Manual, Vol. 1

atom$uni_start_stream
1 ($01)

Description

atom$uni_start_stream appears at the beginning of every atom stream.  An
atom stream can have multiple or nested atom$uni_start_stream entries.

Syntax

atom$uni_start_stream

Return Value

None.

Example

The following example shows the initiation of two streams, one nested within
the other:

ê atom$uni_start_stream
.
.
.

ê atom$uni_start_stream
.
.
.
atom$uni_end_stream

.

.

.
atom$uni_end_stream

The example is explained as follows:

ê atom$uni_start_stream

Signifies the beginning of an atom stream.

atom$uni_end_stream

Signifies the end of an atom stream.

 America Online, Inc. 1993-97 7-45 America Online Confidential




Chapter 7: Universal (UNI) Protocol July 1997

atom$uni_start_stream_wait_on
17 ($11)

Description

atom$uni_start_stream_wait_on is identical to atom$uni_start_stream
with the exception that it turns the wait cursor on.  Atom streams may have
multiple or nested atom$uni_start_stream_wait_on atoms.

Syntax

atom$uni_start_stream_wait_on

Return Value

None.

Example

The following example starts an atom stream and simultaneously turns on the
wait cursor.

ê atom$uni_start_stream_wait_on
atom$sm_check_domain
atom$de_start_extraction
atom$de_validate <display | terminate>
.
.
.
atom$uni_end_stream

America Online Confidential 7-46  America Online, Inc. 1993-97




July 1997 FDO91 Manual, Vol. 1

atom$uni_start_typed_data
23 ($17)

atom$uni_start_typed_data is described in Appendix B,
"Internationalization (i18n) Atoms."

 America Online, Inc. 1993-97 7-47 America Online Confidential




Chapter 7: Universal (UNI) Protocol July 1997

atom$uni_sync_skip
7 ($07)

Description

atom$uni_sync_skip serves as a label to mark the end of a conditional stream.
This atom is used with atoms in the IF protocol.  For more information, see
Chapter 5, "Conditional (IF) Protocol."

Syntax

atom$uni_sync_skip <label>

<label> Specifies a numeric value for a label that marks the end
of the conditional stream.

Return Value

None.

Example

The following example illustrates the use of this atom to mark the end of
conditional streams:

atom$if_online_then <1, 2>
.
.  (Atoms to execute if the atom evaluates to true...)
.

ê atom$uni_sync_skip <1>
.
.  (Atoms to execute if the atom evaluates to false...)
.

ê atom$uni_sync_skip <2>
.
.  (Stream execution continues here after execution of true or false atoms...)
.

The example is explained as follows:

atom$if_online_then <1, 2>

The result of this example evaluates to true if the member is online or
false if the member is offline.  If the member is online (true), the atoms
that immediately follow are executed.  If the member is offline (false),
the atoms that fall between atom$uni_sync_skip <1>  and
atom$uni_sync_skip <2> are executed.

America Online Confidential 7-48  America Online, Inc. 1993-97




July 1997 FDO91 Manual, Vol. 1

ê atom$uni_sync_skip <1>

Marks the end of the true atom stream.  When atom$if_online_then
<1, 2> evaluates to true, the true atoms are executed, the false atoms
are skipped, and stream execution continues after
atom$uni_sync_skip <2>.

ê atom$uni_sync_skip <2>

Marks the end of the false atom stream.  When atom$if_online_then
<1, 2>  evaluates to false, the true atoms are skipped, the false atoms
are executed, and stream execution continues immediately following
this atom.

 America Online, Inc. 1993-97 7-49 America Online Confidential




Chapter 7: Universal (UNI) Protocol July 1997

atom$uni_transaction_id
3C ($13)

Description

atom$uni_transaction_id associates an ID to the transaction in progress
between the host and client application.  Transaction IDs are generated by the
client application.  Because stream IDs are not always unique, transaction IDs
may be required.

Syntax

atom$uni_transaction_id <dword>

<dword> Specifies the transaction ID.  Values are 1 or greater.

Return Value

None.

Example

The following example assigns a transaction ID of 1 to a data on demand
(DOD) activity:

atom$uni_start_stream
atom$dod_start

ê atom$uni_transaction_id <1>
atom$dod_hints <00x, 2ax, 00x, 2ax>
atom$dod_end
atom$uni_end_stream

America Online Confidential 7-50  America Online, Inc. 1993-97




July 1997 FDO91 Manual, Vol. 1

atom$uni_use_last_atom_data
52 ($34)

Description

atom$uni_use_last_atom_data executes the specified atom using the data
pointed to by the return value of the previously executed atom.  This atom can
append the data content of an input field to a database.

Syntax for VP Designer

atom$uni_use_last_atom_data <atom[, data]>

Syntax for form_edit

atom$uni_use_last_atom_data  <proto> <atom> [<data>]

<proto> This argument is not used for VP Designer.

For form_edit, this argument specifies the protocol of
the atom to execute.  The possible protocol names are
prefixed prot$ and are defined on Stratus in
arclient>atoms_dir>protocols.file.  Some typical
values are as follows:

prot$uni — Universal Protocol

prot$display — Display Manager Protocol

prot$action — Action Protocol

prot$extract — Data Manager Protocol

prot$buffer — Buffer Protocol

prot$database — Database Manager Protocol

prot$xfer — File Transfer Protocol

prot$file — File Manager Protocol

prot$list — List Manager Protocol

prot$code — Code Manager Protocol

 America Online, Inc. 1993-97 7-51 America Online Confidential




Chapter 7: Universal (UNI) Protocol July 1997

prot$chat — Chat Protocol

prot$var — Variable Protocol

prot$async — Async Protocol

prot$shorthand — Shorthand Protocol

prot$if — IF Protocol

prot$mat — Display Attributes Protocol

prot$mip — Message Interchange Protocol

prot$reg — Registration Protocol

prot$mmi — Multimedia Interface Protocol

prot$imgxfer — Image Transfer Protocol

prot$image — Image Manager Protocol

prot$chart — Chart Protocol

prot$morg — Multimedia Organizer Protocol

prot$rich — Rich Protocol

prot$exapi — External API Protocol

prot$ccl — CCL Protocol

prot$p3 — P3 Protocol

prot$pakman — File Decompression Protocol

prot$address — Address Protocol

prot$mt — Debugging Protocol

<atom> Specifies the target atom to execute using a return value
(raw data) from a preceding atom as its argument.

[<data>] Specifies optional data.

America Online Confidential 7-52  America Online, Inc. 1993-97




July 1997 FDO91 Manual, Vol. 1

Return Value

Return value resulting from the execution of the specified atom.

Example

The following example appends data base record 32-12-345 with the data
saved from a previous operation provided that the data is not 0:

atom$uni_start_stream
.
.
.
atom$man_set_context_relative <56>
atom$var_lookup_by_id <A, 123>
atom$var_data_get <A>
.
.
.
atom$if_data_neq_zero_then <10>
atom$idb_set_context <32-12-345>

ê atom$uni_use_last_atom_data <atom$idb_append_data>
atom$idb_end_context
atom$man_end_context
atom$uni_sync_skip <10>
.
.
.
atom$uni_end_stream

 America Online, Inc. 1993-97 7-53 America Online Confidential




Chapter 7: Universal (UNI) Protocol July 1997

atom$uni_use_last_atom_string
10 ($0A)

Description

atom$uni_use_last_atom_string executes the specified atom using the string
value returned by the previously executed atom.

Syntax for VP Designer

atom$uni_use_last_atom_string  <atom[, data]>

Syntax for form_edit

atom$uni_use_last_atom_string  <proto> <atom> [<data>]

<proto> This argument is not used for VP Designer.

For form_edit, this argument specifies a protocol name.
The possible protocol names are prefixed prot$ and are
defined on Stratus in
arclient>atoms_dir>protocols.file.  Some typical
values are as follows:

prot$uni — Universal Protocol

prot$display — Display Manager Protocol

prot$action — Action Protocol

prot$extract — Data Manager Protocol

prot$buffer — Buffer Protocol

prot$database — Database Manager Protocol

prot$xfer — File Transfer Protocol

prot$file — File Manager Protocol

prot$list — List Manager Protocol

prot$code — Code Manager Protocol

America Online Confidential 7-54  America Online, Inc. 1993-97




July 1997 FDO91 Manual, Vol. 1

prot$chat — Chat Protocol

prot$var — Variable Protocol

prot$async — Async Protocol

prot$shorthand — Shorthand Protocol

prot$if — IF Protocol

prot$mat — Display Attributes Protocol

prot$mip — Message Interchange Protocol

prot$reg — Registration Protocol

prot$mmi — Multimedia Interface Protocol

prot$imgxfer — Image Transfer Protocol

prot$image — Image Manager Protocol

prot$chart — Chart Protocol

prot$morg — Multimedia Organizer Protocol

prot$rich — Rich Protocol

prot$exapi — External API Protocol

prot$ccl — CCL Protocol

prot$p3 — P3 Protocol

prot$pakman — File Decompression Protocol

prot$address — Address Protocol

prot$mt — Debugging Protocol

<atom> Specifies an atom to execute using a return value
(string) from a preceding atom as its argument.

[<data>] Specifies optional data.

 America Online, Inc. 1993-97 7-55 America Online Confidential




Chapter 7: Universal (UNI) Protocol July 1997

Return Value

Result of the processed atom.

Example

The following example executes the atom$man_replace_data atom that
replaces a string to object 11, which resulted from the data conversion by the
previously executed atom:

atom$uni_start_stream
.
.
.
atom$man_set_context_relative <56>
atom$var_lookup_by_id <A, 23>
atom$var_number_get <A>
atom$uni_save_result
.
.
.
atom$man_change_context_relative <11>
atom$uni_get_result
atom$uni_convert_last_atom_data

ê atom$uni_use_last_atom_string <atom$man_replace_data>
atom$man_end_context
.
.
atom$man_update_display
atom$uni_end_stream

America Online Confidential 7-56  America Online, Inc. 1993-97




July 1997 FDO91 Manual, Vol. 1

atom$uni_use_last_atom_value
11 ($0B)

Description

atom$uni_use_last_atom_value executes the specified atom using the
numeric value returned by the previously executed atom.

Syntax for VP Designer

atom$uni_use_last_atom_value <atom[, data>]

Syntax for form_edit

atom$uni_use_last_atom_value <proto> <atom> [<data>]

<proto> This argument is not used for VP Designer.

For form_edit, this argument specifies a protocol name.
The possible protocol names are prefixed prot$ and are
defined on Stratus in
arclient>atoms_dir>protocols.file.  Some typical
values are as follows:

prot$uni — Universal Protocol

prot$display — Display Manager Protocol

prot$action — Action Protocol

prot$extract — Data Manager Protocol

prot$buffer — Buffer Protocol

prot$database — Database Manager Protocol

prot$xfer — File Transfer Protocol

prot$file — File Manager Protocol

prot$list — List Manager Protocol

prot$code — Code Manager Protocol

 America Online, Inc. 1993-97 7-57 America Online Confidential




Chapter 7: Universal (UNI) Protocol July 1997

prot$chat — Chat Protocol

prot$var — Variable Protocol

prot$async — Async Protocol

prot$shorthand — Shorthand Protocol

prot$if — IF Protocol

prot$mat — Display Attributes Protocol

prot$mip — Message Interchange Protocol

prot$reg — Registration Protocol

prot$mmi — Multimedia Interface Protocol

prot$imgxfer — Image Transfer Protocol

prot$image — Image Manager Protocol

prot$chart — Chart Protocol

prot$morg — Multimedia Organizer Protocol

prot$rich — Rich Protocol

prot$exapi — External API Protocol

prot$ccl — CCL Protocol

prot$p3 — P3 Protocol

prot$pakman — File Decompression Protocol

prot$address — Address Protocol

prot$mt — Debugging Protocol

<atom> Specifies an atom to execute using a return value
(numeric data) from a preceding atom as its argument.

[<data>] Specifies optional data.

America Online Confidential 7-58  America Online, Inc. 1993-97




July 1997 FDO91 Manual, Vol. 1

Return Value

Result of the processed atom.

Example

The following example executes the atom$var_number_set atom that sets
and saves a number in register A for object 11.  The value saved resulted from
the string conversion from the execution of the last atom.

atom$uni_start_stream
.
.
.
atom$man_set_context_relative <56>
atom$var_lookup_by_id <A, 23>
atom$var_string_get <A>
atom$uni_save_result
.
.
.
atom$man_change_context_relative <11>
atom$uni_get_result
atom$uni_convert_last_atom_string

êatom$uni_use_last_atom_value <atom$var_number_set, 00x>
atom$var_number_save <00x, 07x>
atom$man_end_context
.
.
atom$man_update_display
atom$uni_end_stream

 America Online, Inc. 1993-97 7-59 America Online Confidential




Chapter 7: Universal (UNI) Protocol July 1997

atom$uni_void
0 ($0)

Description

atom$uni_void does nothing.  It is similar to a "NOP" instruction in many
assembly languages.  It is useful for leaving space for runtime patches, or as a
visual marker to help stream authors identify sections of streams.  It is also
useful to force form_edit to show comment fields or, more specifically, a
stream of atoms that were commented out with semicolons that would
otherwise have been rejected from the output by form_edit.

Syntax

atom$uni_void

Return Value

None.

Example

The following example provides a visual bookmark in the code for the
programmer:

atom$uni_start_stream
.
.
.

ê atom$uni_void
;atom$if_numa_false_then <5>
;atom$uni_break
;atom$uni_sync_skip <5>

.

.

.
atom$uni_end_stream

America Online Confidential 7-60  America Online, Inc. 1993-97




July 1997 FDO91 Manual, Vol. 1

atom$uni_wait_off
16 ($10)

Description

atom$uni_wait_off turns off the wait state.

Syntax

atom$uni_wait_off

Return Value

None.

Example

The following example turns off the wait state:

atom$uni_start_stream
.
.
.
atom$man_update_display
atom$man_end_context

ê atom$uni_wait_off
atom$uni_end_steam

 America Online, Inc. 1993-97 7-61 America Online Confidential




Chapter 7: Universal (UNI) Protocol July 1997

atom$uni_wait_off_end_stream
18 ($12)

Description

atom$uni_wait_off_end_stream turns the wait cursor off and terminates the
current atom stream.  Any buffered atoms associated with this stream are
processed before the stream terminates.

Syntax

atom$uni_wait_off_end_stream

Return Value

None.

Example

The following example turns the wait cursor off and terminates the current
stream:

atom$uni_start_stream
.
.
.
atom$man_update_display
atom$man_end_context

ê atom$uni_wait_off_end_stream

America Online Confidential 7-62  America Online, Inc. 1993-97




July 1997 FDO91 Manual, Vol. 1

atom$uni_wait_on
15 ($0F)

Description

atom$uni_wait_on activates the wait state in a member session, which
changes the cursor to an hourglass (wait cursor).  For every
atom$uni_wait_on, a corresponding atom$uni_wait_off must occur.

Syntax

atom$uni_wait_on

Return Value

None.

Example

The following example activates the wait state in a stream and turns on the
wait cursor in a member session:

atom$uni_start_stream
ê atom$uni_wait_on

atom$sm_check_domain
atom$de_start_extraction
atom$de_validate <display_msg | terminate>
.
.
.
atom$uni_wait_off
atom$uni_end_stream

 America Online, Inc. 1993-97 7-63 America Online Confidential



===== END PDF: uni.pdf =====

===== BEGIN PDF: vid.pdf =====



Manual: FDO91 Manual
Chapter 35: Video (VID) Protocol defines the atoms that manage and transmit video and still-camera
images between members.
Last updated: April 1997




C H A P T E R  3 5

Video (VID) Protocol

The Video (VID) protocol (protocol ID 53) consists of atoms that execute
image capture and transmission tasks to enhance communications methods
such as instant messages, chat sessions, and e-mail with slow-motion video and
still shots.  The protocol supports cameras such as Connectix QuickCam,
which provides real-time video pictures, and TWAIN (standard scanner
interface) devices for still images, such as the Kodak or Snappy color digital
cameras.  The protocol also captures .bmp, .gif, .jpg and .art files downloaded
from the service or from other local directory paths.  For instant messages, the
protocol supports a receive view to display incoming images and a preview
view to display images before they are sent.

Note that at start-up of the AOL application, the video tool searches for
compatible video devices.  If none are found, it switches to the file mode,
which lets members retrieve, attach, and place image files from their local
directory.

Atom streams using this protocol must set context to the form display object
view or edit_view, which display the video and image files.  For more
information about form display objects,  see Chapter 3, Attribute Manager
Protocol.

America Online Confidential 35-1  America Online, Inc. 1993-97




Chapter 35: Video (VID) Protocol April 1997

Video Protocol Atoms

The Video (VID) protocol functions and their associated atoms follow:

Function Atoms

Setting up the video tool atom$vid_is_available

atom$vid_setup_popup

atom$vid_flag_setup

atom$vid_setup

Managing the video cache atom$vid_prev_count
or scrolling received images
(frames) atom$vid_next_count

atom$vid_show_prev

atom$vid_show_next

atom$vid_show_old

atom$vid_show_new

Capturing images or video atom$vid_can_preview
frames

atom$vid_activate_capture

atom$vid_capture

atom$vid_preview

atom$vid_open

Sending images or video atom$vid_manage
frames

atom$vid_repeat_send

atom$vid_set_token

atom$vid_send

Receiving images or video atom$vid_manage
frames

atom$vid_receive_enable

atom$vid_receive

atom$vid_save_as

America Online Confidential 35-2  America Online, Inc. 1993-97




April 1997 FDO91 Manual, Vol. 2

The VID protocol atoms are described in alphabetical order in the rest of this
chapter.

 America Online, Inc. 1993-97 35-3 America Online Confidential




Chapter 35: Video (VID) Protocol April 1997

atom$vid_activate_capture
9 ($09)

Description

atom$vid_activate_capture activates the preview view and defines the
Capture button and status text field objects of the form.

Syntax

atom$vid_activate_capture <raw>

<raw> Specifies the relative IDs of both the Capture button and
the status text field.  The first byte defines the Capture
button and the second byte defines the status text field.

Return Value

None.

Example

The following example defines the relative IDs of both the Capture button and
the status text field in the capture form:

atom$uni_start_stream
atom$man_start_sibling <edit_view>
atom$mat_size <A0x 78x>
atom$mat_relative_tag <101>
atom$vid_manage

ê atom$vid_activate_capture <79x 06x>
atom$vid_receive <68x 67x 06x 6Cx>
atom$vid_set_token <56x 4Ex 00x 00x 00x 63x>
.
.
.
atom$uni_end_stream

In this example, the object relative IDs have been set as follows:

127 (79x) = Capture button

6 (06x) = Send button

America Online Confidential 35-4  America Online, Inc. 1993-97




April 1997 FDO91 Manual, Vol. 2

atom$vid_can_preview
10 ($0a)

Description

atom$vid_can_preview detects the type and functionality of the capture
device.  This atom also detects the capture speed and whether the device has
an auto-capture feature.  This information determines whether to enable the
auto-send function as opposed to a manual snapshot trigger.

Syntax

atom$vid_can_preview

Return Value

Boolean value specifying true or false to the detection of an auto-send capture
device.  For example, it determines whether the device sends data
automatically (such as a QuickCam device) or requires manual intervention to
send data (such as a Kodak digital camera).

Example

The following example detects whether there is an auto-capture device or a
manually triggered device connected to the client computer and will set the
frame refresh rate of any auto-capture device to 250 milliseconds:

atom$uni_start_stream
.
.
.

ê atom$vid_can_preview
atom$if_last_return_true_then <1>
atom$vid_preview <250>
atom$uni_sync_skip <1>
.
.
.
atom$uni_end_stream

 America Online, Inc. 1993-97 35-5 America Online Confidential




Chapter 35: Video (VID) Protocol April 1997

atom$vid_capture
0 ($00)

Description

atom$vid_capture triggers the video tool to capture data from an external
video capture device (external camera).

Syntax

atom$vid_capture

Return Value

None.

Example

The following example captures the current video image displayed in the
preview view:

atom$uni_start_stream
atom$man_set_context_relative <101>

ê atom$vid_capture
atom$vid_preview 0
atom$man_end_context
atom$uni_end_stream

America Online Confidential 35-6  America Online, Inc. 1993-97




April 1997 FDO91 Manual, Vol. 2

atom$vid_flag_setup
20 ($14)

Description

atom$vid_flag_setup sets a setup flag associated with the view object in
context signifying that this object needs new setup data (such as resolution
size).  This atom works in conjunction with atom$vid_setup, which identifies
which view has the correct setup data.

Syntax

atom$vid_flag_setup

Return Value

None.

Example

The following example sets the setup flag to signify that the view object in
context needs new setup data:

atom$uni_start_stream
.
.
.
atom$man_set_context_relative <104>

ê atom$vid_flag_setup
atom$vid_is_available
atom$if_last_return_true_then <1, 2>
atom$man_change_context_relative <110>
atom$mat_bool_disabled <no>
atom$uni_sync_skip <1>
atom$man_change_context_relative <110>
atom$mat_bool_disabled <yes>
atom$uni_sync_skip <2>
atom$uni_end_stream

 America Online, Inc. 1993-97 35-7 America Online Confidential




Chapter 35: Video (VID) Protocol April 1997

atom$vid_is_available
13 ($0D)

Description

atom$vid_is_available returns a true if a video or image capture device is
connected to the client computer.

Syntax

atom$vid_is_available

Return Value

True or false.  When a capture device is connected, the value is true.

Example

The following example detects whether a video device is installed on the client
computer and will disable a video selection object with a relative ID of 110 if
none are found:

atom$uni_start_stream
atom$man_set_context_relative <104>

ê atom$vid_is_available
atom$if_last_return_true_then <1, 2>
atom$man_change_context_relative <110>
atom$mat_bool_disabled <no>
atom$uni_sync_skip <1>
atom$man_change_context_relative <110>
atom$mat_bool_disabled <yes>
atom$uni_sync_skip <2>
.
.
.
atom$uni_end_stream

America Online Confidential 35-8  America Online, Inc. 1993-97




April 1997 FDO91 Manual, Vol. 2

atom$vid_manage
2 ($02)

Description

atom$vid_manage marks the beginning of a video definition and associates
the video tool ID as the object in context.

Syntax

atom$vid_manage

Return Value

None.

Example

The following example establishes the video tool ID as the view object in
context:

atom$man_start_object <edit_view>
atom$mat_size <A0x, 78x>
atom$mat_relative_tag <104>

ê atom$vid_manage
atom$man_start_sibling <org_group>

 America Online, Inc. 1993-97 35-9 America Online Confidential




Chapter 35: Video (VID) Protocol April 1997

atom$vid_next_count
15 ($0F)

Description

atom$vid_next_count returns the number of images in cache after the current
image on display.  The use of this atom is comparable to the scrolling feature
within a document or a list box except it supports the viewing of the received
images stored in cache.

Syntax

atom$vid_next_count

Return Value

A numeric value indicating the number of images in cache following the current
image.

Example

The following example determines whether there are any images in cache more
recent than the one on display.  If there are more recent images in cache, a
trigger object (button or arrow) with a relative ID of 113 is enabled.  If there
are no images in cache more recent than the current image on display, the same
trigger object is disabled.

atom$uni_start_stream
atom$man_set_context_relative 104
atom$vid_prev_count
atom$if_last_return_true_then <1, 2>
atom$man_change_context_relative <110>
atom$mat_bool_disabled <no>
atom$uni_sync_skip <1>
atom$man_change_context_relative <110>
atom$mat_bool_disabled <yes>
atom$uni_sync_skip <2>
atom$man_change_context_relative <104>

ê atom$vid_next_count
atom$if_last_return_true_then <3, 4>
atom$man_change_context_relative <113>
atom$mat_bool_disabled <no>
atom$uni_sync_skip <3>
atom$man_change_context_relative <113>
atom$mat_bool_disabled <yes>
atom$uni_sync_skip <4>
atom$man_end_context

America Online Confidential 35-10  America Online, Inc. 1993-97




April 1997 FDO91 Manual, Vol. 2

.

.

.
atom$uni_end_stream

 America Online, Inc. 1993-97 35-11 America Online Confidential




Chapter 35: Video (VID) Protocol April 1997

atom$vid_open
22 ($16)

Description

atom$vid_open switches the video tool to file mode and opens a file to
display an image.  The atom retrieves image files (.bmp, .gif, or .jpg) stored in
a member’s local directory.

Syntax

atom$vid_open

Return Value

Boolean value.  If the file opened successfully, a 1 is returned.  If the file did
not open or the member canceled the operation, a 0 is returned.

Example

The following example opens an image file stored in a member’s local directory
and displays it in the preview view:

atom$uni_start_stream
ê atom$vid_open

atom$uni_end_stream

America Online Confidential 35-12  America Online, Inc. 1993-97




April 1997 FDO91 Manual, Vol. 2

atom$vid_prev_count
14 ($0E)

Description

atom$vid_prev_count returns the number of images in cache before the
current image on display.  The use of this atom is comparable to the scrolling
features within a document or a list box except it supports the viewing of
received images stored in cache.

Syntax

atom$vid_prev_count

Return Value

A numeric value indicating the number of images in cache before the current
image.

Example

The following example determines whether there are any images in cache older
than the current one on display.  If there are any older images in cache, a
trigger object (button or arrow) with a relative ID of 110 is enabled.  If there
are no images in cache older than the current image on display, the same
trigger object is disabled.

atom$uni_start_stream
atom$man_set_context_relative 104

ê atom$vid_prev_count
atom$if_last_return_true_then <1, 2>
atom$man_change_context_relative <110>
atom$mat_bool_disabled <no>
atom$uni_sync_skip <1>
atom$man_change_context_relative <110>
atom$mat_bool_disabled <yes>
atom$uni_sync_skip <2>
.
.
.
atom$uni_end_stream

 America Online, Inc. 1993-97 35-13 America Online Confidential




Chapter 35: Video (VID) Protocol April 1997

atom$vid_preview
03 ($03)

Description

atom$vid_preview updates the video capture image in the preview view.  It is
used only for real-time video cameras.

Syntax

atom$vid_preview <dword>

<dword> A numeric value specifying the desired frame (refresh)
rate in milliseconds.  Values are 0 or greater.  For
example, an entry of 250 (milliseconds) would equal 4
frames per second.  A value of 0 turns the preview view
off.

Return Value

None.

Example

The following example sets the frame (refresh) rate of the video images for 250
milliseconds:

atom$uni_start_stream
.
.
.
atom$vid_can_preview
atom$if_last_return_true_then <1>

ê atom$vid_preview <250>
atom$uni_sync_skip <1>
atom$vid_capture
.
.
.
atom$uni_end_stream

America Online Confidential 35-14  America Online, Inc. 1993-97




April 1997 FDO91 Manual, Vol. 2

atom$vid_receive
8 ($08)

Description

atom$vid_receive defines the objects on the form, which are otherwise hidden
in non-video message mode, for the receiver video tool.

Syntax

atom$vid_receive <dword>

<dword> Specifies the relative IDs of the hidden objects of the
form.  The 4-byte argument is segmented into 4 fields to
accept 4 separate values as follows:

Byte 1 Defines the relative ID of the receive
view.

Byte 2 Defines the relative ID of the send
button.

Byte 3 Defines the relative ID of the status text
field.

Byte 4 Defines the relative ID of the auto-send
button.

Return Value

None.

Example

The following example assigns relative IDs to the hidden objects of the video
form:

atom$uni_start_stream
.
.
.
atom$man_start_sibling <edit_view>
atom$mat_size <A0x 78x>
atom$mat_relative_tag <101>

 America Online, Inc. 1993-97 35-15 America Online Confidential




Chapter 35: Video (VID) Protocol April 1997

atom$vid_manage
atom$vid_activate_capture <79x 06x>

ê atom$vid_receive <68x 67x 06x 6Cx>
atom$vid_set_token <56x 4Ex 00x 00x 00x 63x>
.
.
.
atom$uni_end_stream

In this example, the object relative IDs have been set as follows:

104 (68x) = Receive view

107 (67x) = Send button

6 (06x) = Status text field

108 (6Cx) = Auto-send button

America Online Confidential 35-16  America Online, Inc. 1993-97




April 1997 FDO91 Manual, Vol. 2

atom$vid_receive_enable
12 ($0C)

Description

atom$vid_receive_enable sets a member’s video messaging preference for
allowing incoming message forms to display images in the receive view.  This
atom enables the receive view by assigning a maximum resolution size to this
window.

Syntax

atom$vid_receive_enable <dword>

<dword> Enables, disables or pauses incoming video messages.
Values are as follows:

00x Disables incoming video messages.

01x or greater Enables incoming video messages,
and specifies the limit or maximum
resolution size allowed in the
receive view.

FFx FFx FFx FFx Indicates the pause action is set on
the receive view, which temporarily
blocks the reception of images from
the sender.

Return Value

None.

Example

The following example enables the reception of video messages for a member’s
account and sets the maximum resolution to a 320 by 240 video window:

atom$uni_start_stream
ê atom$vid_receive_enable <01x 08x 00x F0x>

atom$uni_end_stream

 America Online, Inc. 1993-97 35-17 America Online Confidential




Chapter 35: Video (VID) Protocol April 1997

atom$vid_repeat_send
4 ($04)

Description

atom$vid_repeat_send controls the refresh rate for the picture(s) being
automatically sent to another member.  Note that the maximum send rate is
limited to the technology of the send and receive connections and devices.

Syntax

atom$vid_repeat_send <dword>

<dword> Specifies the maximum allowable frame rate in
milliseconds for the pictures you want to send.  For
example, 1000 milliseconds would allow transmissions
of up to 1 frame per second.  Numeric values are 1 or
greater.

Return Value

None.

Example

The following example specifies a maximum frame rate for the pictures being
sent to another member.  In this case, the maximum frame rate is set to 1000
milliseconds:

atom$vid_set_token
atom$vid_activate_capture <07x 06x>
atom$act_replace_select_action
atom$uni_start_stream
atom$man_set_context_relative <108>
atom$man_get_attribute <prot$mat, atom$mat_value>
atom$if_last_return_false_then <1, 2>
atom$mat_value <1>
atom$man_change_context_relative <101>

ê atom$vid_repeat_send <1000>
atom$uni_sync_skip <1>
atom$mat_value <0>
atom$man_change_context_relative <101>
atom$vid_repeat_send <0>
atom$uni_sync_skip <2>
atom$uni_end_stream

America Online Confidential 35-18  America Online, Inc. 1993-97




April 1997 FDO91 Manual, Vol. 2

atom$vid_save_as
23 ($17)

Description

atom$vid_save_as saves to disk the image on display in the receive view.

Syntax

atom$vid_save_as

Return Value

None.

Example

The following example saves to disk the image in the receive view:

atom$uni_start_stream
.
.
.
atom$man_change_context_relative <104>

ê atom$vid_save_as
atom$man_end_context
atom$uni_end_stream

 America Online, Inc. 1993-97 35-19 America Online Confidential




Chapter 35: Video (VID) Protocol April 1997

atom$vid_send
1 ($01)

Description

atom$vid_send sends the captured image data (from atom$vid_capture) to
the host (to forward to the target receiver).  It uses parameters that were set
with atom$vid_set_token.

Syntax

atom$vid_send

Return Value

None.

Example

The following example sends captured image data to the host (to forward to
the target receiver):

atom$uni_start_stream
atom$man_set_context_relative <101>

ê atom$vid_send
atom$man_end_context
atom$uni_end_stream

America Online Confidential 35-20  America Online, Inc. 1993-97




April 1997 FDO91 Manual, Vol. 2

atom$vid_set_token
5 ($05)

Description

atom$vid_set_token sends a token and a token argument to the host.  This
atom establishes a known connection between the form and a host server
process.

Syntax

atom$vid_set_token <token n>

<token> Specifies the token (2 bytes) to send to the host.  Values
are a code of 2 ASCII characters.  VN (56x 4Ex) is the
default token.

<n> Specifies the numeric token argument (4 bytes) to send
to the host server.  The default token argument is
00x 00x 00x 63x.

Return Value

None.

Example

The following example sends a VN token with an argument value of 63 hex to
establish a connection with the host.  In this example, 56x = V and 4Ex = N.

atom$uni_start_stream
.
.
.
atom$man_start_sibling <edit_view>
atom$mat_size <A0x 78x>
atom$mat_relative_tag <101>
atom$vid_manage
atom$vid_activate_capture <79x 06x>
atom$vid_receive <68x 67x 06x 6Cx>

ê atom$vid_set_token <56x 4Ex 00x 00x 00x 63x>
.
.
.
atom$uni_end_stream

 America Online, Inc. 1993-97 35-21 America Online Confidential




Chapter 35: Video (VID) Protocol April 1997

atom$vid_setup
21 ($15)

Description

atom$vid_setup indicates that the setup data of the view in context should be
applied to update any view objects with setup flags.  Note that
atom$vid_flag_setup marks the other views that need this view’s setup data.

Syntax

atom$vid_setup

Return Value

None.

Example

The following example updates view objects flagged for setup data:

atom$uni_start_stream
.
.
.
atom$man_set_context_relative <104>
atom$vid_flag_setup

ê atom$vid_setup
atom$vid_is_available
atom$if_last_return_true_then <1, 2>
atom$man_change_context_relative <110>
atom$mat_bool_disabled <no>
atom$uni_sync_skip <1>
atom$man_change_context_relative <110>
atom$mat_bool_disabled <yes>
atom$uni_sync_skip <2>
atom$man_end_context
atom$uni_end_stream

America Online Confidential 35-22  America Online, Inc. 1993-97




April 1997 FDO91 Manual, Vol. 2

atom$vid_setup_popup
24 ($18)

Description

atom$vid_setup_popup sets the action of a pull-down menu selection or a
right mouse button click.  It displays the preference setup form.

Syntax

atom$vid_setup_popup <rid>

<rid> Specifies the relative ID of the object that triggers the
pull-down menu.

Return Value

None.

Example

The following example displays the setup form that can be pulled down from a
trigger object with a relative ID = 21:

atom$uni_start_stream
.
.
.
atom$man_change_context_relative <104>

ê atom$vid_setup_popup <21>
atom$man_end_context
atom$uni_end_stream

 America Online, Inc. 1993-97 35-23 America Online Confidential




Chapter 35: Video (VID) Protocol April 1997

atom$vid_show_new
19 ($13)

Description

atom$vid_show_new displays the newest image stored in cache.  This atom
sets the action of the scroll forward object on the receive view.

Syntax

atom$vid_show_new

Return Value

None.

Example

The following example displays the newest video image stored in cache:

atom$uni_start_stream
.
.
.
atom$man_change_context_relative <104>

ê atom$vid_show_new
atom$man_end_context
atom$uni_end_stream

America Online Confidential 35-24  America Online, Inc. 1993-97




April 1997 FDO91 Manual, Vol. 2

atom$vid_show_next
17 ($11)

Description

atom$vid_show_next displays the next image stored in cache.  This atom sets
the action of the scroll forward object on the receive view.

Syntax

atom$vid_show_next

Return Value

None.

Example

The following example displays the next video image stored in cache:

atom$uni_start_stream
.
.
.
atom$man_change_context_relative <104>

ê atom$vid_show_next
atom$man_end_context
atom$uni_end_stream

 America Online, Inc. 1993-97 35-25 America Online Confidential




Chapter 35: Video (VID) Protocol April 1997

atom$vid_show_old
18 ($12)

Description

atom$vid_show_old displays the oldest image stored in cache.  This atom sets
the action of the scroll backward object on the receive view.

Syntax

atom$vid_show_old

Return Value

None.

Example

The following example displays the oldest video image stored in cache:

atom$uni_start_stream
.
.
.
atom$man_change_context_relative <104>

ê atom$vid_show_old
atom$man_end_context
atom$uni_end_stream

America Online Confidential 35-26  America Online, Inc. 1993-97




April 1997 FDO91 Manual, Vol. 2

atom$vid_show_prev
16 ($10)

Description

atom$vid_show_prev displays the previous image stored in cache.  This atom
sets the action of the scroll backward object on the receive view.

Syntax

atom$vid_show_prev

Return Value

None.

Example

The following example displays the previous video image stored in cache:

atom$uni_start_stream
.
.
.
atom$man_change_context_relative <104>

ê atom$vid_show_prev
atom$man_end_context
atom$uni_end_stream

 America Online, Inc. 1993-97 35-27 America Online Confidential



===== END PDF: vid.pdf =====

===== BEGIN PDF: xfer.pdf =====



Manual: FDO91 Manual
Chapter 19: File Transfer Protocol defines file transfer protocol atoms and provides information for
handling file transfer.
Last updated: March 1996




C H A P T E R  1 9

File Transfer Protocol

The File Transfer protocol (protocol ID 7) consists of atoms that provide
error-free transfer of files between the online service client application and the
host system.  File uploading and downloading are supported; in addition to
single file transfers, batch downloads can also be performed.  Downloads can
be interrupted and resumed at a later time.  Data compression is supported
using a run-length encoding scheme.

File Transfer Protocol Atoms

The File Transfer protocol atoms are described in alphabetical order in the rest
of this chapter.

America Online Confidential 19-1  America Online, Inc. 1993-96




Chapter 19: File Transfer Protocol March 1996

atom$xfer_abort
0 ($00)

Description

atom$xfer_abort terminates the current file transfer when the member clicks
the cancel button in the File Transfer dialog box while the file is uploading.
This atom is sent by the client.

Syntax

atom$xfer_abort

Return Value

Unchanged.

Example

The following is an example that terminates the current file transfer:

atom$uni_start_stream <00x>
.
.
.
atom$xfer_start_object <00x>
atom$xfer_bool_mail <yes>
atom$xfer_atr_request_id <123932171>
atom$xfer_atr_title "Updated Phone List"
atom$xfer_atr_file_size <25600>
atom$xfer_atr_file_name <mtfglf.xls>
atom$xfer_atr_create_date <508741200>
.
.
.

ê atom$xfer_abort
atom$uni_end_stream <00x>

America Online Confidential 19-2  America Online, Inc. 1993-96




March 1996 FDO91 Manual, Vol. 2

atom$xfer_atr_create_date
23 ($17)

Description

atom$xfer_atr_create_date is sent by the host and indicates the date the file
was created.

Syntax

atom$xfer_atr_create_date <create_date>

<create_date> A 32-bit integer indicating the creation date of a file
attached to a message in number of seconds since
midnight January 1, 1980 GMT.

Return Value

Unchanged.

Example

The following is an example that indicates the date the file was created:

atom$uni_start_stream <00x>
.
.
.
atom$xfer_start_object <00x>
atom$xfer_atr_library "Applications"
atom$xfer_bool_mail <yes>
atom$xfer_atr_request_id <123932111>
atom$xfer_atr_title "PK Zip"
atom$xfer_atr_file_size <42166>
atom$xfer_atr_file_name <pkzip.exe>

ê atom$xfer_atr_create_date <508741200>
.
.
.
atom$xfer_end_object
.
.
.
atom$uni_end_stream <00x>

 America Online, Inc. 1993-96 19-3 America Online Confidential




Chapter 19: File Transfer Protocol March 1996

atom$xfer_atr_end_object
19 ($13)

Description

atom$xfer_atr_end_object ends the current XFER object.  This atom is sent
by the host and triggers the client to display a dialog box asking the member
where to save the file.

Syntax

atom$xfer_end_object

Return Value

Unchanged.

Example

The following is an example that ends the current XFER object:

atom$uni_start_stream <00x>
.
.
.
atom$xfer_start_object <00x>
atom$xfer_atr_library "Applications"
atom$xfer_bool_mail <yes>
atom$xfer_atr_request_id <123932111>
atom$xfer_atr_title "PK Zip"
atom$xfer_atr_file_size <42166>
atom$xfer_atr_file_name <pkzip.exe>
atom$xfer_atr_create_date <508741200>
.
.
.

ê atom$xfer_end_object
.
.
.
atom$uni_end_stream <00x>

America Online Confidential 19-4  America Online, Inc. 1993-96




March 1996 FDO91 Manual, Vol. 2

atom$xfer_atr_file_name
18 ($12)

Description

atom$xfer_atr_file_name is sent from the host to indicate the name of the
attached file to be transferred.

Syntax

atom$xfer_atr_file_name

Return Value

Unchanged.

Example

The following is an example that indicates the name of the attached file to be
transferred:

atom$uni_start_stream <00x>
.
.
.
atom$xfer_start_object <00x>
atom$xfer_bool_mail <yes>
atom$xfer_atr_request_id <123932171>
atom$xfer_atr_title "Updated Phone List"

ê atom$xfer_atr_file_size <25600>
atom$xfer_atr_file_name <mtfglf.xls>
atom$xfer_atr_create_date <508741200>
.
.
.
atom$xfer_end_object
.
.
.
atom$uni_end_stream <00x>

 America Online, Inc. 1993-96 19-5 America Online Confidential




Chapter 19: File Transfer Protocol March 1996

atom$xfer_atr_file_size
16 ($10)

Description

atom$xfer_atr_file_size is sent from the host to indicate the size, in bytes, of
the attached file to be transferred.

Syntax

atom$xfer_atr_file_size <size>

<size> The size of the file to be transferred.

Return Value

Unchanged.

Example

The following is an example that indicates that the size of the file to be
transferred is 25600 bytes:

atom$uni_start_stream <00x>
.
.
.
atom$xfer_start_object <00x>
atom$xfer_bool_mail <yes>
atom$xfer_atr_request_id <123932171>
atom$xfer_atr_title "Updated Phone List"

ê atom$xfer_atr_file_size <25600>
atom$xfer_atr_file_name <mtfglf.xls>
atom$xfer_atr_create_date <508741200>
.
.
.
atom$xfer_end_object
.
.
.
atom$uni_end_stream <00x>

America Online Confidential 19-6  America Online, Inc. 1993-96




March 1996 FDO91 Manual, Vol. 2

atom$xfer_atr_library
21 ($15)

Description

atom$xfer_atr_library is sent from the host to indicate the name of the
software library that contains the attached file to be transferred.

Syntax

atom$xfer_atr_library <library_name>

<library_name> The name of the software library.

Return Value

Unchanged.

Example

The following is an example that indicates the name of the software library that
contains the file to be transferred:

atom$uni_start_stream <00x>
.
.
.
atom$xfer_start_object <00x>

ê atom$xfer_atr_library "Applications"
atom$xfer_bool_mail <yes>
atom$xfer_atr_request_id <123932111>
atom$xfer_atr_title "PK Zip"
atom$xfer_atr_file_size <42166>
atom$xfer_atr_file_name <pkzip.exe>
atom$xfer_atr_create_date <508741200>
.
.
.
atom$xfer_end_object
.
.
.
atom$uni_end_stream <00x>

 America Online, Inc. 1993-96 19-7 America Online Confidential




Chapter 19: File Transfer Protocol March 1996

atom$xfer_atr_request_id
15 ($F)

Description

atom$xfer_atr_request_id sends the ID from the host to the client in
response to a request for an attached file.  The e-mail ID is used for text files
and the file ID is used for attached files within software libraries.

Syntax

atom$xfer_atr_request_id <id>

<id> The ID of the attached file or software library.

Return Value

Unchanged.

Example

The following example sends the file ID to enable the transfer of an attached
file:

atom$uni_start_stream <00x>
.
.
.
atom$xfer_start_object <00x>
atom$xfer_bool_mail <yes>

ê atom$xfer_atr_request_id <123932171>
atom$xfer_atr_title "Updated Phone List"
atom$xfer_atr_file_size <25600>
atom$xfer_atr_file_name <mtfglf.xls>
atom$xfer_atr_create_date <508741200>
.
.
.
atom$xfer_end_object
.
.
.
atom$uni_end_stream <00x>

America Online Confidential 19-8  America Online, Inc. 1993-96




March 1996 FDO91 Manual, Vol. 2

atom$xfer_atr_title
17 ($11)

Description

atom$xfer_atr_title is sent from the host to indicate the title of the message to
which the file to be transferred is attached.

Syntax

atom$xfer_atr_title

Return Value

Unchanged.

Example

The following is an example that indicates that the title of the message is
"Updated Phone List":

atom$uni_start_stream <00x>
.
.
.
atom$xfer_start_object <00x>
atom$xfer_bool_mail <yes>
atom$xfer_atr_request_id <123932171>

ê atom$xfer_atr_title "Updated Phone List"
atom$xfer_atr_file_size <25600>
atom$xfer_atr_file_name <mtfglf.xls>
atom$xfer_atr_create_date <508741200>
.
.
.
atom$xfer_end_object
.
.
.
atom$uni_end_stream <00x>

 America Online, Inc. 1993-96 19-9 America Online Confidential




Chapter 19: File Transfer Protocol March 1996

atom$xfer_bool_in_progress
10 ($A)

Description

atom$xfer_bool_in_progress is sent from the client to indicate whether a file
download is in progress.

Syntax

atom$xfer_bool_in_progress

Return Value

Unchanged.

Example

The following example indicates that a download is in progress:

atom$xfer_start_object <00x>
atom$xfer_bool_mail <yes>

ê atom$xfer_bool_in_progress <1>
atom$xfer_end_object
atom$uni_end_stream <00x>

America Online Confidential 19-10  America Online, Inc. 1993-96




March 1996 FDO91 Manual, Vol. 2

atom$xfer_bool_mail
22 ($16)

Description

atom$xfer_bool_mail is sent by the host to indicate whether mail system
tokens or software library tokens should be used to view and download the file
to be transferred.

Syntax

atom$xfer_bool_mail

Return Value

Unchanged.

Example

The following is an example that indicates that mail system tokens should be
used to download and view the file:

atom$uni_start_stream <00x>
.
.
.
atom$xfer_start_object <00x>
atom$xfer_atr_library "Applications"

ê atom$xfer_bool_mail <yes>
atom$xfer_atr_request_id <123932111>
atom$xfer_atr_title "PK Zip"
atom$xfer_atr_file_size <42166>
atom$xfer_atr_file_name <pkzip.exe>
atom$xfer_atr_create_date <508741200>
.
.
.
atom$xfer_end_object
.
.
.
atom$uni_end_stream <00x>

 America Online, Inc. 1993-96 19-11 America Online Confidential




Chapter 19: File Transfer Protocol March 1996

atom$xfer_clear_rle_flag
8 ($08)

Description

atom$xfer_clear_rle_flag clears the RLE (run length encoding) flag.  This
atom is sent by the client when the member unchecks the file decompression
checkbox within the Download Preferences dialog box.

Syntax

atom$xfer_clear_rle_flag

Return Value

Unchanged.

Example

atom$xfer_clear_rle_flag

America Online Confidential 19-12  America Online, Inc. 1993-96




March 1996 FDO91 Manual, Vol. 2

atom$xfer_finish_later
5 ($05)

Description

atom$xfer_finish_later interrupts the current file transfer when the member
clicks the cancel button in the File Transfer dialog box while the file is
uploading.  This atom is sent by the client.

Syntax

atom$xfer_finish_later

Return Value

Unchanged.

Example

atom$uni_start_stream <00x>
.
.
.
atom$xfer_start_object <00x>
atom$xfer_bool_mail <yes>
atom$xfer_atr_request_id <123932171>
atom$xfer_atr_title "Updated Phone List"
atom$xfer_atr_file_size <25600>
atom$xfer_atr_file_name <mtfglf.xls>
atom$xfer_atr_create_date <508741200>
.
.
.

ê atom$xfer_finish_later
atom$uni_end_stream <00x>

 America Online, Inc. 1993-96 19-13 America Online Confidential




Chapter 19: File Transfer Protocol March 1996

atom$xfer_refresh_prefs
9 ($09)

Description

atom$xfer_refresh_prefs reloads all of the download preferences set by the
member, such as automatic decompression and setting the number of
downloads to retain.  This atom is sent by the client.

Syntax

atom$xfer_refresh_prefs

Return Value

Unchanged.

Example

atom$xfer_refresh_prefs

America Online Confidential 19-14  America Online, Inc. 1993-96




March 1996 FDO91 Manual, Vol. 2

atom$xfer_set_rle_flag
7 ($07)

Description

atom$xfer_set_rle_flag sets the RLE (run length encoded) flag.  This atom is
sent by the client when the member checks the file decompression checkbox
within the Download Preferences dialog box.

Syntax

atom$xfer_set_rle_flag

Return Value

Unchanged.

Example

atom$xfer_set_rle_flag

 America Online, Inc. 1993-96 19-15 America Online Confidential




Chapter 19: File Transfer Protocol March 1996

atom$xfer_start_object
14 ($E)

Description

atom$xfer_start_object is sent from the host to indicate the start of an XFER
object such as a file to be downloaded.  The argument to this atom specifies
whether the file will be downloaded immediately (Download Now is selected
by the member), or the file will be added to the download manager queue
(Download Later is selected by the member).

Syntax

atom$xfer_start_object (<0>|<1>)

(<0>|<1>) The status of the file to be downloaded.  Valid 
values are:

<0> The file will be downloaded immediately.

<1> The file will be downloaded later.

Return Value

Unchanged.

Example

The following is an example that specifies that a file will be downloaded
immediately:

atom$uni_start_stream <00x>
.
.
.

ê atom$xfer_start_object <00x>
.
.
.
atom$xfer_end_object

America Online Confidential 19-16  America Online, Inc. 1993-96




March 1996 FDO91 Manual, Vol. 2

atom$xfer_toggle_signoff
4 ($04)

Description

atom$xfer_toggle_signoff toggles the state of the sign off when finished flag.
This atom is sent when the member checks the Sign Off After Transfer
checkbox.  This atom is sent by the client.

Syntax

atom$xfer_toggle_signoff

Return Value

Unchanged.

Example

atom$xfer_toggle_signoff

 America Online, Inc. 1993-96 19-17 America Online Confidential



===== END PDF: xfer.pdf =====

